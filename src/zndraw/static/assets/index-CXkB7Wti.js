const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SmilesEditDialog-CUTllpY1.js","assets/three-D_Q1nxF1.js","assets/mui-DvTeEhIk.js","assets/mui-BU3nLhQd.css","assets/plotly-vHLx566B.css","assets/SmilesEditDialog-CjPiIgbA.css","assets/FigureWindow-D8rnH4uE.js","assets/vendor-lXdfEqoL.js","assets/ChatWindow-CyAuISp2.css"])))=>i.map(i=>d[i]);
import{j as y,r as N,c as Q,a as Tn,R as Rte,_ as he,f as JS,h as TM,m as Ate,x as Ite,u as cl,B as mi,i as Zo,M as Ni,k as SV,V as tn,l as Ap,n as kte,o as IS,S as Dte,p as Ote,O as EV,F as R3,q as e1,N as qg,W as Dg,s as Qa,t as Mi,v as Ds,y as Td,P as CM,D as Xl,z as Ql,H as Wo,L as lo,A as Yc,C as vN,E as Zc,G as Nte,Q as Cd,I as Mte,J as Pte,K as Kc,T as Rd,U as tc,X as Lte,Y as Fte,Z as Qo,$ as Bte,a0 as jte,a1 as Ute,a2 as zte,a3 as qte,a4 as $te,a5 as Gte,a6 as _V,a7 as xV,a8 as Hte,a9 as Vte,aa as Wte,ab as Yte,ac as Kte,ad as Xte,ae as ob,af as Zte,ag as kS,ah as wV,ai as Qte,aj as lb,ak as TV,al as Jte,am as CV,an as ene,ao as tne,ap as nne,aq as rne,ar as ane,as as ine,at as sne,au as one,av as A3,aw as RV,g as lne,b as AV,ax as cne,ay as une,az as y_,aA as dne,aB as fne,aC as pne,aD as IV,aE as hne}from"./three-D_Q1nxF1.js";import{c as cb,u as Up,a as t1,b as Zt,d as oa,k as Dn,e as kV,f as RM,Q as mne,g as gne,h as bne,R as yne}from"./vendor-lXdfEqoL.js";import{B as Re,T as Ve,F as Fi,I as tu,S as nc,M as rr,C as pr,a as _t,b as Ct,H as vne,c as Sne,L as SN,d as Ca,A as ha,e as ub,f as Zl,g as Vc,h as xa,i as I3,j as Ur,D as ul,k as Ene,l as yi,m as Ui,n as vi,o as jt,R as DV,p as mo,q as nS,s as db,t as cs,u as xt,v as Ko,w as AM,x as IM,y as OV,z as NV,P as pa,E as Ip,G as kM,J as MV,K as DM,N as OM,O as Qc,Q as _a,U as NM,V as Og,W as _ne,X as rc,Y as xne,Z as wne,_ as fb,$ as Tne,a0 as Cne,a1 as Rne,a2 as Ane,a3 as Ine,a4 as $g,a5 as MM,a6 as EN,a7 as kne,a8 as PM,a9 as PV,aa as LM,ab as k3,ac as Dne,ad as One,ae as Nne,af as Mne,ag as Pne,ah as pb,ai as n1,aj as Lne,ak as Fne,al as X,am as wn,an as Dt,ao as Wt,ap as nu,aq as us,ar as rt,as as Jo,at as LV,au as Bne,av as r1,aw as jne,ax as zr,ay as yo,az as ru,aA as FV,aB as Une,aC as a1,aD as zne,aE as qne,aF as $ne,aG as D3,aH as Gg,aI as i1,aJ as Gne,aK as BV,aL as Ja,aM as kn,aN as bd,aO as s1,aP as wp,aQ as FM,aR as Hne,aS as Vne,aT as Wne,aU as Yne,aV as jV,aW as UV,aX as Kne,aY as Xne,aZ as Zne,a_ as DS,a$ as OS,b0 as el,b1 as zV,b2 as NS,b3 as tl,b4 as Qne,b5 as Jne,b6 as ere,b7 as tre,b8 as nre,b9 as rre,ba as zp,bb as hb,bc as mb,bd as are,be as ire,bf as o1,bg as sre,bh as qV,bi as ore,bj as lre,bk as O3,bl as cre,bm as ure,bn as Hg,bo as Vg,bp as dre,bq as fre,br as pre,bs as _N,bt as hre,bu as mre,bv as gre,bw as bre,bx as yre,by as vre,bz as Sre,bA as gi,bB as Ere,bC as _re,bD as xre,bE as wre,bF as $V,bG as GV,bH as HV,bI as v_,bJ as Tre,bK as Cre,bL as Rre,bM as Are,bN as Ire,bO as VV,bP as kre,bQ as Dre,bR as WV,bS as YV,r as KV,bT as Ore,bU as Nre,bV as Mre,bW as Pre,bX as XV,bY as Lre,bZ as Fre,b_ as Bre,b$ as jre,c0 as Ure,c1 as ZV,c2 as zre,c3 as N3,c4 as qre,c5 as $re,c6 as Gre,c7 as Hre,c8 as Vre,c9 as Wre}from"./mui-DvTeEhIk.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function QV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Yre}=Object.prototype,{getPrototypeOf:BM}=Object,{iterator:l1,toStringTag:JV}=Symbol,c1=(t=>e=>{const n=Yre.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vo=t=>(t=t.toLowerCase(),e=>c1(e)===t),u1=t=>e=>typeof e===t,{isArray:qp}=Array,kp=u1("undefined");function gb(t){return t!==null&&!kp(t)&&t.constructor!==null&&!kp(t.constructor)&&Pi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eW=vo("ArrayBuffer");function Kre(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eW(t.buffer),e}const Xre=u1("string"),Pi=u1("function"),tW=u1("number"),bb=t=>t!==null&&typeof t=="object",Zre=t=>t===!0||t===!1,rS=t=>{if(c1(t)!=="object")return!1;const e=BM(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JV in t)&&!(l1 in t)},Qre=t=>{if(!bb(t)||gb(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Jre=vo("Date"),eae=vo("File"),tae=vo("Blob"),nae=vo("FileList"),rae=t=>bb(t)&&Pi(t.pipe),aae=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pi(t.append)&&((e=c1(t))==="formdata"||e==="object"&&Pi(t.toString)&&t.toString()==="[object FormData]"))},iae=vo("URLSearchParams"),[sae,oae,lae,cae]=["ReadableStream","Request","Response","Headers"].map(vo),uae=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yb(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),qp(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{if(gb(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let o;for(r=0;r<s;r++)o=i[r],e.call(null,t[o],o,t)}}function nW(t,e){if(gb(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const dd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,rW=t=>!kp(t)&&t!==dd;function xN(){const{caseless:t,skipUndefined:e}=rW(this)&&this||{},n={},r=(a,i)=>{const s=t&&nW(n,i)||i;rS(n[s])&&rS(a)?n[s]=xN(n[s],a):rS(a)?n[s]=xN({},a):qp(a)?n[s]=a.slice():(!e||!kp(a))&&(n[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&yb(arguments[a],r);return n}const dae=(t,e,n,{allOwnKeys:r}={})=>(yb(e,(a,i)=>{n&&Pi(a)?t[i]=QV(a,n):t[i]=a},{allOwnKeys:r}),t),fae=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),pae=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},hae=(t,e,n,r)=>{let a,i,s;const o={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)s=a[i],(!r||r(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&BM(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},mae=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},gae=t=>{if(!t)return null;if(qp(t))return t;let e=t.length;if(!tW(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},bae=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&BM(Uint8Array)),yae=(t,e)=>{const r=(t&&t[l1]).call(t);let a;for(;(a=r.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},vae=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Sae=vo("HTMLFormElement"),Eae=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),M3=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_ae=vo("RegExp"),aW=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yb(n,(a,i)=>{let s;(s=e(a,i,t))!==!1&&(r[i]=s||a)}),Object.defineProperties(t,r)},xae=t=>{aW(t,(e,n)=>{if(Pi(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Pi(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wae=(t,e)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return qp(t)?r(t):r(String(t).split(e)),n},Tae=()=>{},Cae=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Rae(t){return!!(t&&Pi(t.append)&&t[JV]==="FormData"&&t[l1])}const Aae=t=>{const e=new Array(10),n=(r,a)=>{if(bb(r)){if(e.indexOf(r)>=0)return;if(gb(r))return r;if(!("toJSON"in r)){e[a]=r;const i=qp(r)?[]:{};return yb(r,(s,o)=>{const l=n(s,a+1);!kp(l)&&(i[o]=l)}),e[a]=void 0,i}}return r};return n(t,0)},Iae=vo("AsyncFunction"),kae=t=>t&&(bb(t)||Pi(t))&&Pi(t.then)&&Pi(t.catch),iW=((t,e)=>t?setImmediate:e?((n,r)=>(dd.addEventListener("message",({source:a,data:i})=>{a===dd&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),dd.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Pi(dd.postMessage)),Dae=typeof queueMicrotask<"u"?queueMicrotask.bind(dd):typeof process<"u"&&process.nextTick||iW,Oae=t=>t!=null&&Pi(t[l1]),ze={isArray:qp,isArrayBuffer:eW,isBuffer:gb,isFormData:aae,isArrayBufferView:Kre,isString:Xre,isNumber:tW,isBoolean:Zre,isObject:bb,isPlainObject:rS,isEmptyObject:Qre,isReadableStream:sae,isRequest:oae,isResponse:lae,isHeaders:cae,isUndefined:kp,isDate:Jre,isFile:eae,isBlob:tae,isRegExp:_ae,isFunction:Pi,isStream:rae,isURLSearchParams:iae,isTypedArray:bae,isFileList:nae,forEach:yb,merge:xN,extend:dae,trim:uae,stripBOM:fae,inherits:pae,toFlatObject:hae,kindOf:c1,kindOfTest:vo,endsWith:mae,toArray:gae,forEachEntry:yae,matchAll:vae,isHTMLForm:Sae,hasOwnProperty:M3,hasOwnProp:M3,reduceDescriptors:aW,freezeMethods:xae,toObjectSet:wae,toCamelCase:Eae,noop:Tae,toFiniteNumber:Cae,findKey:nW,global:dd,isContextDefined:rW,isSpecCompliantForm:Rae,toJSONObject:Aae,isAsyncFn:Iae,isThenable:kae,setImmediate:iW,asap:Dae,isIterable:Oae};function en(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ze.inherits(en,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const sW=en.prototype,oW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oW[t]={value:t}});Object.defineProperties(en,oW);Object.defineProperty(sW,"isAxiosError",{value:!0});en.from=(t,e,n,r,a,i)=>{const s=Object.create(sW);ze.toFlatObject(t,s,function(f){return f!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return en.call(s,o,l,n,r,a),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",i&&Object.assign(s,i),s};const Nae=null;function wN(t){return ze.isPlainObject(t)||ze.isArray(t)}function lW(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function P3(t,e,n){return t?t.concat(e).map(function(a,i){return a=lW(a),!n&&i?"["+a+"]":a}).join(n?".":""):e}function Mae(t){return ze.isArray(t)&&!t.some(wN)}const Pae=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function d1(t,e,n){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ze.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!ze.isUndefined(S[w])});const r=n.metaTokens,a=n.visitor||f,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(ze.isDate(g))return g.toISOString();if(ze.isBoolean(g))return g.toString();if(!l&&ze.isBlob(g))throw new en("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(g)||ze.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,w,S){let T=g;if(g&&!S&&typeof g=="object"){if(ze.endsWith(w,"{}"))w=r?w:w.slice(0,-2),g=JSON.stringify(g);else if(ze.isArray(g)&&Mae(g)||(ze.isFileList(g)||ze.endsWith(w,"[]"))&&(T=ze.toArray(g)))return w=lW(w),T.forEach(function(_,C){!(ze.isUndefined(_)||_===null)&&e.append(s===!0?P3([w],C,i):s===null?w:w+"[]",d(_))}),!1}return wN(g)?!0:(e.append(P3(S,w,i),d(g)),!1)}const h=[],m=Object.assign(Pae,{defaultVisitor:f,convertValue:d,isVisitable:wN});function b(g,w){if(!ze.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(g),ze.forEach(g,function(T,x){(!(ze.isUndefined(T)||T===null)&&a.call(e,T,ze.isString(x)?x.trim():x,w,m))===!0&&b(T,w?w.concat(x):[x])}),h.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return b(t),e}function L3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jM(t,e){this._pairs=[],t&&d1(t,this,e)}const cW=jM.prototype;cW.append=function(e,n){this._pairs.push([e,n])};cW.toString=function(e){const n=e?function(r){return e.call(this,r,L3)}:L3;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function Lae(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function uW(t,e,n){if(!e)return t;const r=n&&n.encode||Lae;ze.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(e,n):i=ze.isURLSearchParams(e)?e.toString():new jM(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class F3{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fae=typeof URLSearchParams<"u"?URLSearchParams:jM,Bae=typeof FormData<"u"?FormData:null,jae=typeof Blob<"u"?Blob:null,Uae={isBrowser:!0,classes:{URLSearchParams:Fae,FormData:Bae,Blob:jae},protocols:["http","https","file","blob","url","data"]},UM=typeof window<"u"&&typeof document<"u",TN=typeof navigator=="object"&&navigator||void 0,zae=UM&&(!TN||["ReactNative","NativeScript","NS"].indexOf(TN.product)<0),qae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$ae=UM&&window.location.href||"http://localhost",Gae=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:UM,hasStandardBrowserEnv:zae,hasStandardBrowserWebWorkerEnv:qae,navigator:TN,origin:$ae},Symbol.toStringTag,{value:"Module"})),ei={...Gae,...Uae};function Hae(t,e){return d1(t,new ei.classes.URLSearchParams,{visitor:function(n,r,a,i){return ei.isNode&&ze.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Vae(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Wae(t){const e={},n=Object.keys(t);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],e[i]=t[i];return e}function fW(t){function e(n,r,a,i){let s=n[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),l=i>=n.length;return s=!s&&ze.isArray(a)?a.length:s,l?(ze.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!o):((!a[s]||!ze.isObject(a[s]))&&(a[s]=[]),e(n,r,a[s],i)&&ze.isArray(a[s])&&(a[s]=Wae(a[s])),!o)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const n={};return ze.forEachEntry(t,(r,a)=>{e(Vae(r),a,n,0)}),n}return null}function Yae(t,e,n){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const vb={transitional:dW,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=ze.isObject(e);if(i&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return a?JSON.stringify(fW(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)||ze.isReadableStream(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hae(e,this.formSerializer).toString();if((o=ze.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return d1(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),Yae(e)):e}],transformResponse:[function(e){const n=this.transitional||vb.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ze.isResponse(e)||ze.isReadableStream(e))return e;if(e&&ze.isString(e)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?en.from(o,en.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ei.classes.FormData,Blob:ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{vb.headers[t]={}});const Kae=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xae=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||e[n]&&Kae[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},B3=Symbol("internals");function Ym(t){return t&&String(t).trim().toLowerCase()}function aS(t){return t===!1||t==null?t:ze.isArray(t)?t.map(aS):String(t)}function Zae(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Qae=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function S_(t,e,n,r,a){if(ze.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!ze.isString(e)){if(ze.isString(r))return e.indexOf(r)!==-1;if(ze.isRegExp(r))return r.test(e)}}function Jae(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function eie(t,e){const n=ze.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,i,s){return this[r].call(this,e,a,i,s)},configurable:!0})})}let Li=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function i(o,l,d){const f=Ym(l);if(!f)throw new Error("header name must be a non-empty string");const h=ze.findKey(a,f);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||l]=aS(o))}const s=(o,l)=>ze.forEach(o,(d,f)=>i(d,f,l));if(ze.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(ze.isString(e)&&(e=e.trim())&&!Qae(e))s(Xae(e),n);else if(ze.isObject(e)&&ze.isIterable(e)){let o={},l,d;for(const f of e){if(!ze.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(l=o[d])?ze.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}s(o,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=Ym(e),e){const r=ze.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return Zae(a);if(ze.isFunction(n))return n.call(this,a,r);if(ze.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ym(e),e){const r=ze.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||S_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function i(s){if(s=Ym(s),s){const o=ze.findKey(r,s);o&&(!n||S_(r,r[o],o,n))&&(delete r[o],a=!0)}}return ze.isArray(e)?e.forEach(i):i(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!e||S_(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const n=this,r={};return ze.forEach(this,(a,i)=>{const s=ze.findKey(r,i);if(s){n[s]=aS(a),delete n[i];return}const o=e?Jae(i):String(i).trim();o!==i&&delete n[i],n[o]=aS(a),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ze.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&ze.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[B3]=this[B3]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=Ym(s);r[o]||(eie(a,s),r[o]=!0)}return ze.isArray(e)?e.forEach(i):i(e),this}};Li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Li.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ze.freezeMethods(Li);function E_(t,e){const n=this||vb,r=e||n,a=Li.from(r.headers);let i=r.data;return ze.forEach(t,function(o){i=o.call(n,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function pW(t){return!!(t&&t.__CANCEL__)}function $p(t,e,n){en.call(this,t??"canceled",en.ERR_CANCELED,e,n),this.name="CanceledError"}ze.inherits($p,en,{__CANCEL__:!0});function hW(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new en("Request failed with status code "+n.status,[en.ERR_BAD_REQUEST,en.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tie(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function nie(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),f=r[i];s||(s=d),n[a]=l,r[a]=d;let h=i,m=0;for(;h!==a;)m+=n[h++],h=h%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-s<e)return;const b=f&&d-f;return b?Math.round(m*1e3/b):void 0}}function rie(t,e){let n=0,r=1e3/e,a,i;const s=(d,f=Date.now())=>{n=f,a=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?s(d,f):(a=d,i||(i=setTimeout(()=>{i=null,s(a)},r-h)))},()=>a&&s(a)]}const MS=(t,e,n=3)=>{let r=0;const a=nie(50,250);return rie(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,l=s-r,d=a(l),f=s<=o;r=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:l,rate:d||void 0,estimated:d&&o&&f?(o-s)/d:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},j3=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},U3=t=>(...e)=>ze.asap(()=>t(...e)),aie=ei.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ei.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ei.origin),ei.navigator&&/(msie|trident)/i.test(ei.navigator.userAgent)):()=>!0,iie=ei.hasStandardBrowserEnv?{write(t,e,n,r,a,i,s){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];ze.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),ze.isString(r)&&o.push(`path=${r}`),ze.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),ze.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sie(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function oie(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function mW(t,e,n){let r=!sie(e);return t&&(r||n==!1)?oie(t,e):e}const z3=t=>t instanceof Li?{...t}:t;function yd(t,e){e=e||{};const n={};function r(d,f,h,m){return ze.isPlainObject(d)&&ze.isPlainObject(f)?ze.merge.call({caseless:m},d,f):ze.isPlainObject(f)?ze.merge({},f):ze.isArray(f)?f.slice():f}function a(d,f,h,m){if(ze.isUndefined(f)){if(!ze.isUndefined(d))return r(void 0,d,h,m)}else return r(d,f,h,m)}function i(d,f){if(!ze.isUndefined(f))return r(void 0,f)}function s(d,f){if(ze.isUndefined(f)){if(!ze.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function o(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(d,f,h)=>a(z3(d),z3(f),h,!0)};return ze.forEach(Object.keys({...t,...e}),function(f){const h=l[f]||a,m=h(t[f],e[f],f);ze.isUndefined(m)&&h!==o||(n[f]=m)}),n}const gW=t=>{const e=yd({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=e;if(e.headers=s=Li.from(s),e.url=uW(mW(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ze.isFormData(n)){if(ei.hasStandardBrowserEnv||ei.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(ze.isFunction(n.getHeaders)){const l=n.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([f,h])=>{d.includes(f.toLowerCase())&&s.set(f,h)})}}if(ei.hasStandardBrowserEnv&&(r&&ze.isFunction(r)&&(r=r(e)),r||r!==!1&&aie(e.url))){const l=a&&i&&iie.read(i);l&&s.set(a,l)}return e},lie=typeof XMLHttpRequest<"u",cie=lie&&function(t){return new Promise(function(n,r){const a=gW(t);let i=a.data;const s=Li.from(a.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:d}=a,f,h,m,b,g;function w(){b&&b(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const _=Li.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:_,config:t,request:S};hW(function(I){n(I),w()},function(I){r(I),w()},R),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(r(new en("Request aborted",en.ECONNABORTED,t,S)),S=null)},S.onerror=function(C){const R=C&&C.message?C.message:"Network Error",A=new en(R,en.ERR_NETWORK,t,S);A.event=C||null,r(A),S=null},S.ontimeout=function(){let C=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const R=a.transitional||dW;a.timeoutErrorMessage&&(C=a.timeoutErrorMessage),r(new en(C,R.clarifyTimeoutError?en.ETIMEDOUT:en.ECONNABORTED,t,S)),S=null},i===void 0&&s.setContentType(null),"setRequestHeader"in S&&ze.forEach(s.toJSON(),function(C,R){S.setRequestHeader(R,C)}),ze.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),o&&o!=="json"&&(S.responseType=a.responseType),d&&([m,g]=MS(d,!0),S.addEventListener("progress",m)),l&&S.upload&&([h,b]=MS(l),S.upload.addEventListener("progress",h),S.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(f=_=>{S&&(r(!_||_.type?new $p(null,t,S):_),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const x=tie(a.url);if(x&&ei.protocols.indexOf(x)===-1){r(new en("Unsupported protocol "+x+":",en.ERR_BAD_REQUEST,t));return}S.send(i||null)})},uie=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const i=function(d){if(!a){a=!0,o();const f=d instanceof Error?d:this.reason;r.abort(f instanceof en?f:new $p(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,i(new en(`timeout ${e} of ms exceeded`,en.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>ze.asap(o),l}},die=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},fie=async function*(t,e){for await(const n of pie(t))yield*die(n,e)},pie=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},q3=(t,e,n,r)=>{const a=fie(t,e);let i=0,s,o=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:d,value:f}=await a.next();if(d){o(),l.close();return}let h=f.byteLength;if(n){let m=i+=h;n(m)}l.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(l){return o(l),a.return()}},{highWaterMark:2})},$3=64*1024,{isFunction:Av}=ze,hie=(({Request:t,Response:e})=>({Request:t,Response:e}))(ze.global),{ReadableStream:G3,TextEncoder:H3}=ze.global,V3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mie=t=>{t=ze.merge.call({skipUndefined:!0},hie,t);const{fetch:e,Request:n,Response:r}=t,a=e?Av(e):typeof fetch=="function",i=Av(n),s=Av(r);if(!a)return!1;const o=a&&Av(G3),l=a&&(typeof H3=="function"?(g=>w=>g.encode(w))(new H3):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=i&&o&&V3(()=>{let g=!1;const w=new n(ei.origin,{body:new G3,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!w}),f=s&&o&&V3(()=>ze.isReadableStream(new r("").body)),h={stream:f&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(w,S)=>{let T=w&&w[g];if(T)return T.call(w);throw new en(`Response type '${g}' is not supported`,en.ERR_NOT_SUPPORT,S)})});const m=async g=>{if(g==null)return 0;if(ze.isBlob(g))return g.size;if(ze.isSpecCompliantForm(g))return(await new n(ei.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(g)||ze.isArrayBuffer(g))return g.byteLength;if(ze.isURLSearchParams(g)&&(g=g+""),ze.isString(g))return(await l(g)).byteLength},b=async(g,w)=>{const S=ze.toFiniteNumber(g.getContentLength());return S??m(w)};return async g=>{let{url:w,method:S,data:T,signal:x,cancelToken:_,timeout:C,onDownloadProgress:R,onUploadProgress:A,responseType:I,headers:O,withCredentials:M="same-origin",fetchOptions:U}=gW(g),L=e||fetch;I=I?(I+"").toLowerCase():"text";let z=uie([x,_&&_.toAbortSignal()],C),j=null;const H=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let $;try{if(A&&d&&S!=="get"&&S!=="head"&&($=await b(O,T))!==0){let Y=new n(w,{method:"POST",body:T,duplex:"half"}),ne;if(ze.isFormData(T)&&(ne=Y.headers.get("content-type"))&&O.setContentType(ne),Y.body){const[te,G]=j3($,MS(U3(A)));T=q3(Y.body,$3,te,G)}}ze.isString(M)||(M=M?"include":"omit");const q=i&&"credentials"in n.prototype,K={...U,signal:z,method:S.toUpperCase(),headers:O.normalize().toJSON(),body:T,duplex:"half",credentials:q?M:void 0};j=i&&new n(w,K);let V=await(i?L(j,U):L(w,K));const re=f&&(I==="stream"||I==="response");if(f&&(R||re&&H)){const Y={};["status","statusText","headers"].forEach(W=>{Y[W]=V[W]});const ne=ze.toFiniteNumber(V.headers.get("content-length")),[te,G]=R&&j3(ne,MS(U3(R),!0))||[];V=new r(q3(V.body,$3,te,()=>{G&&G(),H&&H()}),Y)}I=I||"text";let ee=await h[ze.findKey(h,I)||"text"](V,g);return!re&&H&&H(),await new Promise((Y,ne)=>{hW(Y,ne,{data:ee,headers:Li.from(V.headers),status:V.status,statusText:V.statusText,config:g,request:j})})}catch(q){throw H&&H(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new en("Network Error",en.ERR_NETWORK,g,j),{cause:q.cause||q}):en.from(q,q&&q.code,g,j)}}},gie=new Map,bW=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:a}=e,i=[r,a,n];let s=i.length,o=s,l,d,f=gie;for(;o--;)l=i[o],d=f.get(l),d===void 0&&f.set(l,d=o?new Map:mie(e)),f=d;return d};bW();const zM={http:Nae,xhr:cie,fetch:{get:bW}};ze.forEach(zM,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const W3=t=>`- ${t}`,bie=t=>ze.isFunction(t)||t===null||t===!1;function yie(t,e){t=ze.isArray(t)?t:[t];const{length:n}=t;let r,a;const i={};for(let s=0;s<n;s++){r=t[s];let o;if(a=r,!bie(r)&&(a=zM[(o=String(r)).toLowerCase()],a===void 0))throw new en(`Unknown adapter '${o}'`);if(a&&(ze.isFunction(a)||(a=a.get(e))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map(W3).join(`
`):" "+W3(s[0]):"as no adapter specified";throw new en("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const yW={getAdapter:yie,adapters:zM};function __(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $p(null,t)}function Y3(t){return __(t),t.headers=Li.from(t.headers),t.data=E_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),yW.getAdapter(t.adapter||vb.adapter,t)(t).then(function(r){return __(t),r.data=E_.call(t,t.transformResponse,r),r.headers=Li.from(r.headers),r},function(r){return pW(r)||(__(t),r&&r.response&&(r.response.data=E_.call(t,t.transformResponse,r.response),r.response.headers=Li.from(r.response.headers))),Promise.reject(r)})}const vW="1.13.2",f1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{f1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const K3={};f1.transitional=function(e,n,r){function a(i,s){return"[Axios v"+vW+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,o)=>{if(e===!1)throw new en(a(s," has been removed"+(n?" in "+n:"")),en.ERR_DEPRECATED);return n&&!K3[s]&&(K3[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,o):!0}};f1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function vie(t,e,n){if(typeof t!="object")throw new en("options must be an object",en.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const i=r[a],s=e[i];if(s){const o=t[i],l=o===void 0||s(o,i,t);if(l!==!0)throw new en("option "+i+" must be "+l,en.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new en("Unknown option "+i,en.ERR_BAD_OPTION)}}const iS={assertOptions:vie,validators:f1},$o=iS.validators;let hd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new F3,response:new F3}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=yd(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&iS.assertOptions(r,{silentJSONParsing:$o.transitional($o.boolean),forcedJSONParsing:$o.transitional($o.boolean),clarifyTimeoutError:$o.transitional($o.boolean)},!1),a!=null&&(ze.isFunction(a)?n.paramsSerializer={serialize:a}:iS.assertOptions(a,{encode:$o.function,serialize:$o.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),iS.assertOptions(n,{baseUrl:$o.spelling("baseURL"),withXsrfToken:$o.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&ze.merge(i.common,i[n.method]);i&&ze.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=Li.concat(s,i);const o=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let f,h=0,m;if(!l){const g=[Y3.bind(this),void 0];for(g.unshift(...o),g.push(...d),m=g.length,f=Promise.resolve(n);h<m;)f=f.then(g[h++],g[h++]);return f}m=o.length;let b=n;for(;h<m;){const g=o[h++],w=o[h++];try{b=g(b)}catch(S){w.call(this,S);break}}try{f=Y3.call(this,b)}catch(g){return Promise.reject(g)}for(h=0,m=d.length;h<m;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=yd(this.defaults,e);const n=mW(e.baseURL,e.url,e.allowAbsoluteUrls);return uW(n,e.params,e.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(e){hd.prototype[e]=function(n,r){return this.request(yd(r||{},{method:e,url:n,data:(r||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,o){return this.request(yd(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}hd.prototype[e]=n(),hd.prototype[e+"Form"]=n(!0)});let Sie=class SW{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{r.subscribe(o),i=o}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,o){r.reason||(r.reason=new $p(i,s,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new SW(function(a){e=a}),cancel:e}}};function Eie(t){return function(n){return t.apply(null,n)}}function _ie(t){return ze.isObject(t)&&t.isAxiosError===!0}const CN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(CN).forEach(([t,e])=>{CN[e]=t});function EW(t){const e=new hd(t),n=QV(hd.prototype.request,e);return ze.extend(n,hd.prototype,e,{allOwnKeys:!0}),ze.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return EW(yd(t,a))},n}const qr=EW(vb);qr.Axios=hd;qr.CanceledError=$p;qr.CancelToken=Sie;qr.isCancel=pW;qr.VERSION=vW;qr.toFormData=d1;qr.AxiosError=en;qr.Cancel=qr.CanceledError;qr.all=function(e){return Promise.all(e)};qr.spread=Eie;qr.isAxiosError=_ie;qr.mergeConfig=yd;qr.AxiosHeaders=Li;qr.formToJSON=t=>fW(ze.isHTMLForm(t)?new FormData(t):t);qr.getAdapter=yW.getAdapter;qr.HttpStatusCode=CN;qr.default=qr;const{Axios:Z4e,AxiosError:Q4e,CanceledError:J4e,isCancel:e5e,CancelToken:t5e,VERSION:n5e,all:r5e,Cancel:a5e,isAxiosError:sS,spread:i5e,toFormData:s5e,AxiosHeaders:o5e,HttpStatusCode:l5e,formToJSON:c5e,getAdapter:u5e,mergeConfig:d5e}=qr;function xie({providers:t,selected:e,onSelect:n}){if(t.length===0)return null;if(t.length===1){const r=t[0];return y.jsx(Re,{sx:{mb:2},children:y.jsxs(Ve,{variant:"body2",color:"text.secondary",children:[y.jsx("strong",{children:"Filesystem:"})," ",r.name]})})}return y.jsx(Re,{sx:{mb:3},children:y.jsxs(Fi,{fullWidth:!0,children:[y.jsx(tu,{children:"Select Filesystem"}),y.jsx(nc,{value:e,label:"Select Filesystem",onChange:r=>n(r.target.value),children:t.map(r=>y.jsx(rr,{value:r.full_name,children:y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(Ve,{children:r.name}),y.jsx(pr,{label:r.category,size:"small",color:"primary",variant:"outlined"})]})},r.id))})]})})}function wie({currentPath:t,onNavigate:e,onGoToRoot:n}){const r=t?t.split("/").filter(Boolean):[];return y.jsxs(Re,{sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[y.jsx(_t,{title:"Go to root",children:y.jsx(Ct,{size:"small",onClick:n,children:y.jsx(vne,{})})}),y.jsxs(Sne,{children:[y.jsx(SN,{component:"button",variant:"body1",onClick:n,sx:{cursor:"pointer"},children:"Root"}),r.map((a,i)=>{const s="/"+r.slice(0,i+1).join("/");return y.jsx(SN,{component:"button",variant:"body1",onClick:()=>e(s),sx:{cursor:"pointer"},children:a},s)})]})]})}function Tie({files:t,currentPath:e,isLoading:n,error:r,onItemClick:a,onGoToParent:i}){if(n)return y.jsx(Re,{sx:{display:"flex",justifyContent:"center",p:4},children:y.jsx(Ca,{})});if(r)return y.jsx(ha,{severity:"error",sx:{mb:2},children:sS(r)?r.response?.data?.detail??r.message:"Failed to load files"});const s=o=>o/1024>1024?`${(o/1024/1024).toFixed(2)} MB`:`${(o/1024).toFixed(2)} KB`;return y.jsxs(ub,{children:[e&&e!=="/"&&y.jsxs(y.Fragment,{children:[y.jsx(Zl,{disablePadding:!0,children:y.jsxs(Vc,{onClick:i,children:[y.jsx(xa,{children:y.jsx(I3,{})}),y.jsx(Ur,{primary:"..",secondary:"Parent directory"})]})}),y.jsx(ul,{})]}),t.length===0&&y.jsx(Zl,{children:y.jsx(Ur,{primary:"Empty directory",secondary:"No files or folders to display"})}),t.map(o=>y.jsx(Zl,{disablePadding:!0,children:y.jsxs(Vc,{onClick:()=>a(o),children:[y.jsx(xa,{children:o.type==="directory"?y.jsx(I3,{color:"primary"}):y.jsx(Ene,{color:"action"})}),y.jsx(Ur,{primary:o.name,secondary:o.type==="file"?s(o.size):"Directory"})]})},o.path))]})}const Cie=t=>({roomId:null,user:null,sessionId:null,cameraKey:null,isConnected:!1,isLoading:!1,initializationError:null,serverVersion:null,globalSettings:null,setRoomId:e=>t({roomId:e}),setUser:e=>t({user:e}),setSessionId:e=>t({sessionId:e}),setCameraKey:e=>t({cameraKey:e}),setConnected:e=>t({isConnected:e}),setLoading:e=>t({isLoading:e}),setInitializationError:e=>t({initializationError:e}),setServerVersion:e=>t({serverVersion:e}),setGlobalSettings:e=>t({globalSettings:e})}),PS="zndraw_jwt_token";async function RN(t){if(!t)throw new Error("No token provided");const e=await fetch("/v1/auth/users/me",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error(`Failed to fetch user info: ${e.statusText}`);return e.json()}async function LS(t,e){if(!e){const s=await fetch("/v1/auth/guest",{method:"POST"});if(!s.ok){const d=await s.json().catch(()=>({detail:s.statusText}));throw new Error(d.detail||`Guest login failed: ${s.statusText}`)}const o=await s.json(),l=await RN(o.access_token);return localStorage.setItem(PS,o.access_token),{token:o.access_token,user:l}}const n=new URLSearchParams;n.append("username",t||""),n.append("password",e);const r=await fetch("/v1/auth/jwt/login",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});if(!r.ok){const s=await r.json().catch(()=>({detail:r.statusText}));throw new Error(s.detail||`Login failed: ${r.statusText}`)}const a=await r.json(),i=await RN(a.access_token);return localStorage.setItem(PS,a.access_token),{token:a.access_token,user:i}}async function Rie(t,e){const n=await fetch("/v1/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})});if(!n.ok){const r=await n.json().catch(()=>({detail:n.statusText}));throw new Error(r.detail||`Registration failed: ${n.statusText}`)}return LS(t,e)}async function Aie(t){const e=$M(),n=await fetch("/v1/auth/users/me",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({password:t})});if(!n.ok){const r=await n.json().catch(()=>({detail:n.statusText}));throw new Error(r.detail||`Password change failed: ${n.statusText}`)}}let Km=null;function qM(){return Km||(Km=Iie().finally(()=>{Km=null}),Km)}async function Iie(){const t=$M();if(t)try{const e=await RN(t);return{token:t,user:e}}catch{p1()}return LS()}function $M(){return localStorage.getItem(PS)}function p1(){localStorage.removeItem(PS)}function kie(t){const e=t.length;let n=0,r=0;for(;r<e;){let a=t.charCodeAt(r++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&r<e){const i=t.charCodeAt(r);(i&64512)===56320&&(++r,a=((a&1023)<<10)+(i&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function Die(t,e,n){const r=t.length;let a=n,i=0;for(;i<r;){let s=t.charCodeAt(i++);if((s&4294967168)===0){e[a++]=s;continue}else if((s&4294965248)===0)e[a++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&i<r){const o=t.charCodeAt(i);(o&64512)===56320&&(++i,s=((s&1023)<<10)+(o&1023)+65536)}(s&4294901760)===0?(e[a++]=s>>12&15|224,e[a++]=s>>6&63|128):(e[a++]=s>>18&7|240,e[a++]=s>>12&63|128,e[a++]=s>>6&63|128)}e[a++]=s&63|128}}const Oie=new TextEncoder,Nie=50;function Mie(t,e,n){Oie.encodeInto(t,e.subarray(n))}function Pie(t,e,n){t.length>Nie?Mie(t,e,n):Die(t,e,n)}const Lie=4096;function _W(t,e,n){let r=e;const a=r+n,i=[];let s="";for(;r<a;){const o=t[r++];if((o&128)===0)i.push(o);else if((o&224)===192){const l=t[r++]&63;i.push((o&31)<<6|l)}else if((o&240)===224){const l=t[r++]&63,d=t[r++]&63;i.push((o&31)<<12|l<<6|d)}else if((o&248)===240){const l=t[r++]&63,d=t[r++]&63,f=t[r++]&63;let h=(o&7)<<18|l<<12|d<<6|f;h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|h&1023),i.push(h)}else i.push(o);i.length>=Lie&&(s+=String.fromCharCode(...i),i.length=0)}return i.length>0&&(s+=String.fromCharCode(...i)),s}const Fie=new TextDecoder,Bie=200;function jie(t,e,n){const r=t.subarray(e,e+n);return Fie.decode(r)}function Uie(t,e,n){return n>Bie?jie(t,e,n):_W(t,e,n)}class Iv{constructor(e,n){this.type=e,this.data=n}}class rs extends Error{constructor(e){super(e);const n=Object.create(rs.prototype);Object.setPrototypeOf(this,n),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:rs.name})}}const Xm=4294967295;function zie(t,e,n){const r=n/4294967296,a=n;t.setUint32(e,r),t.setUint32(e+4,a)}function xW(t,e,n){const r=Math.floor(n/4294967296),a=n;t.setUint32(e,r),t.setUint32(e+4,a)}function wW(t,e){const n=t.getInt32(e),r=t.getUint32(e+4);return n*4294967296+r}function qie(t,e){const n=t.getUint32(e),r=t.getUint32(e+4);return n*4294967296+r}const $ie=-1,Gie=4294967296-1,Hie=17179869184-1;function Vie({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Hie)if(e===0&&t<=Gie){const n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,t),n}else{const n=t/4294967296,r=t&4294967295,a=new Uint8Array(8),i=new DataView(a.buffer);return i.setUint32(0,e<<2|n&3),i.setUint32(4,r),a}else{const n=new Uint8Array(12),r=new DataView(n.buffer);return r.setUint32(0,e),xW(r,4,t),n}}function Wie(t){const e=t.getTime(),n=Math.floor(e/1e3),r=(e-n*1e3)*1e6,a=Math.floor(r/1e9);return{sec:n+a,nsec:r-a*1e9}}function Yie(t){if(t instanceof Date){const e=Wie(t);return Vie(e)}else return null}function Kie(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const n=e.getUint32(0),r=e.getUint32(4),a=(n&3)*4294967296+r,i=n>>>2;return{sec:a,nsec:i}}case 12:{const n=wW(e,4),r=e.getUint32(0);return{sec:n,nsec:r}}default:throw new rs(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function Xie(t){const e=Kie(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Zie={type:$ie,encode:Yie,decode:Xie};class FS{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Zie)}register({type:e,encode:n,decode:r}){if(e>=0)this.encoders[e]=n,this.decoders[e]=r;else{const a=-1-e;this.builtInEncoders[a]=n,this.builtInDecoders[a]=r}}tryToEncode(e,n){for(let r=0;r<this.builtInEncoders.length;r++){const a=this.builtInEncoders[r];if(a!=null){const i=a(e,n);if(i!=null){const s=-1-r;return new Iv(s,i)}}}for(let r=0;r<this.encoders.length;r++){const a=this.encoders[r];if(a!=null){const i=a(e,n);if(i!=null){const s=r;return new Iv(s,i)}}}return e instanceof Iv?e:null}decode(e,n,r){const a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,r):new Iv(n,e)}}FS.defaultCodec=new FS;function Qie(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function AN(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Qie(t)?new Uint8Array(t):Uint8Array.from(t)}const Jie=100,ese=2048;let tse=class TW{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??FS.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??Jie,this.initialBufferSize=e?.initialBufferSize??ese,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new TW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,n){if(n>this.maxDepth)throw new Error(`Too deep objects in depth ${n}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,n)}ensureBufferSizeToWrite(e){const n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)}resizeBuffer(e){const n=new ArrayBuffer(e),r=new Uint8Array(n),a=new DataView(n);r.set(this.bytes),this.view=a,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const r=kie(e);this.ensureBufferSizeToWrite(5+r),this.writeStringHeader(r),Pie(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,n){const r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error(`Too large binary: ${n}`);const r=AN(e);this.writeU8a(r)}encodeArray(e,n){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error(`Too large array: ${r}`);for(const a of e)this.doEncode(a,n+1)}countWithoutUndefined(e,n){let r=0;for(const a of n)e[a]!==void 0&&r++;return r}encodeMap(e,n){const r=Object.keys(e);this.sortKeys&&r.sort();const a=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error(`Too large map object: ${a}`);for(const i of r){const s=e[i];this.ignoreUndefined&&s===void 0||(this.encodeString(i),this.doEncode(s,n+1))}}encodeExtension(e){if(typeof e.data=="function"){const r=e.data(this.pos+6),a=r.length;if(a>=4294967296)throw new Error(`Too large extension object: ${a}`);this.writeU8(201),this.writeU32(a),this.writeI8(e.type),this.writeU8a(r);return}const n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error(`Too large extension object: ${n}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),zie(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),xW(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function nse(t,e){return new tse(e).encodeSharedRef(t)}function x_(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const rse=16,ase=16;class ise{constructor(e=rse,n=ase){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=n,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,n,r){const a=this.caches[r-1];e:for(const i of a){const s=i.bytes;for(let o=0;o<r;o++)if(s[o]!==e[n+o])continue e;return i.str}return null}store(e,n){const r=this.caches[e.length-1],a={bytes:e,str:n};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=a:r.push(a)}decode(e,n,r){const a=this.find(e,n,r);if(a!=null)return this.hit++,a;this.miss++;const i=_W(e,n,r),s=Uint8Array.prototype.slice.call(e,n,n+r);return this.store(s,i),i}}const IN="array",Ng="map_key",CW="map_value",sse=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new rs("The type of key must be string or number but "+typeof t)};class ose{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const n=this.getUninitializedStateFromPool();n.type=IN,n.position=0,n.size=e,n.array=new Array(e)}pushMapState(e){const n=this.getUninitializedStateFromPool();n.type=Ng,n.readCount=0,n.size=e,n.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===IN){const r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Ng||e.type===CW){const r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Zm=-1,GM=new DataView(new ArrayBuffer(0)),lse=new Uint8Array(GM.buffer);try{GM.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const X3=new RangeError("Insufficient data"),cse=new ise;let use=class RW{constructor(e){this.totalPos=0,this.pos=0,this.view=GM,this.bytes=lse,this.headByte=Zm,this.stack=new ose,this.entered=!1,this.extensionCodec=e?.extensionCodec??FS.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Xm,this.maxBinLength=e?.maxBinLength??Xm,this.maxArrayLength=e?.maxArrayLength??Xm,this.maxMapLength=e?.maxMapLength??Xm,this.maxExtLength=e?.maxExtLength??Xm,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:cse,this.mapKeyConverter=e?.mapKeyConverter??sse}clone(){return new RW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Zm,this.stack.reset()}setBuffer(e){const n=AN(e);this.bytes=n,this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Zm&&!this.hasRemaining(1))this.setBuffer(e);else{const n=this.bytes.subarray(this.pos),r=AN(e),a=new Uint8Array(n.length+r.length);a.set(n),a.set(r,n.length),this.setBuffer(a)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:n,pos:r}=this;return new RangeError(`Extra ${n.byteLength-r} of ${n.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let n=!1,r;for await(const o of e){if(n)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{r=this.doDecodeSync(),n=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(n){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return r}const{headByte:a,pos:i,totalPos:s}=this;throw new RangeError(`Insufficient data in parsing ${x_(a)} at ${s} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,n){if(this.entered){yield*this.clone().decodeMultiAsync(e,n);return}try{this.entered=!0;let r=n,a=-1;for await(const i of e){if(n&&a===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(a=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),--a!==0;);}catch(s){if(!(s instanceof RangeError))throw s}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let n;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){const a=e-128;if(a!==0){this.pushMapState(a),this.complete();continue e}else n={}}else if(e<160){const a=e-144;if(a!==0){this.pushArrayState(a),this.complete();continue e}else n=[]}else{const a=e-160;n=this.decodeString(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)this.useBigInt64?n=this.readU64AsBigInt():n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)this.useBigInt64?n=this.readI64AsBigInt():n=this.readI64();else if(e===217){const a=this.lookU8();n=this.decodeString(a,1)}else if(e===218){const a=this.lookU16();n=this.decodeString(a,2)}else if(e===219){const a=this.lookU32();n=this.decodeString(a,4)}else if(e===220){const a=this.readU16();if(a!==0){this.pushArrayState(a),this.complete();continue e}else n=[]}else if(e===221){const a=this.readU32();if(a!==0){this.pushArrayState(a),this.complete();continue e}else n=[]}else if(e===222){const a=this.readU16();if(a!==0){this.pushMapState(a),this.complete();continue e}else n={}}else if(e===223){const a=this.readU32();if(a!==0){this.pushMapState(a),this.complete();continue e}else n={}}else if(e===196){const a=this.lookU8();n=this.decodeBinary(a,1)}else if(e===197){const a=this.lookU16();n=this.decodeBinary(a,2)}else if(e===198){const a=this.lookU32();n=this.decodeBinary(a,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){const a=this.lookU8();n=this.decodeExtension(a,1)}else if(e===200){const a=this.lookU16();n=this.decodeExtension(a,2)}else if(e===201){const a=this.lookU32();n=this.decodeExtension(a,4)}else throw new rs(`Unrecognized type byte: ${x_(e)}`);this.complete();const r=this.stack;for(;r.length>0;){const a=r.top();if(a.type===IN)if(a.array[a.position]=n,a.position++,a.position===a.size)n=a.array,r.release(a);else continue e;else if(a.type===Ng){if(n==="__proto__")throw new rs("The key __proto__ is not allowed");a.key=this.mapKeyConverter(n),a.type=CW;continue e}else if(a.map[a.key]=n,a.readCount++,a.readCount===a.size)n=a.map,r.release(a);else{a.key=null,a.type=Ng;continue e}}return n}}readHeadByte(){return this.headByte===Zm&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Zm}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new rs(`Unrecognized array type byte: ${x_(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new rs(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new rs(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,n){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,n):this.decodeBinary(e,n)}decodeUtf8String(e,n){if(e>this.maxStrLength)throw new rs(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+n+e)throw X3;const r=this.pos+n;let a;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?a=this.keyDecoder.decode(this.bytes,r,e):a=Uie(this.bytes,r,e),this.pos+=n+e,a}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Ng:!1}decodeBinary(e,n){if(e>this.maxBinLength)throw new rs(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+n))throw X3;const r=this.pos+n,a=this.bytes.subarray(r,r+e);return this.pos+=n+e,a}decodeExtension(e,n){if(e>this.maxExtLength)throw new rs(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=qie(this.view,this.pos);return this.pos+=8,e}readI64(){const e=wW(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function kN(t,e){return new use(e).decode(t)}const Z3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,dse={U8:Uint8Array,b:Int8Array,B:Uint8Array,b1:Uint8Array,i1:Int8Array,i2:Int16Array,i4:Int32Array,i8:BigInt64Array,I1:Uint8Array,I2:Uint16Array,I4:Uint32Array,I8:BigUint64Array,u1:Uint8Array,u2:Uint16Array,u4:Uint32Array,u8:BigUint64Array,f4:Float32Array,f8:Float64Array};function fse(t,e){if(t==="|"||t==="="||t==="<"&&Z3||t===">"&&!Z3)return e;throw new Error("Endianness swapping not implemented")}function pse(t,e){if(e.length===0)return t[0];if(e.length===1)return t;if(e.length===2){const[n,r]=e,a=n*r;return t.length!==a&&console.warn(`Data length ${t.length} doesn't match shape [${e.join(", ")}] = ${a}`),t}return console.warn(`Multi-dimensional arrays (${e.length}D) not fully optimized, returning as-is`),AW(t,e)}function AW(t,e){if(e.length===1)return t;const[n,...r]=e,a=r.reduce((s,o)=>s*o,1),i=[];for(let s=0;s<n;s++){const o=s*a,l=o+a,d=t.slice(o,l);i.push(AW(d,r))}return i}function oS(t){if(t==null)return t;if(t instanceof Uint8Array)try{const e=kN(t,{mapKeyConverter:n=>n instanceof Uint8Array?new TextDecoder().decode(n):n});return oS(e)}catch{return t}if(Array.isArray(t))return t.map(oS);if(typeof t=="object"){const e=t.nd,n=t.type,r=t.data,a=t.shape,i=t.kind;if(e!==void 0&&r!==void 0){if(i==="O"||Array.isArray(n)&&n.length>0){if(r instanceof Uint8Array&&r[0]===128){console.warn("Object dtype array uses pickle encoding which is not supported in JavaScript. Backend should send string arrays as plain lists instead of numpy object arrays.");return}try{return kN(r,{mapKeyConverter:l=>l instanceof Uint8Array?new TextDecoder().decode(l):l})}catch(o){console.warn("Failed to decode object dtype array:",o);return}}if(typeof n=="string"&&n[1]==="U"){const o=Number.parseInt(n.slice(2),10),d=o*4,f=n[0];if(f!=="<"&&f!=="="&&f!=="|"){console.warn(`Unsupported endianness for unicode string: ${f}`);return}const h=Array.isArray(a)?a.reduce((b,g)=>b*g,1):1,m=[];for(let b=0;b<h;b++){const g=b*d,w=r.slice(g,g+d);try{const S=new Uint32Array(w.buffer,w.byteOffset,o);let T="";for(let x=0;x<o;x++){const _=S[x];if(_===0)break;T+=String.fromCodePoint(_)}m.push(T)}catch(S){console.warn(`Failed to decode unicode string at index ${b}:`,S),m.push("")}}return m}if(typeof n=="string"){const o=fse(n[0],r),l=n.slice(1),d=dse[l];if(!d)return console.warn(`Unknown numpy dtype: ${l}`),t;let f;const h=d.BYTES_PER_ELEMENT;if(o.byteOffset%h===0&&o.byteOffset!==void 0)f=new d(o.buffer,o.byteOffset,o.byteLength/h);else{const b=new Uint8Array(o).buffer;f=new d(b)}return a&&Array.isArray(a)?pse(f,a):f}}const s={};for(const o in t)s[o]=oS(t[o]);return s}return t}function hse(t){const e=kN(t instanceof Uint8Array?t:new Uint8Array(t),{mapKeyConverter:n=>n instanceof Uint8Array?new TextDecoder().decode(n):n});return oS(e)}const mse=new Map([[Float32Array,"<f4"],[Float64Array,"<f8"],[Int8Array,"|i1"],[Int16Array,"<i2"],[Int32Array,"<i4"],[Uint8Array,"|u1"],[Uint16Array,"<u2"],[Uint32Array,"<u4"],[BigInt64Array,"<i8"],[BigUint64Array,"<u8"]]);function gse(t,e){const n=mse.get(t.constructor);if(!n)throw new Error(`Unsupported TypedArray type: ${t.constructor.name}`);const r=t,a=e||[t.byteLength/r.BYTES_PER_ELEMENT];return{nd:!0,type:n,kind:"",shape:a,data:new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}}function DN(t,e,n=""){if(t==null)return t;if(ArrayBuffer.isView(t)&&!(t instanceof DataView)){const r=e?.get(n);return gse(t,r)}if(Array.isArray(t))return t.map((r,a)=>DN(r,e,`${n}[${a}]`));if(typeof t=="object"){const r={};for(const a of Object.keys(t)){const i=n?`${n}.${a}`:a;r[a]=DN(t[a],e,i)}return r}return t}function bse(t,e){const n=DN(t,e);return nse(n)}function yse(t,e){if(t)try{const n=hse(t instanceof Uint8Array?t:new Uint8Array(t));if(!Array.isArray(n)||n.length===0){console.error("Expected non-empty array of frames");return}const r=n[0];if(typeof r!="object"||r===null){console.error("Expected frame to be a dict");return}const a=r[e];if(a===void 0){console.error(`Key "${e}" not found in frame. Available keys:`,Object.keys(r));return}return a}catch(n){console.error(`Failed to decode ${e}:`,n);return}}const Ft=qr.create({});Ft.interceptors.request.use(t=>{const e=$M();e&&(t.headers.Authorization=`Bearer ${e}`);const n=J.getState().sessionId;return n&&(t.headers["X-Session-ID"]=n),t});const Q3=new WeakSet;Ft.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response?.status!==401||Q3.has(e)||e.url?.startsWith("/v1/auth/"))return Promise.reject(t);Q3.add(e),p1();const{token:n}=await qM();return J.getState().showSnackbar("Session expired  reconnected as guest","warning"),e.headers.Authorization=`Bearer ${n}`,Ft(e)});const vse=async()=>{const{data:t}=await Ft.get("/v1/version");return t},Sse=async()=>{const{data:t}=await Ft.get("/v1/config/global-settings");return t},Ese=async t=>{const{data:e}=await Ft.get(`/v1/rooms/${t}/figures`);return e},_se=async(t,e)=>{const{data:n}=await Ft.get(`/v1/rooms/${t}/figures/${e}`);return n},IW=async(t,e=0)=>{const{data:n}=await Ft.get(`/v1/rooms/${t}/frames/${e}/metadata`);return n},lS=async t=>{const{data:e}=await Ft.get(`/v1/rooms/${t}/geometries`);return e},ON=async(t,e)=>{const{data:n}=await Ft.get(`/v1/rooms/${t}/geometries/${e}`);return n},Sb=async(t,e,n,r)=>{try{const{data:a}=await Ft.put(`/v1/rooms/${t}/geometries/${e}`,{type:n,data:r});return a}catch(a){throw a.response?.status===423&&J.getState().showSnackbar("Cannot modify geometry - room is locked by another user","warning"),a}},xse=async(t,e)=>{try{const{data:n}=await Ft.delete(`/v1/rooms/${t}/geometries/${e}`);return n}catch(n){throw n.response?.status===423&&J.getState().showSnackbar("Cannot delete geometry - resource is locked by another user","warning"),n}},NN=async(t,e,n)=>{const{data:r}=await Ft.put(`/v1/rooms/${t}/geometries/${e}/selection`,{indices:n});return r},J3=async t=>{const{data:e}=await Ft.get(`/v1/rooms/${t}/selection-groups`);return e},eF=async(t,e,n)=>{const{data:r}=await Ft.put(`/v1/rooms/${t}/selection-groups/${e}`,{selections:n});return r},tF=async(t,e)=>{await Ft.delete(`/v1/rooms/${t}/selection-groups/${e}`)},nF=async t=>{const{data:e}=await Ft.get(`/v1/rooms/${t}/bookmarks`),n={};for(const[r,a]of Object.entries(e.items||{}))n[Number.parseInt(r,10)]=a;return{items:n}},wse=async(t,e,n)=>{const{data:r}=await Ft.put(`/v1/rooms/${t}/bookmarks/${e}`,{label:n});return r},Tse=async(t,e)=>{const{data:n}=await Ft.delete(`/v1/rooms/${t}/bookmarks/${e}`);return n},Eb=async(t,e)=>{const{data:n}=await Ft.post("/v1/rooms",t,{signal:e});return n},Cse=async(t,e)=>{const{data:n}=await Ft.get(`/v1/rooms/${t}/frame-selection`,{signal:e});return n},Rse=async(t,e)=>{const{data:n}=await Ft.put(`/v1/rooms/${t}/frame-selection`,{indices:e});return n},Ase=async t=>{const{data:e}=await Ft.get(`/v1/joblib/rooms/${t}/jobs`);return e},Ise=async(t,e)=>{const{data:n}=await Ft.get(`/v1/joblib/rooms/${t}/jobs/${encodeURIComponent(e)}`);return n},h1=async(t,e,n)=>{const{data:r}=await Ft.post(`/v1/joblib/rooms/${t}/tasks/${encodeURIComponent(e)}`,{payload:n});return r},kW=async(t,e)=>{const{data:n}=await Ft.get(`/v1/rooms/${t}/sessions/${e}/settings`);return n},kse=async(t,e,n)=>{const{data:r}=await Ft.put(`/v1/rooms/${t}/sessions/${e}/settings`,n);return r},Dse=async(t,e,n)=>{const r=new URLSearchParams;n?.status&&r.append("status",n.status),n?.limit!==void 0&&r.append("limit",n.limit.toString()),n?.offset!==void 0&&r.append("offset",n.offset.toString());const a=r.toString(),i=`/v1/joblib/rooms/${t}/jobs/${encodeURIComponent(e)}/tasks${a?`?${a}`:""}`,{data:s}=await Ft.get(i);return s},HM=async(t,e,n,r)=>{const a=new URLSearchParams;a.append("indices",e.toString()),n&&n.length>0&&a.append("keys",n.join(","));try{const i=await Ft.get(`/v1/rooms/${t}/frames?${a.toString()}`,{signal:r,responseType:"arraybuffer"}),s={};for(const o of n){const l=yse(i.data,o);l!==void 0&&(s[o]=l)}return Object.keys(s).length>0?s:null}catch(i){if(i?.response?.status===404){if(i.response.headers?.["retry-after"])throw i;return null}throw i}},rF=async(t,e,n,r)=>{const a=bse(n,r),i=new Blob([new Uint8Array(a)],{type:"application/msgpack"}),{data:s}=await Ft.patch(`/v1/rooms/${t}/frames/${e}`,i,{headers:{"Content-Type":"application/msgpack"}});return s},f5e=async(t,e,n)=>{const r=new URLSearchParams;r.append("limit",e.toString()),n!==void 0&&r.append("before",n.toString());const{data:a}=await Ft.get(`/v1/rooms/${t}/chat/messages?${r}`);return a},p5e=async(t,e)=>{const{data:n}=await Ft.post(`/v1/rooms/${t}/chat/messages`,{content:e});return n},h5e=async(t,e,n)=>{const{data:r}=await Ft.patch(`/v1/rooms/${t}/chat/messages/${e}`,{content:n});return r},VM=async t=>{const{data:n}=await Ft.get("/v1/rooms");return n.items},MN=async t=>{const{data:e}=await Ft.get(`/v1/rooms/${t}`);return e},PN=async(t,e)=>{const{data:n}=await Ft.patch(`/v1/rooms/${t}`,e);return n},Ose=async()=>{const{data:t}=await Ft.get("/v1/server-settings/default-room");return t},DW=async t=>{if(t===null)return await Ft.delete("/v1/server-settings/default-room"),{room_id:null};const{data:e}=await Ft.put("/v1/server-settings/default-room",{room_id:t});return e},Nse=async t=>{const{data:e}=await Ft.get(`/v1/rooms/${t}/edit-lock`);return e},OW=async(t,e)=>{const n=new FormData;n.append("file",e),await Ft.post(`/v1/rooms/${t}/trajectory`,n,{headers:{"Content-Type":"multipart/form-data"}})},Mse=async t=>{const{data:e}=await Ft.post("/v1/tools/rdkit-img",t);return e},aF=async t=>{const{data:e}=await Ft.post(`/v1/rooms/${t.roomId}/trajectory/download-tokens`),n=new URL(e.url);t.indices!==void 0&&n.searchParams.set("indices",t.indices.join(",")),t.selection&&n.searchParams.set("selection",t.selection.join(",")),t.filename&&n.searchParams.set("filename",t.filename),window.location.href=n.toString()},Pse=(t,e)=>{const n=[],r=[];for(const[a,i]of Object.entries(t.metadata)){const s=i.shape&&Array.isArray(i.shape)&&i.shape.length>0&&i.shape[0]===e,[o]=a.split("."),l={key:a,metadata:i,category:s?"per-particle":"global",prefix:o||"other",enabled:!1};s?n.push(l):r.push(l)}return{perParticle:n,global:r}},Lse=async(t,e,n,r,a)=>{const i=new FormData;i.append("file",e,`screenshot.${n}`),i.append("format",n),i.append("width",r.toString()),i.append("height",a.toString()),await Ft.patch(t,i,{headers:{"Content-Type":"multipart/form-data"}})},Fse=async()=>{const{data:t}=await Ft.post("/v1/admin/shutdown");return t},NW=async(t,e)=>{const{data:n}=await Ft.get(`/v1/joblib/rooms/${t}/providers`),r=n.items;return e?r.filter(a=>a.category===e):r},Bse=async(t,e,n)=>{const r=n?`?${new URLSearchParams(n)}`:"";return(await Ft.get(`/v1/joblib/rooms/${t}/providers/${encodeURIComponent(e)}${r}`)).data},jse=async(t,e)=>{const{data:n}=await Ft.put(`/v1/rooms/${t}/step`,{step:e});return n},w_=async(t,e)=>{try{const{data:n}=await Ft.put(`/v1/rooms/${t}/edit-lock`,{msg:e??null});return n}catch(n){throw n.response?.status===423&&J.getState().showSnackbar("Cannot perform action - room is locked by another user","warning"),n}},Use=async t=>{await Ft.delete(`/v1/rooms/${t}/edit-lock`)},zse=async(t,e,n)=>{await Ft.put(`/v1/rooms/${t}/sessions/${e}/active-camera`,{active_camera:n})},qse=async()=>{const{data:t}=await Ft.get("/v1/admin/users");return t},$se=async(t,e)=>{const{data:n}=await Ft.patch(`/v1/admin/users/${t}`,e);return n},Gse=async t=>{await Ft.delete(`/v1/admin/users/${t}`)},Hse=(t,e)=>({superuserLock:!1,userLock:null,userLockMessage:null,lockRenewalIntervalId:null,setSuperuserLock:n=>t({superuserLock:n}),setUserLock:(n,r=null)=>t({userLock:n,userLockMessage:r??null}),startLockRenewal:()=>{const{lockRenewalIntervalId:n,userLock:r,stopLockRenewal:a}=e();if(!r){console.warn("[startLockRenewal] No lock to renew");return}n!==null&&a();const s=window.setInterval(async()=>{const o=e(),l=o.userLockMessage;if(!o.userLock||!o.roomId){a();return}try{await w_(o.roomId,l??void 0)}catch(d){console.error("[startLockRenewal] Error refreshing lock:",d),t({userLock:null,userLockMessage:null}),e().showSnackbar("Lock lost - returning to view mode","warning"),t({mode:"view"}),e().stopLockRenewal()}},5e3);t({lockRenewalIntervalId:s})},stopLockRenewal:()=>{const{lockRenewalIntervalId:n}=e();n!==null&&(window.clearInterval(n),t({lockRenewalIntervalId:null}))},acquireLock:async n=>{const{roomId:r,userLock:a,user:i}=e();if(!r)return console.error("[acquireLock] No roomId"),!1;if(a)try{return await w_(r,n),t({userLockMessage:n}),!0}catch(s){return console.error("[acquireLock] Error refreshing lock:",s),!1}try{if(!(await w_(r,n)).locked)return!1;const o=i?.email??null;return t({userLock:o,userLockMessage:n}),e().startLockRenewal(),!0}catch(s){return console.error("[acquireLock] Error acquiring lock:",s),!1}},releaseLock:async()=>{const{roomId:n,userLock:r}=e();if(!r)return!0;if(!n)return console.error("[releaseLock] No roomId"),!1;try{return await Use(n),t({userLock:null,userLockMessage:null}),e().stopLockRenewal(),!0}catch(a){return console.error("[releaseLock] Error releasing lock:",a),!1}},hasLock:()=>e().userLock!==null}),Vse=(t,e)=>({currentFrame:0,frameCount:0,skipFrames:1,frame_selection:null,frameSelectionEnabled:!1,playing:!1,bookmarks:null,fps:null,frameLoadTime:null,lastFrameChangeTime:null,synchronizedMode:!0,setCurrentFrame:n=>{if(typeof n!="number"||!Number.isFinite(n)){console.error("Invalid frame value:",n);return}t({currentFrame:n})},setFrameCount:n=>t(r=>{const a=r.currentFrame>=n?0:r.currentFrame;return{frameCount:n,currentFrame:a}}),setSkipFrames:n=>t({skipFrames:n}),setFrameSelection:n=>t({frame_selection:n}),updateFrameSelection:n=>{const r=e().roomId;r&&(t({frame_selection:n}),Rse(r,n||[]).catch(a=>{console.error("Failed to update frame selection:",a)}))},setFrameSelectionEnabled:n=>t({frameSelectionEnabled:n}),setPlaying:n=>t({playing:n}),setBookmarks:n=>t({bookmarks:n}),addBookmark:(n,r)=>{const a=e().roomId;if(!a)return;const i=r||`Bookmark ${n}`;t(s=>({bookmarks:{...s.bookmarks||{},[n]:i}})),wse(a,n,i).catch(s=>{console.error(`Failed to set bookmark at frame ${n}:`,s),t(o=>{if(!o.bookmarks)return o;const{[n]:l,...d}=o.bookmarks;return{bookmarks:d}})})},deleteBookmark:n=>{const r=e().roomId;if(!r)return;const{bookmarks:a}=e();if(!a||!(n in a))return;const i=a[n];t(s=>{if(!s.bookmarks)return s;const{[n]:o,...l}=s.bookmarks;return{bookmarks:l}}),Tse(r,n).catch(s=>{console.error(`Failed to delete bookmark at frame ${n}:`,s),t(o=>({bookmarks:{...o.bookmarks||{},[n]:i}}))})},setFps:n=>t({fps:n}),setFrameLoadTime:n=>t({frameLoadTime:n}),setLastFrameChangeTime:n=>t({lastFrameChangeTime:n}),setSynchronizedMode:n=>t({synchronizedMode:n})}),LN=t=>Object.entries(t).filter(([e,n])=>n.type==="Curve"&&n.data?.active!==!1).map(([e,n])=>e),FN=t=>t.length===0?null:t.includes("curve")?"curve":t[0],Wse=(t,e)=>({geometries:{},geometrySchemas:{},geometryDefaults:{},geometryUpdateSources:{},geometryFetchingStates:{},neededFrameKeys:{},selections:{},selectionGroups:{},mode:"view",transformMode:"translate",editingSelectedAxis:null,drawingPointerPosition:null,drawingIsValid:!1,editingCombinedCentroid:null,editingCallbacks:new Map,activeCurveForDrawing:null,attachedCameraKey:null,curveRefs:{},hoveredGeometryInstance:null,particleCount:0,curveLength:0,loadedDynamicPositions:new Map,pendingFrameEdits:null,editingFrameDataCount:0,setGeometries:n=>t({geometries:n}),setGeometrySchemas:n=>t({geometrySchemas:n}),setGeometryDefaults:n=>t({geometryDefaults:n}),updateGeometry:(n,r,a="remote")=>t(i=>({geometries:{...i.geometries,[n]:r},geometryUpdateSources:{...i.geometryUpdateSources,[n]:a}})),removeGeometry:n=>t(r=>{const{[n]:a,...i}=r.geometries,{[n]:s,...o}=r.geometryUpdateSources,{[n]:l,...d}=r.selections;let f=r.activeCurveForDrawing;if(r.activeCurveForDrawing===n){const b=LN(i);f=FN(b)}const h=r.attachedCameraKey===n?null:r.attachedCameraKey,m=new Map(r.editingCallbacks);return m.delete(n),{geometries:i,geometryUpdateSources:o,selections:d,activeCurveForDrawing:f,attachedCameraKey:h,editingCallbacks:m}}),setGeometryFetching:(n,r)=>t(a=>({geometryFetchingStates:{...a.geometryFetchingStates,[n]:r}})),removeGeometryFetching:n=>t(r=>{const a={...r.geometryFetchingStates};return delete a[n],{geometryFetchingStates:a}}),registerFrameKeys:(n,r)=>t(a=>({neededFrameKeys:{...a.neededFrameKeys,[n]:r}})),unregisterFrameKeys:n=>t(r=>{const{[n]:a,...i}=r.neededFrameKeys;return{neededFrameKeys:i}}),getIsFetching:()=>{const{geometries:n,geometryFetchingStates:r}=e();return Object.entries(r).some(([a,i])=>{const o=n[a]?.data?.active!==!1;return i&&o})},setSelections:n=>t({selections:n}),updateSelectionForGeometry:(n,r)=>{const a=e().roomId;a&&(t(i=>({selections:{...i.selections,[n]:r}})),NN(a,n,r).catch(i=>{console.error(`Failed to update selection for ${n}:`,i)}))},setSelectionGroups:n=>t({selectionGroups:n}),loadSelectionGroup:n=>{const{selectionGroups:r}=e(),a=r[n];if(a)for(const[i,s]of Object.entries(a))e().updateSelectionForGeometry(i,s)},updateSelections:(n,r,a)=>{const i=e(),s=i.roomId;if(!s)return;const o=i.selections[n]||[],l=new Set(o).has(r);let d;if(a){const f=new Set(o);l?f.delete(r):f.add(r),d=Array.from(f)}else l?d=[]:d=[r];t(f=>({selections:{...f.selections,[n]:d}})),NN(s,n,d).catch(f=>{console.error(`Failed to update selection for ${n}:`,f)})},setMode:n=>t({mode:n}),enterDrawingMode:async n=>{const r=e(),{geometries:a,mode:i,roomId:s}=r;if(i!=="view"){console.warn(`Cannot enter drawing mode from ${i} mode`);return}if(!await e().acquireLock("drawing on curve"))return;const l=LN(a);if(l.length===0){if(!s){console.warn("Cannot create curve: no room ID");return}t(h=>({geometries:{...h.geometries,curve:{type:"Curve",data:{position:[]}}},activeCurveForDrawing:"curve",mode:"drawing"}));try{await Sb(s,"curve","Curve",{position:[]});const h=await ON(s,"curve");t(m=>({geometries:{...m.geometries,curve:h.geometry}})),n&&s&&n.invalidateQueries({queryKey:["geometries",s,"list"]})}catch(h){console.error("Error creating default curve:",h),t(m=>{const{curve:b,...g}=m.geometries;return{geometries:g,activeCurveForDrawing:null,mode:"view"}})}return}if(l.length===1){t({activeCurveForDrawing:l[0],mode:"drawing"});return}const d=r.activeCurveForDrawing,f=d&&l.includes(d)?d:FN(l);t({activeCurveForDrawing:f,mode:"drawing"})},exitDrawingMode:async()=>{const{mode:n}=e();if(n!=="drawing"){console.warn(`Not in drawing mode, current mode: ${n}`);return}const r=await e().releaseLock();t({mode:"view"}),r||console.warn("Failed to release lock when exiting drawing mode")},enterEditingMode:async()=>{const n=e();if(n.mode!=="view"){console.warn(`Cannot enter editing mode from ${n.mode} mode`);return}await e().acquireLock("editing geometries")&&(t({mode:"editing"}),n.showSnackbar("Entered editing mode","success"))},exitEditingMode:async()=>{const n=e();if(n.mode!=="editing"){console.warn(`Not in editing mode, current mode: ${n.mode}`);return}await e().saveFrameEdits();for(const a of Object.keys(n.selections))e().updateSelectionForGeometry(a,[]);const r=await e().releaseLock();t({mode:"view",transformMode:"translate",editingSelectedAxis:null,editingFrameDataCount:0}),r?n.showSnackbar("Exited editing mode","info"):console.warn("Failed to release lock when exiting editing mode")},setTransformMode:n=>t({transformMode:n}),cycleTransformMode:async()=>{await e().saveFrameEdits();const{transformMode:n,showSnackbar:r}=e(),a=["translate","rotate","scale"],i=a.indexOf(n),s=a[(i+1)%a.length];t({transformMode:s}),r(`Transform mode: ${s}`,"info")},setEditingSelectedAxis:n=>t({editingSelectedAxis:n}),setDrawingPointerPosition:n=>t({drawingPointerPosition:n}),setDrawingIsValid:n=>t({drawingIsValid:n}),setEditingCombinedCentroid:n=>t({editingCombinedCentroid:n}),subscribeToEditing:(n,r)=>{const a=e().editingCallbacks;return a.has(n)||a.set(n,new Set),a.get(n).add(r),()=>{const i=e().editingCallbacks.get(n);i&&(i.delete(r),i.size===0&&e().editingCallbacks.delete(n))}},notifyEditingChange:n=>{e().editingCallbacks.forEach(a=>{a.forEach(i=>i(n))})},setActiveCurveForDrawing:n=>t({activeCurveForDrawing:n}),attachToCamera:n=>{const{geometries:r,roomId:a,sessionId:i}=e(),s=r[n];if(!s||s.type!=="Camera"){console.warn(`Cannot attach to camera '${n}': not found or not a Camera`);return}t({attachedCameraKey:n}),a&&i&&zse(a,i,n).catch(o=>{console.error("Failed to sync active camera to server:",o)})},setAttachedCameraKey:n=>t({attachedCameraKey:n}),registerCurveRef:(n,r)=>t(a=>({curveRefs:{...a.curveRefs,[n]:r}})),unregisterCurveRef:n=>t(r=>{const{[n]:a,...i}=r.curveRefs;return{curveRefs:i}}),setHoveredGeometryInstance:(n,r)=>{t(n===null||r===null?{hoveredGeometryInstance:null}:{hoveredGeometryInstance:{geometryKey:n,instanceId:r}})},setParticleCount:n=>t({particleCount:n}),setCurveLength:n=>t({curveLength:n}),setPendingFrameEdit:(n,r,a)=>{const i=e();if(i.pendingFrameEdits&&i.pendingFrameEdits.frameId!==n){const s=i.pendingFrameEdits;(async()=>{const{roomId:o,showSnackbar:l}=e();if(!(!o||Object.keys(s.keys).length===0))try{const d=new Map;for(const[f,h]of Object.entries(s.keys))f==="arrays.positions"&&h instanceof Float32Array&&d.set(f,[h.length/3,3]);await rF(o,s.frameId,s.keys,d),l(`Auto-saved frame ${s.frameId}`,"info")}catch(d){console.error("[setPendingFrameEdit] Auto-save failed:",d),l(`Failed to auto-save frame ${s.frameId}`,"warning")}})()}t({pendingFrameEdits:{frameId:n,keys:{...i.pendingFrameEdits?.frameId===n?i.pendingFrameEdits.keys:{},[r]:a}}})},clearPendingFrameEdits:()=>t({pendingFrameEdits:null}),saveFrameEdits:async()=>{const{roomId:n,pendingFrameEdits:r,showSnackbar:a}=e();if(!n||!r)return;const{frameId:i,keys:s}=r;if(Object.keys(s).length!==0)try{const o=new Map;for(const[l,d]of Object.entries(s))l==="arrays.positions"&&d instanceof Float32Array&&o.set(l,[d.length/3,3]);await rF(n,i,s,o),t({pendingFrameEdits:null}),a(`Frame ${i} saved`,"success")}catch(o){console.error("[saveFrameEdits] Error saving frame edits:",o),a("Failed to save frame edits","error")}},incrementEditingFrameDataCount:()=>t(n=>({editingFrameDataCount:n.editingFrameDataCount+1})),decrementEditingFrameDataCount:()=>t(n=>({editingFrameDataCount:Math.max(0,n.editingFrameDataCount-1)})),registerLoadedDynamicPositions:(n,r,a)=>{const i=new Map(e().loadedDynamicPositions);i.set(n,{positionKey:r,positions:a}),t({loadedDynamicPositions:i})},unregisterLoadedDynamicPositions:n=>{const r=new Map(e().loadedDynamicPositions);r.delete(n),t({loadedDynamicPositions:r})}}),Yse=t=>({chatOpen:!1,chatUnreadCount:0,typingUsers:new Set,snackbar:null,progressTrackers:{},showInfoBoxes:!1,hoveredFrame:null,screenshotCapture:null,pathtracerCapture:null,pathtracingNeedsUpdate:!1,setChatOpen:e=>t({chatOpen:e}),incrementChatUnread:()=>t(e=>({chatUnreadCount:e.chatUnreadCount+1})),resetChatUnread:()=>t({chatUnreadCount:0}),addTypingUser:e=>t(n=>{const r=new Set(n.typingUsers);return r.add(e),{typingUsers:r}}),removeTypingUser:e=>t(n=>{const r=new Set(n.typingUsers);return r.delete(e),{typingUsers:r}}),showSnackbar:(e,n="info")=>t({snackbar:{open:!0,message:e,severity:n}}),hideSnackbar:()=>t(e=>e.snackbar?{snackbar:{...e.snackbar,open:!1}}:{}),setProgressTrackers:e=>t({progressTrackers:e}),addProgressTracker:(e,n,r,a)=>t(i=>({progressTrackers:{...i.progressTrackers,[e]:{progressId:e,roomId:a,description:n,progress:r}}})),updateProgressTracker:(e,n,r)=>t(a=>{const i=a.progressTrackers[e];return i?{progressTrackers:{...a.progressTrackers,[e]:{...i,...n!==void 0&&{description:n},...r!==void 0&&{progress:r}}}}:{}}),removeProgressTracker:e=>t(n=>{const{[e]:r,...a}=n.progressTrackers;return{progressTrackers:a}}),toggleInfoBoxes:()=>t(e=>({showInfoBoxes:!e.showInfoBoxes})),setHoveredFrame:e=>t({hoveredFrame:e}),setScreenshotCapture:e=>t({screenshotCapture:e}),setPathtracerCapture:e=>t({pathtracerCapture:e}),requestPathtracingUpdate:()=>t({pathtracingNeedsUpdate:!0}),clearPathtracingUpdate:()=>t({pathtracingNeedsUpdate:!1})}),MW=t=>{if(t.user?.is_superuser??!1)return!1;if(t.superuserLock)return!0;if(t.userLock){const n=t.user?.email??null;return t.userLock!==n}return!1},Kse=t=>{const{selections:e,selectionGroups:n}=t;for(const[r,a]of Object.entries(n))if(Xse(e,a))return r;return null};function Xse(t,e){const n=new Set([...Object.keys(t),...Object.keys(e)]);for(const r of n){const a=t[r]??[],i=e[r]??[];if(a.length!==i.length)return!1;const s=[...a].sort((l,d)=>l-d),o=[...i].sort((l,d)=>l-d);for(let l=0;l<s.length;l++)if(s[l]!==o[l])return!1}return!0}const J=cb((...t)=>({...Cie(...t),...Vse(...t),...Wse(...t),...Hse(...t),...Yse(...t)}));function Zse({open:t,file:e,isLoading:n,rooms:r,onClose:a,onLoad:i}){const[s,o]=N.useState({start:"",stop:"",step:""}),[l,d]=N.useState("current"),[f,h]=N.useState(""),[m,b]=N.useState(""),[g,w]=N.useState(null);Q.useEffect(()=>{t&&(o({start:"",stop:"",step:""}),d("current"),h(crypto.randomUUID()),b(""),w(null))},[t]);const S=()=>{const _=s.start?Number.parseInt(s.start):null,C=s.stop?Number.parseInt(s.stop):null,R=s.step?Number.parseInt(s.step):null;return s.start&&isNaN(_)?"Start must be a valid integer":s.stop&&isNaN(C)?"Stop must be a valid integer":s.step&&isNaN(R)?"Step must be a valid integer":R!==null&&R<=0?"Step must be a positive integer (e.g., 1, 2, 5)":_!==null&&_<0?"Start cannot be negative":C!==null&&C<0?"Stop cannot be negative":_!==null&&C!==null&&_>=C?"Start must be less than stop":null},T=J(_=>_.showSnackbar),x=()=>{if(!e)return;const _=S();if(_){T(_,"warning");return}if(l==="new"&&!f.trim()){T("Please enter a room ID for the new room","warning");return}if(l==="existing"&&!g){T("Please select a room","warning");return}const C=l==="new"?{type:"new",room_id:f.trim(),description:m.trim()}:l==="existing"?{type:"existing",room_id:g.id}:{type:"current"},R={path:e.path,room_target:C,...s.start&&{start:Number.parseInt(s.start)},...s.stop&&{stop:Number.parseInt(s.stop)},...s.step&&{step:Number.parseInt(s.step)}};i(R)};return e?y.jsxs(yi,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,children:[y.jsx(Ui,{children:"Load File from Remote Filesystem"}),y.jsxs(vi,{children:[y.jsxs(Ve,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["File: ",e.name]}),y.jsxs(Ve,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Path: ",e.path]}),y.jsx(Ve,{variant:"body2",sx:{mb:1,fontWeight:500},children:"Frame Selection (optional)"}),y.jsx(Ve,{variant:"caption",color:"text.secondary",sx:{mb:2,display:"block"},children:"Load specific frames from trajectory files. Leave empty to load all frames."}),y.jsxs(Re,{sx:{display:"flex",gap:2},children:[y.jsx(jt,{size:"small",label:"Start",type:"number",value:s.start,onChange:_=>o({...s,start:_.target.value}),helperText:"First frame",sx:{flex:1},slotProps:{htmlInput:{min:0}}}),y.jsx(jt,{size:"small",label:"Stop",type:"number",value:s.stop,onChange:_=>o({...s,stop:_.target.value}),helperText:"Last frame",sx:{flex:1},slotProps:{htmlInput:{min:0}}}),y.jsx(jt,{size:"small",label:"Step",type:"number",value:s.step,onChange:_=>o({...s,step:_.target.value}),helperText:"Interval",sx:{flex:1},slotProps:{htmlInput:{min:1}}})]}),(s.start||s.stop||s.step)&&y.jsxs(Ve,{variant:"caption",color:"primary.main",sx:{mt:1,display:"block"},children:["Will load: [",s.start||"0",":",s.stop||"end",":",s.step||"1","]",s.step&&Number.parseInt(s.step)>1&&` (every ${s.step} frame${Number.parseInt(s.step)>1?"s":""})`]}),y.jsx(Ve,{variant:"body2",sx:{mt:3,mb:1,fontWeight:500},children:"Target Room"}),y.jsx(Fi,{children:y.jsxs(DV,{value:l,onChange:_=>d(_.target.value),children:[y.jsx(mo,{value:"current",control:y.jsx(nS,{size:"small"}),label:"Current room"}),y.jsx(mo,{value:"new",control:y.jsx(nS,{size:"small"}),label:"New room"}),y.jsx(mo,{value:"existing",control:y.jsx(nS,{size:"small"}),label:"Existing room"})]})}),l==="new"&&y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:1.5,mt:1},children:[y.jsx(jt,{size:"small",fullWidth:!0,label:"Room ID",value:f,onChange:_=>h(_.target.value),helperText:"Auto-generated UUID  replace with a custom ID if desired"}),y.jsx(jt,{size:"small",fullWidth:!0,label:"Description (optional)",value:m,onChange:_=>b(_.target.value)})]}),l==="existing"&&y.jsx(db,{size:"small",options:r,value:g,onChange:(_,C)=>w(C),getOptionLabel:_=>_.description?`${_.description} (${_.id})`:_.id,renderInput:_=>y.jsx(jt,{..._,label:"Select room"}),isOptionEqualToValue:(_,C)=>_.id===C.id,sx:{mt:1}})]}),y.jsxs(cs,{children:[y.jsx(xt,{onClick:a,children:"Cancel"}),y.jsx(xt,{onClick:x,variant:"contained",disabled:n,children:n?"Loading...":"Load"})]})]}):null}function Qse(){const t=Up(),{roomId:e}=t1(),n=J(q=>q.showSnackbar),[r,a]=N.useState(null),[i,s]=N.useState("/"),[o,l]=N.useState(""),[d,f]=N.useState(""),[h,m]=N.useState({open:!1,file:null}),[b,g]=N.useState(!1),w=()=>{l(""),f("")},{data:S,isLoading:T,error:x}=Zt({queryKey:["filesystemProviders",e],queryFn:()=>NW(e,"filesystem"),enabled:!!e,retry:!1}),{data:_}=Zt({queryKey:["rooms"],queryFn:()=>VM()});Q.useEffect(()=>{S&&S.length===1&&!r&&a(S[0])},[S,r]);const C={path:i};d&&(C.glob=d);const{data:R,isLoading:A,error:I}=Zt({queryKey:["providerRead",e,r?.full_name,i,d],queryFn:()=>Bse(e,r.full_name,C),enabled:!!e&&!!r}),O=async q=>{if(!r||!e)return;g(!0);const{room_target:K,...V}=q;let re;try{K.type==="new"?(re=K.room_id,await Eb({room_id:re,copy_from:"@none",...K.description&&{description:K.description}})):K.type==="existing"?re=K.room_id:re=e}catch(Y){const ne=sS(Y)?Y.response?.data?.detail??Y.message:"Failed to create room";n(ne,"error"),g(!1);return}m({open:!1,file:null}),g(!1),t(`/rooms/${re}`);const ee=`${r.room_id}:modifiers:LoadFile`;h1(re,ee,{provider_name:r.full_name,...V}).then(()=>n("File loading task submitted","success"),Y=>{const ne=sS(Y)?Y.response?.data?.detail??Y.message:"Failed to load file";n(ne,"error")})},M=q=>{q.type==="directory"?(s(q.path),w()):m({open:!0,file:q})},U=q=>{s(q),w()},L=()=>{s("/"),w()},z=()=>{const q=i.split("/").filter(Boolean);q.length>1?s("/"+q.slice(0,-1).join("/")):s("/"),w()},j=()=>{t(e?`/rooms/${e}`:"/")},H=q=>{const K=S?.find(V=>V.full_name===q);K&&(a(K),s("/"),w())},$=q=>{q.preventDefault(),f(o)};return x?y.jsxs(Ko,{maxWidth:"lg",sx:{mt:4},children:[y.jsx(ha,{severity:"error",children:sS(x)?x.response?.data?.detail??x.message:"Failed to load filesystem providers"}),y.jsx(xt,{onClick:j,sx:{mt:2},children:"Back"})]}):T?y.jsx(Ko,{maxWidth:"lg",sx:{mt:4},children:y.jsx(Re,{sx:{display:"flex",justifyContent:"center",p:4},children:y.jsx(Ca,{})})}):S&&S.length===0?y.jsxs(Ko,{maxWidth:"lg",sx:{mt:4},children:[y.jsx(ha,{severity:"info",children:"No filesystems are currently registered for this room. Register a filesystem using the ZnDraw Python client."}),y.jsx(xt,{onClick:j,sx:{mt:2},children:"Back"})]}):y.jsxs(Re,{sx:{flexGrow:1},children:[y.jsx(AM,{position:"static",children:y.jsxs(IM,{children:[y.jsx(Ct,{edge:"start",color:"inherit",onClick:j,sx:{mr:2},children:y.jsx(OV,{})}),y.jsx(NV,{sx:{mr:1}}),y.jsx(Ve,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Filesystem"})]})}),y.jsx(Ko,{maxWidth:"lg",sx:{mt:4,mb:4},children:y.jsxs(pa,{sx:{p:3},children:[S&&y.jsx(xie,{providers:S,selected:r?.full_name??"",onSelect:H}),r&&y.jsxs(y.Fragment,{children:[y.jsx(wie,{currentPath:i,onNavigate:U,onGoToRoot:L}),y.jsx(Re,{component:"form",onSubmit:$,sx:{mb:2},children:y.jsx(jt,{size:"small",fullWidth:!0,placeholder:"Glob pattern (e.g. **/*.xyz)",value:o,onChange:q=>l(q.target.value),slotProps:{input:{startAdornment:y.jsx(Ip,{position:"start",children:y.jsx(kM,{})}),endAdornment:d?y.jsx(Ip,{position:"end",children:y.jsx(xt,{size:"small",onClick:w,children:"Clear"})}):null}}})}),y.jsx(ul,{sx:{mb:2}})]}),y.jsx(Tie,{files:R??[],currentPath:i,isLoading:A,error:I,onItemClick:M,onGoToParent:z})]})}),y.jsx(Zse,{open:h.open,file:h.file,isLoading:b,rooms:_??[],onClose:()=>m({open:!1,file:null}),onLoad:O})]})}function Jse({open:t,onClose:e}){const[n,r]=N.useState([]),[a,i]=N.useState(!1),[s,o]=N.useState(null),l=async()=>{i(!0),o(null);try{const h=await qse();r(h.items)}catch(h){o(h instanceof Error?h.message:"Failed to load users")}finally{i(!1)}};N.useEffect(()=>{t&&l()},[t]);const d=async h=>{try{await $se(h.id,{is_superuser:!h.is_superuser}),await l()}catch(m){o(m instanceof Error?m.message:"Failed to update user role")}},f=async h=>{if(confirm(`Are you sure you want to delete user "${h.email}"? This cannot be undone.`))try{await Gse(h.id),await l()}catch(m){o(m instanceof Error?m.message:"Failed to delete user")}};return y.jsxs(yi,{open:t,onClose:e,maxWidth:"md",fullWidth:!0,children:[y.jsx(Ui,{children:"User Management"}),y.jsx(vi,{children:y.jsxs(Re,{sx:{mt:1},children:[s&&y.jsx(ha,{severity:"error",onClose:()=>o(null),sx:{mb:2},children:s}),a?y.jsx(Ve,{children:"Loading users..."}):y.jsx(MV,{component:pa,children:y.jsxs(DM,{children:[y.jsx(OM,{children:y.jsxs(Qc,{children:[y.jsx(_a,{children:"Email"}),y.jsx(_a,{children:"Role"}),y.jsx(_a,{align:"right",children:"Actions"})]})}),y.jsx(NM,{children:n.map(h=>y.jsxs(Qc,{children:[y.jsx(_a,{children:h.email}),y.jsx(_a,{children:h.is_superuser?y.jsx(pr,{label:"Admin",color:"error",size:"small"}):y.jsx(pr,{label:"User",color:"primary",size:"small"})}),y.jsx(_a,{align:"right",children:y.jsxs(Re,{sx:{display:"flex",gap:.5,justifyContent:"flex-end"},children:[h.is_superuser?y.jsx(_t,{title:"Demote to user",children:y.jsx(Ct,{size:"small",onClick:()=>d(h),color:"warning",children:y.jsx(Og,{})})}):y.jsx(_t,{title:"Promote to admin",children:y.jsx(Ct,{size:"small",onClick:()=>d(h),color:"primary",children:y.jsx(_ne,{})})}),y.jsx(_t,{title:"Delete user",children:y.jsx(Ct,{size:"small",onClick:()=>f(h),color:"error",children:y.jsx(rc,{})})})]})})]},h.id))})]})})]})}),y.jsxs(cs,{children:[y.jsx(xt,{onClick:l,disabled:a,children:"Refresh"}),y.jsx(xt,{onClick:e,children:"Close"})]})]})}const nl=Object.create(null);nl.open="0";nl.close="1";nl.ping="2";nl.pong="3";nl.message="4";nl.upgrade="5";nl.noop="6";const cS=Object.create(null);Object.keys(nl).forEach(t=>{cS[nl[t]]=t});const BN={type:"error",data:"parser error"},PW=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",LW=typeof ArrayBuffer=="function",FW=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,WM=({type:t,data:e},n,r)=>PW&&e instanceof Blob?n?r(e):iF(e,r):LW&&(e instanceof ArrayBuffer||FW(e))?n?r(e):iF(new Blob([e]),r):r(nl[t]+(e||"")),iF=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function sF(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let T_;function eoe(t,e){if(PW&&t.data instanceof Blob)return t.data.arrayBuffer().then(sF).then(e);if(LW&&(t.data instanceof ArrayBuffer||FW(t.data)))return e(sF(t.data));WM(t,!1,n=>{T_||(T_=new TextEncoder),e(T_.encode(n))})}const oF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<oF.length;t++)bg[oF.charCodeAt(t)]=t;const toe=t=>{let e=t.length*.75,n=t.length,r,a=0,i,s,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const d=new ArrayBuffer(e),f=new Uint8Array(d);for(r=0;r<n;r+=4)i=bg[t.charCodeAt(r)],s=bg[t.charCodeAt(r+1)],o=bg[t.charCodeAt(r+2)],l=bg[t.charCodeAt(r+3)],f[a++]=i<<2|s>>4,f[a++]=(s&15)<<4|o>>2,f[a++]=(o&3)<<6|l&63;return d},noe=typeof ArrayBuffer=="function",YM=(t,e)=>{if(typeof t!="string")return{type:"message",data:BW(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:roe(t.substring(1),e)}:cS[n]?t.length>1?{type:cS[n],data:t.substring(1)}:{type:cS[n]}:BN},roe=(t,e)=>{if(noe){const n=toe(t);return BW(n,e)}else return{base64:!0,data:t}},BW=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},jW="",aoe=(t,e)=>{const n=t.length,r=new Array(n);let a=0;t.forEach((i,s)=>{WM(i,!1,o=>{r[s]=o,++a===n&&e(r.join(jW))})})},ioe=(t,e)=>{const n=t.split(jW),r=[];for(let a=0;a<n.length;a++){const i=YM(n[a],e);if(r.push(i),i.type==="error")break}return r};function soe(){return new TransformStream({transform(t,e){eoe(t,n=>{const r=n.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let C_;function kv(t){return t.reduce((e,n)=>e+n.length,0)}function Dv(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let a=0;a<e;a++)n[a]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function ooe(t,e){C_||(C_=new TextDecoder);const n=[];let r=0,a=-1,i=!1;return new TransformStream({transform(s,o){for(n.push(s);;){if(r===0){if(kv(n)<1)break;const l=Dv(n,1);i=(l[0]&128)===128,a=l[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(kv(n)<2)break;const l=Dv(n,2);a=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(kv(n)<8)break;const l=Dv(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),f=d.getUint32(0);if(f>Math.pow(2,21)-1){o.enqueue(BN);break}a=f*Math.pow(2,32)+d.getUint32(4),r=3}else{if(kv(n)<a)break;const l=Dv(n,a);o.enqueue(YM(i?l:C_.decode(l),e)),r=0}if(a===0||a>t){o.enqueue(BN);break}}}})}const UW=4;function Zr(t){if(t)return loe(t)}function loe(t){for(var e in Zr.prototype)t[e]=Zr.prototype[e];return t}Zr.prototype.on=Zr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Zr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Zr.prototype.off=Zr.prototype.removeListener=Zr.prototype.removeAllListeners=Zr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,a=0;a<n.length;a++)if(r=n[a],r===e||r.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Zr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,a=n.length;r<a;++r)n[r].apply(this,e)}return this};Zr.prototype.emitReserved=Zr.prototype.emit;Zr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Zr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const m1=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),As=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),coe="arraybuffer";function zW(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const uoe=As.setTimeout,doe=As.clearTimeout;function g1(t,e){e.useNativeTimers?(t.setTimeoutFn=uoe.bind(As),t.clearTimeoutFn=doe.bind(As)):(t.setTimeoutFn=As.setTimeout.bind(As),t.clearTimeoutFn=As.clearTimeout.bind(As))}const foe=1.33;function poe(t){return typeof t=="string"?hoe(t):Math.ceil((t.byteLength||t.size)*foe)}function hoe(t){let e=0,n=0;for(let r=0,a=t.length;r<a;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function qW(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function moe(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function goe(t){let e={},n=t.split("&");for(let r=0,a=n.length;r<a;r++){let i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class boe extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class KM extends Zr{constructor(e){super(),this.writable=!1,g1(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new boe(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=YM(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=moe(e);return n.length?"?"+n:""}}class yoe extends KM{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ioe(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,aoe(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=qW()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let $W=!1;try{$W=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const voe=$W;function Soe(){}class Eoe extends yoe{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}class Xo extends Zr{constructor(e,n,r){super(),this.createRequest=e,g1(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=zW(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Xo.requestsCount++,Xo.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Soe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Xo.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Xo.requestsCount=0;Xo.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",lF);else if(typeof addEventListener=="function"){const t="onpagehide"in As?"pagehide":"unload";addEventListener(t,lF,!1)}}function lF(){for(let t in Xo.requests)Xo.requests.hasOwnProperty(t)&&Xo.requests[t].abort()}const _oe=(function(){const t=GW({xdomain:!1});return t&&t.responseType!==null})();class xoe extends Eoe{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=_oe&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Xo(GW,this.uri(),e)}}function GW(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||voe))return new XMLHttpRequest}catch{}if(!e)try{return new As[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const HW=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class woe extends KM{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=HW?{}:zW(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],a=n===e.length-1;WM(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}a&&m1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=qW()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const R_=As.WebSocket||As.MozWebSocket;class Toe extends woe{createSocket(e,n,r){return HW?new R_(e,n,r):n?new R_(e,n):new R_(e)}doWrite(e,n){this.ws.send(n)}}class Coe extends KM{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=ooe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),a=soe();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const i=()=>{r.read().then(({done:o,value:l})=>{o||(this.onPacket(l),i())}).catch(o=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],a=n===e.length-1;this._writer.write(r).then(()=>{a&&m1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Roe={websocket:Toe,webtransport:Coe,polling:xoe},Aoe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ioe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function jN(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let a=Aoe.exec(t||""),i={},s=14;for(;s--;)i[Ioe[s]]=a[s]||"";return n!=-1&&r!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=koe(i,i.path),i.queryKey=Doe(i,i.query),i}function koe(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Doe(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(n[a]=i)}),n}const UN=typeof addEventListener=="function"&&typeof removeEventListener=="function",uS=[];UN&&addEventListener("offline",()=>{uS.forEach(t=>t())},!1);class Xc extends Zr{constructor(e,n){if(super(),this.binaryType=coe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=jN(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=jN(n.host).host);g1(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const a=r.prototype.name;this.transports.push(a),this._transportsByName[a]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=goe(this.opts.query)),UN&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},uS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=UW,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Xc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Xc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(n+=poe(a)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,m1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,a){if(typeof n=="function"&&(a=n,n=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:e,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Xc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),UN&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=uS.indexOf(this._offlineEventListener);r!==-1&&uS.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Xc.protocol=UW;class Ooe extends Xc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Xc.priorWebsocketSuccess=!1;const a=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Xc.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(f(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const m=new Error("probe error");m.transport=n.name,this.emitReserved("upgradeError",m)}}))};function i(){r||(r=!0,f(),n.close(),n=null)}const s=h=>{const m=new Error("probe error: "+h);m.transport=n.name,i(),this.emitReserved("upgradeError",m)};function o(){s("transport closed")}function l(){s("socket closed")}function d(h){n&&h.name!==n.name&&i()}const f=()=>{n.removeListener("open",a),n.removeListener("error",s),n.removeListener("close",o),this.off("close",l),this.off("upgrading",d)};n.once("open",a),n.once("error",s),n.once("close",o),this.once("close",l),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let Noe=class extends Ooe{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(a=>Roe[a]).filter(a=>!!a)),super(e,r)}};function Moe(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=jN(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+e,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const Poe=typeof ArrayBuffer=="function",Loe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,VW=Object.prototype.toString,Foe=typeof Blob=="function"||typeof Blob<"u"&&VW.call(Blob)==="[object BlobConstructor]",Boe=typeof File=="function"||typeof File<"u"&&VW.call(File)==="[object FileConstructor]";function XM(t){return Poe&&(t instanceof ArrayBuffer||Loe(t))||Foe&&t instanceof Blob||Boe&&t instanceof File}function dS(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(dS(t[n]))return!0;return!1}if(XM(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return dS(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&dS(t[n]))return!0;return!1}function joe(t){const e=[],n=t.data,r=t;return r.data=zN(n,e),r.attachments=e.length,{packet:r,buffers:e}}function zN(t,e){if(!t)return t;if(XM(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=zN(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=zN(t[r],e));return n}return t}function Uoe(t,e){return t.data=qN(t.data,e),delete t.attachments,t}function qN(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=qN(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=qN(t[n],e));return t}const zoe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],qoe=5;var xn;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(xn||(xn={}));class $oe{constructor(e){this.replacer=e}encode(e){return(e.type===xn.EVENT||e.type===xn.ACK)&&dS(e)?this.encodeAsBinary({type:e.type===xn.EVENT?xn.BINARY_EVENT:xn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===xn.BINARY_EVENT||e.type===xn.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=joe(e),r=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(r),a}}function cF(t){return Object.prototype.toString.call(t)==="[object Object]"}class ZM extends Zr{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===xn.BINARY_EVENT;r||n.type===xn.BINARY_ACK?(n.type=r?xn.EVENT:xn.ACK,this.reconstructor=new Goe(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(XM(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(xn[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===xn.BINARY_EVENT||r.type===xn.BINARY_ACK){const i=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(i,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(i,n)}else r.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const i=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(i,n+1))}if(e.charAt(++n)){const i=this.tryParse(e.substr(n));if(ZM.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case xn.CONNECT:return cF(n);case xn.DISCONNECT:return n===void 0;case xn.CONNECT_ERROR:return typeof n=="string"||cF(n);case xn.EVENT:case xn.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&zoe.indexOf(n[0])===-1);case xn.ACK:case xn.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Goe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Uoe(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Hoe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ZM,Encoder:$oe,get PacketType(){return xn},protocol:qoe},Symbol.toStringTag,{value:"Module"}));function so(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Voe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class WW extends Zr{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[so(e,"open",this.onopen.bind(this)),so(e,"packet",this.onpacket.bind(this)),so(e,"error",this.onerror.bind(this)),so(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,a,i;if(Voe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:xn.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const f=this.ids++,h=n.pop();this._registerAckCallback(f,h),s.id=f}const o=(a=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||a===void 0?void 0:a.writable,l=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},a),s=(...o)=>{this.io.clearTimeoutFn(i),n.apply(this,o)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,a)=>{const i=(s,o)=>s?a(s):r(o);i.withError=!0,n.push(i),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...i)=>r!==this._queue[0]?void 0:(a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xn.EVENT:case xn.BINARY_EVENT:this.onevent(e);break;case xn.ACK:case xn.BINARY_ACK:this.onack(e);break;case xn.DISCONNECT:this.ondisconnect();break;case xn.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...a){r||(r=!0,n.packet({type:xn.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function Gp(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Gp.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Gp.prototype.reset=function(){this.attempts=0};Gp.prototype.setMin=function(t){this.ms=t};Gp.prototype.setMax=function(t){this.max=t};Gp.prototype.setJitter=function(t){this.jitter=t};class $N extends Zr{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,g1(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Gp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||Hoe;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Noe(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=so(n,"open",function(){r.onopen(),e&&e()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},s=so(n,"error",i);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),n.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(a),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(so(e,"ping",this.onping.bind(this)),so(e,"data",this.ondata.bind(this)),so(e,"error",this.onerror.bind(this)),so(e,"close",this.onclose.bind(this)),so(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){m1(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new WW(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Qm={};function fS(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Moe(t,e.path||"/socket.io"),r=n.source,a=n.id,i=n.path,s=Qm[a]&&i in Qm[a].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let l;return o?l=new $N(r,e):(Qm[a]||(Qm[a]=new $N(r,e)),l=Qm[a]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(fS,{Manager:$N,Socket:WW,io:fS,connect:fS});const bt=fS(void 0,{autoConnect:!1});async function Dp(){const t=await qM();return bt.connected&&bt.disconnect(),bt.auth={token:t.token},bt.connect(),t}function Woe({open:t,onClose:e}){const[n,r]=N.useState(""),[a,i]=N.useState(""),[s,o]=N.useState(null),[l,d]=N.useState(!1),f=J(S=>S.setUser),h=J(S=>S.showSnackbar),m=async()=>{o(null),d(!0);try{await LS();const{user:S}=await Dp();f(S),h(`Logged in as ${S.email}`,"success"),e()}catch(S){o(S instanceof Error?S.message:"Login failed")}finally{d(!1)}},b=async()=>{if(!n.trim()){o("Email is required");return}if(!a){o("Password is required");return}o(null),d(!0);try{await LS(n,a);const{user:S}=await Dp();f(S),h(S.is_superuser?"Logged in as admin":"Logged in successfully","success"),e(),r(""),i("")}catch(S){o(S instanceof Error?S.message:"Login failed")}finally{d(!1)}},g=S=>{S.key==="Enter"&&!l&&n&&a&&b()},w=()=>{l||(o(null),r(""),i(""),e())};return y.jsxs(yi,{open:t,onClose:w,maxWidth:"xs",fullWidth:!0,children:[y.jsx(Ui,{children:"Login to ZnDraw"}),y.jsx(vi,{children:y.jsxs(Re,{sx:{pt:1,display:"flex",flexDirection:"column",gap:2},children:[y.jsx(Ve,{variant:"body2",color:"text.secondary",children:"Login with your email and password, or continue as guest."}),s&&y.jsx(ha,{severity:"error",onClose:()=>o(null),children:s}),y.jsx(jt,{label:"Email",type:"email",value:n,onChange:S=>r(S.target.value),onKeyDown:g,disabled:l,fullWidth:!0,autoComplete:"email"}),y.jsx(jt,{label:"Password",type:"password",value:a,onChange:S=>i(S.target.value),onKeyDown:g,disabled:l,fullWidth:!0,autoComplete:"current-password"})]})}),y.jsxs(cs,{sx:{px:3,pb:2,flexDirection:"column",gap:1},children:[y.jsx(xt,{onClick:b,disabled:l||!n||!a,variant:"contained",fullWidth:!0,children:l?"Logging in...":"Login"}),y.jsx(xt,{onClick:m,disabled:l,variant:"outlined",fullWidth:!0,children:"Continue as Guest"})]})]})}const Ta={APPBAR_HEIGHT:50,PROGRESSBAR_HEIGHT:45,PRIMARY_DRAWER_WIDTH:50,SECONDARY_DRAWER_WIDTH:600},YW=()=>`calc(100vh - ${Ta.APPBAR_HEIGHT}px - ${Ta.PROGRESSBAR_HEIGHT}px)`;var yg={exports:{}};var Yoe=yg.exports,uF;function Koe(){return uF||(uF=1,(function(t,e){(function(){var n,r="4.17.21",a=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",d=500,f="__lodash_placeholder__",h=1,m=2,b=4,g=1,w=2,S=1,T=2,x=4,_=8,C=16,R=32,A=64,I=128,O=256,M=512,U=30,L="...",z=800,j=16,H=1,$=2,q=3,K=1/0,V=9007199254740991,re=17976931348623157e292,ee=NaN,Y=4294967295,ne=Y-1,te=Y>>>1,G=[["ary",I],["bind",S],["bindKey",T],["curry",_],["curryRight",C],["flip",M],["partial",R],["partialRight",A],["rearg",O]],W="[object Arguments]",ue="[object Array]",Ee="[object AsyncFunction]",ge="[object Boolean]",fe="[object Date]",Ae="[object DOMException]",oe="[object Error]",de="[object Function]",se="[object GeneratorFunction]",Se="[object Map]",me="[object Number]",ce="[object Null]",pe="[object Object]",Te="[object Promise]",be="[object Proxy]",Ie="[object RegExp]",je="[object Set]",ke="[object String]",Ge="[object Symbol]",Et="[object Undefined]",gt="[object WeakMap]",kt="[object WeakSet]",Ye="[object ArrayBuffer]",nt="[object DataView]",It="[object Float32Array]",Gt="[object Float64Array]",Ze="[object Int8Array]",ot="[object Int16Array]",Pe="[object Int32Array]",we="[object Uint8Array]",$e="[object Uint8ClampedArray]",He="[object Uint16Array]",ft="[object Uint32Array]",Nt=/\b__p \+= '';/g,Ot=/\b(__p \+=) '' \+/g,pt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Me=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,Tt=RegExp(Me.source),Rt=RegExp(Je.source),sn=/<%-([\s\S]+?)%>/g,Rn=/<%([\s\S]+?)%>/g,Yt=/<%=([\s\S]+?)%>/g,on=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,ht=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/[\\^$.*+?()[\]{}|]/g,En=RegExp(wt.source),Qt=/^\s+/,bn=/\s/,Mr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ls=/\{\n\/\* \[wrapped with (.+)\] \*/,$r=/,? & /,uc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ra=/[()=,{}\[\]\/\s]/,xo=/\\(\\)?/g,Gi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ur=/\w*$/,Jn=/^[-+]0x[0-9a-f]+$/i,mr=/^0b[01]+$/i,Aa=/^\[object .+?Constructor\]$/,Ei=/^0o[0-7]+$/i,Fs=/^(?:0|[1-9]\d*)$/,$b=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pu=/($^)/,Gb=/['\n\r\u2028\u2029\\]/g,dc="\\ud800-\\udfff",bh="\\u0300-\\u036f",wo="\\ufe20-\\ufe2f",yh="\\u20d0-\\u20ff",vh=bh+wo+yh,Bs="\\u2700-\\u27bf",Ia="a-z\\xdf-\\xf6\\xf8-\\xff",Gd="\\xac\\xb1\\xd7\\xf7",dr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Sh="\\u2000-\\u206f",Eh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",_h="A-Z\\xc0-\\xd6\\xd8-\\xde",xh="\\ufe0e\\ufe0f",Hb=Gd+dr+Sh+Eh,hu="[']",wh="["+dc+"]",Hd="["+Hb+"]",Gr="["+vh+"]",fr="\\d+",Vd="["+Bs+"]",fc="["+Ia+"]",mu="[^"+dc+Hb+fr+Bs+Ia+_h+"]",gu="\\ud83c[\\udffb-\\udfff]",js="(?:"+Gr+"|"+gu+")",bu="[^"+dc+"]",yu="(?:\\ud83c[\\udde6-\\uddff]){2}",vu="[\\ud800-\\udbff][\\udc00-\\udfff]",pl="["+_h+"]",Th="\\u200d",Ch="(?:"+fc+"|"+mu+")",Vb="(?:"+pl+"|"+mu+")",Rh="(?:"+hu+"(?:d|ll|m|re|s|t|ve))?",Ah="(?:"+hu+"(?:D|LL|M|RE|S|T|VE))?",Wd=js+"?",Ih="["+xh+"]?",fE="(?:"+Th+"(?:"+[bu,yu,vu].join("|")+")"+Ih+Wd+")*",Wb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kh=Ih+Wd+fE,Dh="(?:"+[Vd,yu,vu].join("|")+")"+kh,Kb="(?:"+[bu+Gr+"?",Gr,yu,vu,wh].join("|")+")",Xb=RegExp(hu,"g"),Zb=RegExp(Gr,"g"),Yd=RegExp(gu+"(?="+gu+")|"+Kb+kh,"g"),Qb=RegExp([pl+"?"+fc+"+"+Rh+"(?="+[Hd,pl,"$"].join("|")+")",Vb+"+"+Ah+"(?="+[Hd,pl+Ch,"$"].join("|")+")",pl+"?"+Ch+"+"+Rh,pl+"+"+Ah,Yb,Wb,fr,Dh].join("|"),"g"),pE=RegExp("["+Th+dc+vh+xh+"]"),Jb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ey=-1,Yn={};Yn[It]=Yn[Gt]=Yn[Ze]=Yn[ot]=Yn[Pe]=Yn[we]=Yn[$e]=Yn[He]=Yn[ft]=!0,Yn[W]=Yn[ue]=Yn[Ye]=Yn[ge]=Yn[nt]=Yn[fe]=Yn[oe]=Yn[de]=Yn[Se]=Yn[me]=Yn[pe]=Yn[Ie]=Yn[je]=Yn[ke]=Yn[gt]=!1;var $n={};$n[W]=$n[ue]=$n[Ye]=$n[nt]=$n[ge]=$n[fe]=$n[It]=$n[Gt]=$n[Ze]=$n[ot]=$n[Pe]=$n[Se]=$n[me]=$n[pe]=$n[Ie]=$n[je]=$n[ke]=$n[Ge]=$n[we]=$n[$e]=$n[He]=$n[ft]=!0,$n[oe]=$n[de]=$n[gt]=!1;var ty={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Oh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ny={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ry=parseFloat,ay=parseInt,Nh=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,iy=typeof self=="object"&&self&&self.Object===Object&&self,Pr=Nh||iy||Function("return this")(),Kd=e&&!e.nodeType&&e,To=Kd&&!0&&t&&!t.nodeType&&t,Xd=To&&To.exports===Kd,Zd=Xd&&Nh.process,ri=(function(){try{var Ce=To&&To.require&&To.require("util").types;return Ce||Zd&&Zd.binding&&Zd.binding("util")}catch{}})(),Mh=ri&&ri.isArrayBuffer,Qd=ri&&ri.isDate,Ph=ri&&ri.isMap,Lh=ri&&ri.isRegExp,sy=ri&&ri.isSet,oy=ri&&ri.isTypedArray;function ka(Ce,We,Ue){switch(Ue.length){case 0:return Ce.call(We);case 1:return Ce.call(We,Ue[0]);case 2:return Ce.call(We,Ue[0],Ue[1]);case 3:return Ce.call(We,Ue[0],Ue[1],Ue[2])}return Ce.apply(We,Ue)}function Su(Ce,We,Ue,yt){for(var Ut=-1,Jt=Ce==null?0:Ce.length;++Ut<Jt;){var _r=Ce[Ut];We(yt,_r,Ue(_r),Ce)}return yt}function Da(Ce,We){for(var Ue=-1,yt=Ce==null?0:Ce.length;++Ue<yt&&We(Ce[Ue],Ue,Ce)!==!1;);return Ce}function Jd(Ce,We){for(var Ue=Ce==null?0:Ce.length;Ue--&&We(Ce[Ue],Ue,Ce)!==!1;);return Ce}function Fh(Ce,We){for(var Ue=-1,yt=Ce==null?0:Ce.length;++Ue<yt;)if(!We(Ce[Ue],Ue,Ce))return!1;return!0}function Us(Ce,We){for(var Ue=-1,yt=Ce==null?0:Ce.length,Ut=0,Jt=[];++Ue<yt;){var _r=Ce[Ue];We(_r,Ue,Ce)&&(Jt[Ut++]=_r)}return Jt}function hc(Ce,We){var Ue=Ce==null?0:Ce.length;return!!Ue&&hl(Ce,We,0)>-1}function ef(Ce,We,Ue){for(var yt=-1,Ut=Ce==null?0:Ce.length;++yt<Ut;)if(Ue(We,Ce[yt]))return!0;return!1}function er(Ce,We){for(var Ue=-1,yt=Ce==null?0:Ce.length,Ut=Array(yt);++Ue<yt;)Ut[Ue]=We(Ce[Ue],Ue,Ce);return Ut}function Oa(Ce,We){for(var Ue=-1,yt=We.length,Ut=Ce.length;++Ue<yt;)Ce[Ut+Ue]=We[Ue];return Ce}function mc(Ce,We,Ue,yt){var Ut=-1,Jt=Ce==null?0:Ce.length;for(yt&&Jt&&(Ue=Ce[++Ut]);++Ut<Jt;)Ue=We(Ue,Ce[Ut],Ut,Ce);return Ue}function ly(Ce,We,Ue,yt){var Ut=Ce==null?0:Ce.length;for(yt&&Ut&&(Ue=Ce[--Ut]);Ut--;)Ue=We(Ue,Ce[Ut],Ut,Ce);return Ue}function Eu(Ce,We){for(var Ue=-1,yt=Ce==null?0:Ce.length;++Ue<yt;)if(We(Ce[Ue],Ue,Ce))return!0;return!1}var cy=tf("length");function uy(Ce){return Ce.split("")}function mE(Ce){return Ce.match(uc)||[]}function Hr(Ce,We,Ue){var yt;return Ue(Ce,function(Ut,Jt,_r){if(We(Ut,Jt,_r))return yt=Jt,!1}),yt}function _u(Ce,We,Ue,yt){for(var Ut=Ce.length,Jt=Ue+(yt?1:-1);yt?Jt--:++Jt<Ut;)if(We(Ce[Jt],Jt,Ce))return Jt;return-1}function hl(Ce,We,Ue){return We===We?my(Ce,We,Ue):_u(Ce,Bh,Ue)}function dy(Ce,We,Ue,yt){for(var Ut=Ue-1,Jt=Ce.length;++Ut<Jt;)if(yt(Ce[Ut],We))return Ut;return-1}function Bh(Ce){return Ce!==Ce}function gc(Ce,We){var Ue=Ce==null?0:Ce.length;return Ue?yc(Ce,We)/Ue:ee}function tf(Ce){return function(We){return We==null?n:We[Ce]}}function bc(Ce){return function(We){return Ce==null?n:Ce[We]}}function jh(Ce,We,Ue,yt,Ut){return Ut(Ce,function(Jt,_r,Gn){Ue=yt?(yt=!1,Jt):We(Ue,Jt,_r,Gn)}),Ue}function gE(Ce,We){var Ue=Ce.length;for(Ce.sort(We);Ue--;)Ce[Ue]=Ce[Ue].value;return Ce}function yc(Ce,We){for(var Ue,yt=-1,Ut=Ce.length;++yt<Ut;){var Jt=We(Ce[yt]);Jt!==n&&(Ue=Ue===n?Jt:Ue+Jt)}return Ue}function xu(Ce,We){for(var Ue=-1,yt=Array(Ce);++Ue<Ce;)yt[Ue]=We(Ue);return yt}function fy(Ce,We){return er(We,function(Ue){return[Ue,Ce[Ue]]})}function Uh(Ce){return Ce&&Ce.slice(0,Vh(Ce)+1).replace(Qt,"")}function Na(Ce){return function(We){return Ce(We)}}function wu(Ce,We){return er(We,function(Ue){return Ce[Ue]})}function ml(Ce,We){return Ce.has(We)}function zh(Ce,We){for(var Ue=-1,yt=Ce.length;++Ue<yt&&hl(We,Ce[Ue],0)>-1;);return Ue}function nf(Ce,We){for(var Ue=Ce.length;Ue--&&hl(We,Ce[Ue],0)>-1;);return Ue}function rf(Ce,We){for(var Ue=Ce.length,yt=0;Ue--;)Ce[Ue]===We&&++yt;return yt}var qh=bc(ty),py=bc(Oh);function $h(Ce){return"\\"+ny[Ce]}function hy(Ce,We){return Ce==null?n:Ce[We]}function Ma(Ce){return pE.test(Ce)}function Gh(Ce){return Jb.test(Ce)}function bE(Ce){for(var We,Ue=[];!(We=Ce.next()).done;)Ue.push(We.value);return Ue}function af(Ce){var We=-1,Ue=Array(Ce.size);return Ce.forEach(function(yt,Ut){Ue[++We]=[Ut,yt]}),Ue}function _i(Ce,We){return function(Ue){return Ce(We(Ue))}}function Hi(Ce,We){for(var Ue=-1,yt=Ce.length,Ut=0,Jt=[];++Ue<yt;){var _r=Ce[Ue];(_r===We||_r===f)&&(Ce[Ue]=f,Jt[Ut++]=Ue)}return Jt}function Tu(Ce){var We=-1,Ue=Array(Ce.size);return Ce.forEach(function(yt){Ue[++We]=yt}),Ue}function Hh(Ce){var We=-1,Ue=Array(Ce.size);return Ce.forEach(function(yt){Ue[++We]=[yt,yt]}),Ue}function my(Ce,We,Ue){for(var yt=Ue-1,Ut=Ce.length;++yt<Ut;)if(Ce[yt]===We)return yt;return-1}function gy(Ce,We,Ue){for(var yt=Ue+1;yt--;)if(Ce[yt]===We)return yt;return yt}function Co(Ce){return Ma(Ce)?Cu(Ce):cy(Ce)}function ai(Ce){return Ma(Ce)?tr(Ce):uy(Ce)}function Vh(Ce){for(var We=Ce.length;We--&&bn.test(Ce.charAt(We)););return We}var sf=bc(hE);function Cu(Ce){for(var We=Yd.lastIndex=0;Yd.test(Ce);)++We;return We}function tr(Ce){return Ce.match(Yd)||[]}function yE(Ce){return Ce.match(Qb)||[]}var vE=(function Ce(We){We=We==null?Pr:gl.defaults(Pr.Object(),We,gl.pick(Pr,pc));var Ue=We.Array,yt=We.Date,Ut=We.Error,Jt=We.Function,_r=We.Math,Gn=We.Object,of=We.RegExp,Wh=We.String,Pa=We.TypeError,bl=Ue.prototype,by=Jt.prototype,yl=Gn.prototype,lf=We["__core-js_shared__"],Ru=by.toString,Fn=yl.hasOwnProperty,Vi=0,cf=(function(){var p=/[^.]+$/.exec(lf&&lf.keys&&lf.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""})(),Au=yl.toString,yy=Ru.call(Gn),SE=Pr._,uf=of("^"+Ru.call(Fn).replace(wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lr=Xd?We.Buffer:n,zs=We.Symbol,Vr=We.Uint8Array,Yh=Lr?Lr.allocUnsafe:n,xi=_i(Gn.getPrototypeOf,Gn),Ro=Gn.create,hs=yl.propertyIsEnumerable,vc=bl.splice,df=zs?zs.isConcatSpreadable:n,ga=zs?zs.iterator:n,Ao=zs?zs.toStringTag:n,qs=(function(){try{var p=Ci(Gn,"defineProperty");return p({},"",{}),p}catch{}})(),Iu=We.clearTimeout!==Pr.clearTimeout&&We.clearTimeout,vl=yt&&yt.now!==Pr.Date.now&&yt.now,vy=We.setTimeout!==Pr.setTimeout&&We.setTimeout,ku=_r.ceil,Io=_r.floor,ff=Gn.getOwnPropertySymbols,pf=Lr?Lr.isBuffer:n,Kh=We.isFinite,Xh=bl.join,Zh=_i(Gn.keys,Gn),gr=_r.max,ea=_r.min,Qh=yt.now,ii=We.parseInt,Jh=_r.random,La=bl.reverse,hf=Ci(We,"DataView"),Sc=Ci(We,"Map"),em=Ci(We,"Promise"),si=Ci(We,"Set"),Ec=Ci(We,"WeakMap"),Sl=Ci(Gn,"create"),$s=Ec&&new Ec,El={},Sy=Va(hf),Ey=Va(Sc),_y=Va(em),mf=Va(si),tm=Va(Ec),gf=zs?zs.prototype:n,Du=gf?gf.valueOf:n,xy=gf?gf.toString:n;function ie(p){if(kr(p)&&!at(p)&&!(p instanceof dn)){if(p instanceof ba)return p;if(Fn.call(p,"__wrapped__"))return Yr(p)}return new ba(p)}var _l=(function(){function p(){}return function(v){if(!Sr(v))return{};if(Ro)return Ro(v);p.prototype=v;var D=new p;return p.prototype=n,D}})();function Gs(){}function ba(p,v){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!v,this.__index__=0,this.__values__=n}ie.templateSettings={escape:sn,evaluate:Rn,interpolate:Yt,variable:"",imports:{_:ie}},ie.prototype=Gs.prototype,ie.prototype.constructor=ie,ba.prototype=_l(Gs.prototype),ba.prototype.constructor=ba;function dn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Y,this.__views__=[]}function wy(){var p=new dn(this.__wrapped__);return p.__actions__=Ua(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=Ua(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=Ua(this.__views__),p}function Ty(){if(this.__filtered__){var p=new dn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Cy(){var p=this.__wrapped__.value(),v=this.__dir__,D=at(p),B=v<0,Z=D?p.length:0,le=Lf(0,Z,this.__views__),ve=le.start,xe=le.end,Oe=xe-ve,Ke=B?xe:ve-1,Xe=this.__iteratees__,et=Xe.length,mt=0,At=ea(Oe,this.__takeCount__);if(!D||!B&&Z==Oe&&At==Oe)return mm(p,this.__actions__);var zt=[];e:for(;Oe--&&mt<At;){Ke+=v;for(var cn=-1,qt=p[Ke];++cn<et;){var vn=Xe[cn],_n=vn.iteratee,es=vn.type,fi=_n(qt);if(es==$)qt=fi;else if(!fi){if(es==H)continue e;break e}}zt[mt++]=qt}return zt}dn.prototype=_l(Gs.prototype),dn.prototype.constructor=dn;function ko(p){var v=-1,D=p==null?0:p.length;for(this.clear();++v<D;){var B=p[v];this.set(B[0],B[1])}}function Ry(){this.__data__=Sl?Sl(null):{},this.size=0}function Ou(p){var v=this.has(p)&&delete this.__data__[p];return this.size-=v?1:0,v}function Ay(p){var v=this.__data__;if(Sl){var D=v[p];return D===l?n:D}return Fn.call(v,p)?v[p]:n}function Iy(p){var v=this.__data__;return Sl?v[p]!==n:Fn.call(v,p)}function An(p,v){var D=this.__data__;return this.size+=this.has(p)?0:1,D[p]=Sl&&v===n?l:v,this}ko.prototype.clear=Ry,ko.prototype.delete=Ou,ko.prototype.get=Ay,ko.prototype.has=Iy,ko.prototype.set=An;function Wi(p){var v=-1,D=p==null?0:p.length;for(this.clear();++v<D;){var B=p[v];this.set(B[0],B[1])}}function EE(){this.__data__=[],this.size=0}function ky(p){var v=this.__data__,D=wl(v,p);if(D<0)return!1;var B=v.length-1;return D==B?v.pop():vc.call(v,D,1),--this.size,!0}function _E(p){var v=this.__data__,D=wl(v,p);return D<0?n:v[D][1]}function xE(p){return wl(this.__data__,p)>-1}function wE(p,v){var D=this.__data__,B=wl(D,p);return B<0?(++this.size,D.push([p,v])):D[B][1]=v,this}Wi.prototype.clear=EE,Wi.prototype.delete=ky,Wi.prototype.get=_E,Wi.prototype.has=xE,Wi.prototype.set=wE;function Hs(p){var v=-1,D=p==null?0:p.length;for(this.clear();++v<D;){var B=p[v];this.set(B[0],B[1])}}function nm(){this.size=0,this.__data__={hash:new ko,map:new(Sc||Wi),string:new ko}}function Vs(p){var v=Ks(this,p).delete(p);return this.size-=v?1:0,v}function Dy(p){return Ks(this,p).get(p)}function bf(p){return Ks(this,p).has(p)}function xl(p,v){var D=Ks(this,p),B=D.size;return D.set(p,v),this.size+=D.size==B?0:1,this}Hs.prototype.clear=nm,Hs.prototype.delete=Vs,Hs.prototype.get=Dy,Hs.prototype.has=bf,Hs.prototype.set=xl;function Ws(p){var v=-1,D=p==null?0:p.length;for(this.__data__=new Hs;++v<D;)this.add(p[v])}function Oy(p){return this.__data__.set(p,l),this}function rm(p){return this.__data__.has(p)}Ws.prototype.add=Ws.prototype.push=Oy,Ws.prototype.has=rm;function Yi(p){var v=this.__data__=new Wi(p);this.size=v.size}function Ny(){this.__data__=new Wi,this.size=0}function My(p){var v=this.__data__,D=v.delete(p);return this.size=v.size,D}function Py(p){return this.__data__.get(p)}function Ly(p){return this.__data__.has(p)}function Fy(p,v){var D=this.__data__;if(D instanceof Wi){var B=D.__data__;if(!Sc||B.length<a-1)return B.push([p,v]),this.size=++D.size,this;D=this.__data__=new Hs(B)}return D.set(p,v),this.size=D.size,this}Yi.prototype.clear=Ny,Yi.prototype.delete=My,Yi.prototype.get=Py,Yi.prototype.has=Ly,Yi.prototype.set=Fy;function yf(p,v){var D=at(p),B=!D&&Hn(p),Z=!D&&!B&&qo(p),le=!D&&!B&&!Z&&rp(p),ve=D||B||Z||le,xe=ve?xu(p.length,Wh):[],Oe=xe.length;for(var Ke in p)(v||Fn.call(p,Ke))&&!(ve&&(Ke=="length"||Z&&(Ke=="offset"||Ke=="parent")||le&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||xs(Ke,Oe)))&&xe.push(Ke);return xe}function ln(p){var v=p.length;return v?p[Al(0,v-1)]:n}function TE(p,v){return ci(Ua(p),Fa(v,0,p.length))}function oi(p){return ci(Ua(p))}function Nu(p,v,D){(D!==n&&!Be(p[v],D)||D===n&&!(v in p))&&Ki(p,v,D)}function Mu(p,v,D){var B=p[v];(!(Fn.call(p,v)&&Be(B,D))||D===n&&!(v in p))&&Ki(p,v,D)}function wl(p,v){for(var D=p.length;D--;)if(Be(p[D][0],v))return D;return-1}function _c(p,v,D,B){return ms(p,function(Z,le,ve){v(B,Z,D(Z),ve)}),B}function Tl(p,v){return p&&Ss(v,fa(v),p)}function By(p,v){return p&&Ss(v,Ii(v),p)}function Ki(p,v,D){v=="__proto__"&&qs?qs(p,v,{configurable:!0,enumerable:!0,value:D,writable:!0}):p[v]=D}function vf(p,v){for(var D=-1,B=v.length,Z=Ue(B),le=p==null;++D<B;)Z[D]=le?n:c_(p,v[D]);return Z}function Fa(p,v,D){return p===p&&(D!==n&&(p=p<=D?p:D),v!==n&&(p=p>=v?p:v)),p}function Ba(p,v,D,B,Z,le){var ve,xe=v&h,Oe=v&m,Ke=v&b;if(D&&(ve=Z?D(p,B,Z,le):D(p)),ve!==n)return ve;if(!Sr(p))return p;var Xe=at(p);if(Xe){if(ve=Bf(p),!xe)return Ua(p,ve)}else{var et=ua(p),mt=et==de||et==se;if(qo(p))return tv(p,xe);if(et==pe||et==W||mt&&!Z){if(ve=Oe||mt?{}:jf(p),!xe)return Oe?GE(p,By(ve,p)):$E(p,Tl(ve,p))}else{if(!$n[et])return Z?p:{};ve=XE(p,et,xe)}}le||(le=new Yi);var At=le.get(p);if(At)return At;le.set(p,ve),f3(p)?p.forEach(function(qt){ve.add(Ba(qt,v,D,qt,p,le))}):u3(p)&&p.forEach(function(qt,vn){ve.set(vn,Ba(qt,v,D,vn,p,le))});var zt=Ke?Oe?br:wm:Oe?Ii:fa,cn=Xe?n:zt(p);return Da(cn||p,function(qt,vn){cn&&(vn=qt,qt=p[vn]),Mu(ve,vn,Ba(qt,v,D,vn,p,le))}),ve}function am(p){var v=fa(p);return function(D){return Sf(D,p,v)}}function Sf(p,v,D){var B=D.length;if(p==null)return!B;for(p=Gn(p);B--;){var Z=D[B],le=v[Z],ve=p[Z];if(ve===n&&!(Z in p)||!le(ve))return!1}return!0}function Ef(p,v,D){if(typeof p!="function")throw new Pa(s);return da(function(){p.apply(n,D)},v)}function wi(p,v,D,B){var Z=-1,le=hc,ve=!0,xe=p.length,Oe=[],Ke=v.length;if(!xe)return Oe;D&&(v=er(v,Na(D))),B?(le=ef,ve=!1):v.length>=a&&(le=ml,ve=!1,v=new Ws(v));e:for(;++Z<xe;){var Xe=p[Z],et=D==null?Xe:D(Xe);if(Xe=B||Xe!==0?Xe:0,ve&&et===et){for(var mt=Ke;mt--;)if(v[mt]===et)continue e;Oe.push(Xe)}else le(v,et,B)||Oe.push(Xe)}return Oe}var ms=ov(ja),jy=ov(om,!0);function Uy(p,v){var D=!0;return ms(p,function(B,Z,le){return D=!!v(B,Z,le),D}),D}function _f(p,v,D){for(var B=-1,Z=p.length;++B<Z;){var le=p[B],ve=v(le);if(ve!=null&&(xe===n?ve===ve&&!Ji(ve):D(ve,xe)))var xe=ve,Oe=le}return Oe}function xf(p,v,D,B){var Z=p.length;for(D=rn(D),D<0&&(D=-D>Z?0:Z+D),B=B===n||B>Z?Z:rn(B),B<0&&(B+=Z),B=D>B?0:h3(B);D<B;)p[D++]=v;return p}function Mt(p,v){var D=[];return ms(p,function(B,Z,le){v(B,Z,le)&&D.push(B)}),D}function ta(p,v,D,B,Z){var le=-1,ve=p.length;for(D||(D=qa),Z||(Z=[]);++le<ve;){var xe=p[le];v>0&&D(xe)?v>1?ta(xe,v-1,D,B,Z):Oa(Z,xe):B||(Z[Z.length]=xe)}return Z}var im=lv(),sm=lv(!0);function ja(p,v){return p&&im(p,v,fa)}function om(p,v){return p&&sm(p,v,fa)}function wf(p,v){return Us(v,function(D){return Ul(p[D])})}function Cl(p,v){v=vs(v,p);for(var D=0,B=v.length;p!=null&&D<B;)p=p[Ha(v[D++])];return D&&D==B?p:n}function zy(p,v,D){var B=v(p);return at(p)?B:Oa(B,D(p))}function ya(p){return p==null?p===n?Et:ce:Ao&&Ao in Gn(p)?Cc(p):Am(p)}function Pu(p,v){return p>v}function qy(p,v){return p!=null&&Fn.call(p,v)}function Tf(p,v){return p!=null&&v in Gn(p)}function $y(p,v,D){return p>=ea(v,D)&&p<gr(v,D)}function lm(p,v,D){for(var B=D?ef:hc,Z=p[0].length,le=p.length,ve=le,xe=Ue(le),Oe=1/0,Ke=[];ve--;){var Xe=p[ve];ve&&v&&(Xe=er(Xe,Na(v))),Oe=ea(Xe.length,Oe),xe[ve]=!D&&(v||Z>=120&&Xe.length>=120)?new Ws(ve&&Xe):n}Xe=p[0];var et=-1,mt=xe[0];e:for(;++et<Z&&Ke.length<Oe;){var At=Xe[et],zt=v?v(At):At;if(At=D||At!==0?At:0,!(mt?ml(mt,zt):B(Ke,zt,D))){for(ve=le;--ve;){var cn=xe[ve];if(!(cn?ml(cn,zt):B(p[ve],zt,D)))continue e}mt&&mt.push(zt),Ke.push(At)}}return Ke}function CE(p,v,D,B){return ja(p,function(Z,le,ve){v(B,D(Z),le,ve)}),B}function Xi(p,v,D){v=vs(v,p),p=kl(p,v);var B=p==null?p:p[Ha(ra(v))];return B==null?n:ka(B,p,D)}function gs(p){return kr(p)&&ya(p)==W}function ca(p){return kr(p)&&ya(p)==Ye}function bs(p){return kr(p)&&ya(p)==fe}function xr(p,v,D,B,Z){return p===v?!0:p==null||v==null||!kr(p)&&!kr(v)?p!==p&&v!==v:RE(p,v,D,B,xr,Z)}function RE(p,v,D,B,Z,le){var ve=at(p),xe=at(v),Oe=ve?ue:ua(p),Ke=xe?ue:ua(v);Oe=Oe==W?pe:Oe,Ke=Ke==W?pe:Ke;var Xe=Oe==pe,et=Ke==pe,mt=Oe==Ke;if(mt&&qo(p)){if(!qo(v))return!1;ve=!0,Xe=!1}if(mt&&!Xe)return le||(le=new Yi),ve||rp(p)?bv(p,v,D,B,Z,le):YE(p,v,Oe,D,B,Z,le);if(!(D&g)){var At=Xe&&Fn.call(p,"__wrapped__"),zt=et&&Fn.call(v,"__wrapped__");if(At||zt){var cn=At?p.value():p,qt=zt?v.value():v;return le||(le=new Yi),Z(cn,qt,D,B,le)}}return mt?(le||(le=new Yi),KE(p,v,D,B,Z,le)):!1}function AE(p){return kr(p)&&ua(p)==Se}function wr(p,v,D,B){var Z=D.length,le=Z,ve=!B;if(p==null)return!le;for(p=Gn(p);Z--;){var xe=D[Z];if(ve&&xe[2]?xe[1]!==p[xe[0]]:!(xe[0]in p))return!1}for(;++Z<le;){xe=D[Z];var Oe=xe[0],Ke=p[Oe],Xe=xe[1];if(ve&&xe[2]){if(Ke===n&&!(Oe in p))return!1}else{var et=new Yi;if(B)var mt=B(Ke,Xe,Oe,p,v,et);if(!(mt===n?xr(Xe,Ke,g|w,B,et):mt))return!1}}return!0}function ys(p){if(!Sr(p)||JE(p))return!1;var v=Ul(p)?uf:Aa;return v.test(Va(p))}function IE(p){return kr(p)&&ya(p)==Ie}function kE(p){return kr(p)&&ua(p)==je}function DE(p){return kr(p)&&Tv(p.length)&&!!Yn[ya(p)]}function Gy(p){return typeof p=="function"?p:p==null?ki:typeof p=="object"?at(p)?Vy(p[0],p[1]):dm(p):T3(p)}function cm(p){if(!na(p))return Zh(p);var v=[];for(var D in Gn(p))Fn.call(p,D)&&D!="constructor"&&v.push(D);return v}function um(p){if(!Sr(p))return vv(p);var v=na(p),D=[];for(var B in p)B=="constructor"&&(v||!Fn.call(p,B))||D.push(B);return D}function Cf(p,v){return p<v}function Hy(p,v){var D=-1,B=Mn(p)?Ue(p.length):[];return ms(p,function(Z,le,ve){B[++D]=v(Z,le,ve)}),B}function dm(p){var v=zu(p);return v.length==1&&v[0][2]?Cm(v[0][0],v[0][1]):function(D){return D===p||wr(D,p,v)}}function Vy(p,v){return $u(p)&&$a(v)?Cm(Ha(p),v):function(D){var B=c_(D,p);return B===n&&B===v?u_(D,p):xr(v,B,g|w)}}function Ys(p,v,D,B,Z){p!==v&&im(v,function(le,ve){if(Z||(Z=new Yi),Sr(le))Rl(p,v,ve,D,Ys,B,Z);else{var xe=B?B(Ac(p,ve),le,ve+"",p,v,Z):n;xe===n&&(xe=le),Nu(p,ve,xe)}},Ii)}function Rl(p,v,D,B,Z,le,ve){var xe=Ac(p,D),Oe=Ac(v,D),Ke=ve.get(Oe);if(Ke){Nu(p,D,Ke);return}var Xe=le?le(xe,Oe,D+"",p,v,ve):n,et=Xe===n;if(et){var mt=at(Oe),At=!mt&&qo(Oe),zt=!mt&&!At&&rp(Oe);Xe=Oe,mt||At||zt?at(xe)?Xe=xe:Lt(xe)?Xe=Ua(xe):At?(et=!1,Xe=tv(Oe,!0)):zt?(et=!1,Xe=rv(Oe,!0)):Xe=[]:Wm(Oe)||Hn(Oe)?(Xe=xe,Hn(xe)?Xe=m3(xe):(!Sr(xe)||Ul(xe))&&(Xe=jf(Oe))):et=!1}et&&(ve.set(Oe,Xe),Z(Xe,Oe,B,le,ve),ve.delete(Oe)),Nu(p,D,Xe)}function Wy(p,v){var D=p.length;if(D)return v+=v<0?D:0,xs(v,D)?p[v]:n}function Yy(p,v,D){v.length?v=er(v,function(le){return at(le)?function(ve){return Cl(ve,le.length===1?le[0]:le)}:le}):v=[ki];var B=-1;v=er(v,Na(Pt()));var Z=Hy(p,function(le,ve,xe){var Oe=er(v,function(Ke){return Ke(le)});return{criteria:Oe,index:++B,value:le}});return gE(Z,function(le,ve){return qE(le,ve,D)})}function OE(p,v){return xc(p,v,function(D,B){return u_(p,B)})}function xc(p,v,D){for(var B=-1,Z=v.length,le={};++B<Z;){var ve=v[B],xe=Cl(p,ve);D(xe,ve)&&Lu(le,vs(ve,p),xe)}return le}function NE(p){return function(v){return Cl(v,p)}}function fm(p,v,D,B){var Z=B?dy:hl,le=-1,ve=v.length,xe=p;for(p===v&&(v=Ua(v)),D&&(xe=er(p,Na(D)));++le<ve;)for(var Oe=0,Ke=v[le],Xe=D?D(Ke):Ke;(Oe=Z(xe,Xe,Oe,B))>-1;)xe!==p&&vc.call(xe,Oe,1),vc.call(p,Oe,1);return p}function Ky(p,v){for(var D=p?v.length:0,B=D-1;D--;){var Z=v[D];if(D==B||Z!==le){var le=Z;xs(Z)?vc.call(p,Z,1):hm(p,Z)}}return p}function Al(p,v){return p+Io(Jh()*(v-p+1))}function ME(p,v,D,B){for(var Z=-1,le=gr(ku((v-p)/(D||1)),0),ve=Ue(le);le--;)ve[B?le:++Z]=p,p+=D;return ve}function pm(p,v){var D="";if(!p||v<1||v>V)return D;do v%2&&(D+=p),v=Io(v/2),v&&(p+=p);while(v);return D}function nn(p,v){return Ga(Im(p,v,ki),p+"")}function PE(p){return ln(ap(p))}function LE(p,v){var D=ap(p);return ci(D,Fa(v,0,D.length))}function Lu(p,v,D,B){if(!Sr(p))return p;v=vs(v,p);for(var Z=-1,le=v.length,ve=le-1,xe=p;xe!=null&&++Z<le;){var Oe=Ha(v[Z]),Ke=D;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return p;if(Z!=ve){var Xe=xe[Oe];Ke=B?B(Xe,Oe,xe):n,Ke===n&&(Ke=Sr(Xe)?Xe:xs(v[Z+1])?[]:{})}Mu(xe,Oe,Ke),xe=xe[Oe]}return p}var Xy=$s?function(p,v){return $s.set(p,v),p}:ki,FE=qs?function(p,v){return qs(p,"toString",{configurable:!0,enumerable:!1,value:f_(v),writable:!0})}:ki;function BE(p){return ci(ap(p))}function Ti(p,v,D){var B=-1,Z=p.length;v<0&&(v=-v>Z?0:Z+v),D=D>Z?Z:D,D<0&&(D+=Z),Z=v>D?0:D-v>>>0,v>>>=0;for(var le=Ue(Z);++B<Z;)le[B]=p[B+v];return le}function jE(p,v){var D;return ms(p,function(B,Z,le){return D=v(B,Z,le),!D}),!!D}function Rf(p,v,D){var B=0,Z=p==null?B:p.length;if(typeof v=="number"&&v===v&&Z<=te){for(;B<Z;){var le=B+Z>>>1,ve=p[le];ve!==null&&!Ji(ve)&&(D?ve<=v:ve<v)?B=le+1:Z=le}return Z}return Af(p,v,ki,D)}function Af(p,v,D,B){var Z=0,le=p==null?0:p.length;if(le===0)return 0;v=D(v);for(var ve=v!==v,xe=v===null,Oe=Ji(v),Ke=v===n;Z<le;){var Xe=Io((Z+le)/2),et=D(p[Xe]),mt=et!==n,At=et===null,zt=et===et,cn=Ji(et);if(ve)var qt=B||zt;else Ke?qt=zt&&(B||mt):xe?qt=zt&&mt&&(B||!At):Oe?qt=zt&&mt&&!At&&(B||!cn):At||cn?qt=!1:qt=B?et<=v:et<v;qt?Z=Xe+1:le=Xe}return ea(le,ne)}function Zy(p,v){for(var D=-1,B=p.length,Z=0,le=[];++D<B;){var ve=p[D],xe=v?v(ve):ve;if(!D||!Be(xe,Oe)){var Oe=xe;le[Z++]=ve===0?0:ve}}return le}function Qy(p){return typeof p=="number"?p:Ji(p)?ee:+p}function li(p){if(typeof p=="string")return p;if(at(p))return er(p,li)+"";if(Ji(p))return xy?xy.call(p):"";var v=p+"";return v=="0"&&1/p==-K?"-0":v}function Do(p,v,D){var B=-1,Z=hc,le=p.length,ve=!0,xe=[],Oe=xe;if(D)ve=!1,Z=ef;else if(le>=a){var Ke=v?null:hv(p);if(Ke)return Tu(Ke);ve=!1,Z=ml,Oe=new Ws}else Oe=v?[]:xe;e:for(;++B<le;){var Xe=p[B],et=v?v(Xe):Xe;if(Xe=D||Xe!==0?Xe:0,ve&&et===et){for(var mt=Oe.length;mt--;)if(Oe[mt]===et)continue e;v&&Oe.push(et),xe.push(Xe)}else Z(Oe,et,D)||(Oe!==xe&&Oe.push(et),xe.push(Xe))}return xe}function hm(p,v){return v=vs(v,p),p=kl(p,v),p==null||delete p[Ha(ra(v))]}function Jy(p,v,D,B){return Lu(p,v,D(Cl(p,v)),B)}function Fu(p,v,D,B){for(var Z=p.length,le=B?Z:-1;(B?le--:++le<Z)&&v(p[le],le,p););return D?Ti(p,B?0:le,B?le+1:Z):Ti(p,B?le+1:0,B?Z:le)}function mm(p,v){var D=p;return D instanceof dn&&(D=D.value()),mc(v,function(B,Z){return Z.func.apply(Z.thisArg,Oa([B],Z.args))},D)}function gm(p,v,D){var B=p.length;if(B<2)return B?Do(p[0]):[];for(var Z=-1,le=Ue(B);++Z<B;)for(var ve=p[Z],xe=-1;++xe<B;)xe!=Z&&(le[Z]=wi(le[Z]||ve,p[xe],v,D));return Do(ta(le,1),v,D)}function bm(p,v,D){for(var B=-1,Z=p.length,le=v.length,ve={};++B<Z;){var xe=B<le?v[B]:n;D(ve,p[B],xe)}return ve}function If(p){return Lt(p)?p:[]}function kf(p){return typeof p=="function"?p:ki}function vs(p,v){return at(p)?p:$u(p,v)?[p]:Wr(Xn(p))}var ym=nn;function Oo(p,v,D){var B=p.length;return D=D===n?B:D,!v&&D>=B?p:Ti(p,v,D)}var ev=Iu||function(p){return Pr.clearTimeout(p)};function tv(p,v){if(v)return p.slice();var D=p.length,B=Yh?Yh(D):new p.constructor(D);return p.copy(B),B}function vm(p){var v=new p.constructor(p.byteLength);return new Vr(v).set(new Vr(p)),v}function nv(p,v){var D=v?vm(p.buffer):p.buffer;return new p.constructor(D,p.byteOffset,p.byteLength)}function UE(p){var v=new p.constructor(p.source,ur.exec(p));return v.lastIndex=p.lastIndex,v}function zE(p){return Du?Gn(Du.call(p)):{}}function rv(p,v){var D=v?vm(p.buffer):p.buffer;return new p.constructor(D,p.byteOffset,p.length)}function av(p,v){if(p!==v){var D=p!==n,B=p===null,Z=p===p,le=Ji(p),ve=v!==n,xe=v===null,Oe=v===v,Ke=Ji(v);if(!xe&&!Ke&&!le&&p>v||le&&ve&&Oe&&!xe&&!Ke||B&&ve&&Oe||!D&&Oe||!Z)return 1;if(!B&&!le&&!Ke&&p<v||Ke&&D&&Z&&!B&&!le||xe&&D&&Z||!ve&&Z||!Oe)return-1}return 0}function qE(p,v,D){for(var B=-1,Z=p.criteria,le=v.criteria,ve=Z.length,xe=D.length;++B<ve;){var Oe=av(Z[B],le[B]);if(Oe){if(B>=xe)return Oe;var Ke=D[B];return Oe*(Ke=="desc"?-1:1)}}return p.index-v.index}function iv(p,v,D,B){for(var Z=-1,le=p.length,ve=D.length,xe=-1,Oe=v.length,Ke=gr(le-ve,0),Xe=Ue(Oe+Ke),et=!B;++xe<Oe;)Xe[xe]=v[xe];for(;++Z<ve;)(et||Z<le)&&(Xe[D[Z]]=p[Z]);for(;Ke--;)Xe[xe++]=p[Z++];return Xe}function sv(p,v,D,B){for(var Z=-1,le=p.length,ve=-1,xe=D.length,Oe=-1,Ke=v.length,Xe=gr(le-xe,0),et=Ue(Xe+Ke),mt=!B;++Z<Xe;)et[Z]=p[Z];for(var At=Z;++Oe<Ke;)et[At+Oe]=v[Oe];for(;++ve<xe;)(mt||Z<le)&&(et[At+D[ve]]=p[Z++]);return et}function Ua(p,v){var D=-1,B=p.length;for(v||(v=Ue(B));++D<B;)v[D]=p[D];return v}function Ss(p,v,D,B){var Z=!D;D||(D={});for(var le=-1,ve=v.length;++le<ve;){var xe=v[le],Oe=B?B(D[xe],p[xe],xe,D,p):n;Oe===n&&(Oe=p[xe]),Z?Ki(D,xe,Oe):Mu(D,xe,Oe)}return D}function $E(p,v){return Ss(p,va(p),v)}function GE(p,v){return Ss(p,yv(p),v)}function Df(p,v){return function(D,B){var Z=at(D)?Su:_c,le=v?v():{};return Z(D,p,Pt(B,2),le)}}function wc(p){return nn(function(v,D){var B=-1,Z=D.length,le=Z>1?D[Z-1]:n,ve=Z>2?D[2]:n;for(le=p.length>3&&typeof le=="function"?(Z--,le):n,ve&&Sa(D[0],D[1],ve)&&(le=Z<3?n:le,Z=1),v=Gn(v);++B<Z;){var xe=D[B];xe&&p(v,xe,B,le)}return v})}function ov(p,v){return function(D,B){if(D==null)return D;if(!Mn(D))return p(D,B);for(var Z=D.length,le=v?Z:-1,ve=Gn(D);(v?le--:++le<Z)&&B(ve[le],le,ve)!==!1;);return D}}function lv(p){return function(v,D,B){for(var Z=-1,le=Gn(v),ve=B(v),xe=ve.length;xe--;){var Oe=ve[p?xe:++Z];if(D(le[Oe],Oe,le)===!1)break}return v}}function HE(p,v,D){var B=v&S,Z=Bu(p);function le(){var ve=this&&this!==Pr&&this instanceof le?Z:p;return ve.apply(B?D:this,arguments)}return le}function cv(p){return function(v){v=Xn(v);var D=Ma(v)?ai(v):n,B=D?D[0]:v.charAt(0),Z=D?Oo(D,1).join(""):v.slice(1);return B[p]()+Z}}function Tc(p){return function(v){return mc(x3(_3(v).replace(Xb,"")),p,"")}}function Bu(p){return function(){var v=arguments;switch(v.length){case 0:return new p;case 1:return new p(v[0]);case 2:return new p(v[0],v[1]);case 3:return new p(v[0],v[1],v[2]);case 4:return new p(v[0],v[1],v[2],v[3]);case 5:return new p(v[0],v[1],v[2],v[3],v[4]);case 6:return new p(v[0],v[1],v[2],v[3],v[4],v[5]);case 7:return new p(v[0],v[1],v[2],v[3],v[4],v[5],v[6])}var D=_l(p.prototype),B=p.apply(D,v);return Sr(B)?B:D}}function VE(p,v,D){var B=Bu(p);function Z(){for(var le=arguments.length,ve=Ue(le),xe=le,Oe=Il(Z);xe--;)ve[xe]=arguments[xe];var Ke=le<3&&ve[0]!==Oe&&ve[le-1]!==Oe?[]:Hi(ve,Oe);if(le-=Ke.length,le<D)return Em(p,v,Of,Z.placeholder,n,ve,Ke,n,n,D-le);var Xe=this&&this!==Pr&&this instanceof Z?B:p;return ka(Xe,this,ve)}return Z}function uv(p){return function(v,D,B){var Z=Gn(v);if(!Mn(v)){var le=Pt(D,3);v=fa(v),D=function(xe){return le(Z[xe],xe,Z)}}var ve=p(v,D,B);return ve>-1?Z[le?v[ve]:ve]:n}}function dv(p){return _s(function(v){var D=v.length,B=D,Z=ba.prototype.thru;for(p&&v.reverse();B--;){var le=v[B];if(typeof le!="function")throw new Pa(s);if(Z&&!ve&&Pf(le)=="wrapper")var ve=new ba([],!0)}for(B=ve?B:D;++B<D;){le=v[B];var xe=Pf(le),Oe=xe=="wrapper"?Mf(le):n;Oe&&Tm(Oe[0])&&Oe[1]==(I|_|R|O)&&!Oe[4].length&&Oe[9]==1?ve=ve[Pf(Oe[0])].apply(ve,Oe[3]):ve=le.length==1&&Tm(le)?ve[xe]():ve.thru(le)}return function(){var Ke=arguments,Xe=Ke[0];if(ve&&Ke.length==1&&at(Xe))return ve.plant(Xe).value();for(var et=0,mt=D?v[et].apply(this,Ke):Xe;++et<D;)mt=v[et].call(this,mt);return mt}})}function Of(p,v,D,B,Z,le,ve,xe,Oe,Ke){var Xe=v&I,et=v&S,mt=v&T,At=v&(_|C),zt=v&M,cn=mt?n:Bu(p);function qt(){for(var vn=arguments.length,_n=Ue(vn),es=vn;es--;)_n[es]=arguments[es];if(At)var fi=Il(qt),ts=rf(_n,fi);if(B&&(_n=iv(_n,B,Z,At)),le&&(_n=sv(_n,le,ve,At)),vn-=ts,At&&vn<Ke){var Fr=Hi(_n,fi);return Em(p,v,Of,qt.placeholder,D,_n,Fr,xe,Oe,Ke-vn)}var no=et?D:this,ql=mt?no[p]:p;return vn=_n.length,xe?_n=Rc(_n,xe):zt&&vn>1&&_n.reverse(),Xe&&Oe<vn&&(_n.length=Oe),this&&this!==Pr&&this instanceof qt&&(ql=cn||Bu(ql)),ql.apply(no,_n)}return qt}function fv(p,v){return function(D,B){return CE(D,p,v(B),{})}}function Nf(p,v){return function(D,B){var Z;if(D===n&&B===n)return v;if(D!==n&&(Z=D),B!==n){if(Z===n)return B;typeof D=="string"||typeof B=="string"?(D=li(D),B=li(B)):(D=Qy(D),B=Qy(B)),Z=p(D,B)}return Z}}function Sm(p){return _s(function(v){return v=er(v,Na(Pt())),nn(function(D){var B=this;return p(v,function(Z){return ka(Z,B,D)})})})}function ju(p,v){v=v===n?" ":li(v);var D=v.length;if(D<2)return D?pm(v,p):v;var B=pm(v,ku(p/Co(v)));return Ma(v)?Oo(ai(B),0,p).join(""):B.slice(0,p)}function WE(p,v,D,B){var Z=v&S,le=Bu(p);function ve(){for(var xe=-1,Oe=arguments.length,Ke=-1,Xe=B.length,et=Ue(Xe+Oe),mt=this&&this!==Pr&&this instanceof ve?le:p;++Ke<Xe;)et[Ke]=B[Ke];for(;Oe--;)et[Ke++]=arguments[++xe];return ka(mt,Z?D:this,et)}return ve}function pv(p){return function(v,D,B){return B&&typeof B!="number"&&Sa(v,D,B)&&(D=B=n),v=zl(v),D===n?(D=v,v=0):D=zl(D),B=B===n?v<D?1:-1:zl(B),ME(v,D,B,p)}}function za(p){return function(v,D){return typeof v=="string"&&typeof D=="string"||(v=Ts(v),D=Ts(D)),p(v,D)}}function Em(p,v,D,B,Z,le,ve,xe,Oe,Ke){var Xe=v&_,et=Xe?ve:n,mt=Xe?n:ve,At=Xe?le:n,zt=Xe?n:le;v|=Xe?R:A,v&=~(Xe?A:R),v&x||(v&=-4);var cn=[p,v,Z,At,et,zt,mt,xe,Oe,Ke],qt=D.apply(n,cn);return Tm(p)&&Ic(qt,cn),qt.placeholder=B,Xs(qt,p,v)}function Uu(p){var v=_r[p];return function(D,B){if(D=Ts(D),B=B==null?0:ea(rn(B),292),B&&Kh(D)){var Z=(Xn(D)+"e").split("e"),le=v(Z[0]+"e"+(+Z[1]+B));return Z=(Xn(le)+"e").split("e"),+(Z[0]+"e"+(+Z[1]-B))}return v(D)}}var hv=si&&1/Tu(new si([,-0]))[1]==K?function(p){return new si(p)}:m_;function _m(p){return function(v){var D=ua(v);return D==Se?af(v):D==je?Hh(v):fy(v,p(v))}}function Es(p,v,D,B,Z,le,ve,xe){var Oe=v&T;if(!Oe&&typeof p!="function")throw new Pa(s);var Ke=B?B.length:0;if(Ke||(v&=-97,B=Z=n),ve=ve===n?ve:gr(rn(ve),0),xe=xe===n?xe:rn(xe),Ke-=Z?Z.length:0,v&A){var Xe=B,et=Z;B=Z=n}var mt=Oe?n:Mf(p),At=[p,v,D,B,Z,Xe,et,le,ve,xe];if(mt&&Rm(At,mt),p=At[0],v=At[1],D=At[2],B=At[3],Z=At[4],xe=At[9]=At[9]===n?Oe?0:p.length:gr(At[9]-Ke,0),!xe&&v&(_|C)&&(v&=-25),!v||v==S)var zt=HE(p,v,D);else v==_||v==C?zt=VE(p,v,xe):(v==R||v==(S|R))&&!Z.length?zt=WE(p,v,D,B):zt=Of.apply(n,At);var cn=mt?Xy:Ic;return Xs(cn(zt,At),p,v)}function mv(p,v,D,B){return p===n||Be(p,yl[D])&&!Fn.call(B,D)?v:p}function xm(p,v,D,B,Z,le){return Sr(p)&&Sr(v)&&(le.set(v,p),Ys(p,v,n,xm,le),le.delete(v)),p}function gv(p){return Wm(p)?n:p}function bv(p,v,D,B,Z,le){var ve=D&g,xe=p.length,Oe=v.length;if(xe!=Oe&&!(ve&&Oe>xe))return!1;var Ke=le.get(p),Xe=le.get(v);if(Ke&&Xe)return Ke==v&&Xe==p;var et=-1,mt=!0,At=D&w?new Ws:n;for(le.set(p,v),le.set(v,p);++et<xe;){var zt=p[et],cn=v[et];if(B)var qt=ve?B(cn,zt,et,v,p,le):B(zt,cn,et,p,v,le);if(qt!==n){if(qt)continue;mt=!1;break}if(At){if(!Eu(v,function(vn,_n){if(!ml(At,_n)&&(zt===vn||Z(zt,vn,D,B,le)))return At.push(_n)})){mt=!1;break}}else if(!(zt===cn||Z(zt,cn,D,B,le))){mt=!1;break}}return le.delete(p),le.delete(v),mt}function YE(p,v,D,B,Z,le,ve){switch(D){case nt:if(p.byteLength!=v.byteLength||p.byteOffset!=v.byteOffset)return!1;p=p.buffer,v=v.buffer;case Ye:return!(p.byteLength!=v.byteLength||!le(new Vr(p),new Vr(v)));case ge:case fe:case me:return Be(+p,+v);case oe:return p.name==v.name&&p.message==v.message;case Ie:case ke:return p==v+"";case Se:var xe=af;case je:var Oe=B&g;if(xe||(xe=Tu),p.size!=v.size&&!Oe)return!1;var Ke=ve.get(p);if(Ke)return Ke==v;B|=w,ve.set(p,v);var Xe=bv(xe(p),xe(v),B,Z,le,ve);return ve.delete(p),Xe;case Ge:if(Du)return Du.call(p)==Du.call(v)}return!1}function KE(p,v,D,B,Z,le){var ve=D&g,xe=wm(p),Oe=xe.length,Ke=wm(v),Xe=Ke.length;if(Oe!=Xe&&!ve)return!1;for(var et=Oe;et--;){var mt=xe[et];if(!(ve?mt in v:Fn.call(v,mt)))return!1}var At=le.get(p),zt=le.get(v);if(At&&zt)return At==v&&zt==p;var cn=!0;le.set(p,v),le.set(v,p);for(var qt=ve;++et<Oe;){mt=xe[et];var vn=p[mt],_n=v[mt];if(B)var es=ve?B(_n,vn,mt,v,p,le):B(vn,_n,mt,p,v,le);if(!(es===n?vn===_n||Z(vn,_n,D,B,le):es)){cn=!1;break}qt||(qt=mt=="constructor")}if(cn&&!qt){var fi=p.constructor,ts=v.constructor;fi!=ts&&"constructor"in p&&"constructor"in v&&!(typeof fi=="function"&&fi instanceof fi&&typeof ts=="function"&&ts instanceof ts)&&(cn=!1)}return le.delete(p),le.delete(v),cn}function _s(p){return Ga(Im(p,n,Ol),p+"")}function wm(p){return zy(p,fa,va)}function br(p){return zy(p,Ii,yv)}var Mf=$s?function(p){return $s.get(p)}:m_;function Pf(p){for(var v=p.name+"",D=El[v],B=Fn.call(El,v)?D.length:0;B--;){var Z=D[B],le=Z.func;if(le==null||le==p)return Z.name}return v}function Il(p){var v=Fn.call(ie,"placeholder")?ie:p;return v.placeholder}function Pt(){var p=ie.iteratee||p_;return p=p===p_?Gy:p,arguments.length?p(arguments[0],arguments[1]):p}function Ks(p,v){var D=p.__data__;return QE(v)?D[typeof v=="string"?"string":"hash"]:D.map}function zu(p){for(var v=fa(p),D=v.length;D--;){var B=v[D],Z=p[B];v[D]=[B,Z,$a(Z)]}return v}function Ci(p,v){var D=hy(p,v);return ys(D)?D:n}function Cc(p){var v=Fn.call(p,Ao),D=p[Ao];try{p[Ao]=n;var B=!0}catch{}var Z=Au.call(p);return B&&(v?p[Ao]=D:delete p[Ao]),Z}var va=ff?function(p){return p==null?[]:(p=Gn(p),Us(ff(p),function(v){return hs.call(p,v)}))}:g_,yv=ff?function(p){for(var v=[];p;)Oa(v,va(p)),p=xi(p);return v}:g_,ua=ya;(hf&&ua(new hf(new ArrayBuffer(1)))!=nt||Sc&&ua(new Sc)!=Se||em&&ua(em.resolve())!=Te||si&&ua(new si)!=je||Ec&&ua(new Ec)!=gt)&&(ua=function(p){var v=ya(p),D=v==pe?p.constructor:n,B=D?Va(D):"";if(B)switch(B){case Sy:return nt;case Ey:return Se;case _y:return Te;case mf:return je;case tm:return gt}return v});function Lf(p,v,D){for(var B=-1,Z=D.length;++B<Z;){var le=D[B],ve=le.size;switch(le.type){case"drop":p+=ve;break;case"dropRight":v-=ve;break;case"take":v=ea(v,p+ve);break;case"takeRight":p=gr(p,v-ve);break}}return{start:p,end:v}}function Ff(p){var v=p.match(Ls);return v?v[1].split($r):[]}function qu(p,v,D){v=vs(v,p);for(var B=-1,Z=v.length,le=!1;++B<Z;){var ve=Ha(v[B]);if(!(le=p!=null&&D(p,ve)))break;p=p[ve]}return le||++B!=Z?le:(Z=p==null?0:p.length,!!Z&&Tv(Z)&&xs(ve,Z)&&(at(p)||Hn(p)))}function Bf(p){var v=p.length,D=new p.constructor(v);return v&&typeof p[0]=="string"&&Fn.call(p,"index")&&(D.index=p.index,D.input=p.input),D}function jf(p){return typeof p.constructor=="function"&&!na(p)?_l(xi(p)):{}}function XE(p,v,D){var B=p.constructor;switch(v){case Ye:return vm(p);case ge:case fe:return new B(+p);case nt:return nv(p,D);case It:case Gt:case Ze:case ot:case Pe:case we:case $e:case He:case ft:return rv(p,D);case Se:return new B;case me:case ke:return new B(p);case Ie:return UE(p);case je:return new B;case Ge:return zE(p)}}function ZE(p,v){var D=v.length;if(!D)return p;var B=D-1;return v[B]=(D>1?"& ":"")+v[B],v=v.join(D>2?", ":" "),p.replace(Mr,`{
/* [wrapped with `+v+`] */
`)}function qa(p){return at(p)||Hn(p)||!!(df&&p&&p[df])}function xs(p,v){var D=typeof p;return v=v??V,!!v&&(D=="number"||D!="symbol"&&Fs.test(p))&&p>-1&&p%1==0&&p<v}function Sa(p,v,D){if(!Sr(D))return!1;var B=typeof v;return(B=="number"?Mn(D)&&xs(v,D.length):B=="string"&&v in D)?Be(D[v],p):!1}function $u(p,v){if(at(p))return!1;var D=typeof p;return D=="number"||D=="symbol"||D=="boolean"||p==null||Ji(p)?!0:Le.test(p)||!on.test(p)||v!=null&&p in Gn(v)}function QE(p){var v=typeof p;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?p!=="__proto__":p===null}function Tm(p){var v=Pf(p),D=ie[v];if(typeof D!="function"||!(v in dn.prototype))return!1;if(p===D)return!0;var B=Mf(D);return!!B&&p===B[0]}function JE(p){return!!cf&&cf in p}var Gu=lf?Ul:b_;function na(p){var v=p&&p.constructor,D=typeof v=="function"&&v.prototype||yl;return p===D}function $a(p){return p===p&&!Sr(p)}function Cm(p,v){return function(D){return D==null?!1:D[p]===v&&(v!==n||p in Gn(D))}}function e_(p){var v=u(p,function(B){return D.size===d&&D.clear(),B}),D=v.cache;return v}function Rm(p,v){var D=p[1],B=v[1],Z=D|B,le=Z<(S|T|I),ve=B==I&&D==_||B==I&&D==O&&p[7].length<=v[8]||B==(I|O)&&v[7].length<=v[8]&&D==_;if(!(le||ve))return p;B&S&&(p[2]=v[2],Z|=D&S?0:x);var xe=v[3];if(xe){var Oe=p[3];p[3]=Oe?iv(Oe,xe,v[4]):xe,p[4]=Oe?Hi(p[3],f):v[4]}return xe=v[5],xe&&(Oe=p[5],p[5]=Oe?sv(Oe,xe,v[6]):xe,p[6]=Oe?Hi(p[5],f):v[6]),xe=v[7],xe&&(p[7]=xe),B&I&&(p[8]=p[8]==null?v[8]:ea(p[8],v[8])),p[9]==null&&(p[9]=v[9]),p[0]=v[0],p[1]=Z,p}function vv(p){var v=[];if(p!=null)for(var D in Gn(p))v.push(D);return v}function Am(p){return Au.call(p)}function Im(p,v,D){return v=gr(v===n?p.length-1:v,0),function(){for(var B=arguments,Z=-1,le=gr(B.length-v,0),ve=Ue(le);++Z<le;)ve[Z]=B[v+Z];Z=-1;for(var xe=Ue(v+1);++Z<v;)xe[Z]=B[Z];return xe[v]=D(ve),ka(p,this,xe)}}function kl(p,v){return v.length<2?p:Cl(p,Ti(v,0,-1))}function Rc(p,v){for(var D=p.length,B=ea(v.length,D),Z=Ua(p);B--;){var le=v[B];p[B]=xs(le,D)?Z[le]:n}return p}function Ac(p,v){if(!(v==="constructor"&&typeof p[v]=="function")&&v!="__proto__")return p[v]}var Ic=Zi(Xy),da=vy||function(p,v){return Pr.setTimeout(p,v)},Ga=Zi(FE);function Xs(p,v,D){var B=v+"";return Ga(p,ZE(B,Uf(Ff(B),D)))}function Zi(p){var v=0,D=0;return function(){var B=Qh(),Z=j-(B-D);if(D=B,Z>0){if(++v>=z)return arguments[0]}else v=0;return p.apply(n,arguments)}}function ci(p,v){var D=-1,B=p.length,Z=B-1;for(v=v===n?B:v;++D<v;){var le=Al(D,Z),ve=p[le];p[le]=p[D],p[D]=ve}return p.length=v,p}var Wr=e_(function(p){var v=[];return p.charCodeAt(0)===46&&v.push(""),p.replace(ht,function(D,B,Z,le){v.push(Z?le.replace(xo,"$1"):B||D)}),v});function Ha(p){if(typeof p=="string"||Ji(p))return p;var v=p+"";return v=="0"&&1/p==-K?"-0":v}function Va(p){if(p!=null){try{return Ru.call(p)}catch{}try{return p+""}catch{}}return""}function Uf(p,v){return Da(G,function(D){var B="_."+D[0];v&D[1]&&!hc(p,B)&&p.push(B)}),p.sort()}function Yr(p){if(p instanceof dn)return p.clone();var v=new ba(p.__wrapped__,p.__chain__);return v.__actions__=Ua(p.__actions__),v.__index__=p.__index__,v.__values__=p.__values__,v}function lr(p,v,D){(D?Sa(p,v,D):v===n)?v=1:v=gr(rn(v),0);var B=p==null?0:p.length;if(!B||v<1)return[];for(var Z=0,le=0,ve=Ue(ku(B/v));Z<B;)ve[le++]=Ti(p,Z,Z+=v);return ve}function yn(p){for(var v=-1,D=p==null?0:p.length,B=0,Z=[];++v<D;){var le=p[v];le&&(Z[B++]=le)}return Z}function No(){var p=arguments.length;if(!p)return[];for(var v=Ue(p-1),D=arguments[0],B=p;B--;)v[B-1]=arguments[B];return Oa(at(D)?Ua(D):[D],ta(v,1))}var Ri=nn(function(p,v){return Lt(p)?wi(p,ta(v,1,Lt,!0)):[]}),km=nn(function(p,v){var D=ra(v);return Lt(D)&&(D=n),Lt(p)?wi(p,ta(v,1,Lt,!0),Pt(D,2)):[]}),zf=nn(function(p,v){var D=ra(v);return Lt(D)&&(D=n),Lt(p)?wi(p,ta(v,1,Lt,!0),n,D):[]});function Dl(p,v,D){var B=p==null?0:p.length;return B?(v=D||v===n?1:rn(v),Ti(p,v<0?0:v,B)):[]}function Zs(p,v,D){var B=p==null?0:p.length;return B?(v=D||v===n?1:rn(v),v=B-v,Ti(p,0,v<0?0:v)):[]}function t_(p,v){return p&&p.length?Fu(p,Pt(v,3),!0,!0):[]}function n_(p,v){return p&&p.length?Fu(p,Pt(v,3),!0):[]}function r_(p,v,D,B){var Z=p==null?0:p.length;return Z?(D&&typeof D!="number"&&Sa(p,v,D)&&(D=0,B=Z),xf(p,v,D,B)):[]}function ir(p,v,D){var B=p==null?0:p.length;if(!B)return-1;var Z=D==null?0:rn(D);return Z<0&&(Z=gr(B+Z,0)),_u(p,Pt(v,3),Z)}function Hu(p,v,D){var B=p==null?0:p.length;if(!B)return-1;var Z=B-1;return D!==n&&(Z=rn(D),Z=D<0?gr(B+Z,0):ea(Z,B-1)),_u(p,Pt(v,3),Z,!0)}function Ol(p){var v=p==null?0:p.length;return v?ta(p,1):[]}function Dm(p){var v=p==null?0:p.length;return v?ta(p,K):[]}function qf(p,v){var D=p==null?0:p.length;return D?(v=v===n?1:rn(v),ta(p,v)):[]}function Om(p){for(var v=-1,D=p==null?0:p.length,B={};++v<D;){var Z=p[v];B[Z[0]]=Z[1]}return B}function Mo(p){return p&&p.length?p[0]:n}function Vu(p,v,D){var B=p==null?0:p.length;if(!B)return-1;var Z=D==null?0:rn(D);return Z<0&&(Z=gr(B+Z,0)),hl(p,v,Z)}function Nm(p){var v=p==null?0:p.length;return v?Ti(p,0,-1):[]}var kc=nn(function(p){var v=er(p,If);return v.length&&v[0]===p[0]?lm(v):[]}),Dc=nn(function(p){var v=ra(p),D=er(p,If);return v===ra(D)?v=n:D.pop(),D.length&&D[0]===p[0]?lm(D,Pt(v,2)):[]}),Sv=nn(function(p){var v=ra(p),D=er(p,If);return v=typeof v=="function"?v:n,v&&D.pop(),D.length&&D[0]===p[0]?lm(D,n,v):[]});function Nl(p,v){return p==null?"":Xh.call(p,v)}function ra(p){var v=p==null?0:p.length;return v?p[v-1]:n}function Mm(p,v,D){var B=p==null?0:p.length;if(!B)return-1;var Z=B;return D!==n&&(Z=rn(D),Z=Z<0?gr(B+Z,0):ea(Z,B-1)),v===v?gy(p,v,Z):_u(p,Bh,Z,!0)}function $f(p,v){return p&&p.length?Wy(p,rn(v)):n}var Gf=nn(Po);function Po(p,v){return p&&p.length&&v&&v.length?fm(p,v):p}function Oc(p,v,D){return p&&p.length&&v&&v.length?fm(p,v,Pt(D,2)):p}function Wu(p,v,D){return p&&p.length&&v&&v.length?fm(p,v,n,D):p}var Ml=_s(function(p,v){var D=p==null?0:p.length,B=vf(p,v);return Ky(p,er(v,function(Z){return xs(Z,D)?+Z:Z}).sort(av)),B});function Ev(p,v){var D=[];if(!(p&&p.length))return D;var B=-1,Z=[],le=p.length;for(v=Pt(v,3);++B<le;){var ve=p[B];v(ve,B,p)&&(D.push(ve),Z.push(B))}return Ky(p,Z),D}function Wa(p){return p==null?p:La.call(p)}function Nc(p,v,D){var B=p==null?0:p.length;return B?(D&&typeof D!="number"&&Sa(p,v,D)?(v=0,D=B):(v=v==null?0:rn(v),D=D===n?B:rn(D)),Ti(p,v,D)):[]}function Pm(p,v){return Rf(p,v)}function Lo(p,v,D){return Af(p,v,Pt(D,2))}function Lm(p,v){var D=p==null?0:p.length;if(D){var B=Rf(p,v);if(B<D&&Be(p[B],v))return B}return-1}function Mc(p,v){return Rf(p,v,!0)}function Hf(p,v,D){return Af(p,v,Pt(D,2),!0)}function ui(p,v){var D=p==null?0:p.length;if(D){var B=Rf(p,v,!0)-1;if(Be(p[B],v))return B}return-1}function Ai(p){return p&&p.length?Zy(p):[]}function yr(p,v){return p&&p.length?Zy(p,Pt(v,2)):[]}function Qs(p){var v=p==null?0:p.length;return v?Ti(p,1,v):[]}function Vt(p,v,D){return p&&p.length?(v=D||v===n?1:rn(v),Ti(p,0,v<0?0:v)):[]}function Kn(p,v,D){var B=p==null?0:p.length;return B?(v=D||v===n?1:rn(v),v=B-v,Ti(p,v<0?0:v,B)):[]}function Tr(p,v){return p&&p.length?Fu(p,Pt(v,3),!1,!0):[]}function Vf(p,v){return p&&p.length?Fu(p,Pt(v,3)):[]}var Pc=nn(function(p){return Do(ta(p,1,Lt,!0))}),Pl=nn(function(p){var v=ra(p);return Lt(v)&&(v=n),Do(ta(p,1,Lt,!0),Pt(v,2))}),Wf=nn(function(p){var v=ra(p);return v=typeof v=="function"?v:n,Do(ta(p,1,Lt,!0),n,v)});function Yu(p){return p&&p.length?Do(p):[]}function Lc(p,v){return p&&p.length?Do(p,Pt(v,2)):[]}function a_(p,v){return v=typeof v=="function"?v:n,p&&p.length?Do(p,n,v):[]}function Ll(p){if(!(p&&p.length))return[];var v=0;return p=Us(p,function(D){if(Lt(D))return v=gr(D.length,v),!0}),xu(v,function(D){return er(p,tf(D))})}function Fm(p,v){if(!(p&&p.length))return[];var D=Ll(p);return v==null?D:er(D,function(B){return ka(v,n,B)})}var Bm=nn(function(p,v){return Lt(p)?wi(p,v):[]}),_v=nn(function(p){return gm(Us(p,Lt))}),jm=nn(function(p){var v=ra(p);return Lt(v)&&(v=n),gm(Us(p,Lt),Pt(v,2))}),Um=nn(function(p){var v=ra(p);return v=typeof v=="function"?v:n,gm(Us(p,Lt),n,v)}),Cr=nn(Ll);function zm(p,v){return bm(p||[],v||[],Mu)}function Js(p,v){return bm(p||[],v||[],Lu)}var Rr=nn(function(p){var v=p.length,D=v>1?p[v-1]:n;return D=typeof D=="function"?(p.pop(),D):n,Fm(p,D)});function Yf(p){var v=ie(p);return v.__chain__=!0,v}function xv(p,v){return v(p),p}function vr(p,v){return v(p)}var Ar=_s(function(p){var v=p.length,D=v?p[0]:0,B=this.__wrapped__,Z=function(le){return vf(le,p)};return v>1||this.__actions__.length||!(B instanceof dn)||!xs(D)?this.thru(Z):(B=B.slice(D,+D+(v?1:0)),B.__actions__.push({func:vr,args:[Z],thisArg:n}),new ba(B,this.__chain__).thru(function(le){return v&&!le.length&&le.push(n),le}))});function Ya(){return Yf(this)}function Qi(){return new ba(this.value(),this.__chain__)}function Fc(){this.__values__===n&&(this.__values__=p3(this.value()));var p=this.__index__>=this.__values__.length,v=p?n:this.__values__[this.__index__++];return{done:p,value:v}}function i_(){return this}function Kf(p){for(var v,D=this;D instanceof Gs;){var B=Yr(D);B.__index__=0,B.__values__=n,v?Z.__wrapped__=B:v=B;var Z=B;D=D.__wrapped__}return Z.__wrapped__=p,v}function Xf(){var p=this.__wrapped__;if(p instanceof dn){var v=p;return this.__actions__.length&&(v=new dn(this)),v=v.reverse(),v.__actions__.push({func:vr,args:[Wa],thisArg:n}),new ba(v,this.__chain__)}return this.thru(Wa)}function Zf(){return mm(this.__wrapped__,this.__actions__)}var Qf=Df(function(p,v,D){Fn.call(p,D)?++p[D]:Ki(p,D,1)});function Jf(p,v,D){var B=at(p)?Fh:Uy;return D&&Sa(p,v,D)&&(v=n),B(p,Pt(v,3))}function Ku(p,v){var D=at(p)?Us:Mt;return D(p,Pt(v,3))}var s_=uv(ir),fn=uv(Hu);function Zn(p,v){return ta(nr(p,v),1)}function pn(p,v){return ta(nr(p,v),K)}function gn(p,v,D){return D=D===n?1:rn(D),ta(nr(p,v),D)}function Bn(p,v){var D=at(p)?Da:ms;return D(p,Pt(v,3))}function Ka(p,v){var D=at(p)?Jd:jy;return D(p,Pt(v,3))}var Fo=Df(function(p,v,D){Fn.call(p,D)?p[D].push(v):Ki(p,D,[v])});function Bc(p,v,D,B){p=Mn(p)?p:ap(p),D=D&&!B?rn(D):0;var Z=p.length;return D<0&&(D=gr(Z+D,0)),Cv(p)?D<=Z&&p.indexOf(v,D)>-1:!!Z&&hl(p,v,D)>-1}var qm=nn(function(p,v,D){var B=-1,Z=typeof v=="function",le=Mn(p)?Ue(p.length):[];return ms(p,function(ve){le[++B]=Z?ka(v,ve,D):Xi(ve,v,D)}),le}),eo=Df(function(p,v,D){Ki(p,D,v)});function nr(p,v){var D=at(p)?er:Hy;return D(p,Pt(v,3))}function Bo(p,v,D,B){return p==null?[]:(at(v)||(v=v==null?[]:[v]),D=B?n:D,at(D)||(D=D==null?[]:[D]),Yy(p,v,D))}var Fl=Df(function(p,v,D){p[D?0:1].push(v)},function(){return[[],[]]});function $m(p,v,D){var B=at(p)?mc:jh,Z=arguments.length<3;return B(p,Pt(v,4),D,Z,ms)}function di(p,v,D){var B=at(p)?ly:jh,Z=arguments.length<3;return B(p,Pt(v,4),D,Z,jy)}function jc(p,v){var D=at(p)?Us:Mt;return D(p,E(Pt(v,3)))}function Xu(p){var v=at(p)?ln:PE;return v(p)}function Xa(p,v,D){(D?Sa(p,v,D):v===n)?v=1:v=rn(v);var B=at(p)?TE:LE;return B(p,v)}function Gm(p){var v=at(p)?oi:BE;return v(p)}function ep(p){if(p==null)return 0;if(Mn(p))return Cv(p)?Co(p):p.length;var v=ua(p);return v==Se||v==je?p.size:cm(p).length}function wv(p,v,D){var B=at(p)?Eu:jE;return D&&Sa(p,v,D)&&(v=n),B(p,Pt(v,3))}var Zu=nn(function(p,v){if(p==null)return[];var D=v.length;return D>1&&Sa(p,v[0],v[1])?v=[]:D>2&&Sa(v[0],v[1],v[2])&&(v=[v[0]]),Yy(p,ta(v,1),[])}),Bl=vl||function(){return Pr.Date.now()};function jo(p,v){if(typeof v!="function")throw new Pa(s);return p=rn(p),function(){if(--p<1)return v.apply(this,arguments)}}function Ir(p,v,D){return v=D?n:v,v=p&&v==null?p.length:v,Es(p,I,n,n,n,n,v)}function to(p,v){var D;if(typeof v!="function")throw new Pa(s);return p=rn(p),function(){return--p>0&&(D=v.apply(this,arguments)),p<=1&&(v=n),D}}var Uo=nn(function(p,v,D){var B=S;if(D.length){var Z=Hi(D,Il(Uo));B|=R}return Es(p,B,v,D,Z)}),ws=nn(function(p,v,D){var B=S|T;if(D.length){var Z=Hi(D,Il(ws));B|=R}return Es(v,B,p,D,Z)});function tp(p,v,D){v=D?n:v;var B=Es(p,_,n,n,n,n,n,v);return B.placeholder=tp.placeholder,B}function np(p,v,D){v=D?n:v;var B=Es(p,C,n,n,n,n,n,v);return B.placeholder=np.placeholder,B}function Hm(p,v,D){var B,Z,le,ve,xe,Oe,Ke=0,Xe=!1,et=!1,mt=!0;if(typeof p!="function")throw new Pa(s);v=Ts(v)||0,Sr(D)&&(Xe=!!D.leading,et="maxWait"in D,le=et?gr(Ts(D.maxWait)||0,v):le,mt="trailing"in D?!!D.trailing:mt);function At(Fr){var no=B,ql=Z;return B=Z=n,Ke=Fr,ve=p.apply(ql,no),ve}function zt(Fr){return Ke=Fr,xe=da(vn,v),Xe?At(Fr):ve}function cn(Fr){var no=Fr-Oe,ql=Fr-Ke,C3=v-no;return et?ea(C3,le-ql):C3}function qt(Fr){var no=Fr-Oe,ql=Fr-Ke;return Oe===n||no>=v||no<0||et&&ql>=le}function vn(){var Fr=Bl();if(qt(Fr))return _n(Fr);xe=da(vn,cn(Fr))}function _n(Fr){return xe=n,mt&&B?At(Fr):(B=Z=n,ve)}function es(){xe!==n&&ev(xe),Ke=0,B=Oe=Z=xe=n}function fi(){return xe===n?ve:_n(Bl())}function ts(){var Fr=Bl(),no=qt(Fr);if(B=arguments,Z=this,Oe=Fr,no){if(xe===n)return zt(Oe);if(et)return ev(xe),xe=da(vn,v),At(Oe)}return xe===n&&(xe=da(vn,v)),ve}return ts.cancel=es,ts.flush=fi,ts}var Qu=nn(function(p,v){return Ef(p,1,v)}),Vm=nn(function(p,v,D){return Ef(p,Ts(v)||0,D)});function c(p){return Es(p,M)}function u(p,v){if(typeof p!="function"||v!=null&&typeof v!="function")throw new Pa(s);var D=function(){var B=arguments,Z=v?v.apply(this,B):B[0],le=D.cache;if(le.has(Z))return le.get(Z);var ve=p.apply(this,B);return D.cache=le.set(Z,ve)||le,ve};return D.cache=new(u.Cache||Hs),D}u.Cache=Hs;function E(p){if(typeof p!="function")throw new Pa(s);return function(){var v=arguments;switch(v.length){case 0:return!p.call(this);case 1:return!p.call(this,v[0]);case 2:return!p.call(this,v[0],v[1]);case 3:return!p.call(this,v[0],v[1],v[2])}return!p.apply(this,v)}}function k(p){return to(2,p)}var P=ym(function(p,v){v=v.length==1&&at(v[0])?er(v[0],Na(Pt())):er(ta(v,1),Na(Pt()));var D=v.length;return nn(function(B){for(var Z=-1,le=ea(B.length,D);++Z<le;)B[Z]=v[Z].call(this,B[Z]);return ka(p,this,B)})}),F=nn(function(p,v){var D=Hi(v,Il(F));return Es(p,R,n,v,D)}),ae=nn(function(p,v){var D=Hi(v,Il(ae));return Es(p,A,n,v,D)}),_e=_s(function(p,v){return Es(p,O,n,n,n,v)});function qe(p,v){if(typeof p!="function")throw new Pa(s);return v=v===n?v:rn(v),nn(p,v)}function Qe(p,v){if(typeof p!="function")throw new Pa(s);return v=v==null?0:gr(rn(v),0),nn(function(D){var B=D[v],Z=Oo(D,0,v);return B&&Oa(Z,B),ka(p,this,Z)})}function dt(p,v,D){var B=!0,Z=!0;if(typeof p!="function")throw new Pa(s);return Sr(D)&&(B="leading"in D?!!D.leading:B,Z="trailing"in D?!!D.trailing:Z),Hm(p,v,{leading:B,maxWait:v,trailing:Z})}function it(p){return Ir(p,1)}function vt(p,v){return F(kf(v),p)}function Ht(){if(!arguments.length)return[];var p=arguments[0];return at(p)?p:[p]}function aa(p){return Ba(p,b)}function Ju(p,v){return v=typeof v=="function"?v:n,Ba(p,b,v)}function jl(p){return Ba(p,h|b)}function Fe(p,v){return v=typeof v=="function"?v:n,Ba(p,h|b,v)}function De(p,v){return v==null||Sf(p,v,fa(v))}function Be(p,v){return p===v||p!==p&&v!==v}var st=za(Pu),Bt=za(function(p,v){return p>=v}),Hn=gs((function(){return arguments})())?gs:function(p){return kr(p)&&Fn.call(p,"callee")&&!hs.call(p,"callee")},at=Ue.isArray,In=Mh?Na(Mh):ca;function Mn(p){return p!=null&&Tv(p.length)&&!Ul(p)}function Lt(p){return kr(p)&&Mn(p)}function zo(p){return p===!0||p===!1||kr(p)&&ya(p)==ge}var qo=pf||b_,gJ=Qd?Na(Qd):bs;function bJ(p){return kr(p)&&p.nodeType===1&&!Wm(p)}function yJ(p){if(p==null)return!0;if(Mn(p)&&(at(p)||typeof p=="string"||typeof p.splice=="function"||qo(p)||rp(p)||Hn(p)))return!p.length;var v=ua(p);if(v==Se||v==je)return!p.size;if(na(p))return!cm(p).length;for(var D in p)if(Fn.call(p,D))return!1;return!0}function vJ(p,v){return xr(p,v)}function SJ(p,v,D){D=typeof D=="function"?D:n;var B=D?D(p,v):n;return B===n?xr(p,v,n,D):!!B}function o_(p){if(!kr(p))return!1;var v=ya(p);return v==oe||v==Ae||typeof p.message=="string"&&typeof p.name=="string"&&!Wm(p)}function EJ(p){return typeof p=="number"&&Kh(p)}function Ul(p){if(!Sr(p))return!1;var v=ya(p);return v==de||v==se||v==Ee||v==be}function c3(p){return typeof p=="number"&&p==rn(p)}function Tv(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=V}function Sr(p){var v=typeof p;return p!=null&&(v=="object"||v=="function")}function kr(p){return p!=null&&typeof p=="object"}var u3=Ph?Na(Ph):AE;function _J(p,v){return p===v||wr(p,v,zu(v))}function xJ(p,v,D){return D=typeof D=="function"?D:n,wr(p,v,zu(v),D)}function wJ(p){return d3(p)&&p!=+p}function TJ(p){if(Gu(p))throw new Ut(i);return ys(p)}function CJ(p){return p===null}function RJ(p){return p==null}function d3(p){return typeof p=="number"||kr(p)&&ya(p)==me}function Wm(p){if(!kr(p)||ya(p)!=pe)return!1;var v=xi(p);if(v===null)return!0;var D=Fn.call(v,"constructor")&&v.constructor;return typeof D=="function"&&D instanceof D&&Ru.call(D)==yy}var l_=Lh?Na(Lh):IE;function AJ(p){return c3(p)&&p>=-V&&p<=V}var f3=sy?Na(sy):kE;function Cv(p){return typeof p=="string"||!at(p)&&kr(p)&&ya(p)==ke}function Ji(p){return typeof p=="symbol"||kr(p)&&ya(p)==Ge}var rp=oy?Na(oy):DE;function IJ(p){return p===n}function kJ(p){return kr(p)&&ua(p)==gt}function DJ(p){return kr(p)&&ya(p)==kt}var OJ=za(Cf),NJ=za(function(p,v){return p<=v});function p3(p){if(!p)return[];if(Mn(p))return Cv(p)?ai(p):Ua(p);if(ga&&p[ga])return bE(p[ga]());var v=ua(p),D=v==Se?af:v==je?Tu:ap;return D(p)}function zl(p){if(!p)return p===0?p:0;if(p=Ts(p),p===K||p===-K){var v=p<0?-1:1;return v*re}return p===p?p:0}function rn(p){var v=zl(p),D=v%1;return v===v?D?v-D:v:0}function h3(p){return p?Fa(rn(p),0,Y):0}function Ts(p){if(typeof p=="number")return p;if(Ji(p))return ee;if(Sr(p)){var v=typeof p.valueOf=="function"?p.valueOf():p;p=Sr(v)?v+"":v}if(typeof p!="string")return p===0?p:+p;p=Uh(p);var D=mr.test(p);return D||Ei.test(p)?ay(p.slice(2),D?2:8):Jn.test(p)?ee:+p}function m3(p){return Ss(p,Ii(p))}function MJ(p){return p?Fa(rn(p),-V,V):p===0?p:0}function Xn(p){return p==null?"":li(p)}var PJ=wc(function(p,v){if(na(v)||Mn(v)){Ss(v,fa(v),p);return}for(var D in v)Fn.call(v,D)&&Mu(p,D,v[D])}),g3=wc(function(p,v){Ss(v,Ii(v),p)}),Rv=wc(function(p,v,D,B){Ss(v,Ii(v),p,B)}),LJ=wc(function(p,v,D,B){Ss(v,fa(v),p,B)}),FJ=_s(vf);function BJ(p,v){var D=_l(p);return v==null?D:Tl(D,v)}var jJ=nn(function(p,v){p=Gn(p);var D=-1,B=v.length,Z=B>2?v[2]:n;for(Z&&Sa(v[0],v[1],Z)&&(B=1);++D<B;)for(var le=v[D],ve=Ii(le),xe=-1,Oe=ve.length;++xe<Oe;){var Ke=ve[xe],Xe=p[Ke];(Xe===n||Be(Xe,yl[Ke])&&!Fn.call(p,Ke))&&(p[Ke]=le[Ke])}return p}),UJ=nn(function(p){return p.push(n,xm),ka(b3,n,p)});function zJ(p,v){return Hr(p,Pt(v,3),ja)}function qJ(p,v){return Hr(p,Pt(v,3),om)}function $J(p,v){return p==null?p:im(p,Pt(v,3),Ii)}function GJ(p,v){return p==null?p:sm(p,Pt(v,3),Ii)}function HJ(p,v){return p&&ja(p,Pt(v,3))}function VJ(p,v){return p&&om(p,Pt(v,3))}function WJ(p){return p==null?[]:wf(p,fa(p))}function YJ(p){return p==null?[]:wf(p,Ii(p))}function c_(p,v,D){var B=p==null?n:Cl(p,v);return B===n?D:B}function KJ(p,v){return p!=null&&qu(p,v,qy)}function u_(p,v){return p!=null&&qu(p,v,Tf)}var XJ=fv(function(p,v,D){v!=null&&typeof v.toString!="function"&&(v=Au.call(v)),p[v]=D},f_(ki)),ZJ=fv(function(p,v,D){v!=null&&typeof v.toString!="function"&&(v=Au.call(v)),Fn.call(p,v)?p[v].push(D):p[v]=[D]},Pt),QJ=nn(Xi);function fa(p){return Mn(p)?yf(p):cm(p)}function Ii(p){return Mn(p)?yf(p,!0):um(p)}function JJ(p,v){var D={};return v=Pt(v,3),ja(p,function(B,Z,le){Ki(D,v(B,Z,le),B)}),D}function eee(p,v){var D={};return v=Pt(v,3),ja(p,function(B,Z,le){Ki(D,Z,v(B,Z,le))}),D}var tee=wc(function(p,v,D){Ys(p,v,D)}),b3=wc(function(p,v,D,B){Ys(p,v,D,B)}),nee=_s(function(p,v){var D={};if(p==null)return D;var B=!1;v=er(v,function(le){return le=vs(le,p),B||(B=le.length>1),le}),Ss(p,br(p),D),B&&(D=Ba(D,h|m|b,gv));for(var Z=v.length;Z--;)hm(D,v[Z]);return D});function ree(p,v){return y3(p,E(Pt(v)))}var aee=_s(function(p,v){return p==null?{}:OE(p,v)});function y3(p,v){if(p==null)return{};var D=er(br(p),function(B){return[B]});return v=Pt(v),xc(p,D,function(B,Z){return v(B,Z[0])})}function iee(p,v,D){v=vs(v,p);var B=-1,Z=v.length;for(Z||(Z=1,p=n);++B<Z;){var le=p==null?n:p[Ha(v[B])];le===n&&(B=Z,le=D),p=Ul(le)?le.call(p):le}return p}function see(p,v,D){return p==null?p:Lu(p,v,D)}function oee(p,v,D,B){return B=typeof B=="function"?B:n,p==null?p:Lu(p,v,D,B)}var v3=_m(fa),S3=_m(Ii);function lee(p,v,D){var B=at(p),Z=B||qo(p)||rp(p);if(v=Pt(v,4),D==null){var le=p&&p.constructor;Z?D=B?new le:[]:Sr(p)?D=Ul(le)?_l(xi(p)):{}:D={}}return(Z?Da:ja)(p,function(ve,xe,Oe){return v(D,ve,xe,Oe)}),D}function cee(p,v){return p==null?!0:hm(p,v)}function uee(p,v,D){return p==null?p:Jy(p,v,kf(D))}function dee(p,v,D,B){return B=typeof B=="function"?B:n,p==null?p:Jy(p,v,kf(D),B)}function ap(p){return p==null?[]:wu(p,fa(p))}function fee(p){return p==null?[]:wu(p,Ii(p))}function pee(p,v,D){return D===n&&(D=v,v=n),D!==n&&(D=Ts(D),D=D===D?D:0),v!==n&&(v=Ts(v),v=v===v?v:0),Fa(Ts(p),v,D)}function hee(p,v,D){return v=zl(v),D===n?(D=v,v=0):D=zl(D),p=Ts(p),$y(p,v,D)}function mee(p,v,D){if(D&&typeof D!="boolean"&&Sa(p,v,D)&&(v=D=n),D===n&&(typeof v=="boolean"?(D=v,v=n):typeof p=="boolean"&&(D=p,p=n)),p===n&&v===n?(p=0,v=1):(p=zl(p),v===n?(v=p,p=0):v=zl(v)),p>v){var B=p;p=v,v=B}if(D||p%1||v%1){var Z=Jh();return ea(p+Z*(v-p+ry("1e-"+((Z+"").length-1))),v)}return Al(p,v)}var gee=Tc(function(p,v,D){return v=v.toLowerCase(),p+(D?E3(v):v)});function E3(p){return d_(Xn(p).toLowerCase())}function _3(p){return p=Xn(p),p&&p.replace($b,qh).replace(Zb,"")}function bee(p,v,D){p=Xn(p),v=li(v);var B=p.length;D=D===n?B:Fa(rn(D),0,B);var Z=D;return D-=v.length,D>=0&&p.slice(D,Z)==v}function yee(p){return p=Xn(p),p&&Rt.test(p)?p.replace(Je,py):p}function vee(p){return p=Xn(p),p&&En.test(p)?p.replace(wt,"\\$&"):p}var See=Tc(function(p,v,D){return p+(D?"-":"")+v.toLowerCase()}),Eee=Tc(function(p,v,D){return p+(D?" ":"")+v.toLowerCase()}),_ee=cv("toLowerCase");function xee(p,v,D){p=Xn(p),v=rn(v);var B=v?Co(p):0;if(!v||B>=v)return p;var Z=(v-B)/2;return ju(Io(Z),D)+p+ju(ku(Z),D)}function wee(p,v,D){p=Xn(p),v=rn(v);var B=v?Co(p):0;return v&&B<v?p+ju(v-B,D):p}function Tee(p,v,D){p=Xn(p),v=rn(v);var B=v?Co(p):0;return v&&B<v?ju(v-B,D)+p:p}function Cee(p,v,D){return D||v==null?v=0:v&&(v=+v),ii(Xn(p).replace(Qt,""),v||0)}function Ree(p,v,D){return(D?Sa(p,v,D):v===n)?v=1:v=rn(v),pm(Xn(p),v)}function Aee(){var p=arguments,v=Xn(p[0]);return p.length<3?v:v.replace(p[1],p[2])}var Iee=Tc(function(p,v,D){return p+(D?"_":"")+v.toLowerCase()});function kee(p,v,D){return D&&typeof D!="number"&&Sa(p,v,D)&&(v=D=n),D=D===n?Y:D>>>0,D?(p=Xn(p),p&&(typeof v=="string"||v!=null&&!l_(v))&&(v=li(v),!v&&Ma(p))?Oo(ai(p),0,D):p.split(v,D)):[]}var Dee=Tc(function(p,v,D){return p+(D?" ":"")+d_(v)});function Oee(p,v,D){return p=Xn(p),D=D==null?0:Fa(rn(D),0,p.length),v=li(v),p.slice(D,D+v.length)==v}function Nee(p,v,D){var B=ie.templateSettings;D&&Sa(p,v,D)&&(v=n),p=Xn(p),v=Rv({},v,B,mv);var Z=Rv({},v.imports,B.imports,mv),le=fa(Z),ve=wu(Z,le),xe,Oe,Ke=0,Xe=v.interpolate||pu,et="__p += '",mt=of((v.escape||pu).source+"|"+Xe.source+"|"+(Xe===Yt?Gi:pu).source+"|"+(v.evaluate||pu).source+"|$","g"),At="//# sourceURL="+(Fn.call(v,"sourceURL")?(v.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ey+"]")+`
`;p.replace(mt,function(qt,vn,_n,es,fi,ts){return _n||(_n=es),et+=p.slice(Ke,ts).replace(Gb,$h),vn&&(xe=!0,et+=`' +
__e(`+vn+`) +
'`),fi&&(Oe=!0,et+=`';
`+fi+`;
__p += '`),_n&&(et+=`' +
((__t = (`+_n+`)) == null ? '' : __t) +
'`),Ke=ts+qt.length,qt}),et+=`';
`;var zt=Fn.call(v,"variable")&&v.variable;if(!zt)et=`with (obj) {
`+et+`
}
`;else if(Ra.test(zt))throw new Ut(o);et=(Oe?et.replace(Nt,""):et).replace(Ot,"$1").replace(pt,"$1;"),et="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(xe?", __e = _.escape":"")+(Oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var cn=w3(function(){return Jt(le,At+"return "+et).apply(n,ve)});if(cn.source=et,o_(cn))throw cn;return cn}function Mee(p){return Xn(p).toLowerCase()}function Pee(p){return Xn(p).toUpperCase()}function Lee(p,v,D){if(p=Xn(p),p&&(D||v===n))return Uh(p);if(!p||!(v=li(v)))return p;var B=ai(p),Z=ai(v),le=zh(B,Z),ve=nf(B,Z)+1;return Oo(B,le,ve).join("")}function Fee(p,v,D){if(p=Xn(p),p&&(D||v===n))return p.slice(0,Vh(p)+1);if(!p||!(v=li(v)))return p;var B=ai(p),Z=nf(B,ai(v))+1;return Oo(B,0,Z).join("")}function Bee(p,v,D){if(p=Xn(p),p&&(D||v===n))return p.replace(Qt,"");if(!p||!(v=li(v)))return p;var B=ai(p),Z=zh(B,ai(v));return Oo(B,Z).join("")}function jee(p,v){var D=U,B=L;if(Sr(v)){var Z="separator"in v?v.separator:Z;D="length"in v?rn(v.length):D,B="omission"in v?li(v.omission):B}p=Xn(p);var le=p.length;if(Ma(p)){var ve=ai(p);le=ve.length}if(D>=le)return p;var xe=D-Co(B);if(xe<1)return B;var Oe=ve?Oo(ve,0,xe).join(""):p.slice(0,xe);if(Z===n)return Oe+B;if(ve&&(xe+=Oe.length-xe),l_(Z)){if(p.slice(xe).search(Z)){var Ke,Xe=Oe;for(Z.global||(Z=of(Z.source,Xn(ur.exec(Z))+"g")),Z.lastIndex=0;Ke=Z.exec(Xe);)var et=Ke.index;Oe=Oe.slice(0,et===n?xe:et)}}else if(p.indexOf(li(Z),xe)!=xe){var mt=Oe.lastIndexOf(Z);mt>-1&&(Oe=Oe.slice(0,mt))}return Oe+B}function Uee(p){return p=Xn(p),p&&Tt.test(p)?p.replace(Me,sf):p}var zee=Tc(function(p,v,D){return p+(D?" ":"")+v.toUpperCase()}),d_=cv("toUpperCase");function x3(p,v,D){return p=Xn(p),v=D?n:v,v===n?Gh(p)?yE(p):mE(p):p.match(v)||[]}var w3=nn(function(p,v){try{return ka(p,n,v)}catch(D){return o_(D)?D:new Ut(D)}}),qee=_s(function(p,v){return Da(v,function(D){D=Ha(D),Ki(p,D,Uo(p[D],p))}),p});function $ee(p){var v=p==null?0:p.length,D=Pt();return p=v?er(p,function(B){if(typeof B[1]!="function")throw new Pa(s);return[D(B[0]),B[1]]}):[],nn(function(B){for(var Z=-1;++Z<v;){var le=p[Z];if(ka(le[0],this,B))return ka(le[1],this,B)}})}function Gee(p){return am(Ba(p,h))}function f_(p){return function(){return p}}function Hee(p,v){return p==null||p!==p?v:p}var Vee=dv(),Wee=dv(!0);function ki(p){return p}function p_(p){return Gy(typeof p=="function"?p:Ba(p,h))}function Yee(p){return dm(Ba(p,h))}function Kee(p,v){return Vy(p,Ba(v,h))}var Xee=nn(function(p,v){return function(D){return Xi(D,p,v)}}),Zee=nn(function(p,v){return function(D){return Xi(p,D,v)}});function h_(p,v,D){var B=fa(v),Z=wf(v,B);D==null&&!(Sr(v)&&(Z.length||!B.length))&&(D=v,v=p,p=this,Z=wf(v,fa(v)));var le=!(Sr(D)&&"chain"in D)||!!D.chain,ve=Ul(p);return Da(Z,function(xe){var Oe=v[xe];p[xe]=Oe,ve&&(p.prototype[xe]=function(){var Ke=this.__chain__;if(le||Ke){var Xe=p(this.__wrapped__),et=Xe.__actions__=Ua(this.__actions__);return et.push({func:Oe,args:arguments,thisArg:p}),Xe.__chain__=Ke,Xe}return Oe.apply(p,Oa([this.value()],arguments))})}),p}function Qee(){return Pr._===this&&(Pr._=SE),this}function m_(){}function Jee(p){return p=rn(p),nn(function(v){return Wy(v,p)})}var ete=Sm(er),tte=Sm(Fh),nte=Sm(Eu);function T3(p){return $u(p)?tf(Ha(p)):NE(p)}function rte(p){return function(v){return p==null?n:Cl(p,v)}}var ate=pv(),ite=pv(!0);function g_(){return[]}function b_(){return!1}function ste(){return{}}function ote(){return""}function lte(){return!0}function cte(p,v){if(p=rn(p),p<1||p>V)return[];var D=Y,B=ea(p,Y);v=Pt(v),p-=Y;for(var Z=xu(B,v);++D<p;)v(D);return Z}function ute(p){return at(p)?er(p,Ha):Ji(p)?[p]:Ua(Wr(Xn(p)))}function dte(p){var v=++Vi;return Xn(p)+v}var fte=Nf(function(p,v){return p+v},0),pte=Uu("ceil"),hte=Nf(function(p,v){return p/v},1),mte=Uu("floor");function gte(p){return p&&p.length?_f(p,ki,Pu):n}function bte(p,v){return p&&p.length?_f(p,Pt(v,2),Pu):n}function yte(p){return gc(p,ki)}function vte(p,v){return gc(p,Pt(v,2))}function Ste(p){return p&&p.length?_f(p,ki,Cf):n}function Ete(p,v){return p&&p.length?_f(p,Pt(v,2),Cf):n}var _te=Nf(function(p,v){return p*v},1),xte=Uu("round"),wte=Nf(function(p,v){return p-v},0);function Tte(p){return p&&p.length?yc(p,ki):0}function Cte(p,v){return p&&p.length?yc(p,Pt(v,2)):0}return ie.after=jo,ie.ary=Ir,ie.assign=PJ,ie.assignIn=g3,ie.assignInWith=Rv,ie.assignWith=LJ,ie.at=FJ,ie.before=to,ie.bind=Uo,ie.bindAll=qee,ie.bindKey=ws,ie.castArray=Ht,ie.chain=Yf,ie.chunk=lr,ie.compact=yn,ie.concat=No,ie.cond=$ee,ie.conforms=Gee,ie.constant=f_,ie.countBy=Qf,ie.create=BJ,ie.curry=tp,ie.curryRight=np,ie.debounce=Hm,ie.defaults=jJ,ie.defaultsDeep=UJ,ie.defer=Qu,ie.delay=Vm,ie.difference=Ri,ie.differenceBy=km,ie.differenceWith=zf,ie.drop=Dl,ie.dropRight=Zs,ie.dropRightWhile=t_,ie.dropWhile=n_,ie.fill=r_,ie.filter=Ku,ie.flatMap=Zn,ie.flatMapDeep=pn,ie.flatMapDepth=gn,ie.flatten=Ol,ie.flattenDeep=Dm,ie.flattenDepth=qf,ie.flip=c,ie.flow=Vee,ie.flowRight=Wee,ie.fromPairs=Om,ie.functions=WJ,ie.functionsIn=YJ,ie.groupBy=Fo,ie.initial=Nm,ie.intersection=kc,ie.intersectionBy=Dc,ie.intersectionWith=Sv,ie.invert=XJ,ie.invertBy=ZJ,ie.invokeMap=qm,ie.iteratee=p_,ie.keyBy=eo,ie.keys=fa,ie.keysIn=Ii,ie.map=nr,ie.mapKeys=JJ,ie.mapValues=eee,ie.matches=Yee,ie.matchesProperty=Kee,ie.memoize=u,ie.merge=tee,ie.mergeWith=b3,ie.method=Xee,ie.methodOf=Zee,ie.mixin=h_,ie.negate=E,ie.nthArg=Jee,ie.omit=nee,ie.omitBy=ree,ie.once=k,ie.orderBy=Bo,ie.over=ete,ie.overArgs=P,ie.overEvery=tte,ie.overSome=nte,ie.partial=F,ie.partialRight=ae,ie.partition=Fl,ie.pick=aee,ie.pickBy=y3,ie.property=T3,ie.propertyOf=rte,ie.pull=Gf,ie.pullAll=Po,ie.pullAllBy=Oc,ie.pullAllWith=Wu,ie.pullAt=Ml,ie.range=ate,ie.rangeRight=ite,ie.rearg=_e,ie.reject=jc,ie.remove=Ev,ie.rest=qe,ie.reverse=Wa,ie.sampleSize=Xa,ie.set=see,ie.setWith=oee,ie.shuffle=Gm,ie.slice=Nc,ie.sortBy=Zu,ie.sortedUniq=Ai,ie.sortedUniqBy=yr,ie.split=kee,ie.spread=Qe,ie.tail=Qs,ie.take=Vt,ie.takeRight=Kn,ie.takeRightWhile=Tr,ie.takeWhile=Vf,ie.tap=xv,ie.throttle=dt,ie.thru=vr,ie.toArray=p3,ie.toPairs=v3,ie.toPairsIn=S3,ie.toPath=ute,ie.toPlainObject=m3,ie.transform=lee,ie.unary=it,ie.union=Pc,ie.unionBy=Pl,ie.unionWith=Wf,ie.uniq=Yu,ie.uniqBy=Lc,ie.uniqWith=a_,ie.unset=cee,ie.unzip=Ll,ie.unzipWith=Fm,ie.update=uee,ie.updateWith=dee,ie.values=ap,ie.valuesIn=fee,ie.without=Bm,ie.words=x3,ie.wrap=vt,ie.xor=_v,ie.xorBy=jm,ie.xorWith=Um,ie.zip=Cr,ie.zipObject=zm,ie.zipObjectDeep=Js,ie.zipWith=Rr,ie.entries=v3,ie.entriesIn=S3,ie.extend=g3,ie.extendWith=Rv,h_(ie,ie),ie.add=fte,ie.attempt=w3,ie.camelCase=gee,ie.capitalize=E3,ie.ceil=pte,ie.clamp=pee,ie.clone=aa,ie.cloneDeep=jl,ie.cloneDeepWith=Fe,ie.cloneWith=Ju,ie.conformsTo=De,ie.deburr=_3,ie.defaultTo=Hee,ie.divide=hte,ie.endsWith=bee,ie.eq=Be,ie.escape=yee,ie.escapeRegExp=vee,ie.every=Jf,ie.find=s_,ie.findIndex=ir,ie.findKey=zJ,ie.findLast=fn,ie.findLastIndex=Hu,ie.findLastKey=qJ,ie.floor=mte,ie.forEach=Bn,ie.forEachRight=Ka,ie.forIn=$J,ie.forInRight=GJ,ie.forOwn=HJ,ie.forOwnRight=VJ,ie.get=c_,ie.gt=st,ie.gte=Bt,ie.has=KJ,ie.hasIn=u_,ie.head=Mo,ie.identity=ki,ie.includes=Bc,ie.indexOf=Vu,ie.inRange=hee,ie.invoke=QJ,ie.isArguments=Hn,ie.isArray=at,ie.isArrayBuffer=In,ie.isArrayLike=Mn,ie.isArrayLikeObject=Lt,ie.isBoolean=zo,ie.isBuffer=qo,ie.isDate=gJ,ie.isElement=bJ,ie.isEmpty=yJ,ie.isEqual=vJ,ie.isEqualWith=SJ,ie.isError=o_,ie.isFinite=EJ,ie.isFunction=Ul,ie.isInteger=c3,ie.isLength=Tv,ie.isMap=u3,ie.isMatch=_J,ie.isMatchWith=xJ,ie.isNaN=wJ,ie.isNative=TJ,ie.isNil=RJ,ie.isNull=CJ,ie.isNumber=d3,ie.isObject=Sr,ie.isObjectLike=kr,ie.isPlainObject=Wm,ie.isRegExp=l_,ie.isSafeInteger=AJ,ie.isSet=f3,ie.isString=Cv,ie.isSymbol=Ji,ie.isTypedArray=rp,ie.isUndefined=IJ,ie.isWeakMap=kJ,ie.isWeakSet=DJ,ie.join=Nl,ie.kebabCase=See,ie.last=ra,ie.lastIndexOf=Mm,ie.lowerCase=Eee,ie.lowerFirst=_ee,ie.lt=OJ,ie.lte=NJ,ie.max=gte,ie.maxBy=bte,ie.mean=yte,ie.meanBy=vte,ie.min=Ste,ie.minBy=Ete,ie.stubArray=g_,ie.stubFalse=b_,ie.stubObject=ste,ie.stubString=ote,ie.stubTrue=lte,ie.multiply=_te,ie.nth=$f,ie.noConflict=Qee,ie.noop=m_,ie.now=Bl,ie.pad=xee,ie.padEnd=wee,ie.padStart=Tee,ie.parseInt=Cee,ie.random=mee,ie.reduce=$m,ie.reduceRight=di,ie.repeat=Ree,ie.replace=Aee,ie.result=iee,ie.round=xte,ie.runInContext=Ce,ie.sample=Xu,ie.size=ep,ie.snakeCase=Iee,ie.some=wv,ie.sortedIndex=Pm,ie.sortedIndexBy=Lo,ie.sortedIndexOf=Lm,ie.sortedLastIndex=Mc,ie.sortedLastIndexBy=Hf,ie.sortedLastIndexOf=ui,ie.startCase=Dee,ie.startsWith=Oee,ie.subtract=wte,ie.sum=Tte,ie.sumBy=Cte,ie.template=Nee,ie.times=cte,ie.toFinite=zl,ie.toInteger=rn,ie.toLength=h3,ie.toLower=Mee,ie.toNumber=Ts,ie.toSafeInteger=MJ,ie.toString=Xn,ie.toUpper=Pee,ie.trim=Lee,ie.trimEnd=Fee,ie.trimStart=Bee,ie.truncate=jee,ie.unescape=Uee,ie.uniqueId=dte,ie.upperCase=zee,ie.upperFirst=d_,ie.each=Bn,ie.eachRight=Ka,ie.first=Mo,h_(ie,(function(){var p={};return ja(ie,function(v,D){Fn.call(ie.prototype,D)||(p[D]=v)}),p})(),{chain:!1}),ie.VERSION=r,Da(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){ie[p].placeholder=ie}),Da(["drop","take"],function(p,v){dn.prototype[p]=function(D){D=D===n?1:gr(rn(D),0);var B=this.__filtered__&&!v?new dn(this):this.clone();return B.__filtered__?B.__takeCount__=ea(D,B.__takeCount__):B.__views__.push({size:ea(D,Y),type:p+(B.__dir__<0?"Right":"")}),B},dn.prototype[p+"Right"]=function(D){return this.reverse()[p](D).reverse()}}),Da(["filter","map","takeWhile"],function(p,v){var D=v+1,B=D==H||D==q;dn.prototype[p]=function(Z){var le=this.clone();return le.__iteratees__.push({iteratee:Pt(Z,3),type:D}),le.__filtered__=le.__filtered__||B,le}}),Da(["head","last"],function(p,v){var D="take"+(v?"Right":"");dn.prototype[p]=function(){return this[D](1).value()[0]}}),Da(["initial","tail"],function(p,v){var D="drop"+(v?"":"Right");dn.prototype[p]=function(){return this.__filtered__?new dn(this):this[D](1)}}),dn.prototype.compact=function(){return this.filter(ki)},dn.prototype.find=function(p){return this.filter(p).head()},dn.prototype.findLast=function(p){return this.reverse().find(p)},dn.prototype.invokeMap=nn(function(p,v){return typeof p=="function"?new dn(this):this.map(function(D){return Xi(D,p,v)})}),dn.prototype.reject=function(p){return this.filter(E(Pt(p)))},dn.prototype.slice=function(p,v){p=rn(p);var D=this;return D.__filtered__&&(p>0||v<0)?new dn(D):(p<0?D=D.takeRight(-p):p&&(D=D.drop(p)),v!==n&&(v=rn(v),D=v<0?D.dropRight(-v):D.take(v-p)),D)},dn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},dn.prototype.toArray=function(){return this.take(Y)},ja(dn.prototype,function(p,v){var D=/^(?:filter|find|map|reject)|While$/.test(v),B=/^(?:head|last)$/.test(v),Z=ie[B?"take"+(v=="last"?"Right":""):v],le=B||/^find/.test(v);Z&&(ie.prototype[v]=function(){var ve=this.__wrapped__,xe=B?[1]:arguments,Oe=ve instanceof dn,Ke=xe[0],Xe=Oe||at(ve),et=function(vn){var _n=Z.apply(ie,Oa([vn],xe));return B&&mt?_n[0]:_n};Xe&&D&&typeof Ke=="function"&&Ke.length!=1&&(Oe=Xe=!1);var mt=this.__chain__,At=!!this.__actions__.length,zt=le&&!mt,cn=Oe&&!At;if(!le&&Xe){ve=cn?ve:new dn(this);var qt=p.apply(ve,xe);return qt.__actions__.push({func:vr,args:[et],thisArg:n}),new ba(qt,mt)}return zt&&cn?p.apply(this,xe):(qt=this.thru(et),zt?B?qt.value()[0]:qt.value():qt)})}),Da(["pop","push","shift","sort","splice","unshift"],function(p){var v=bl[p],D=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",B=/^(?:pop|shift)$/.test(p);ie.prototype[p]=function(){var Z=arguments;if(B&&!this.__chain__){var le=this.value();return v.apply(at(le)?le:[],Z)}return this[D](function(ve){return v.apply(at(ve)?ve:[],Z)})}}),ja(dn.prototype,function(p,v){var D=ie[v];if(D){var B=D.name+"";Fn.call(El,B)||(El[B]=[]),El[B].push({name:v,func:D})}}),El[Of(n,T).name]=[{name:"wrapper",func:n}],dn.prototype.clone=wy,dn.prototype.reverse=Ty,dn.prototype.value=Cy,ie.prototype.at=Ar,ie.prototype.chain=Ya,ie.prototype.commit=Qi,ie.prototype.next=Fc,ie.prototype.plant=Kf,ie.prototype.reverse=Xf,ie.prototype.toJSON=ie.prototype.valueOf=ie.prototype.value=Zf,ie.prototype.first=ie.prototype.head,ga&&(ie.prototype[ga]=i_),ie}),gl=vE();To?((To.exports=gl)._=gl,Kd._=gl):Pr._=gl}).call(Yoe)})(yg,yg.exports)),yg.exports}var rl=Koe();const g5e=Tn(rl),KW=()=>{const[t,e]=N.useState(!1),n=J(s=>s.roomId),r=J(s=>s.setCurrentFrame),a=N.useMemo(()=>rl.throttle(async s=>{if(n)try{await jse(n,s)}catch(o){o.response?.status===423?J.getState().showSnackbar("Step update blocked - another user is controlling playback","warning"):console.error("Failed to update step:",o)}},100,{leading:!0,trailing:!0}),[n]),i=N.useCallback(s=>{if(!n){console.error("Cannot set step: no room ID");return}r(s),a(s)},[n,r,a]);return N.useEffect(()=>{const s=o=>{const{action:l}=o,d=J.getState().hasLock();l==="released"?e(!1):d||e(!0)};return bt.on("lock_update",s),()=>{bt.off("lock_update",s)}},[]),N.useEffect(()=>()=>{a.cancel()},[a]),{setStep:i,remoteLocked:t}},Xoe=N.memo(({frame:t,label:e,position:n,isCurrentFrame:r,onBookmarkClick:a,onBookmarkDelete:i,onBookmarkEdit:s})=>{const[o,l]=N.useState(!1),[d,f]=N.useState(e),h=()=>{l(!0),f(e)},m=()=>{const g=d.trim();g&&g!==e&&s&&s(t,g),l(!1)},b=()=>{l(!1)};return o?y.jsx(xne,{onClickAway:m,children:y.jsx(Re,{sx:{position:"absolute",left:n,transform:"translateX(-50%)",top:"-8px",pointerEvents:"auto",zIndex:10},children:y.jsx(jt,{value:d,onChange:g=>f(g.target.value),onKeyDown:g=>{g.key==="Enter"?m():g.key==="Escape"&&b(),g.stopPropagation()},autoFocus:!0,size:"small",sx:{width:"150px","& .MuiInputBase-input":{fontSize:"0.875rem",padding:"4px 8px"},backgroundColor:"background.paper"}})})}):y.jsx(_t,{title:y.jsxs(Re,{children:[y.jsx(Re,{sx:{fontWeight:"bold",mb:.5},children:e}),y.jsxs(Re,{sx:{fontSize:"0.75rem",opacity:.8},children:["Frame: ",t]}),y.jsx(Re,{sx:{fontSize:"0.7rem",opacity:.6,mt:.5,fontStyle:"italic"},children:"Double-click to edit, Shift+Click to delete"})]}),arrow:!0,placement:"top",enterDelay:300,enterNextDelay:300,children:y.jsx(Re,{role:"button","aria-label":`Bookmark: ${e} (Frame ${t})`,onClick:g=>{g.shiftKey?(g.preventDefault(),g.stopPropagation(),i?.(t)):a?.(t,e)},onDoubleClick:g=>{g.preventDefault(),g.stopPropagation(),h()},sx:{position:"absolute",left:n,transform:"translateX(-50%)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",pointerEvents:"auto","&:hover":{transform:"translateX(-50%) scale(1.2)"}},children:y.jsx(wne,{sx:{fontSize:20,color:r?"secondary.main":"primary.main","& path":{fill:"none",stroke:"currentColor",strokeWidth:1.5},filter:r?"drop-shadow(0 0 4px rgba(156, 39, 176, 0.6))":"drop-shadow(0 1px 2px rgba(0,0,0,0.2))",transition:"color 0.2s ease"}})})})}),Zoe=({bookmarks:t,frameCount:e,currentFrame:n,containerWidth:r,onBookmarkClick:a,onBookmarkDelete:i,onBookmarkEdit:s})=>{const o=N.useMemo(()=>t?Object.entries(t).map(([d,f])=>({frame:Number.parseInt(d),label:f})):[],[t]),l=d=>e<=1?"0%":`${d/(e-1)*100}%`;return!t||o.length===0||r===0?null:y.jsx(Re,{sx:{position:"absolute",top:"-20px",left:0,right:0,height:16,pointerEvents:"none",zIndex:2},children:o.map(({frame:d,label:f})=>y.jsx(Xoe,{frame:d,label:f,position:l(d),isCurrentFrame:d===n,onBookmarkClick:a,onBookmarkDelete:i,onBookmarkEdit:s},d))})},Qoe=N.memo(Zoe),Joe=({frameCount:t,containerWidth:e,onPreviewChange:n})=>{const[r,a]=N.useState(!1),i=N.useRef(null),s=N.useRef(null),o=N.useCallback(f=>{if(!s.current||t<=1)return 0;const h=s.current.getBoundingClientRect(),m=Math.max(0,Math.min(f-h.left,h.width));return Math.round(m/h.width*(t-1))},[t]);N.useEffect(()=>{const f=m=>{m.key==="Shift"&&a(!0)},h=m=>{m.key==="Shift"&&(a(!1),i.current!==null&&(i.current=null,n(null)))};return window.addEventListener("keydown",f),window.addEventListener("keyup",h),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",h)}},[n]);const l=N.useCallback((f,h,m)=>{const b=J.getState().currentFrame,g=J.getState().frame_selection,S=h!==f?h:b,T=Math.min(S,f),x=Math.max(S,f);let _=Array.from({length:x-T+1},(C,R)=>T+R);m&&g&&(_=[...new Set([...g,..._])].sort((R,A)=>R-A)),J.getState().updateFrameSelection(_)},[]),d=N.useCallback(f=>{if(!r)return;f.preventDefault(),f.stopPropagation();const h=o(f.clientX);i.current=h,n([h,h]);const m=g=>{if(i.current===null)return;const w=o(g.clientX);n([Math.min(i.current,w),Math.max(i.current,w)])},b=g=>{if(window.removeEventListener("mousemove",m),window.removeEventListener("mouseup",b),i.current===null)return;const w=o(g.clientX);l(w,i.current,g.ctrlKey||g.metaKey),n(null),i.current=null};window.addEventListener("mousemove",m),window.addEventListener("mouseup",b)},[r,o,n,l]);return e===0||t<=1?null:y.jsx(Re,{ref:s,onMouseDown:d,sx:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:1,cursor:r?"crosshair":"default",pointerEvents:r?"auto":"none"}})},ele=({selectedFrames:t,frameCount:e,currentFrame:n,containerWidth:r})=>{const a=i=>e<=1?"0%":`${i/(e-1)*100}%`;return!t||t.length===0||r===0?null:y.jsx(Re,{sx:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",height:8,pointerEvents:"none",zIndex:0},children:t.map(i=>{const s=i===n,o=a(i);return y.jsx(Re,{sx:{position:"absolute",left:o,transform:"translateX(-50%)",width:2,height:"100%",backgroundColor:s?"secondary.main":"primary.main",opacity:s?.5:.25,pointerEvents:"none"}},i)})})},tle=N.memo(ele),nle=({selectedFrames:t,frameCount:e,containerWidth:n,enabled:r,currentFrame:a,disabled:i=!1,previewRange:s=null})=>{const o=b=>e<=1?0:b/(e-1)*100;if(n===0)return null;const l=()=>{if(!s)return null;const b=o(s[0]),g=o(s[1]),w=Math.max(g-b,.5);return y.jsx(Re,{sx:{position:"absolute",left:`${b}%`,width:`${w}%`,top:"50%",transform:"translateY(-50%)",height:8,backgroundColor:"primary.main",opacity:.4,borderRadius:"2px",pointerEvents:"none"}})};if(!r){const b=[{start:0,end:a,selected:!0},{start:a,end:e-1,selected:!1}];return y.jsxs(Re,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1},children:[b.map((g,w)=>{const S=o(g.start),x=w===b.length-1?e-1:b[w+1].start,C=o(x)-S;return C<=0?null:y.jsx(Re,{sx:{position:"absolute",left:`${S}%`,width:`${C}%`,top:"50%",transform:"translateY(-50%)",height:4,backgroundColor:i?"action.disabledBackground":g.selected?"primary.main":"action.disabledBackground",borderRadius:"2px"}},w)}),l()]})}if(!t||t.length===0)return null;const d=t.map(b=>{const g=Math.max(0,b-.5),w=Math.min(e-1,b+.5);return[g,w]}).sort((b,g)=>b[0]-g[0]),f=[];d.forEach(([b,g])=>{if(f.length===0)f.push([b,g]);else{const w=f[f.length-1];b<=w[1]?w[1]=Math.max(w[1],g):f.push([b,g])}});const h=[];let m=0;return f.forEach(([b,g])=>{b>m&&h.push({start:m,end:b,selected:!1}),h.push({start:b,end:g,selected:!0}),m=g}),m<e-1&&h.push({start:m,end:e-1,selected:!1}),y.jsxs(Re,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1},children:[h.map((b,g)=>{const w=o(b.start),T=o(b.end)-w;return y.jsx(Re,{sx:{position:"absolute",left:`${w}%`,width:`${T}%`,top:"50%",transform:"translateY(-50%)",height:4,backgroundColor:i?"action.disabledBackground":b.selected?"primary.main":"grey.400",borderRadius:"2px"}},g)}),l()]})},rle=()=>{const[t,e]=N.useState(!1),[n,r]=N.useState("0"),a=N.useRef(null),[i,s]=N.useState(0),[o,l]=N.useState(null),d=J(fe=>fe.currentFrame),f=J(fe=>fe.frameCount),h=J(fe=>fe.isConnected),m=J(fe=>fe.isLoading),b=J(fe=>fe.skipFrames),g=J(fe=>fe.setSkipFrames),w=J(fe=>fe.frame_selection),S=J(fe=>fe.bookmarks),T=J(fe=>fe.addBookmark),x=J(fe=>fe.deleteBookmark),_=J(fe=>fe.frameSelectionEnabled),C=J(fe=>fe.setFrameSelectionEnabled),R=J(fe=>fe.synchronizedMode),A=J(fe=>fe.setSynchronizedMode),I=J(fe=>fe.getIsFetching),O=J(fe=>fe.playing),M=J(fe=>fe.setPlaying),U=J(fe=>fe.showSnackbar),[L,z]=N.useState(!1),j=N.useRef(null),H=N.useRef(!1);N.useEffect(()=>{j.current=null,H.current=!1,z(!1)},[d]),N.useEffect(()=>{const fe=setInterval(()=>{if(I()){j.current===null&&(j.current=Date.now());const oe=Date.now()-j.current;oe>=500&&z(!0),oe>=2e3&&!H.current&&(H.current=!0,U("Loading frame from source...","info"))}else j.current!==null&&(j.current=null,H.current=!1,z(!1))},100);return()=>clearInterval(fe)},[I,U]);const{setStep:$,remoteLocked:q}=KW(),K=fe=>{if(!_||!w||w.length===0)return fe;let Ae=w[0],oe=Math.abs(fe-Ae);for(const de of w){const se=Math.abs(fe-de);se<oe&&(oe=se,Ae=de)}return Ae},V=(fe,Ae)=>{O&&M(!1);const oe=K(Ae);$(oe)};N.useEffect(()=>{const fe=()=>{a.current&&s(a.current.offsetWidth)};return fe(),window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]),N.useEffect(()=>{_&&(!w||w.length===0)&&C(!1)},[w,_,C]);const re={"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.5},"100%":{opacity:1}},animation:"pulse 1.5s ease-in-out infinite"},ee={"& .MuiInputBase-input":{textAlign:"center",fontSize:"0.875rem",padding:"4px 8px"},"& .MuiInputLabel-root":{fontSize:"0.75rem"}},Y=()=>{e(!0),r((d+1).toString())},ne=fe=>{r(fe.target.value)},te=()=>{const Ae=Number.parseInt(n,10)-1;!isNaN(Ae)&&Ae>=0&&Ae<=f-1?(O&&M(!1),$(Ae)):r((d+1).toString()),e(!1)},G=fe=>{fe.key==="Enter"?te():fe.key==="Escape"&&(r((d+1).toString()),e(!1))},W=()=>{te()},ue=fe=>{const Ae=Number.parseInt(fe.target.value,10);!isNaN(Ae)&&Ae>0&&g(Ae)},Ee=fe=>{O&&M(!1),$(fe)},ge=()=>L?y.jsx(_t,{title:"Loading frame from source...",children:y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Ca,{size:20})})}):m?y.jsx(Ane,{sx:{color:"#1976d2",fontSize:22,...re}}):h?y.jsx(Ine,{sx:{color:"#4caf50",fontSize:22}}):y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:y.jsx(Ca,{size:20})});return y.jsxs(Re,{sx:{height:`${Ta.PROGRESSBAR_HEIGHT}px`,padding:"5px 10px",backgroundColor:"background.paper",borderTop:"1px solid",borderColor:"divider",boxShadow:"0 -2px 8px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:4,flexShrink:0,zIndex:fe=>fe.zIndex.drawer+1},children:[y.jsx(Re,{sx:{minWidth:"100px",cursor:"pointer"},onClick:Y,children:t?y.jsx(jt,{value:n,onChange:ne,onKeyDown:G,onBlur:W,size:"small",variant:"outlined",autoFocus:!0,sx:{width:"80px","& .MuiInputBase-input":{textAlign:"center",fontSize:"0.875rem"}}}):y.jsxs(Ve,{variant:"body2",sx:{textAlign:"center",padding:"8px",borderRadius:"4px","&:hover":{backgroundColor:"action.hover"}},children:[d+1," / ",f]})}),y.jsxs(Re,{ref:a,sx:{flexGrow:1,position:"relative"},children:[y.jsx(Qoe,{bookmarks:S,frameCount:f,currentFrame:d,containerWidth:i,onBookmarkClick:Ee,onBookmarkDelete:x,onBookmarkEdit:T}),y.jsx(nle,{selectedFrames:w,frameCount:f,containerWidth:i,enabled:_,currentFrame:d,disabled:q,previewRange:o}),y.jsx(Joe,{frameCount:f,containerWidth:i,onPreviewChange:l}),!_&&y.jsx(tle,{selectedFrames:w,frameCount:f,currentFrame:d,containerWidth:i}),y.jsx(fb,{orientation:"horizontal",value:d,onChange:V,disabled:q,max:f-1,"aria-label":"Frame Progress",valueLabelDisplay:"auto",valueLabelFormat:fe=>fe+1,sx:{position:"relative",top:"2px","& .MuiSlider-thumb":{transition:"none !important",zIndex:2},"& .MuiSlider-track":{transition:"none !important",display:"none"},"& .MuiSlider-rail":{transition:"none !important",display:"none"}}})]}),y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1,minWidth:"120px"},children:[y.jsx(jt,{variant:"outlined",size:"small",label:"Skip",value:b,onChange:ue,type:"number",slotProps:{htmlInput:{min:1}},sx:{...ee,width:80}}),w&&w.length>0&&y.jsx(_t,{title:_?"Disable frame selection filter (Escape to clear)":"Enable frame selection filter (Escape to clear)",children:y.jsx(Ct,{size:"small",onClick:()=>C(!_),sx:{color:_?"primary.main":"text.secondary","&:hover":{backgroundColor:"action.hover"}},children:y.jsx(Tne,{fontSize:"small"})})}),y.jsx(_t,{title:R?"Synchronized mode enabled - playback waits for all active geometries to finish loading":"Synchronized mode disabled - playback uses fixed FPS",children:y.jsx(Ct,{size:"small",onClick:()=>A(!R),sx:{color:R?"primary.main":"text.secondary",...I()&&R?re:{},"&:hover":{backgroundColor:"action.hover"}},children:R?y.jsx(Cne,{fontSize:"small"}):y.jsx(Rne,{fontSize:"small"})})}),ge()]})]})};function ale({open:t,onClose:e}){const[n,r]=N.useState(""),[a,i]=N.useState(""),[s,o]=N.useState(""),[l,d]=N.useState(null),[f,h]=N.useState(!1),m=J(x=>x.setUser),b=J(x=>x.showSnackbar),g=J(x=>x.user?.email??null),w=async()=>{if(d(null),!n||!n.trim()){d("Email is required");return}if(!a){d("Password is required");return}if(a!==s){d("Passwords do not match");return}h(!0);try{await Rie(n,a);const{user:x}=await Dp();m(x),b(`Registered as ${x.email}`,"success"),e(),r(""),i(""),o("")}catch(x){d(x instanceof Error?x.message:"Registration failed")}finally{h(!1)}},S=x=>{x.key==="Enter"&&!f&&n&&a&&s&&w()},T=()=>{f||(d(null),r(""),i(""),o(""),e())};return y.jsxs(yi,{open:t,onClose:T,maxWidth:"xs",fullWidth:!0,children:[y.jsx(Ui,{children:"Register Account"}),y.jsx(vi,{children:y.jsxs(Re,{sx:{pt:1,display:"flex",flexDirection:"column",gap:2},children:[y.jsxs(Ve,{variant:"body2",color:"text.secondary",children:["Current temporary name: ",y.jsx("strong",{children:g})]}),y.jsx(Ve,{variant:"body2",color:"text.secondary",children:"Choose an email and password to register your account."}),l&&y.jsx(ha,{severity:"error",onClose:()=>d(null),children:l}),y.jsx(jt,{label:"Email",type:"email",value:n,onChange:x=>r(x.target.value),onKeyDown:S,disabled:f,fullWidth:!0,autoComplete:"email"}),y.jsx(jt,{label:"Password",type:"password",value:a,onChange:x=>i(x.target.value),onKeyDown:S,disabled:f,fullWidth:!0,autoComplete:"new-password"}),y.jsx(jt,{label:"Confirm Password",type:"password",value:s,onChange:x=>o(x.target.value),onKeyDown:S,disabled:f,fullWidth:!0,autoComplete:"new-password"})]})}),y.jsxs(cs,{sx:{px:3,pb:2},children:[y.jsx(xt,{onClick:T,disabled:f,children:"Cancel"}),y.jsx(xt,{onClick:w,disabled:f||!n||!a||!s,variant:"contained",children:f?"Registering...":"Register"})]})]})}function Jm(t){return Array.from(t.values()).sort((e,n)=>e.id.localeCompare(n.id))}const uo=cb((t,e)=>({roomsMap:new Map,roomsArray:[],loading:!1,error:null,fetchRooms:async()=>{t({loading:!0,error:null});try{const n=await VM(),r=new Map;for(const i of n)r.set(i.id,i);const a=Jm(r);t({roomsMap:r,roomsArray:a,loading:!1})}catch(n){console.error("Failed to fetch rooms:",n),t({error:"Failed to fetch rooms",loading:!1})}},setRoom:(n,r)=>{t(a=>{const i=new Map(a.roomsMap);i.set(n,r);const s=Jm(i);return{roomsMap:i,roomsArray:s}})},updateRoom:(n,r)=>{t(a=>{const i=a.roomsMap.get(n);if(!i){const d={id:n,frame_count:0,locked:!1,is_default:!1,...r},f=new Map(a.roomsMap);f.set(n,d);const h=Jm(f);return{roomsMap:f,roomsArray:h}}const s={...i,...r},o=new Map(a.roomsMap);o.set(n,s);const l=Jm(o);return{roomsMap:o,roomsArray:l}})},removeRoom:n=>{t(r=>{const a=new Map(r.roomsMap);a.delete(n);const i=Jm(a);return{roomsMap:a,roomsArray:i}})},getRoom:n=>e().roomsMap.get(n)}));function dF(t,e){return t?e.includes(t)?"A room with this ID already exists":/^[a-zA-Z0-9_-]+$/.test(t)?null:"Room ID can only contain letters, numbers, hyphens, and underscores":null}function XW({open:t,sourceRoomId:e,sourceDescription:n,existingRoomIds:r,onClose:a}){const i=Up(),[s,o]=N.useState(""),[l,d]=N.useState(""),[f,h]=N.useState(null),m=()=>{o(""),d(`Copy of ${n||e}`),h(null)},b=async()=>{const g=dF(s,r);if(g){h(g);return}try{const w=s||crypto.randomUUID(),S=await Eb({room_id:w,copy_from:e,description:l});a(),i(`/rooms/${S.room_id}`)}catch(w){h(w instanceof Error?w.message:"Failed to duplicate room")}};return y.jsxs(yi,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,TransitionProps:{onEnter:m},children:[y.jsx(Ui,{children:"Duplicate Room"}),y.jsxs(vi,{children:[y.jsxs(Ve,{variant:"body2",color:"text.secondary",sx:{mb:3,mt:1},children:["Duplicating: ",n||e]}),y.jsx(jt,{margin:"dense",label:"New Room ID (optional)",type:"text",fullWidth:!0,variant:"outlined",value:s,onChange:g=>{const w=g.target.value;o(w),h(dF(w,r))},helperText:f||"Leave empty to auto-generate a unique ID",error:!!f,sx:{mb:2}}),y.jsx(jt,{autoFocus:!0,margin:"dense",label:"Description for new room",type:"text",fullWidth:!0,variant:"outlined",value:l,onChange:g=>d(g.target.value)})]}),y.jsxs(cs,{children:[y.jsx(xt,{onClick:a,children:"Cancel"}),y.jsx(xt,{onClick:b,variant:"contained",disabled:!!f,children:"Duplicate"})]})]})}function ile(){const{roomId:t}=t1(),e=Up();J(ne=>ne.user?.email??null);const n=J(ne=>ne.user?.is_superuser??!1),r=J(ne=>ne.currentFrame),a=J(ne=>ne.showSnackbar),i=J(ne=>ne.userLock),s=J(ne=>ne.userLockMessage),[o,l]=N.useState(null),[d,f]=N.useState(null),[h,m]=N.useState(!1),[b,g]=N.useState(!1),[w,S]=N.useState(!1),T=uo(ne=>ne.roomsArray),x=uo(ne=>t?ne.getRoom(t):void 0);N.useEffect(()=>{uo.getState().fetchRooms()},[]),N.useEffect(()=>{x&&f(x)},[x]);const _=d?.is_default??x?.is_default??!1;N.useEffect(()=>{const ne=async()=>{if(t)try{const G=await NW(t,"filesystem");m(G.length>0)}catch{m(!1)}};ne();const te=()=>{ne()};return bt.on("providers_invalidate",te),()=>{bt.off("providers_invalidate",te)}},[t]);const C=!!o,R=J(ne=>ne.superuserLock),A=i!==null,I=R||A,O=async ne=>{if(l(ne.currentTarget),t)try{const te=await MN(t);f(te)}catch(te){console.error("Failed to fetch room details:",te)}},M=()=>{l(null)},U=async()=>{if(A&&!R){a(`Locked by ${i||"another user"}: ${s||"in use"}`,"info");return}await L()},L=async()=>{if(!t)return;let ne=d;if(!ne)try{ne=await MN(t),f(ne)}catch{a("Failed to fetch room details","error");return}try{await PN(t,{locked:!ne.locked}),f({...ne,locked:!ne.locked}),a(ne.locked?"Room unlocked":"Room locked","success")}catch{a("Failed to update lock status","error")}},z=async()=>{if(t){try{await DW(_?null:t),uo.getState().updateRoom(t,{is_default:!_}),a(_?"Template cleared":"Set as template","success")}catch{a("Failed to update template","error"),uo.getState().updateRoom(t,{is_default:_})}M()}},j=()=>{g(!0),M()},H=()=>{e("/rooms"),M()},$=()=>{t&&(e(`/rooms/${t}/files`),M())},q=()=>{S(!0),M()},K=()=>{S(!1)},V=async()=>{S(!1),Fse().catch(()=>{})},re=()=>{t&&(aF({roomId:t,indices:[r]}),M(),a("Downloading current frame as ExtendedXYZ","success"))},ee=()=>{t&&(aF({roomId:t}),M(),a("Downloading all frames as ExtendedXYZ","success"))};if(!t)return null;const Y=()=>n?R?"Click to unlock room":A?`${i||"Someone"}: ${s||"using this room"} - cannot unlock`:"Click to lock room":R?"Room is locked by an administrator":A?`${i||"Someone"}: ${s||"using this room"}`:"";return y.jsxs(y.Fragment,{children:[n?y.jsx(_t,{title:Y(),arrow:!0,children:y.jsx(Ct,{size:"small",onClick:U,sx:{color:I?R?"error.main":"warning.main":"action.disabled",mr:.5},children:I?y.jsx($g,{}):y.jsx(MM,{})})}):I&&y.jsx(_t,{title:Y(),arrow:!0,children:y.jsx($g,{fontSize:"small",sx:{color:R?"error.main":"warning.main",mr:.5}})}),_&&y.jsx(pr,{icon:y.jsx(EN,{}),label:"Template",color:"primary",size:"small",sx:{mr:1}}),y.jsx(_t,{title:"Room menu",children:y.jsx(Ct,{color:"inherit","aria-label":"room menu",onClick:O,children:y.jsx(kne,{})})}),y.jsxs(PM,{anchorEl:o,open:C,onClose:M,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[n&&y.jsxs(rr,{onClick:z,children:[y.jsx(xa,{children:_?y.jsx(PV,{}):y.jsx(EN,{})}),y.jsx(Ur,{children:_?"Remove as Template":"Set as Template"})]}),y.jsxs(rr,{onClick:j,children:[y.jsx(xa,{children:y.jsx(LM,{})}),y.jsx(Ur,{children:"Duplicate Room"})]}),y.jsxs(rr,{onClick:re,children:[y.jsx(xa,{children:y.jsx(k3,{})}),y.jsx(Ur,{children:"Current Frame (ExtXYZ)"})]}),y.jsxs(rr,{onClick:ee,children:[y.jsx(xa,{children:y.jsx(k3,{})}),y.jsx(Ur,{children:"All Frames (ExtXYZ)"})]}),y.jsxs(rr,{onClick:H,children:[y.jsx(xa,{children:y.jsx(Dne,{})}),y.jsx(Ur,{children:"Go to Room List"})]}),h&&y.jsxs(rr,{onClick:$,children:[y.jsx(xa,{children:y.jsx(NV,{})}),y.jsx(Ur,{children:"Filesystem"})]}),n&&y.jsxs(rr,{onClick:q,children:[y.jsx(xa,{children:y.jsx(One,{})}),y.jsx(Ur,{children:"Close ZnDraw"})]})]}),y.jsxs(yi,{open:w,onClose:K,maxWidth:"xs",fullWidth:!0,children:[y.jsx(Ui,{children:"Shutdown Server?"}),y.jsx(vi,{children:y.jsx(Ve,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"This will close the ZnDraw server for all connected users. Are you sure?"})}),y.jsxs(cs,{children:[y.jsx(xt,{onClick:K,children:"Cancel"}),y.jsx(xt,{onClick:V,variant:"contained",color:"error",children:"Shutdown"})]})]}),y.jsx(XW,{open:b,sourceRoomId:t||"",sourceDescription:d?.description||t||"room",existingRoomIds:T.map(ne=>ne.id),onClose:()=>g(!1)})]})}function sle({onTutorialClick:t}){const e=J(o=>o.roomId),n=J(o=>o.globalSettings),r=J(o=>o.showSnackbar),[a,i]=N.useState(!0);N.useEffect(()=>{if(a){const o=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(o)}},[a]);const s=async o=>{if(!e){r("Please select a room first","warning");return}try{const l=`@global:modifiers:${o}`;await h1(e,l,{}),r(`${o} submitted successfully`,"success")}catch(l){console.error(`Failed to submit ${o}:`,l),r(`Failed to submit ${o}`,"error")}};return n?.simgen?.enabled?y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1.5,m:0},children:[y.jsx(_t,{title:"Connect selected atoms",children:y.jsx(xt,{color:"inherit",startIcon:y.jsx(Nne,{}),onClick:()=>s("Connect"),size:"medium",sx:{textTransform:"none",fontWeight:500,"&:hover":{bgcolor:o=>o.palette.mode==="light"?"rgba(25, 118, 210, 0.08)":"rgba(144, 202, 249, 0.12)"}},children:"Connect"})}),y.jsx(_t,{title:"Run SiMGen Demo",children:y.jsx(xt,{color:"inherit",startIcon:y.jsx(Mne,{}),onClick:()=>s("SiMGenDemo"),size:"medium",sx:{textTransform:"none",fontWeight:500,"&:hover":{bgcolor:o=>o.palette.mode==="light"?"rgba(25, 118, 210, 0.08)":"rgba(144, 202, 249, 0.12)"}},children:"Generate"})}),y.jsx(_t,{title:"Replace scene with empty canvas",children:y.jsx(xt,{color:"inherit",startIcon:y.jsx(Pne,{}),onClick:()=>s("NewCanvas"),size:"medium",sx:{textTransform:"none",fontWeight:500,"&:hover":{bgcolor:o=>o.palette.mode==="light"?"rgba(25, 118, 210, 0.08)":"rgba(144, 202, 249, 0.12)"}},children:"New Canvas"})}),y.jsx(Re,{sx:{width:"1px",height:"24px",bgcolor:"divider",mx:.5}}),y.jsx(_t,{title:"SiMGen Tutorial",children:y.jsx(xt,{color:"inherit",onClick:t,size:"medium",sx:{minWidth:"auto",px:1,textTransform:"none",fontWeight:500,"&:hover":{bgcolor:o=>o.palette.mode==="light"?"rgba(25, 118, 210, 0.08)":"rgba(144, 202, 249, 0.12)"}},children:y.jsx(pb,{fontSize:"small"})})})]}):null}function ole({open:t,onClose:e,url:n}){return y.jsxs(yi,{open:t,onClose:e,maxWidth:"lg",fullWidth:!0,slotProps:{paper:{sx:{height:"90vh"}}},children:[y.jsxs(Ui,{children:["SiMGen Tutorial",y.jsx(Ct,{"aria-label":"close",onClick:e,sx:{position:"absolute",right:8,top:8,color:r=>r.palette.grey[500]},children:y.jsx(n1,{})})]}),y.jsx(vi,{sx:{padding:0},children:y.jsx("iframe",{src:n,title:"SiMGen Tutorial",style:{width:"100%",height:"100%",border:"none"}})})]})}var ZW=Symbol.for("immer-nothing"),fF=Symbol.for("immer-draftable"),os=Symbol.for("immer-state");function fo(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wg=Object.getPrototypeOf;function Op(t){return!!t&&!!t[os]}function vd(t){return t?QW(t)||Array.isArray(t)||!!t[fF]||!!t.constructor?.[fF]||_b(t)||y1(t):!1}var lle=Object.prototype.constructor.toString(),pF=new WeakMap;function QW(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=pF.get(n);return r===void 0&&(r=Function.toString.call(n),pF.set(n,r)),r===lle}function BS(t,e,n=!0){b1(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(a=>{e(a,t[a],t)}):t.forEach((r,a)=>e(a,r,t))}function b1(t){const e=t[os];return e?e.type_:Array.isArray(t)?1:_b(t)?2:y1(t)?3:0}function GN(t,e){return b1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function JW(t,e,n){const r=b1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function cle(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _b(t){return t instanceof Map}function y1(t){return t instanceof Set}function ud(t){return t.copy_||t.base_}function HN(t,e){if(_b(t))return new Map(t);if(y1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=QW(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[os];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const s=a[i],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Wg(t),r)}else{const r=Wg(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function QM(t,e=!1){return v1(t)||Op(t)||!vd(t)||(b1(t)>1&&Object.defineProperties(t,{set:Ov,add:Ov,clear:Ov,delete:Ov}),Object.freeze(t),e&&Object.values(t).forEach(n=>QM(n,!0))),t}function ule(){fo(2)}var Ov={value:ule};function v1(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var dle={};function Sd(t){const e=dle[t];return e||fo(0,t),e}var Yg;function eY(){return Yg}function fle(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hF(t,e){e&&(Sd("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function VN(t){WN(t),t.drafts_.forEach(ple),t.drafts_=null}function WN(t){t===Yg&&(Yg=t.parent_)}function mF(t){return Yg=fle(Yg,t)}function ple(t){const e=t[os];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function gF(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[os].modified_&&(VN(e),fo(4)),vd(t)&&(t=jS(e,t),e.parent_||US(e,t)),e.patches_&&Sd("Patches").generateReplacementPatches_(n[os].base_,t,e.patches_,e.inversePatches_)):t=jS(e,n,[]),VN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==ZW?t:void 0}function jS(t,e,n){if(v1(e))return e;const r=t.immer_.shouldUseStrictIteration(),a=e[os];if(!a)return BS(e,(i,s)=>bF(t,a,e,i,s,n),r),e;if(a.scope_!==t)return e;if(!a.modified_)return US(t,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),BS(s,(l,d)=>bF(t,a,i,l,d,n,o),r),US(t,i,!1),n&&t.patches_&&Sd("Patches").generatePatches_(a,n,t.patches_,t.inversePatches_)}return a.copy_}function bF(t,e,n,r,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=v1(a);if(!(o&&!s)){if(Op(a)){const l=i&&e&&e.type_!==3&&!GN(e.assigned_,r)?i.concat(r):void 0,d=jS(t,a,l);if(JW(n,r,d),Op(d))t.canAutoFreeze_=!1;else return}else s&&n.add(a);if(vd(a)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===a&&o)return;jS(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(_b(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&US(t,a)}}}function US(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QM(e,n)}function hle(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:eY(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=JM;n&&(a=[r],i=Kg);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}var JM={get(t,e){if(e===os)return t;const n=ud(t);if(!GN(n,e))return mle(t,n,e);const r=n[e];return t.finalized_||!vd(r)?r:r===A_(t.base_,e)?(I_(t),t.copy_[e]=KN(r,t)):r},has(t,e){return e in ud(t)},ownKeys(t){return Reflect.ownKeys(ud(t))},set(t,e,n){const r=tY(ud(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=A_(ud(t),e),i=a?.[os];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(cle(n,a)&&(n!==void 0||GN(t.base_,e)))return!0;I_(t),YN(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return A_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,I_(t),YN(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ud(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fo(11)},getPrototypeOf(t){return Wg(t.base_)},setPrototypeOf(){fo(12)}},Kg={};BS(JM,(t,e)=>{Kg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Kg.deleteProperty=function(t,e){return Kg.set.call(this,t,e,void 0)};Kg.set=function(t,e,n){return JM.set.call(this,t[0],e,n,t[0])};function A_(t,e){const n=t[os];return(n?ud(n):t)[e]}function mle(t,e,n){const r=tY(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function tY(t,e){if(!(e in t))return;let n=Wg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wg(n)}}function YN(t){t.modified_||(t.modified_=!0,t.parent_&&YN(t.parent_))}function I_(t){t.copy_||(t.copy_=HN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var gle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const s=this;return function(l=i,...d){return s.produce(l,f=>n.call(this,f,...d))}}typeof n!="function"&&fo(6),r!==void 0&&typeof r!="function"&&fo(7);let a;if(vd(e)){const i=mF(this),s=KN(e,void 0);let o=!0;try{a=n(s),o=!1}finally{o?VN(i):WN(i)}return hF(i,r),gF(a,i)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===ZW&&(a=void 0),this.autoFreeze_&&QM(a,!0),r){const i=[],s=[];Sd("Patches").generateReplacementPatches_(e,a,i,s),r(i,s)}return a}else fo(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,a;return[this.produce(e,n,(s,o)=>{r=s,a=o}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){vd(t)||fo(8),Op(t)&&(t=ble(t));const e=mF(this),n=KN(t,void 0);return n[os].isManual_=!0,WN(e),n}finishDraft(t,e){const n=t&&t[os];(!n||!n.isManual_)&&fo(9);const{scope_:r}=n;return hF(r,e),gF(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=Sd("Patches").applyPatches_;return Op(t)?r(t,e):this.produce(t,a=>r(a,e))}};function KN(t,e){const n=_b(t)?Sd("MapSet").proxyMap_(t,e):y1(t)?Sd("MapSet").proxySet_(t,e):hle(t,e);return(e?e.scope_:eY()).drafts_.push(n),n}function ble(t){return Op(t)||fo(10,t),nY(t)}function nY(t){if(!vd(t)||v1(t))return t;const e=t[os];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HN(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=HN(t,!0);return BS(n,(a,i)=>{JW(n,a,nY(i))},r),e&&(e.finalized_=!1),n}var yle=new gle,vle=yle.produce;const Sle=t=>(e,n,r)=>(r.setState=(a,i,...s)=>{const o=typeof a=="function"?vle(a):a;return e(o,i,...s)},t(r.setState,n,r)),rY=Sle,Xg=cb()(rY(t=>({selectedCategory:null,selectedExtensions:{},setSelectedCategory:e=>{t(n=>{n.selectedCategory=e})},setSelectedExtension:(e,n)=>{t(r=>{r.selectedExtensions[e]=n})}}))),Ele=({drawerWidth:t,navItems:e,selectedItem:n,onItemClick:r})=>y.jsxs(Lne,{variant:"permanent",sx:{width:t,flexShrink:0,"& .MuiDrawer-paper":{width:t,boxSizing:"border-box",height:YW(),top:Ta.APPBAR_HEIGHT}},children:[y.jsx(Re,{sx:{overflow:"auto",flexGrow:1,display:"flex",flexDirection:"column"},children:y.jsx(ub,{sx:{flexGrow:1},children:e.map(a=>y.jsx(Zl,{disablePadding:!0,children:y.jsx(_t,{title:a.description,placement:"right",children:y.jsx(Vc,{onClick:()=>r(a.name),selected:n===a.name,sx:{justifyContent:"center",alignItems:"center",p:2},children:y.jsx(xa,{sx:{minWidth:0,display:"flex",justifyContent:"center",color:n===a.name?"primary.main":"inherit"},children:a.icon})})})},a.name))})}),y.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:2,borderTop:a=>`1px solid ${a.palette.divider}`},children:y.jsx(_t,{title:"View on GitHub",placement:"right",children:y.jsx(Ct,{component:"a",href:"https://github.com/zincware/ZnDraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository",sx:{color:"text.secondary",p:1},children:y.jsx(Fne,{})})})})]});var k_,yF;function S1(){if(yF)return k_;yF=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return k_=e,k_}var D_,vF;function aY(){if(vF)return D_;vF=1;function t(e,n){return function(r){return e(n(r))}}return D_=t,D_}var O_,SF;function _le(){if(SF)return O_;SF=1;var t=aY(),e=t(Object.keys,Object);return O_=e,O_}var N_,EF;function eP(){if(EF)return N_;EF=1;var t=S1(),e=_le(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var o in Object(i))r.call(i,o)&&o!="constructor"&&s.push(o);return s}return N_=a,N_}var M_,_F;function iY(){if(_F)return M_;_F=1;var t=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;return M_=t,M_}var P_,xF;function Si(){if(xF)return P_;xF=1;var t=iY(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return P_=n,P_}var L_,wF;function Hp(){if(wF)return L_;wF=1;var t=Si(),e=t.Symbol;return L_=e,L_}var F_,TF;function xle(){if(TF)return F_;TF=1;var t=Hp(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(s){var o=n.call(s,a),l=s[a];try{s[a]=void 0;var d=!0}catch{}var f=r.call(s);return d&&(o?s[a]=l:delete s[a]),f}return F_=i,F_}var B_,CF;function wle(){if(CF)return B_;CF=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return B_=n,B_}var j_,RF;function au(){if(RF)return j_;RF=1;var t=Hp(),e=xle(),n=wle(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?a:r:i&&i in Object(o)?e(o):n(o)}return j_=s,j_}var U_,AF;function ds(){if(AF)return U_;AF=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return U_=t,U_}var z_,IF;function xb(){if(IF)return z_;IF=1;var t=au(),e=ds(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==a||l==n||l==i}return z_=s,z_}var q_,kF;function Tle(){if(kF)return q_;kF=1;var t=Si(),e=t["__core-js_shared__"];return q_=e,q_}var $_,DF;function Cle(){if(DF)return $_;DF=1;var t=Tle(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return $_=n,$_}var G_,OF;function sY(){if(OF)return G_;OF=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return G_=n,G_}var H_,NF;function Rle(){if(NF)return H_;NF=1;var t=xb(),e=Cle(),n=ds(),r=sY(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,d=o.hasOwnProperty,f=RegExp("^"+l.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var b=t(m)?f:i;return b.test(r(m))}return H_=h,H_}var V_,MF;function Ale(){if(MF)return V_;MF=1;function t(e,n){return e?.[n]}return V_=t,V_}var W_,PF;function Ad(){if(PF)return W_;PF=1;var t=Rle(),e=Ale();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return W_=n,W_}var Y_,LF;function Ile(){if(LF)return Y_;LF=1;var t=Ad(),e=Si(),n=t(e,"DataView");return Y_=n,Y_}var K_,FF;function tP(){if(FF)return K_;FF=1;var t=Ad(),e=Si(),n=t(e,"Map");return K_=n,K_}var X_,BF;function kle(){if(BF)return X_;BF=1;var t=Ad(),e=Si(),n=t(e,"Promise");return X_=n,X_}var Z_,jF;function oY(){if(jF)return Z_;jF=1;var t=Ad(),e=Si(),n=t(e,"Set");return Z_=n,Z_}var Q_,UF;function lY(){if(UF)return Q_;UF=1;var t=Ad(),e=Si(),n=t(e,"WeakMap");return Q_=n,Q_}var J_,zF;function Id(){if(zF)return J_;zF=1;var t=Ile(),e=tP(),n=kle(),r=oY(),a=lY(),i=au(),s=sY(),o="[object Map]",l="[object Object]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",m="[object DataView]",b=s(t),g=s(e),w=s(n),S=s(r),T=s(a),x=i;return(t&&x(new t(new ArrayBuffer(1)))!=m||e&&x(new e)!=o||n&&x(n.resolve())!=d||r&&x(new r)!=f||a&&x(new a)!=h)&&(x=function(_){var C=i(_),R=C==l?_.constructor:void 0,A=R?s(R):"";if(A)switch(A){case b:return m;case g:return o;case w:return d;case S:return f;case T:return h}return C}),J_=x,J_}var ex,qF;function fs(){if(qF)return ex;qF=1;function t(e){return e!=null&&typeof e=="object"}return ex=t,ex}var tx,$F;function Dle(){if($F)return tx;$F=1;var t=au(),e=fs(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return tx=r,tx}var nx,GF;function wb(){if(GF)return nx;GF=1;var t=Dle(),e=fs(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!a.call(s,"callee")};return nx=i,nx}var rx,HF;function Qr(){if(HF)return rx;HF=1;var t=Array.isArray;return rx=t,rx}var ax,VF;function nP(){if(VF)return ax;VF=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return ax=e,ax}var ix,WF;function ac(){if(WF)return ix;WF=1;var t=xb(),e=nP();function n(r){return r!=null&&e(r.length)&&!t(r)}return ix=n,ix}var vg={exports:{}},sx,YF;function Ole(){if(YF)return sx;YF=1;function t(){return!1}return sx=t,sx}vg.exports;var KF;function Tb(){return KF||(KF=1,(function(t,e){var n=Si(),r=Ole(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,d=l||r;t.exports=d})(vg,vg.exports)),vg.exports}var ox,XF;function Nle(){if(XF)return ox;XF=1;var t=au(),e=nP(),n=fs(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",b="[object Set]",g="[object String]",w="[object WeakMap]",S="[object ArrayBuffer]",T="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",R="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",U="[object Uint32Array]",L={};L[x]=L[_]=L[C]=L[R]=L[A]=L[I]=L[O]=L[M]=L[U]=!0,L[r]=L[a]=L[S]=L[i]=L[T]=L[s]=L[o]=L[l]=L[d]=L[f]=L[h]=L[m]=L[b]=L[g]=L[w]=!1;function z(j){return n(j)&&e(j.length)&&!!L[t(j)]}return ox=z,ox}var lx,ZF;function rP(){if(ZF)return lx;ZF=1;function t(e){return function(n){return e(n)}}return lx=t,lx}var Sg={exports:{}};Sg.exports;var QF;function aP(){return QF||(QF=1,(function(t,e){var n=iY(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i&&n.process,o=(function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(Sg,Sg.exports)),Sg.exports}var cx,JF;function E1(){if(JF)return cx;JF=1;var t=Nle(),e=rP(),n=aP(),r=n&&n.isTypedArray,a=r?e(r):t;return cx=a,cx}var ux,e4;function Mle(){if(e4)return ux;e4=1;var t=eP(),e=Id(),n=wb(),r=Qr(),a=ac(),i=Tb(),s=S1(),o=E1(),l="[object Map]",d="[object Set]",f=Object.prototype,h=f.hasOwnProperty;function m(b){if(b==null)return!0;if(a(b)&&(r(b)||typeof b=="string"||typeof b.splice=="function"||i(b)||o(b)||n(b)))return!b.length;var g=e(b);if(g==l||g==d)return!b.size;if(s(b))return!t(b).length;for(var w in b)if(h.call(b,w))return!1;return!0}return ux=m,ux}var Ple=Mle();const Xt=Tn(Ple);var dx,t4;function cY(){if(t4)return dx;t4=1;function t(e,n,r,a){var i=-1,s=e==null?0:e.length;for(a&&s&&(r=e[++i]);++i<s;)r=n(r,e[i],i,e);return r}return dx=t,dx}var fx,n4;function Lle(){if(n4)return fx;n4=1;function t(e){return function(n){return e?.[n]}}return fx=t,fx}var px,r4;function Fle(){if(r4)return px;r4=1;var t=Lle(),e={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},n=t(e);return px=n,px}var hx,a4;function Vp(){if(a4)return hx;a4=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return hx=t,hx}var mx,i4;function Wp(){if(i4)return mx;i4=1;var t=au(),e=fs(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return mx=r,mx}var gx,s4;function uY(){if(s4)return gx;s4=1;var t=Hp(),e=Vp(),n=Qr(),r=Wp(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(n(o))return e(o,s)+"";if(r(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return gx=s,gx}var bx,o4;function Yp(){if(o4)return bx;o4=1;var t=uY();function e(n){return n==null?"":t(n)}return bx=e,bx}var yx,l4;function Ble(){if(l4)return yx;l4=1;var t=Fle(),e=Yp(),n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,r="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",s=r+a+i,o="["+s+"]",l=RegExp(o,"g");function d(f){return f=e(f),f&&f.replace(n,t).replace(l,"")}return yx=d,yx}var vx,c4;function jle(){if(c4)return vx;c4=1;var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(n){return n.match(t)||[]}return vx=e,vx}var Sx,u4;function Ule(){if(u4)return Sx;u4=1;var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(n){return t.test(n)}return Sx=e,Sx}var Ex,d4;function zle(){if(d4)return Ex;d4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",o="\\xac\\xb1\\xd7\\xf7",l="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",h="A-Z\\xc0-\\xd6\\xd8-\\xde",m="\\ufe0e\\ufe0f",b=o+l+d+f,g="[']",w="["+b+"]",S="["+a+"]",T="\\d+",x="["+i+"]",_="["+s+"]",C="[^"+t+b+T+i+s+h+"]",R="\\ud83c[\\udffb-\\udfff]",A="(?:"+S+"|"+R+")",I="[^"+t+"]",O="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",U="["+h+"]",L="\\u200d",z="(?:"+_+"|"+C+")",j="(?:"+U+"|"+C+")",H="(?:"+g+"(?:d|ll|m|re|s|t|ve))?",$="(?:"+g+"(?:D|LL|M|RE|S|T|VE))?",q=A+"?",K="["+m+"]?",V="(?:"+L+"(?:"+[I,O,M].join("|")+")"+K+q+")*",re="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ee="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Y=K+q+V,ne="(?:"+[x,O,M].join("|")+")"+Y,te=RegExp([U+"?"+_+"+"+H+"(?="+[w,U,"$"].join("|")+")",j+"+"+$+"(?="+[w,U+z,"$"].join("|")+")",U+"?"+z+"+"+H,U+"+"+$,ee,re,T,ne].join("|"),"g");function G(W){return W.match(te)||[]}return Ex=G,Ex}var _x,f4;function qle(){if(f4)return _x;f4=1;var t=jle(),e=Ule(),n=Yp(),r=zle();function a(i,s,o){return i=n(i),s=o?void 0:s,s===void 0?e(i)?r(i):t(i):i.match(s)||[]}return _x=a,_x}var xx,p4;function $le(){if(p4)return xx;p4=1;var t=cY(),e=Ble(),n=qle(),r="[']",a=RegExp(r,"g");function i(s){return function(o){return t(n(e(o).replace(a,"")),s,"")}}return xx=i,xx}var wx,h4;function dY(){if(h4)return wx;h4=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+n];return s}return wx=t,wx}var Tx,m4;function Gle(){if(m4)return Tx;m4=1;var t=dY();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return Tx=e,Tx}var Cx,g4;function fY(){if(g4)return Cx;g4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+a+i+"]");function l(d){return o.test(d)}return Cx=l,Cx}var Rx,b4;function Hle(){if(b4)return Rx;b4=1;function t(e){return e.split("")}return Rx=t,Rx}var Ax,y4;function Vle(){if(y4)return Ax;y4=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",s="["+t+"]",o="["+a+"]",l="\\ud83c[\\udffb-\\udfff]",d="(?:"+o+"|"+l+")",f="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",g=d+"?",w="["+i+"]?",S="(?:"+b+"(?:"+[f,h,m].join("|")+")"+w+g+")*",T=w+g+S,x="(?:"+[f+o+"?",o,h,m,s].join("|")+")",_=RegExp(l+"(?="+l+")|"+x+T,"g");function C(R){return R.match(_)||[]}return Ax=C,Ax}var Ix,v4;function Wle(){if(v4)return Ix;v4=1;var t=Hle(),e=fY(),n=Vle();function r(a){return e(a)?n(a):t(a)}return Ix=r,Ix}var kx,S4;function Yle(){if(S4)return kx;S4=1;var t=Gle(),e=fY(),n=Wle(),r=Yp();function a(i){return function(s){s=r(s);var o=e(s)?n(s):void 0,l=o?o[0]:s.charAt(0),d=o?t(o,1).join(""):s.slice(1);return l[i]()+d}}return kx=a,kx}var Dx,E4;function Kle(){if(E4)return Dx;E4=1;var t=Yle(),e=t("toUpperCase");return Dx=e,Dx}var Ox,_4;function Xle(){if(_4)return Ox;_4=1;var t=$le(),e=Kle(),n=t(function(r,a,i){return r+(i?" ":"")+e(a)});return Ox=n,Ox}var Zle=Xle();const iP=Tn(Zle);var Nx,x4;function Qle(){if(x4)return Nx;x4=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return Nx=t,Nx}var Mx,w4;function Kp(){if(w4)return Mx;w4=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return Mx=n,Mx}var Px,T4;function pY(){if(T4)return Px;T4=1;var t=Qle(),e=wb(),n=Qr(),r=Tb(),a=Kp(),i=E1(),s=Object.prototype,o=s.hasOwnProperty;function l(d,f){var h=n(d),m=!h&&e(d),b=!h&&!m&&r(d),g=!h&&!m&&!b&&i(d),w=h||m||b||g,S=w?t(d.length,String):[],T=S.length;for(var x in d)(f||o.call(d,x))&&!(w&&(x=="length"||b&&(x=="offset"||x=="parent")||g&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||a(x,T)))&&S.push(x);return S}return Px=l,Px}var Lx,C4;function ic(){if(C4)return Lx;C4=1;var t=pY(),e=eP(),n=ac();function r(a){return n(a)?t(a):e(a)}return Lx=r,Lx}var Jle=ic();const ece=Tn(Jle);var Fx,R4;function tce(){if(R4)return Fx;R4=1;var t=Math.ceil,e=Math.max;function n(r,a,i,s){for(var o=-1,l=e(t((a-r)/(i||1)),0),d=Array(l);l--;)d[s?l:++o]=r,r+=i;return d}return Fx=n,Fx}var Bx,A4;function Cb(){if(A4)return Bx;A4=1;function t(e,n){return e===n||e!==e&&n!==n}return Bx=t,Bx}var jx,I4;function hY(){if(I4)return jx;I4=1;var t=Cb(),e=ac(),n=Kp(),r=ds();function a(i,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],i):!1}return jx=a,jx}var Ux,k4;function nce(){if(k4)return Ux;k4=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Ux=e,Ux}var zx,D4;function rce(){if(D4)return zx;D4=1;var t=nce(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return zx=n,zx}var qx,O4;function mY(){if(O4)return qx;O4=1;var t=rce(),e=ds(),n=Wp(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||s.test(d)?o(d.slice(2),h?2:8):a.test(d)?r:+d}return qx=l,qx}var $x,N4;function gY(){if(N4)return $x;N4=1;var t=mY(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return $x=r,$x}var Gx,M4;function ace(){if(M4)return Gx;M4=1;var t=tce(),e=hY(),n=gY();function r(a){return function(i,s,o){return o&&typeof o!="number"&&e(i,s,o)&&(s=o=void 0),i=n(i),s===void 0?(s=i,i=0):s=n(s),o=o===void 0?i<s?1:-1:n(o),t(i,s,o,a)}}return Gx=r,Gx}var Hx,P4;function ice(){if(P4)return Hx;P4=1;var t=ace(),e=t();return Hx=e,Hx}var sce=ice();const _1=Tn(sce);var Vx,L4;function sP(){if(L4)return Vx;L4=1;var t=Qr(),e=Wp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,s){if(t(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||s!=null&&i in Object(s)}return Vx=a,Vx}var Wx,F4;function x1(){if(F4)return Wx;F4=1;var t=Ad(),e=t(Object,"create");return Wx=e,Wx}var Yx,B4;function oce(){if(B4)return Yx;B4=1;var t=x1();function e(){this.__data__=t?t(null):{},this.size=0}return Yx=e,Yx}var Kx,j4;function lce(){if(j4)return Kx;j4=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Kx=t,Kx}var Xx,U4;function cce(){if(U4)return Xx;U4=1;var t=x1(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var s=this.__data__;if(t){var o=s[i];return o===e?void 0:o}return r.call(s,i)?s[i]:void 0}return Xx=a,Xx}var Zx,z4;function uce(){if(z4)return Zx;z4=1;var t=x1(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return Zx=r,Zx}var Qx,q4;function dce(){if(q4)return Qx;q4=1;var t=x1(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return Qx=n,Qx}var Jx,$4;function fce(){if($4)return Jx;$4=1;var t=oce(),e=lce(),n=cce(),r=uce(),a=dce();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,Jx=i,Jx}var ew,G4;function pce(){if(G4)return ew;G4=1;function t(){this.__data__=[],this.size=0}return ew=t,ew}var tw,H4;function w1(){if(H4)return tw;H4=1;var t=Cb();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return tw=e,tw}var nw,V4;function hce(){if(V4)return nw;V4=1;var t=w1(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():n.call(i,s,1),--this.size,!0}return nw=r,nw}var rw,W4;function mce(){if(W4)return rw;W4=1;var t=w1();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return rw=e,rw}var aw,Y4;function gce(){if(Y4)return aw;Y4=1;var t=w1();function e(n){return t(this.__data__,n)>-1}return aw=e,aw}var iw,K4;function bce(){if(K4)return iw;K4=1;var t=w1();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return iw=e,iw}var sw,X4;function T1(){if(X4)return sw;X4=1;var t=pce(),e=hce(),n=mce(),r=gce(),a=bce();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,sw=i,sw}var ow,Z4;function yce(){if(Z4)return ow;Z4=1;var t=fce(),e=T1(),n=tP();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ow=r,ow}var lw,Q4;function vce(){if(Q4)return lw;Q4=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return lw=t,lw}var cw,J4;function C1(){if(J4)return cw;J4=1;var t=vce();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return cw=e,cw}var uw,e5;function Sce(){if(e5)return uw;e5=1;var t=C1();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return uw=e,uw}var dw,t5;function Ece(){if(t5)return dw;t5=1;var t=C1();function e(n){return t(this,n).get(n)}return dw=e,dw}var fw,n5;function _ce(){if(n5)return fw;n5=1;var t=C1();function e(n){return t(this,n).has(n)}return fw=e,fw}var pw,r5;function xce(){if(r5)return pw;r5=1;var t=C1();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return pw=e,pw}var hw,a5;function oP(){if(a5)return hw;a5=1;var t=yce(),e=Sce(),n=Ece(),r=_ce(),a=xce();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var d=s[o];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,hw=i,hw}var mw,i5;function wce(){if(i5)return mw;i5=1;var t=oP(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var d=r.apply(this,s);return i.cache=l.set(o,d)||l,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,mw=n,mw}var gw,s5;function Tce(){if(s5)return gw;s5=1;var t=wce(),e=500;function n(r){var a=t(r,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return gw=n,gw}var bw,o5;function bY(){if(o5)return bw;o5=1;var t=Tce(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,o,l,d){i.push(l?d.replace(n,"$1"):o||s)}),i});return bw=r,bw}var yw,l5;function Rb(){if(l5)return yw;l5=1;var t=Qr(),e=sP(),n=bY(),r=Yp();function a(i,s){return t(i)?i:e(i,s)?[i]:n(r(i))}return yw=a,yw}var vw,c5;function kd(){if(c5)return vw;c5=1;var t=Wp();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return vw=e,vw}var Sw,u5;function lP(){if(u5)return Sw;u5=1;var t=Rb(),e=kd();function n(r,a){a=t(a,r);for(var i=0,s=a.length;r!=null&&i<s;)r=r[e(a[i++])];return i&&i==s?r:void 0}return Sw=n,Sw}var Ew,d5;function yY(){if(d5)return Ew;d5=1;var t=lP();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return Ew=e,Ew}var Cce=yY();const sa=Tn(Cce);var _w,f5;function Rce(){if(f5)return _w;f5=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r,a){return r!=null&&e.call(r,a)}return _w=n,_w}var xw,p5;function vY(){if(p5)return xw;p5=1;var t=Rb(),e=wb(),n=Qr(),r=Kp(),a=nP(),i=kd();function s(o,l,d){l=t(l,o);for(var f=-1,h=l.length,m=!1;++f<h;){var b=i(l[f]);if(!(m=o!=null&&d(o,b)))break;o=o[b]}return m||++f!=h?m:(h=o==null?0:o.length,!!h&&a(h)&&r(b,h)&&(n(o)||e(o)))}return xw=s,xw}var ww,h5;function Ace(){if(h5)return ww;h5=1;var t=Rce(),e=vY();function n(r,a){return r!=null&&e(r,a,t)}return ww=n,ww}var Ice=Ace();const SY=Tn(Ice);var Tw,m5;function kce(){if(m5)return Tw;m5=1;var t=T1();function e(){this.__data__=new t,this.size=0}return Tw=e,Tw}var Cw,g5;function Dce(){if(g5)return Cw;g5=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Cw=t,Cw}var Rw,b5;function Oce(){if(b5)return Rw;b5=1;function t(e){return this.__data__.get(e)}return Rw=t,Rw}var Aw,y5;function Nce(){if(y5)return Aw;y5=1;function t(e){return this.__data__.has(e)}return Aw=t,Aw}var Iw,v5;function Mce(){if(v5)return Iw;v5=1;var t=T1(),e=tP(),n=oP(),r=200;function a(i,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([i,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(i,s),this.size=o.size,this}return Iw=a,Iw}var kw,S5;function R1(){if(S5)return kw;S5=1;var t=T1(),e=kce(),n=Dce(),r=Oce(),a=Nce(),i=Mce();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=a,s.prototype.set=i,kw=s,kw}var Dw,E5;function Pce(){if(E5)return Dw;E5=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Dw=e,Dw}var Ow,_5;function Lce(){if(_5)return Ow;_5=1;function t(e){return this.__data__.has(e)}return Ow=t,Ow}var Nw,x5;function EY(){if(x5)return Nw;x5=1;var t=oP(),e=Pce(),n=Lce();function r(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Nw=r,Nw}var Mw,w5;function Fce(){if(w5)return Mw;w5=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return Mw=t,Mw}var Pw,T5;function _Y(){if(T5)return Pw;T5=1;function t(e,n){return e.has(n)}return Pw=t,Pw}var Lw,C5;function xY(){if(C5)return Lw;C5=1;var t=EY(),e=Fce(),n=_Y(),r=1,a=2;function i(s,o,l,d,f,h){var m=l&r,b=s.length,g=o.length;if(b!=g&&!(m&&g>b))return!1;var w=h.get(s),S=h.get(o);if(w&&S)return w==o&&S==s;var T=-1,x=!0,_=l&a?new t:void 0;for(h.set(s,o),h.set(o,s);++T<b;){var C=s[T],R=o[T];if(d)var A=m?d(R,C,T,o,s,h):d(C,R,T,s,o,h);if(A!==void 0){if(A)continue;x=!1;break}if(_){if(!e(o,function(I,O){if(!n(_,O)&&(C===I||f(C,I,l,d,h)))return _.push(O)})){x=!1;break}}else if(!(C===R||f(C,R,l,d,h))){x=!1;break}}return h.delete(s),h.delete(o),x}return Lw=i,Lw}var Fw,R5;function wY(){if(R5)return Fw;R5=1;var t=Si(),e=t.Uint8Array;return Fw=e,Fw}var Bw,A5;function TY(){if(A5)return Bw;A5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return Bw=t,Bw}var jw,I5;function cP(){if(I5)return jw;I5=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return jw=t,jw}var Uw,k5;function Bce(){if(k5)return Uw;k5=1;var t=Hp(),e=wY(),n=Cb(),r=xY(),a=TY(),i=cP(),s=1,o=2,l="[object Boolean]",d="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",b="[object RegExp]",g="[object Set]",w="[object String]",S="[object Symbol]",T="[object ArrayBuffer]",x="[object DataView]",_=t?t.prototype:void 0,C=_?_.valueOf:void 0;function R(A,I,O,M,U,L,z){switch(O){case x:if(A.byteLength!=I.byteLength||A.byteOffset!=I.byteOffset)return!1;A=A.buffer,I=I.buffer;case T:return!(A.byteLength!=I.byteLength||!L(new e(A),new e(I)));case l:case d:case m:return n(+A,+I);case f:return A.name==I.name&&A.message==I.message;case b:case w:return A==I+"";case h:var j=a;case g:var H=M&s;if(j||(j=i),A.size!=I.size&&!H)return!1;var $=z.get(A);if($)return $==I;M|=o,z.set(A,I);var q=r(j(A),j(I),M,U,L,z);return z.delete(A),q;case S:if(C)return C.call(A)==C.call(I)}return!1}return Uw=R,Uw}var zw,D5;function uP(){if(D5)return zw;D5=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return zw=t,zw}var qw,O5;function CY(){if(O5)return qw;O5=1;var t=uP(),e=Qr();function n(r,a,i){var s=a(r);return e(r)?s:t(s,i(r))}return qw=n,qw}var $w,N5;function RY(){if(N5)return $w;N5=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,s=[];++r<a;){var o=e[r];n(o,r,e)&&(s[i++]=o)}return s}return $w=t,$w}var Gw,M5;function AY(){if(M5)return Gw;M5=1;function t(){return[]}return Gw=t,Gw}var Hw,P5;function dP(){if(P5)return Hw;P5=1;var t=RY(),e=AY(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(o){return r.call(s,o)}))}:e;return Hw=i,Hw}var Vw,L5;function IY(){if(L5)return Vw;L5=1;var t=CY(),e=dP(),n=ic();function r(a){return t(a,n,e)}return Vw=r,Vw}var Ww,F5;function jce(){if(F5)return Ww;F5=1;var t=IY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,s,o,l,d,f){var h=o&e,m=t(i),b=m.length,g=t(s),w=g.length;if(b!=w&&!h)return!1;for(var S=b;S--;){var T=m[S];if(!(h?T in s:r.call(s,T)))return!1}var x=f.get(i),_=f.get(s);if(x&&_)return x==s&&_==i;var C=!0;f.set(i,s),f.set(s,i);for(var R=h;++S<b;){T=m[S];var A=i[T],I=s[T];if(l)var O=h?l(I,A,T,s,i,f):l(A,I,T,i,s,f);if(!(O===void 0?A===I||d(A,I,o,l,f):O)){C=!1;break}R||(R=T=="constructor")}if(C&&!R){var M=i.constructor,U=s.constructor;M!=U&&"constructor"in i&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof U=="function"&&U instanceof U)&&(C=!1)}return f.delete(i),f.delete(s),C}return Ww=a,Ww}var Yw,B5;function Uce(){if(B5)return Yw;B5=1;var t=R1(),e=xY(),n=Bce(),r=jce(),a=Id(),i=Qr(),s=Tb(),o=E1(),l=1,d="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype,b=m.hasOwnProperty;function g(w,S,T,x,_,C){var R=i(w),A=i(S),I=R?f:a(w),O=A?f:a(S);I=I==d?h:I,O=O==d?h:O;var M=I==h,U=O==h,L=I==O;if(L&&s(w)){if(!s(S))return!1;R=!0,M=!1}if(L&&!M)return C||(C=new t),R||o(w)?e(w,S,T,x,_,C):n(w,S,I,T,x,_,C);if(!(T&l)){var z=M&&b.call(w,"__wrapped__"),j=U&&b.call(S,"__wrapped__");if(z||j){var H=z?w.value():w,$=j?S.value():S;return C||(C=new t),_(H,$,T,x,C)}}return L?(C||(C=new t),r(w,S,T,x,_,C)):!1}return Yw=g,Yw}var Kw,j5;function fP(){if(j5)return Kw;j5=1;var t=Uce(),e=fs();function n(r,a,i,s,o){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,s,n,o)}return Kw=n,Kw}var Xw,U5;function zce(){if(U5)return Xw;U5=1;var t=R1(),e=fP(),n=1,r=2;function a(i,s,o,l){var d=o.length,f=d,h=!l;if(i==null)return!f;for(i=Object(i);d--;){var m=o[d];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++d<f;){m=o[d];var b=m[0],g=i[b],w=m[1];if(h&&m[2]){if(g===void 0&&!(b in i))return!1}else{var S=new t;if(l)var T=l(g,w,b,i,s,S);if(!(T===void 0?e(w,g,n|r,l,S):T))return!1}}return!0}return Xw=a,Xw}var Zw,z5;function kY(){if(z5)return Zw;z5=1;var t=ds();function e(n){return n===n&&!t(n)}return Zw=e,Zw}var Qw,q5;function qce(){if(q5)return Qw;q5=1;var t=kY(),e=ic();function n(r){for(var a=e(r),i=a.length;i--;){var s=a[i],o=r[s];a[i]=[s,o,t(o)]}return a}return Qw=n,Qw}var Jw,$5;function DY(){if($5)return Jw;$5=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Jw=t,Jw}var eT,G5;function $ce(){if(G5)return eT;G5=1;var t=zce(),e=qce(),n=DY();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return eT=r,eT}var tT,H5;function Gce(){if(H5)return tT;H5=1;function t(e,n){return e!=null&&n in Object(e)}return tT=t,tT}var nT,V5;function Hce(){if(V5)return nT;V5=1;var t=Gce(),e=vY();function n(r,a){return r!=null&&e(r,a,t)}return nT=n,nT}var rT,W5;function Vce(){if(W5)return rT;W5=1;var t=fP(),e=yY(),n=Hce(),r=sP(),a=kY(),i=DY(),s=kd(),o=1,l=2;function d(f,h){return r(f)&&a(h)?i(s(f),h):function(m){var b=e(m,f);return b===void 0&&b===h?n(m,f):t(h,b,o|l)}}return rT=d,rT}var aT,Y5;function A1(){if(Y5)return aT;Y5=1;function t(e){return e}return aT=t,aT}var iT,K5;function Wce(){if(K5)return iT;K5=1;function t(e){return function(n){return n?.[e]}}return iT=t,iT}var sT,X5;function Yce(){if(X5)return sT;X5=1;var t=lP();function e(n){return function(r){return t(r,n)}}return sT=e,sT}var oT,Z5;function Kce(){if(Z5)return oT;Z5=1;var t=Wce(),e=Yce(),n=sP(),r=kd();function a(i){return n(i)?t(r(i)):e(i)}return oT=a,oT}var lT,Q5;function iu(){if(Q5)return lT;Q5=1;var t=$ce(),e=Vce(),n=A1(),r=Qr(),a=Kce();function i(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):a(s)}return lT=i,lT}var cT,J5;function Xce(){if(J5)return cT;J5=1;var t=iu(),e=ac(),n=ic();function r(a){return function(i,s,o){var l=Object(i);if(!e(i)){var d=t(s,3);i=n(i),s=function(h){return d(l[h],h,l)}}var f=a(i,s,o);return f>-1?l[d?i[f]:f]:void 0}}return cT=r,cT}var uT,e6;function OY(){if(e6)return uT;e6=1;function t(e,n,r,a){for(var i=e.length,s=r+(a?1:-1);a?s--:++s<i;)if(n(e[s],s,e))return s;return-1}return uT=t,uT}var dT,t6;function Ab(){if(t6)return dT;t6=1;var t=gY();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return dT=e,dT}var fT,n6;function Zce(){if(n6)return fT;n6=1;var t=OY(),e=iu(),n=Ab(),r=Math.max;function a(i,s,o){var l=i==null?0:i.length;if(!l)return-1;var d=o==null?0:n(o);return d<0&&(d=r(l+d,0)),t(i,e(s,3),d)}return fT=a,fT}var pT,r6;function Qce(){if(r6)return pT;r6=1;var t=Xce(),e=Zce(),n=t(e);return pT=n,pT}var Jce=Qce();const NY=Tn(Jce);var eue=Qr();const MY=Tn(eue);var hT,a6;function tue(){if(a6)return hT;a6=1;function t(e){return e!==e}return hT=t,hT}var mT,i6;function nue(){if(i6)return mT;i6=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return mT=t,mT}var gT,s6;function PY(){if(s6)return gT;s6=1;var t=OY(),e=tue(),n=nue();function r(a,i,s){return i===i?n(a,i,s):t(a,e,s)}return gT=r,gT}var bT,o6;function rue(){if(o6)return bT;o6=1;var t=au(),e=Qr(),n=fs(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return bT=a,bT}var yT,l6;function aue(){if(l6)return yT;l6=1;var t=Vp();function e(n,r){return t(r,function(a){return n[a]})}return yT=e,yT}var vT,c6;function iue(){if(c6)return vT;c6=1;var t=aue(),e=ic();function n(r){return r==null?[]:t(r,e(r))}return vT=n,vT}var ST,u6;function sue(){if(u6)return ST;u6=1;var t=PY(),e=ac(),n=rue(),r=Ab(),a=iue(),i=Math.max;function s(o,l,d,f){o=e(o)?o:a(o),d=d&&!f?r(d):0;var h=o.length;return d<0&&(d=i(h+d,0)),n(o)?d<=h&&o.indexOf(l,d)>-1:!!h&&t(o,l,d)>-1}return ST=s,ST}var oue=sue();const LY=Tn(oue);var Nv={exports:{}},ET={},$l={},ed={},_T={},xT={},wT={},d6;function zS(){return d6||(d6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(x){if(super(),!t.IDENTIFIER.test(x))throw new Error("CodeGen: name must be a valid identifier");this.str=x}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(x){super(),this._items=typeof x=="string"?[x]:x}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const x=this._items[0];return x===""||x==='""'}get str(){var x;return(x=this._str)!==null&&x!==void 0?x:this._str=this._items.reduce((_,C)=>`${_}${C}`,"")}get names(){var x;return(x=this._names)!==null&&x!==void 0?x:this._names=this._items.reduce((_,C)=>(C instanceof n&&(_[C.str]=(_[C.str]||0)+1),_),{})}}t._Code=r,t.nil=new r("");function a(T,...x){const _=[T[0]];let C=0;for(;C<x.length;)o(_,x[C]),_.push(T[++C]);return new r(_)}t._=a;const i=new r("+");function s(T,...x){const _=[b(T[0])];let C=0;for(;C<x.length;)_.push(i),o(_,x[C]),_.push(i,b(T[++C]));return l(_),new r(_)}t.str=s;function o(T,x){x instanceof r?T.push(...x._items):x instanceof n?T.push(x):T.push(h(x))}t.addCodeArg=o;function l(T){let x=1;for(;x<T.length-1;){if(T[x]===i){const _=d(T[x-1],T[x+1]);if(_!==void 0){T.splice(x-1,3,_);continue}T[x++]="+"}x++}}function d(T,x){if(x==='""')return T;if(T==='""')return x;if(typeof T=="string")return x instanceof n||T[T.length-1]!=='"'?void 0:typeof x!="string"?`${T.slice(0,-1)}${x}"`:x[0]==='"'?T.slice(0,-1)+x.slice(1):void 0;if(typeof x=="string"&&x[0]==='"'&&!(T instanceof n))return`"${T}${x.slice(1)}`}function f(T,x){return x.emptyStr()?T:T.emptyStr()?x:s`${T}${x}`}t.strConcat=f;function h(T){return typeof T=="number"||typeof T=="boolean"||T===null?T:b(Array.isArray(T)?T.join(","):T)}function m(T){return new r(b(T))}t.stringify=m;function b(T){return JSON.stringify(T).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=b;function g(T){return typeof T=="string"&&t.IDENTIFIER.test(T)?new r(`.${T}`):a`[${T}]`}t.getProperty=g;function w(T){if(typeof T=="string"&&t.IDENTIFIER.test(T))return new r(`${T}`);throw new Error(`CodeGen: invalid export name: ${T}, use explicit $id name mapping`)}t.getEsmExportName=w;function S(T){return new r(T.toString())}t.regexpCode=S})(wT)),wT}var TT={},f6;function p6(){return f6||(f6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=zS();class n extends Error{constructor(d){super(`CodeGen: "code" for ${d} not defined`),this.value=d.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:d,parent:f}={}){this._names={},this._prefixes=d,this._parent=f}toName(d){return d instanceof e.Name?d:this.name(d)}name(d){return new e.Name(this._newName(d))}_newName(d){const f=this._names[d]||this._nameGroup(d);return`${d}${f.index++}`}_nameGroup(d){var f,h;if(!((h=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||h===void 0)&&h.has(d)||this._prefixes&&!this._prefixes.has(d))throw new Error(`CodeGen: prefix "${d}" is not allowed in this scope`);return this._names[d]={prefix:d,index:0}}}t.Scope=a;class i extends e.Name{constructor(d,f){super(f),this.prefix=d}setValue(d,{property:f,itemIndex:h}){this.value=d,this.scopePath=(0,e._)`.${new e.Name(f)}[${h}]`}}t.ValueScopeName=i;const s=(0,e._)`\n`;class o extends a{constructor(d){super(d),this._values={},this._scope=d.scope,this.opts={...d,_n:d.lines?s:e.nil}}get(){return this._scope}name(d){return new i(d,this._newName(d))}value(d,f){var h;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(d),{prefix:b}=m,g=(h=f.key)!==null&&h!==void 0?h:f.ref;let w=this._values[b];if(w){const x=w.get(g);if(x)return x}else w=this._values[b]=new Map;w.set(g,m);const S=this._scope[b]||(this._scope[b]=[]),T=S.length;return S[T]=f.ref,m.setValue(f,{property:b,itemIndex:T}),m}getValue(d,f){const h=this._values[d];if(h)return h.get(f)}scopeRefs(d,f=this._values){return this._reduceValues(f,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,e._)`${d}${h.scopePath}`})}scopeCode(d=this._values,f,h){return this._reduceValues(d,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},f,h)}_reduceValues(d,f,h={},m){let b=e.nil;for(const g in d){const w=d[g];if(!w)continue;const S=h[g]=h[g]||new Map;w.forEach(T=>{if(S.has(T))return;S.set(T,r.Started);let x=f(T);if(x){const _=this.opts.es5?t.varKinds.var:t.varKinds.const;b=(0,e._)`${b}${_} ${T} = ${x};${this.opts._n}`}else if(x=m?.(T))b=(0,e._)`${b}${x}${this.opts._n}`;else throw new n(T);S.set(T,r.Completed)})}return b}}t.ValueScope=o})(TT)),TT}var h6;function mn(){return h6||(h6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=zS(),n=p6();var r=zS();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var a=p6();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class i{optimizeNodes(){return this}optimizeNames(G,W){return this}}class s extends i{constructor(G,W,ue){super(),this.varKind=G,this.name=W,this.rhs=ue}render({es5:G,_n:W}){const ue=G?n.varKinds.var:this.varKind,Ee=this.rhs===void 0?"":` = ${this.rhs}`;return`${ue} ${this.name}${Ee};`+W}optimizeNames(G,W){if(G[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,G,W)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends i{constructor(G,W,ue){super(),this.lhs=G,this.rhs=W,this.sideEffects=ue}render({_n:G}){return`${this.lhs} = ${this.rhs};`+G}optimizeNames(G,W){if(!(this.lhs instanceof e.Name&&!G[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,G,W),this}get names(){const G=this.lhs instanceof e.Name?{}:{...this.lhs.names};return j(G,this.rhs)}}class l extends o{constructor(G,W,ue,Ee){super(G,ue,Ee),this.op=W}render({_n:G}){return`${this.lhs} ${this.op}= ${this.rhs};`+G}}class d extends i{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`${this.label}:`+G}}class f extends i{constructor(G){super(),this.label=G,this.names={}}render({_n:G}){return`break${this.label?` ${this.label}`:""};`+G}}class h extends i{constructor(G){super(),this.error=G}render({_n:G}){return`throw ${this.error};`+G}get names(){return this.error.names}}class m extends i{constructor(G){super(),this.code=G}render({_n:G}){return`${this.code};`+G}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(G,W){return this.code=H(this.code,G,W),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class b extends i{constructor(G=[]){super(),this.nodes=G}render(G){return this.nodes.reduce((W,ue)=>W+ue.render(G),"")}optimizeNodes(){const{nodes:G}=this;let W=G.length;for(;W--;){const ue=G[W].optimizeNodes();Array.isArray(ue)?G.splice(W,1,...ue):ue?G[W]=ue:G.splice(W,1)}return G.length>0?this:void 0}optimizeNames(G,W){const{nodes:ue}=this;let Ee=ue.length;for(;Ee--;){const ge=ue[Ee];ge.optimizeNames(G,W)||($(G,ge.names),ue.splice(Ee,1))}return ue.length>0?this:void 0}get names(){return this.nodes.reduce((G,W)=>z(G,W.names),{})}}class g extends b{render(G){return"{"+G._n+super.render(G)+"}"+G._n}}class w extends b{}class S extends g{}S.kind="else";class T extends g{constructor(G,W){super(W),this.condition=G}render(G){let W=`if(${this.condition})`+super.render(G);return this.else&&(W+="else "+this.else.render(G)),W}optimizeNodes(){super.optimizeNodes();const G=this.condition;if(G===!0)return this.nodes;let W=this.else;if(W){const ue=W.optimizeNodes();W=this.else=Array.isArray(ue)?new S(ue):ue}if(W)return G===!1?W instanceof T?W:W.nodes:this.nodes.length?this:new T(q(G),W instanceof T?[W]:W.nodes);if(!(G===!1||!this.nodes.length))return this}optimizeNames(G,W){var ue;if(this.else=(ue=this.else)===null||ue===void 0?void 0:ue.optimizeNames(G,W),!!(super.optimizeNames(G,W)||this.else))return this.condition=H(this.condition,G,W),this}get names(){const G=super.names;return j(G,this.condition),this.else&&z(G,this.else.names),G}}T.kind="if";class x extends g{}x.kind="for";class _ extends x{constructor(G){super(),this.iteration=G}render(G){return`for(${this.iteration})`+super.render(G)}optimizeNames(G,W){if(super.optimizeNames(G,W))return this.iteration=H(this.iteration,G,W),this}get names(){return z(super.names,this.iteration.names)}}class C extends x{constructor(G,W,ue,Ee){super(),this.varKind=G,this.name=W,this.from=ue,this.to=Ee}render(G){const W=G.es5?n.varKinds.var:this.varKind,{name:ue,from:Ee,to:ge}=this;return`for(${W} ${ue}=${Ee}; ${ue}<${ge}; ${ue}++)`+super.render(G)}get names(){const G=j(super.names,this.from);return j(G,this.to)}}class R extends x{constructor(G,W,ue,Ee){super(),this.loop=G,this.varKind=W,this.name=ue,this.iterable=Ee}render(G){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(G)}optimizeNames(G,W){if(super.optimizeNames(G,W))return this.iterable=H(this.iterable,G,W),this}get names(){return z(super.names,this.iterable.names)}}class A extends g{constructor(G,W,ue){super(),this.name=G,this.args=W,this.async=ue}render(G){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(G)}}A.kind="func";class I extends b{render(G){return"return "+super.render(G)}}I.kind="return";class O extends g{render(G){let W="try"+super.render(G);return this.catch&&(W+=this.catch.render(G)),this.finally&&(W+=this.finally.render(G)),W}optimizeNodes(){var G,W;return super.optimizeNodes(),(G=this.catch)===null||G===void 0||G.optimizeNodes(),(W=this.finally)===null||W===void 0||W.optimizeNodes(),this}optimizeNames(G,W){var ue,Ee;return super.optimizeNames(G,W),(ue=this.catch)===null||ue===void 0||ue.optimizeNames(G,W),(Ee=this.finally)===null||Ee===void 0||Ee.optimizeNames(G,W),this}get names(){const G=super.names;return this.catch&&z(G,this.catch.names),this.finally&&z(G,this.finally.names),G}}class M extends g{constructor(G){super(),this.error=G}render(G){return`catch(${this.error})`+super.render(G)}}M.kind="catch";class U extends g{render(G){return"finally"+super.render(G)}}U.kind="finally";class L{constructor(G,W={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...W,_n:W.lines?`
`:""},this._extScope=G,this._scope=new n.Scope({parent:G}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(G){return this._scope.name(G)}scopeName(G){return this._extScope.name(G)}scopeValue(G,W){const ue=this._extScope.value(G,W);return(this._values[ue.prefix]||(this._values[ue.prefix]=new Set)).add(ue),ue}getScopeValue(G,W){return this._extScope.getValue(G,W)}scopeRefs(G){return this._extScope.scopeRefs(G,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(G,W,ue,Ee){const ge=this._scope.toName(W);return ue!==void 0&&Ee&&(this._constants[ge.str]=ue),this._leafNode(new s(G,ge,ue)),ge}const(G,W,ue){return this._def(n.varKinds.const,G,W,ue)}let(G,W,ue){return this._def(n.varKinds.let,G,W,ue)}var(G,W,ue){return this._def(n.varKinds.var,G,W,ue)}assign(G,W,ue){return this._leafNode(new o(G,W,ue))}add(G,W){return this._leafNode(new l(G,t.operators.ADD,W))}code(G){return typeof G=="function"?G():G!==e.nil&&this._leafNode(new m(G)),this}object(...G){const W=["{"];for(const[ue,Ee]of G)W.length>1&&W.push(","),W.push(ue),(ue!==Ee||this.opts.es5)&&(W.push(":"),(0,e.addCodeArg)(W,Ee));return W.push("}"),new e._Code(W)}if(G,W,ue){if(this._blockNode(new T(G)),W&&ue)this.code(W).else().code(ue).endIf();else if(W)this.code(W).endIf();else if(ue)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(G){return this._elseNode(new T(G))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(T,S)}_for(G,W){return this._blockNode(G),W&&this.code(W).endFor(),this}for(G,W){return this._for(new _(G),W)}forRange(G,W,ue,Ee,ge=this.opts.es5?n.varKinds.var:n.varKinds.let){const fe=this._scope.toName(G);return this._for(new C(ge,fe,W,ue),()=>Ee(fe))}forOf(G,W,ue,Ee=n.varKinds.const){const ge=this._scope.toName(G);if(this.opts.es5){const fe=W instanceof e.Name?W:this.var("_arr",W);return this.forRange("_i",0,(0,e._)`${fe}.length`,Ae=>{this.var(ge,(0,e._)`${fe}[${Ae}]`),ue(ge)})}return this._for(new R("of",Ee,ge,W),()=>ue(ge))}forIn(G,W,ue,Ee=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(G,(0,e._)`Object.keys(${W})`,ue);const ge=this._scope.toName(G);return this._for(new R("in",Ee,ge,W),()=>ue(ge))}endFor(){return this._endBlockNode(x)}label(G){return this._leafNode(new d(G))}break(G){return this._leafNode(new f(G))}return(G){const W=new I;if(this._blockNode(W),this.code(G),W.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(I)}try(G,W,ue){if(!W&&!ue)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ee=new O;if(this._blockNode(Ee),this.code(G),W){const ge=this.name("e");this._currNode=Ee.catch=new M(ge),W(ge)}return ue&&(this._currNode=Ee.finally=new U,this.code(ue)),this._endBlockNode(M,U)}throw(G){return this._leafNode(new h(G))}block(G,W){return this._blockStarts.push(this._nodes.length),G&&this.code(G).endBlock(W),this}endBlock(G){const W=this._blockStarts.pop();if(W===void 0)throw new Error("CodeGen: not in self-balancing block");const ue=this._nodes.length-W;if(ue<0||G!==void 0&&ue!==G)throw new Error(`CodeGen: wrong number of nodes: ${ue} vs ${G} expected`);return this._nodes.length=W,this}func(G,W=e.nil,ue,Ee){return this._blockNode(new A(G,W,ue)),Ee&&this.code(Ee).endFunc(),this}endFunc(){return this._endBlockNode(A)}optimize(G=1){for(;G-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(G){return this._currNode.nodes.push(G),this}_blockNode(G){this._currNode.nodes.push(G),this._nodes.push(G)}_endBlockNode(G,W){const ue=this._currNode;if(ue instanceof G||W&&ue instanceof W)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${W?`${G.kind}/${W.kind}`:G.kind}"`)}_elseNode(G){const W=this._currNode;if(!(W instanceof T))throw new Error('CodeGen: "else" without "if"');return this._currNode=W.else=G,this}get _root(){return this._nodes[0]}get _currNode(){const G=this._nodes;return G[G.length-1]}set _currNode(G){const W=this._nodes;W[W.length-1]=G}}t.CodeGen=L;function z(te,G){for(const W in G)te[W]=(te[W]||0)+(G[W]||0);return te}function j(te,G){return G instanceof e._CodeOrName?z(te,G.names):te}function H(te,G,W){if(te instanceof e.Name)return ue(te);if(!Ee(te))return te;return new e._Code(te._items.reduce((ge,fe)=>(fe instanceof e.Name&&(fe=ue(fe)),fe instanceof e._Code?ge.push(...fe._items):ge.push(fe),ge),[]));function ue(ge){const fe=W[ge.str];return fe===void 0||G[ge.str]!==1?ge:(delete G[ge.str],fe)}function Ee(ge){return ge instanceof e._Code&&ge._items.some(fe=>fe instanceof e.Name&&G[fe.str]===1&&W[fe.str]!==void 0)}}function $(te,G){for(const W in G)te[W]=(te[W]||0)-(G[W]||0)}function q(te){return typeof te=="boolean"||typeof te=="number"||te===null?!te:(0,e._)`!${ne(te)}`}t.not=q;const K=Y(t.operators.AND);function V(...te){return te.reduce(K)}t.and=V;const re=Y(t.operators.OR);function ee(...te){return te.reduce(re)}t.or=ee;function Y(te){return(G,W)=>G===e.nil?W:W===e.nil?G:(0,e._)`${ne(G)} ${te} ${ne(W)}`}function ne(te){return te instanceof e.Name?te:(0,e._)`(${te})`}})(xT)),xT}var hn={},m6;function Un(){if(m6)return hn;m6=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.checkStrictMode=hn.getErrorPath=hn.Type=hn.useFunc=hn.setEvaluated=hn.evaluatedPropsToName=hn.mergeEvaluated=hn.eachItem=hn.unescapeJsonPointer=hn.escapeJsonPointer=hn.escapeFragment=hn.unescapeFragment=hn.schemaRefOrVal=hn.schemaHasRulesButRef=hn.schemaHasRules=hn.checkUnknownRules=hn.alwaysValidSchema=hn.toHash=void 0;const t=mn(),e=zS();function n(R){const A={};for(const I of R)A[I]=!0;return A}hn.toHash=n;function r(R,A){return typeof A=="boolean"?A:Object.keys(A).length===0?!0:(a(R,A),!i(A,R.self.RULES.all))}hn.alwaysValidSchema=r;function a(R,A=R.schema){const{opts:I,self:O}=R;if(!I.strictSchema||typeof A=="boolean")return;const M=O.RULES.keywords;for(const U in A)M[U]||C(R,`unknown keyword: "${U}"`)}hn.checkUnknownRules=a;function i(R,A){if(typeof R=="boolean")return!R;for(const I in R)if(A[I])return!0;return!1}hn.schemaHasRules=i;function s(R,A){if(typeof R=="boolean")return!R;for(const I in R)if(I!=="$ref"&&A.all[I])return!0;return!1}hn.schemaHasRulesButRef=s;function o({topSchemaRef:R,schemaPath:A},I,O,M){if(!M){if(typeof I=="number"||typeof I=="boolean")return I;if(typeof I=="string")return(0,t._)`${I}`}return(0,t._)`${R}${A}${(0,t.getProperty)(O)}`}hn.schemaRefOrVal=o;function l(R){return h(decodeURIComponent(R))}hn.unescapeFragment=l;function d(R){return encodeURIComponent(f(R))}hn.escapeFragment=d;function f(R){return typeof R=="number"?`${R}`:R.replace(/~/g,"~0").replace(/\//g,"~1")}hn.escapeJsonPointer=f;function h(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")}hn.unescapeJsonPointer=h;function m(R,A){if(Array.isArray(R))for(const I of R)A(I);else A(R)}hn.eachItem=m;function b({mergeNames:R,mergeToName:A,mergeValues:I,resultToName:O}){return(M,U,L,z)=>{const j=L===void 0?U:L instanceof t.Name?(U instanceof t.Name?R(M,U,L):A(M,U,L),L):U instanceof t.Name?(A(M,L,U),U):I(U,L);return z===t.Name&&!(j instanceof t.Name)?O(M,j):j}}hn.mergeEvaluated={props:b({mergeNames:(R,A,I)=>R.if((0,t._)`${I} !== true && ${A} !== undefined`,()=>{R.if((0,t._)`${A} === true`,()=>R.assign(I,!0),()=>R.assign(I,(0,t._)`${I} || {}`).code((0,t._)`Object.assign(${I}, ${A})`))}),mergeToName:(R,A,I)=>R.if((0,t._)`${I} !== true`,()=>{A===!0?R.assign(I,!0):(R.assign(I,(0,t._)`${I} || {}`),w(R,I,A))}),mergeValues:(R,A)=>R===!0?!0:{...R,...A},resultToName:g}),items:b({mergeNames:(R,A,I)=>R.if((0,t._)`${I} !== true && ${A} !== undefined`,()=>R.assign(I,(0,t._)`${A} === true ? true : ${I} > ${A} ? ${I} : ${A}`)),mergeToName:(R,A,I)=>R.if((0,t._)`${I} !== true`,()=>R.assign(I,A===!0?!0:(0,t._)`${I} > ${A} ? ${I} : ${A}`)),mergeValues:(R,A)=>R===!0?!0:Math.max(R,A),resultToName:(R,A)=>R.var("items",A)})};function g(R,A){if(A===!0)return R.var("props",!0);const I=R.var("props",(0,t._)`{}`);return A!==void 0&&w(R,I,A),I}hn.evaluatedPropsToName=g;function w(R,A,I){Object.keys(I).forEach(O=>R.assign((0,t._)`${A}${(0,t.getProperty)(O)}`,!0))}hn.setEvaluated=w;const S={};function T(R,A){return R.scopeValue("func",{ref:A,code:S[A.code]||(S[A.code]=new e._Code(A.code))})}hn.useFunc=T;var x;(function(R){R[R.Num=0]="Num",R[R.Str=1]="Str"})(x||(hn.Type=x={}));function _(R,A,I){if(R instanceof t.Name){const O=A===x.Num;return I?O?(0,t._)`"[" + ${R} + "]"`:(0,t._)`"['" + ${R} + "']"`:O?(0,t._)`"/" + ${R}`:(0,t._)`"/" + ${R}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return I?(0,t.getProperty)(R).toString():"/"+f(R)}hn.getErrorPath=_;function C(R,A,I=R.opts.strictSchema){if(I){if(A=`strict mode: ${A}`,I===!0)throw new Error(A);R.self.logger.warn(A)}}return hn.checkStrictMode=C,hn}var Mv={},g6;function su(){if(g6)return Mv;g6=1,Object.defineProperty(Mv,"__esModule",{value:!0});const t=mn(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Mv.default=e,Mv}var b6;function I1(){return b6||(b6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=mn(),n=Un(),r=su();t.keywordError={message:({keyword:S})=>(0,e.str)`must pass "${S}" keyword validation`},t.keyword$DataError={message:({keyword:S,schemaType:T})=>T?(0,e.str)`"${S}" keyword must be ${T} ($data)`:(0,e.str)`"${S}" keyword is invalid ($data)`};function a(S,T=t.keywordError,x,_){const{it:C}=S,{gen:R,compositeRule:A,allErrors:I}=C,O=h(S,T,x);_??(A||I)?l(R,O):d(C,(0,e._)`[${O}]`)}t.reportError=a;function i(S,T=t.keywordError,x){const{it:_}=S,{gen:C,compositeRule:R,allErrors:A}=_,I=h(S,T,x);l(C,I),R||A||d(_,r.default.vErrors)}t.reportExtraError=i;function s(S,T){S.assign(r.default.errors,T),S.if((0,e._)`${r.default.vErrors} !== null`,()=>S.if(T,()=>S.assign((0,e._)`${r.default.vErrors}.length`,T),()=>S.assign(r.default.vErrors,null)))}t.resetErrorsCount=s;function o({gen:S,keyword:T,schemaValue:x,data:_,errsCount:C,it:R}){if(C===void 0)throw new Error("ajv implementation error");const A=S.name("err");S.forRange("i",C,r.default.errors,I=>{S.const(A,(0,e._)`${r.default.vErrors}[${I}]`),S.if((0,e._)`${A}.instancePath === undefined`,()=>S.assign((0,e._)`${A}.instancePath`,(0,e.strConcat)(r.default.instancePath,R.errorPath))),S.assign((0,e._)`${A}.schemaPath`,(0,e.str)`${R.errSchemaPath}/${T}`),R.opts.verbose&&(S.assign((0,e._)`${A}.schema`,x),S.assign((0,e._)`${A}.data`,_))})}t.extendErrors=o;function l(S,T){const x=S.const("err",T);S.if((0,e._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,e._)`[${x}]`),(0,e._)`${r.default.vErrors}.push(${x})`),S.code((0,e._)`${r.default.errors}++`)}function d(S,T){const{gen:x,validateName:_,schemaEnv:C}=S;C.$async?x.throw((0,e._)`new ${S.ValidationError}(${T})`):(x.assign((0,e._)`${_}.errors`,T),x.return(!1))}const f={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function h(S,T,x){const{createErrors:_}=S.it;return _===!1?(0,e._)`{}`:m(S,T,x)}function m(S,T,x={}){const{gen:_,it:C}=S,R=[b(C,x),g(S,x)];return w(S,T,R),_.object(...R)}function b({errorPath:S},{instancePath:T}){const x=T?(0,e.str)`${S}${(0,n.getErrorPath)(T,n.Type.Str)}`:S;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,x)]}function g({keyword:S,it:{errSchemaPath:T}},{schemaPath:x,parentSchema:_}){let C=_?T:(0,e.str)`${T}/${S}`;return x&&(C=(0,e.str)`${C}${(0,n.getErrorPath)(x,n.Type.Str)}`),[f.schemaPath,C]}function w(S,{params:T,message:x},_){const{keyword:C,data:R,schemaValue:A,it:I}=S,{opts:O,propertyName:M,topSchemaRef:U,schemaPath:L}=I;_.push([f.keyword,C],[f.params,typeof T=="function"?T(S):T||(0,e._)`{}`]),O.messages&&_.push([f.message,typeof x=="function"?x(S):x]),O.verbose&&_.push([f.schema,A],[f.parentSchema,(0,e._)`${U}${L}`],[r.default.data,R]),M&&_.push([f.propertyName,M])}})(_T)),_T}var y6;function lue(){if(y6)return ed;y6=1,Object.defineProperty(ed,"__esModule",{value:!0}),ed.boolOrEmptySchema=ed.topBoolOrEmptySchema=void 0;const t=I1(),e=mn(),n=su(),r={message:"boolean schema is false"};function a(o){const{gen:l,schema:d,validateName:f}=o;d===!1?s(o,!1):typeof d=="object"&&d.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${f}.errors`,null),l.return(!0))}ed.topBoolOrEmptySchema=a;function i(o,l){const{gen:d,schema:f}=o;f===!1?(d.var(l,!1),s(o)):d.var(l,!0)}ed.boolOrEmptySchema=i;function s(o,l){const{gen:d,data:f}=o,h={gen:d,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(h,r,void 0,l)}return ed}var Ea={},td={},v6;function FY(){if(v6)return td;v6=1,Object.defineProperty(td,"__esModule",{value:!0}),td.getRules=td.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(a){return typeof a=="string"&&e.has(a)}td.isJSONType=n;function r(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return td.getRules=r,td}var Gl={},S6;function BY(){if(S6)return Gl;S6=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.shouldUseRule=Gl.shouldUseGroup=Gl.schemaHasRulesForType=void 0;function t({schema:r,self:a},i){const s=a.RULES.types[i];return s&&s!==!0&&e(r,s)}Gl.schemaHasRulesForType=t;function e(r,a){return a.rules.some(i=>n(r,i))}Gl.shouldUseGroup=e;function n(r,a){var i;return r[a.keyword]!==void 0||((i=a.definition.implements)===null||i===void 0?void 0:i.some(s=>r[s]!==void 0))}return Gl.shouldUseRule=n,Gl}var E6;function qS(){if(E6)return Ea;E6=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.reportTypeError=Ea.checkDataTypes=Ea.checkDataType=Ea.coerceAndCheckDataType=Ea.getJSONTypes=Ea.getSchemaTypes=Ea.DataType=void 0;const t=FY(),e=BY(),n=I1(),r=mn(),a=Un();var i;(function(x){x[x.Correct=0]="Correct",x[x.Wrong=1]="Wrong"})(i||(Ea.DataType=i={}));function s(x){const _=o(x.type);if(_.includes("null")){if(x.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!_.length&&x.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');x.nullable===!0&&_.push("null")}return _}Ea.getSchemaTypes=s;function o(x){const _=Array.isArray(x)?x:x?[x]:[];if(_.every(t.isJSONType))return _;throw new Error("type must be JSONType or JSONType[]: "+_.join(","))}Ea.getJSONTypes=o;function l(x,_){const{gen:C,data:R,opts:A}=x,I=f(_,A.coerceTypes),O=_.length>0&&!(I.length===0&&_.length===1&&(0,e.schemaHasRulesForType)(x,_[0]));if(O){const M=g(_,R,A.strictNumbers,i.Wrong);C.if(M,()=>{I.length?h(x,_,I):S(x)})}return O}Ea.coerceAndCheckDataType=l;const d=new Set(["string","number","integer","boolean","null"]);function f(x,_){return _?x.filter(C=>d.has(C)||_==="array"&&C==="array"):[]}function h(x,_,C){const{gen:R,data:A,opts:I}=x,O=R.let("dataType",(0,r._)`typeof ${A}`),M=R.let("coerced",(0,r._)`undefined`);I.coerceTypes==="array"&&R.if((0,r._)`${O} == 'object' && Array.isArray(${A}) && ${A}.length == 1`,()=>R.assign(A,(0,r._)`${A}[0]`).assign(O,(0,r._)`typeof ${A}`).if(g(_,A,I.strictNumbers),()=>R.assign(M,A))),R.if((0,r._)`${M} !== undefined`);for(const L of C)(d.has(L)||L==="array"&&I.coerceTypes==="array")&&U(L);R.else(),S(x),R.endIf(),R.if((0,r._)`${M} !== undefined`,()=>{R.assign(A,M),m(x,M)});function U(L){switch(L){case"string":R.elseIf((0,r._)`${O} == "number" || ${O} == "boolean"`).assign(M,(0,r._)`"" + ${A}`).elseIf((0,r._)`${A} === null`).assign(M,(0,r._)`""`);return;case"number":R.elseIf((0,r._)`${O} == "boolean" || ${A} === null
              || (${O} == "string" && ${A} && ${A} == +${A})`).assign(M,(0,r._)`+${A}`);return;case"integer":R.elseIf((0,r._)`${O} === "boolean" || ${A} === null
              || (${O} === "string" && ${A} && ${A} == +${A} && !(${A} % 1))`).assign(M,(0,r._)`+${A}`);return;case"boolean":R.elseIf((0,r._)`${A} === "false" || ${A} === 0 || ${A} === null`).assign(M,!1).elseIf((0,r._)`${A} === "true" || ${A} === 1`).assign(M,!0);return;case"null":R.elseIf((0,r._)`${A} === "" || ${A} === 0 || ${A} === false`),R.assign(M,null);return;case"array":R.elseIf((0,r._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${A} === null`).assign(M,(0,r._)`[${A}]`)}}}function m({gen:x,parentData:_,parentDataProperty:C},R){x.if((0,r._)`${_} !== undefined`,()=>x.assign((0,r._)`${_}[${C}]`,R))}function b(x,_,C,R=i.Correct){const A=R===i.Correct?r.operators.EQ:r.operators.NEQ;let I;switch(x){case"null":return(0,r._)`${_} ${A} null`;case"array":I=(0,r._)`Array.isArray(${_})`;break;case"object":I=(0,r._)`${_} && typeof ${_} == "object" && !Array.isArray(${_})`;break;case"integer":I=O((0,r._)`!(${_} % 1) && !isNaN(${_})`);break;case"number":I=O();break;default:return(0,r._)`typeof ${_} ${A} ${x}`}return R===i.Correct?I:(0,r.not)(I);function O(M=r.nil){return(0,r.and)((0,r._)`typeof ${_} == "number"`,M,C?(0,r._)`isFinite(${_})`:r.nil)}}Ea.checkDataType=b;function g(x,_,C,R){if(x.length===1)return b(x[0],_,C,R);let A;const I=(0,a.toHash)(x);if(I.array&&I.object){const O=(0,r._)`typeof ${_} != "object"`;A=I.null?O:(0,r._)`!${_} || ${O}`,delete I.null,delete I.array,delete I.object}else A=r.nil;I.number&&delete I.integer;for(const O in I)A=(0,r.and)(A,b(O,_,C,R));return A}Ea.checkDataTypes=g;const w={message:({schema:x})=>`must be ${x}`,params:({schema:x,schemaValue:_})=>typeof x=="string"?(0,r._)`{type: ${x}}`:(0,r._)`{type: ${_}}`};function S(x){const _=T(x);(0,n.reportError)(_,w)}Ea.reportTypeError=S;function T(x){const{gen:_,data:C,schema:R}=x,A=(0,a.schemaRefOrVal)(x,R,"type");return{gen:_,keyword:"type",data:C,schema:R.type,schemaCode:A,schemaValue:A,parentSchema:R,params:{},it:x}}return Ea}var eg={},_6;function cue(){if(_6)return eg;_6=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.assignDefaults=void 0;const t=mn(),e=Un();function n(a,i){const{properties:s,items:o}=a.schema;if(i==="object"&&s)for(const l in s)r(a,l,s[l].default);else i==="array"&&Array.isArray(o)&&o.forEach((l,d)=>r(a,d,l.default))}eg.assignDefaults=n;function r(a,i,s){const{gen:o,compositeRule:l,data:d,opts:f}=a;if(s===void 0)return;const h=(0,t._)`${d}${(0,t.getProperty)(i)}`;if(l){(0,e.checkStrictMode)(a,`default is ignored for: ${h}`);return}let m=(0,t._)`${h} === undefined`;f.useDefaults==="empty"&&(m=(0,t._)`${m} || ${h} === null || ${h} === ""`),o.if(m,(0,t._)`${h} = ${(0,t.stringify)(s)}`)}return eg}var ro={},Qn={},x6;function So(){if(x6)return Qn;x6=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.validateUnion=Qn.validateArray=Qn.usePattern=Qn.callValidateCode=Qn.schemaProperties=Qn.allSchemaProperties=Qn.noPropertyInData=Qn.propertyInData=Qn.isOwnProperty=Qn.hasPropFunc=Qn.reportMissingProp=Qn.checkMissingProp=Qn.checkReportMissingProp=void 0;const t=mn(),e=Un(),n=su(),r=Un();function a(x,_){const{gen:C,data:R,it:A}=x;C.if(f(C,R,_,A.opts.ownProperties),()=>{x.setParams({missingProperty:(0,t._)`${_}`},!0),x.error()})}Qn.checkReportMissingProp=a;function i({gen:x,data:_,it:{opts:C}},R,A){return(0,t.or)(...R.map(I=>(0,t.and)(f(x,_,I,C.ownProperties),(0,t._)`${A} = ${I}`)))}Qn.checkMissingProp=i;function s(x,_){x.setParams({missingProperty:_},!0),x.error()}Qn.reportMissingProp=s;function o(x){return x.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}Qn.hasPropFunc=o;function l(x,_,C){return(0,t._)`${o(x)}.call(${_}, ${C})`}Qn.isOwnProperty=l;function d(x,_,C,R){const A=(0,t._)`${_}${(0,t.getProperty)(C)} !== undefined`;return R?(0,t._)`${A} && ${l(x,_,C)}`:A}Qn.propertyInData=d;function f(x,_,C,R){const A=(0,t._)`${_}${(0,t.getProperty)(C)} === undefined`;return R?(0,t.or)(A,(0,t.not)(l(x,_,C))):A}Qn.noPropertyInData=f;function h(x){return x?Object.keys(x).filter(_=>_!=="__proto__"):[]}Qn.allSchemaProperties=h;function m(x,_){return h(_).filter(C=>!(0,e.alwaysValidSchema)(x,_[C]))}Qn.schemaProperties=m;function b({schemaCode:x,data:_,it:{gen:C,topSchemaRef:R,schemaPath:A,errorPath:I},it:O},M,U,L){const z=L?(0,t._)`${x}, ${_}, ${R}${A}`:_,j=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,I)],[n.default.parentData,O.parentData],[n.default.parentDataProperty,O.parentDataProperty],[n.default.rootData,n.default.rootData]];O.opts.dynamicRef&&j.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const H=(0,t._)`${z}, ${C.object(...j)}`;return U!==t.nil?(0,t._)`${M}.call(${U}, ${H})`:(0,t._)`${M}(${H})`}Qn.callValidateCode=b;const g=(0,t._)`new RegExp`;function w({gen:x,it:{opts:_}},C){const R=_.unicodeRegExp?"u":"",{regExp:A}=_.code,I=A(C,R);return x.scopeValue("pattern",{key:I.toString(),ref:I,code:(0,t._)`${A.code==="new RegExp"?g:(0,r.useFunc)(x,A)}(${C}, ${R})`})}Qn.usePattern=w;function S(x){const{gen:_,data:C,keyword:R,it:A}=x,I=_.name("valid");if(A.allErrors){const M=_.let("valid",!0);return O(()=>_.assign(M,!1)),M}return _.var(I,!0),O(()=>_.break()),I;function O(M){const U=_.const("len",(0,t._)`${C}.length`);_.forRange("i",0,U,L=>{x.subschema({keyword:R,dataProp:L,dataPropType:e.Type.Num},I),_.if((0,t.not)(I),M)})}}Qn.validateArray=S;function T(x){const{gen:_,schema:C,keyword:R,it:A}=x;if(!Array.isArray(C))throw new Error("ajv implementation error");if(C.some(U=>(0,e.alwaysValidSchema)(A,U))&&!A.opts.unevaluated)return;const O=_.let("valid",!1),M=_.name("_valid");_.block(()=>C.forEach((U,L)=>{const z=x.subschema({keyword:R,schemaProp:L,compositeRule:!0},M);_.assign(O,(0,t._)`${O} || ${M}`),x.mergeValidEvaluated(z,M)||_.if((0,t.not)(O))})),x.result(O,()=>x.reset(),()=>x.error(!0))}return Qn.validateUnion=T,Qn}var w6;function uue(){if(w6)return ro;w6=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.validateKeywordUsage=ro.validSchemaType=ro.funcKeywordCode=ro.macroKeywordCode=void 0;const t=mn(),e=su(),n=So(),r=I1();function a(m,b){const{gen:g,keyword:w,schema:S,parentSchema:T,it:x}=m,_=b.macro.call(x.self,S,T,x),C=d(g,w,_);x.opts.validateSchema!==!1&&x.self.validateSchema(_,!0);const R=g.name("valid");m.subschema({schema:_,schemaPath:t.nil,errSchemaPath:`${x.errSchemaPath}/${w}`,topSchemaRef:C,compositeRule:!0},R),m.pass(R,()=>m.error(!0))}ro.macroKeywordCode=a;function i(m,b){var g;const{gen:w,keyword:S,schema:T,parentSchema:x,$data:_,it:C}=m;l(C,b);const R=!_&&b.compile?b.compile.call(C.self,T,x,C):b.validate,A=d(w,S,R),I=w.let("valid");m.block$data(I,O),m.ok((g=b.valid)!==null&&g!==void 0?g:I);function O(){if(b.errors===!1)L(),b.modifying&&s(m),z(()=>m.error());else{const j=b.async?M():U();b.modifying&&s(m),z(()=>o(m,j))}}function M(){const j=w.let("ruleErrs",null);return w.try(()=>L((0,t._)`await `),H=>w.assign(I,!1).if((0,t._)`${H} instanceof ${C.ValidationError}`,()=>w.assign(j,(0,t._)`${H}.errors`),()=>w.throw(H))),j}function U(){const j=(0,t._)`${A}.errors`;return w.assign(j,null),L(t.nil),j}function L(j=b.async?(0,t._)`await `:t.nil){const H=C.opts.passContext?e.default.this:e.default.self,$=!("compile"in b&&!_||b.schema===!1);w.assign(I,(0,t._)`${j}${(0,n.callValidateCode)(m,A,H,$)}`,b.modifying)}function z(j){var H;w.if((0,t.not)((H=b.valid)!==null&&H!==void 0?H:I),j)}}ro.funcKeywordCode=i;function s(m){const{gen:b,data:g,it:w}=m;b.if(w.parentData,()=>b.assign(g,(0,t._)`${w.parentData}[${w.parentDataProperty}]`))}function o(m,b){const{gen:g}=m;g.if((0,t._)`Array.isArray(${b})`,()=>{g.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},b){if(b.async&&!m.$async)throw new Error("async keyword in sync schema")}function d(m,b,g){if(g===void 0)throw new Error(`keyword "${b}" failed to compile`);return m.scopeValue("keyword",typeof g=="function"?{ref:g}:{ref:g,code:(0,t.stringify)(g)})}function f(m,b,g=!1){return!b.length||b.some(w=>w==="array"?Array.isArray(m):w==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==w||g&&typeof m>"u")}ro.validSchemaType=f;function h({schema:m,opts:b,self:g,errSchemaPath:w},S,T){if(Array.isArray(S.keyword)?!S.keyword.includes(T):S.keyword!==T)throw new Error("ajv implementation error");const x=S.dependencies;if(x?.some(_=>!Object.prototype.hasOwnProperty.call(m,_)))throw new Error(`parent schema must have dependencies of ${T}: ${x.join(",")}`);if(S.validateSchema&&!S.validateSchema(m[T])){const C=`keyword "${T}" value is invalid at path "${w}": `+g.errorsText(S.validateSchema.errors);if(b.validateSchema==="log")g.logger.error(C);else throw new Error(C)}}return ro.validateKeywordUsage=h,ro}var Hl={},T6;function due(){if(T6)return Hl;T6=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.extendSubschemaMode=Hl.extendSubschemaData=Hl.getSubschema=void 0;const t=mn(),e=Un();function n(i,{keyword:s,schemaProp:o,schema:l,schemaPath:d,errSchemaPath:f,topSchemaRef:h}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=i.schema[s];return o===void 0?{schema:m,schemaPath:(0,t._)`${i.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${i.errSchemaPath}/${s}`}:{schema:m[o],schemaPath:(0,t._)`${i.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${s}/${(0,e.escapeFragment)(o)}`}}if(l!==void 0){if(d===void 0||f===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:d,topSchemaRef:h,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}Hl.getSubschema=n;function r(i,s,{dataProp:o,dataPropType:l,data:d,dataTypes:f,propertyName:h}){if(d!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(o!==void 0){const{errorPath:g,dataPathArr:w,opts:S}=s,T=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(o)}`,!0);b(T),i.errorPath=(0,t.str)`${g}${(0,e.getErrorPath)(o,l,S.jsPropertySyntax)}`,i.parentDataProperty=(0,t._)`${o}`,i.dataPathArr=[...w,i.parentDataProperty]}if(d!==void 0){const g=d instanceof t.Name?d:m.let("data",d,!0);b(g),h!==void 0&&(i.propertyName=h)}f&&(i.dataTypes=f);function b(g){i.data=g,i.dataLevel=s.dataLevel+1,i.dataTypes=[],s.definedProperties=new Set,i.parentData=s.data,i.dataNames=[...s.dataNames,g]}}Hl.extendSubschemaData=r;function a(i,{jtdDiscriminator:s,jtdMetadata:o,compositeRule:l,createErrors:d,allErrors:f}){l!==void 0&&(i.compositeRule=l),d!==void 0&&(i.createErrors=d),f!==void 0&&(i.allErrors=f),i.jtdDiscriminator=s,i.jtdMetadata=o}return Hl.extendSubschemaMode=a,Hl}var pi={},CT,C6;function jY(){return C6||(C6=1,CT=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(a=r;a--!==0;)if(!t(e[a],n[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;a--!==0;){var s=i[a];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}),CT}var RT={exports:{}},R6;function fue(){if(R6)return RT.exports;R6=1;var t=RT.exports=function(r,a,i){typeof a=="function"&&(i=a,a={}),i=a.cb||i;var s=typeof i=="function"?i:i.pre||function(){},o=i.post||function(){};e(a,s,o,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,a,i,s,o,l,d,f,h,m){if(s&&typeof s=="object"&&!Array.isArray(s)){a(s,o,l,d,f,h,m);for(var b in s){var g=s[b];if(Array.isArray(g)){if(b in t.arrayKeywords)for(var w=0;w<g.length;w++)e(r,a,i,g[w],o+"/"+b+"/"+w,l,o,b,s,w)}else if(b in t.propsKeywords){if(g&&typeof g=="object")for(var S in g)e(r,a,i,g[S],o+"/"+b+"/"+n(S),l,o,b,s,S)}else(b in t.keywords||r.allKeys&&!(b in t.skipKeywords))&&e(r,a,i,g,o+"/"+b,l,o,b,s)}i(s,o,l,d,f,h,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return RT.exports}var A6;function k1(){if(A6)return pi;A6=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.getSchemaRefs=pi.resolveUrl=pi.normalizeId=pi._getFullPath=pi.getFullPath=pi.inlineRef=void 0;const t=Un(),e=jY(),n=fue(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(w,S=!0){return typeof w=="boolean"?!0:S===!0?!s(w):S?o(w)<=S:!1}pi.inlineRef=a;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(w){for(const S in w){if(i.has(S))return!0;const T=w[S];if(Array.isArray(T)&&T.some(s)||typeof T=="object"&&s(T))return!0}return!1}function o(w){let S=0;for(const T in w){if(T==="$ref")return 1/0;if(S++,!r.has(T)&&(typeof w[T]=="object"&&(0,t.eachItem)(w[T],x=>S+=o(x)),S===1/0))return 1/0}return S}function l(w,S="",T){T!==!1&&(S=h(S));const x=w.parse(S);return d(w,x)}pi.getFullPath=l;function d(w,S){return w.serialize(S).split("#")[0]+"#"}pi._getFullPath=d;const f=/#\/?$/;function h(w){return w?w.replace(f,""):""}pi.normalizeId=h;function m(w,S,T){return T=h(T),w.resolve(S,T)}pi.resolveUrl=m;const b=/^[a-z_][-a-z0-9._]*$/i;function g(w,S){if(typeof w=="boolean")return{};const{schemaId:T,uriResolver:x}=this.opts,_=h(w[T]||S),C={"":_},R=l(x,_,!1),A={},I=new Set;return n(w,{allKeys:!0},(U,L,z,j)=>{if(j===void 0)return;const H=R+L;let $=C[j];typeof U[T]=="string"&&($=q.call(this,U[T])),K.call(this,U.$anchor),K.call(this,U.$dynamicAnchor),C[L]=$;function q(V){const re=this.opts.uriResolver.resolve;if(V=h($?re($,V):V),I.has(V))throw M(V);I.add(V);let ee=this.refs[V];return typeof ee=="string"&&(ee=this.refs[ee]),typeof ee=="object"?O(U,ee.schema,V):V!==h(H)&&(V[0]==="#"?(O(U,A[V],V),A[V]=U):this.refs[V]=H),V}function K(V){if(typeof V=="string"){if(!b.test(V))throw new Error(`invalid anchor "${V}"`);q.call(this,`#${V}`)}}}),A;function O(U,L,z){if(L!==void 0&&!e(U,L))throw M(z)}function M(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return pi.getSchemaRefs=g,pi}var I6;function D1(){if(I6)return $l;I6=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.getData=$l.KeywordCxt=$l.validateFunctionCode=void 0;const t=lue(),e=qS(),n=BY(),r=qS(),a=cue(),i=uue(),s=due(),o=mn(),l=su(),d=k1(),f=Un(),h=I1();function m(oe){if(R(oe)&&(I(oe),C(oe))){S(oe);return}b(oe,()=>(0,t.topBoolOrEmptySchema)(oe))}$l.validateFunctionCode=m;function b({gen:oe,validateName:de,schema:se,schemaEnv:Se,opts:me},ce){me.code.es5?oe.func(de,(0,o._)`${l.default.data}, ${l.default.valCxt}`,Se.$async,()=>{oe.code((0,o._)`"use strict"; ${x(se,me)}`),w(oe,me),oe.code(ce)}):oe.func(de,(0,o._)`${l.default.data}, ${g(me)}`,Se.$async,()=>oe.code(x(se,me)).code(ce))}function g(oe){return(0,o._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${oe.dynamicRef?(0,o._)`, ${l.default.dynamicAnchors}={}`:o.nil}}={}`}function w(oe,de){oe.if(l.default.valCxt,()=>{oe.var(l.default.instancePath,(0,o._)`${l.default.valCxt}.${l.default.instancePath}`),oe.var(l.default.parentData,(0,o._)`${l.default.valCxt}.${l.default.parentData}`),oe.var(l.default.parentDataProperty,(0,o._)`${l.default.valCxt}.${l.default.parentDataProperty}`),oe.var(l.default.rootData,(0,o._)`${l.default.valCxt}.${l.default.rootData}`),de.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,o._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{oe.var(l.default.instancePath,(0,o._)`""`),oe.var(l.default.parentData,(0,o._)`undefined`),oe.var(l.default.parentDataProperty,(0,o._)`undefined`),oe.var(l.default.rootData,l.default.data),de.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,o._)`{}`)})}function S(oe){const{schema:de,opts:se,gen:Se}=oe;b(oe,()=>{se.$comment&&de.$comment&&j(oe),U(oe),Se.let(l.default.vErrors,null),Se.let(l.default.errors,0),se.unevaluated&&T(oe),O(oe),H(oe)})}function T(oe){const{gen:de,validateName:se}=oe;oe.evaluated=de.const("evaluated",(0,o._)`${se}.evaluated`),de.if((0,o._)`${oe.evaluated}.dynamicProps`,()=>de.assign((0,o._)`${oe.evaluated}.props`,(0,o._)`undefined`)),de.if((0,o._)`${oe.evaluated}.dynamicItems`,()=>de.assign((0,o._)`${oe.evaluated}.items`,(0,o._)`undefined`))}function x(oe,de){const se=typeof oe=="object"&&oe[de.schemaId];return se&&(de.code.source||de.code.process)?(0,o._)`/*# sourceURL=${se} */`:o.nil}function _(oe,de){if(R(oe)&&(I(oe),C(oe))){A(oe,de);return}(0,t.boolOrEmptySchema)(oe,de)}function C({schema:oe,self:de}){if(typeof oe=="boolean")return!oe;for(const se in oe)if(de.RULES.all[se])return!0;return!1}function R(oe){return typeof oe.schema!="boolean"}function A(oe,de){const{schema:se,gen:Se,opts:me}=oe;me.$comment&&se.$comment&&j(oe),L(oe),z(oe);const ce=Se.const("_errs",l.default.errors);O(oe,ce),Se.var(de,(0,o._)`${ce} === ${l.default.errors}`)}function I(oe){(0,f.checkUnknownRules)(oe),M(oe)}function O(oe,de){if(oe.opts.jtd)return q(oe,[],!1,de);const se=(0,e.getSchemaTypes)(oe.schema),Se=(0,e.coerceAndCheckDataType)(oe,se);q(oe,se,!Se,de)}function M(oe){const{schema:de,errSchemaPath:se,opts:Se,self:me}=oe;de.$ref&&Se.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(de,me.RULES)&&me.logger.warn(`$ref: keywords ignored in schema at path "${se}"`)}function U(oe){const{schema:de,opts:se}=oe;de.default!==void 0&&se.useDefaults&&se.strictSchema&&(0,f.checkStrictMode)(oe,"default is ignored in the schema root")}function L(oe){const de=oe.schema[oe.opts.schemaId];de&&(oe.baseId=(0,d.resolveUrl)(oe.opts.uriResolver,oe.baseId,de))}function z(oe){if(oe.schema.$async&&!oe.schemaEnv.$async)throw new Error("async schema in sync schema")}function j({gen:oe,schemaEnv:de,schema:se,errSchemaPath:Se,opts:me}){const ce=se.$comment;if(me.$comment===!0)oe.code((0,o._)`${l.default.self}.logger.log(${ce})`);else if(typeof me.$comment=="function"){const pe=(0,o.str)`${Se}/$comment`,Te=oe.scopeValue("root",{ref:de.root});oe.code((0,o._)`${l.default.self}.opts.$comment(${ce}, ${pe}, ${Te}.schema)`)}}function H(oe){const{gen:de,schemaEnv:se,validateName:Se,ValidationError:me,opts:ce}=oe;se.$async?de.if((0,o._)`${l.default.errors} === 0`,()=>de.return(l.default.data),()=>de.throw((0,o._)`new ${me}(${l.default.vErrors})`)):(de.assign((0,o._)`${Se}.errors`,l.default.vErrors),ce.unevaluated&&$(oe),de.return((0,o._)`${l.default.errors} === 0`))}function $({gen:oe,evaluated:de,props:se,items:Se}){se instanceof o.Name&&oe.assign((0,o._)`${de}.props`,se),Se instanceof o.Name&&oe.assign((0,o._)`${de}.items`,Se)}function q(oe,de,se,Se){const{gen:me,schema:ce,data:pe,allErrors:Te,opts:be,self:Ie}=oe,{RULES:je}=Ie;if(ce.$ref&&(be.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(ce,je))){me.block(()=>Ee(oe,"$ref",je.all.$ref.definition));return}be.jtd||V(oe,de),me.block(()=>{for(const Ge of je.rules)ke(Ge);ke(je.post)});function ke(Ge){(0,n.shouldUseGroup)(ce,Ge)&&(Ge.type?(me.if((0,r.checkDataType)(Ge.type,pe,be.strictNumbers)),K(oe,Ge),de.length===1&&de[0]===Ge.type&&se&&(me.else(),(0,r.reportTypeError)(oe)),me.endIf()):K(oe,Ge),Te||me.if((0,o._)`${l.default.errors} === ${Se||0}`))}}function K(oe,de){const{gen:se,schema:Se,opts:{useDefaults:me}}=oe;me&&(0,a.assignDefaults)(oe,de.type),se.block(()=>{for(const ce of de.rules)(0,n.shouldUseRule)(Se,ce)&&Ee(oe,ce.keyword,ce.definition,de.type)})}function V(oe,de){oe.schemaEnv.meta||!oe.opts.strictTypes||(re(oe,de),oe.opts.allowUnionTypes||ee(oe,de),Y(oe,oe.dataTypes))}function re(oe,de){if(de.length){if(!oe.dataTypes.length){oe.dataTypes=de;return}de.forEach(se=>{te(oe.dataTypes,se)||W(oe,`type "${se}" not allowed by context "${oe.dataTypes.join(",")}"`)}),G(oe,de)}}function ee(oe,de){de.length>1&&!(de.length===2&&de.includes("null"))&&W(oe,"use allowUnionTypes to allow union type keyword")}function Y(oe,de){const se=oe.self.RULES.all;for(const Se in se){const me=se[Se];if(typeof me=="object"&&(0,n.shouldUseRule)(oe.schema,me)){const{type:ce}=me.definition;ce.length&&!ce.some(pe=>ne(de,pe))&&W(oe,`missing type "${ce.join(",")}" for keyword "${Se}"`)}}}function ne(oe,de){return oe.includes(de)||de==="number"&&oe.includes("integer")}function te(oe,de){return oe.includes(de)||de==="integer"&&oe.includes("number")}function G(oe,de){const se=[];for(const Se of oe.dataTypes)te(de,Se)?se.push(Se):de.includes("integer")&&Se==="number"&&se.push("integer");oe.dataTypes=se}function W(oe,de){const se=oe.schemaEnv.baseId+oe.errSchemaPath;de+=` at "${se}" (strictTypes)`,(0,f.checkStrictMode)(oe,de,oe.opts.strictTypes)}class ue{constructor(de,se,Se){if((0,i.validateKeywordUsage)(de,se,Se),this.gen=de.gen,this.allErrors=de.allErrors,this.keyword=Se,this.data=de.data,this.schema=de.schema[Se],this.$data=se.$data&&de.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(de,this.schema,Se,this.$data),this.schemaType=se.schemaType,this.parentSchema=de.schema,this.params={},this.it=de,this.def=se,this.$data)this.schemaCode=de.gen.const("vSchema",Ae(this.$data,de));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,se.schemaType,se.allowUndefined))throw new Error(`${Se} value must be ${JSON.stringify(se.schemaType)}`);("code"in se?se.trackErrors:se.errors!==!1)&&(this.errsCount=de.gen.const("_errs",l.default.errors))}result(de,se,Se){this.failResult((0,o.not)(de),se,Se)}failResult(de,se,Se){this.gen.if(de),Se?Se():this.error(),se?(this.gen.else(),se(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(de,se){this.failResult((0,o.not)(de),void 0,se)}fail(de){if(de===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(de),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(de){if(!this.$data)return this.fail(de);const{schemaCode:se}=this;this.fail((0,o._)`${se} !== undefined && (${(0,o.or)(this.invalid$data(),de)})`)}error(de,se,Se){if(se){this.setParams(se),this._error(de,Se),this.setParams({});return}this._error(de,Se)}_error(de,se){(de?h.reportExtraError:h.reportError)(this,this.def.error,se)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(de){this.allErrors||this.gen.if(de)}setParams(de,se){se?Object.assign(this.params,de):this.params=de}block$data(de,se,Se=o.nil){this.gen.block(()=>{this.check$data(de,Se),se()})}check$data(de=o.nil,se=o.nil){if(!this.$data)return;const{gen:Se,schemaCode:me,schemaType:ce,def:pe}=this;Se.if((0,o.or)((0,o._)`${me} === undefined`,se)),de!==o.nil&&Se.assign(de,!0),(ce.length||pe.validateSchema)&&(Se.elseIf(this.invalid$data()),this.$dataError(),de!==o.nil&&Se.assign(de,!1)),Se.else()}invalid$data(){const{gen:de,schemaCode:se,schemaType:Se,def:me,it:ce}=this;return(0,o.or)(pe(),Te());function pe(){if(Se.length){if(!(se instanceof o.Name))throw new Error("ajv implementation error");const be=Array.isArray(Se)?Se:[Se];return(0,o._)`${(0,r.checkDataTypes)(be,se,ce.opts.strictNumbers,r.DataType.Wrong)}`}return o.nil}function Te(){if(me.validateSchema){const be=de.scopeValue("validate$data",{ref:me.validateSchema});return(0,o._)`!${be}(${se})`}return o.nil}}subschema(de,se){const Se=(0,s.getSubschema)(this.it,de);(0,s.extendSubschemaData)(Se,this.it,de),(0,s.extendSubschemaMode)(Se,de);const me={...this.it,...Se,items:void 0,props:void 0};return _(me,se),me}mergeEvaluated(de,se){const{it:Se,gen:me}=this;Se.opts.unevaluated&&(Se.props!==!0&&de.props!==void 0&&(Se.props=f.mergeEvaluated.props(me,de.props,Se.props,se)),Se.items!==!0&&de.items!==void 0&&(Se.items=f.mergeEvaluated.items(me,de.items,Se.items,se)))}mergeValidEvaluated(de,se){const{it:Se,gen:me}=this;if(Se.opts.unevaluated&&(Se.props!==!0||Se.items!==!0))return me.if(se,()=>this.mergeEvaluated(de,o.Name)),!0}}$l.KeywordCxt=ue;function Ee(oe,de,se,Se){const me=new ue(oe,se,de);"code"in se?se.code(me,Se):me.$data&&se.validate?(0,i.funcKeywordCode)(me,se):"macro"in se?(0,i.macroKeywordCode)(me,se):(se.compile||se.validate)&&(0,i.funcKeywordCode)(me,se)}const ge=/^\/(?:[^~]|~0|~1)*$/,fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ae(oe,{dataLevel:de,dataNames:se,dataPathArr:Se}){let me,ce;if(oe==="")return l.default.rootData;if(oe[0]==="/"){if(!ge.test(oe))throw new Error(`Invalid JSON-pointer: ${oe}`);me=oe,ce=l.default.rootData}else{const Ie=fe.exec(oe);if(!Ie)throw new Error(`Invalid JSON-pointer: ${oe}`);const je=+Ie[1];if(me=Ie[2],me==="#"){if(je>=de)throw new Error(be("property/index",je));return Se[de-je]}if(je>de)throw new Error(be("data",je));if(ce=se[de-je],!me)return ce}let pe=ce;const Te=me.split("/");for(const Ie of Te)Ie&&(ce=(0,o._)`${ce}${(0,o.getProperty)((0,f.unescapeJsonPointer)(Ie))}`,pe=(0,o._)`${pe} && ${ce}`);return pe;function be(Ie,je){return`Cannot access ${Ie} ${je} levels up, current level is ${de}`}}return $l.getData=Ae,$l}var Pv={},k6;function pP(){if(k6)return Pv;k6=1,Object.defineProperty(Pv,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Pv.default=t,Pv}var Lv={},D6;function O1(){if(D6)return Lv;D6=1,Object.defineProperty(Lv,"__esModule",{value:!0});const t=k1();class e extends Error{constructor(r,a,i,s){super(s||`can't resolve reference ${i} from id ${a}`),this.missingRef=(0,t.resolveUrl)(r,a,i),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Lv.default=e,Lv}var ns={},O6;function hP(){if(O6)return ns;O6=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.resolveSchema=ns.getCompilingSchema=ns.resolveRef=ns.compileSchema=ns.SchemaEnv=void 0;const t=mn(),e=pP(),n=su(),r=k1(),a=Un(),i=D1();class s{constructor(T){var x;this.refs={},this.dynamicAnchors={};let _;typeof T.schema=="object"&&(_=T.schema),this.schema=T.schema,this.schemaId=T.schemaId,this.root=T.root||this,this.baseId=(x=T.baseId)!==null&&x!==void 0?x:(0,r.normalizeId)(_?.[T.schemaId||"$id"]),this.schemaPath=T.schemaPath,this.localRefs=T.localRefs,this.meta=T.meta,this.$async=_?.$async,this.refs={}}}ns.SchemaEnv=s;function o(S){const T=f.call(this,S);if(T)return T;const x=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:_,lines:C}=this.opts.code,{ownProperties:R}=this.opts,A=new t.CodeGen(this.scope,{es5:_,lines:C,ownProperties:R});let I;S.$async&&(I=A.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=A.scopeName("validate");S.validateName=O;const M={gen:A,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:A.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,t.stringify)(S.schema)}:{ref:S.schema}),validateName:O,ValidationError:I,schema:S.schema,schemaEnv:S,rootId:x,baseId:S.baseId||x,schemaPath:t.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(S),(0,i.validateFunctionCode)(M),A.optimize(this.opts.code.optimize);const L=A.toString();U=`${A.scopeRefs(n.default.scope)}return ${L}`,this.opts.code.process&&(U=this.opts.code.process(U,S));const j=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(O,{ref:j}),j.errors=null,j.schema=S.schema,j.schemaEnv=S,S.$async&&(j.$async=!0),this.opts.code.source===!0&&(j.source={validateName:O,validateCode:L,scopeValues:A._values}),this.opts.unevaluated){const{props:H,items:$}=M;j.evaluated={props:H instanceof t.Name?void 0:H,items:$ instanceof t.Name?void 0:$,dynamicProps:H instanceof t.Name,dynamicItems:$ instanceof t.Name},j.source&&(j.source.evaluated=(0,t.stringify)(j.evaluated))}return S.validate=j,S}catch(L){throw delete S.validate,delete S.validateName,U&&this.logger.error("Error compiling schema, function code:",U),L}finally{this._compilations.delete(S)}}ns.compileSchema=o;function l(S,T,x){var _;x=(0,r.resolveUrl)(this.opts.uriResolver,T,x);const C=S.refs[x];if(C)return C;let R=m.call(this,S,x);if(R===void 0){const A=(_=S.localRefs)===null||_===void 0?void 0:_[x],{schemaId:I}=this.opts;A&&(R=new s({schema:A,schemaId:I,root:S,baseId:T}))}if(R!==void 0)return S.refs[x]=d.call(this,R)}ns.resolveRef=l;function d(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:o.call(this,S)}function f(S){for(const T of this._compilations)if(h(T,S))return T}ns.getCompilingSchema=f;function h(S,T){return S.schema===T.schema&&S.root===T.root&&S.baseId===T.baseId}function m(S,T){let x;for(;typeof(x=this.refs[T])=="string";)T=x;return x||this.schemas[T]||b.call(this,S,T)}function b(S,T){const x=this.opts.uriResolver.parse(T),_=(0,r._getFullPath)(this.opts.uriResolver,x);let C=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&_===C)return w.call(this,x,S);const R=(0,r.normalizeId)(_),A=this.refs[R]||this.schemas[R];if(typeof A=="string"){const I=b.call(this,S,A);return typeof I?.schema!="object"?void 0:w.call(this,x,I)}if(typeof A?.schema=="object"){if(A.validate||o.call(this,A),R===(0,r.normalizeId)(T)){const{schema:I}=A,{schemaId:O}=this.opts,M=I[O];return M&&(C=(0,r.resolveUrl)(this.opts.uriResolver,C,M)),new s({schema:I,schemaId:O,root:S,baseId:C})}return w.call(this,x,A)}}ns.resolveSchema=b;const g=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(S,{baseId:T,schema:x,root:_}){var C;if(((C=S.fragment)===null||C===void 0?void 0:C[0])!=="/")return;for(const I of S.fragment.slice(1).split("/")){if(typeof x=="boolean")return;const O=x[(0,a.unescapeFragment)(I)];if(O===void 0)return;x=O;const M=typeof x=="object"&&x[this.opts.schemaId];!g.has(I)&&M&&(T=(0,r.resolveUrl)(this.opts.uriResolver,T,M))}let R;if(typeof x!="boolean"&&x.$ref&&!(0,a.schemaHasRulesButRef)(x,this.RULES)){const I=(0,r.resolveUrl)(this.opts.uriResolver,T,x.$ref);R=b.call(this,_,I)}const{schemaId:A}=this.opts;if(R=R||new s({schema:x,schemaId:A,root:_,baseId:T}),R.schema!==R.root.schema)return R}return ns}const pue="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",hue="Meta-schema for $data reference (JSON AnySchema extension proposal)",mue="object",gue=["$data"],bue={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},yue=!1,vue={$id:pue,description:hue,type:mue,required:gue,properties:bue,additionalProperties:yue};var Fv={},tg={exports:{}},AT,N6;function UY(){if(N6)return AT;N6=1;const t=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),e=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(m){let b="",g=0,w=0;for(w=0;w<m.length;w++)if(g=m[w].charCodeAt(0),g!==48){if(!(g>=48&&g<=57||g>=65&&g<=70||g>=97&&g<=102))return"";b+=m[w];break}for(w+=1;w<m.length;w++){if(g=m[w].charCodeAt(0),!(g>=48&&g<=57||g>=65&&g<=70||g>=97&&g<=102))return"";b+=m[w]}return b}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function a(m){return m.length=0,!0}function i(m,b,g){if(m.length){const w=n(m);if(w!=="")b.push(w);else return g.error=!0,!1;m.length=0}return!0}function s(m){let b=0;const g={error:!1,address:"",zone:""},w=[],S=[];let T=!1,x=!1,_=i;for(let C=0;C<m.length;C++){const R=m[C];if(!(R==="["||R==="]"))if(R===":"){if(T===!0&&(x=!0),!_(S,w,g))break;if(++b>7){g.error=!0;break}C>0&&m[C-1]===":"&&(T=!0),w.push(":");continue}else if(R==="%"){if(!_(S,w,g))break;_=a}else{S.push(R);continue}}return S.length&&(_===a?g.zone=S.join(""):x?w.push(S.join("")):w.push(n(S))),g.address=w.join(""),g}function o(m){if(l(m,":")<2)return{host:m,isIPV6:!1};const b=s(m);if(b.error)return{host:m,isIPV6:!1};{let g=b.address,w=b.address;return b.zone&&(g+="%"+b.zone,w+="%25"+b.zone),{host:g,isIPV6:!0,escapedHost:w}}}function l(m,b){let g=0;for(let w=0;w<m.length;w++)m[w]===b&&g++;return g}function d(m){let b=m;const g=[];let w=-1,S=0;for(;S=b.length;){if(S===1){if(b===".")break;if(b==="/"){g.push("/");break}else{g.push(b);break}}else if(S===2){if(b[0]==="."){if(b[1]===".")break;if(b[1]==="/"){b=b.slice(2);continue}}else if(b[0]==="/"&&(b[1]==="."||b[1]==="/")){g.push("/");break}}else if(S===3&&b==="/.."){g.length!==0&&g.pop(),g.push("/");break}if(b[0]==="."){if(b[1]==="."){if(b[2]==="/"){b=b.slice(3);continue}}else if(b[1]==="/"){b=b.slice(2);continue}}else if(b[0]==="/"&&b[1]==="."){if(b[2]==="/"){b=b.slice(2);continue}else if(b[2]==="."&&b[3]==="/"){b=b.slice(3),g.length!==0&&g.pop();continue}}if((w=b.indexOf("/",1))===-1){g.push(b);break}else g.push(b.slice(0,w)),b=b.slice(w)}return g.join("")}function f(m,b){const g=b!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=g(m.scheme)),m.userinfo!==void 0&&(m.userinfo=g(m.userinfo)),m.host!==void 0&&(m.host=g(m.host)),m.path!==void 0&&(m.path=g(m.path)),m.query!==void 0&&(m.query=g(m.query)),m.fragment!==void 0&&(m.fragment=g(m.fragment)),m}function h(m){const b=[];if(m.userinfo!==void 0&&(b.push(m.userinfo),b.push("@")),m.host!==void 0){let g=unescape(m.host);if(!e(g)){const w=o(g);w.isIPV6===!0?g=`[${w.escapedHost}]`:g=m.host}b.push(g)}return(typeof m.port=="number"||typeof m.port=="string")&&(b.push(":"),b.push(String(m.port))),b.length?b.join(""):void 0}return AT={nonSimpleDomain:r,recomposeAuthority:h,normalizeComponentEncoding:f,removeDotSegments:d,isIPv4:e,isUUID:t,normalizeIPv6:o,stringArrayToHexStripped:n},AT}var IT,M6;function Sue(){if(M6)return IT;M6=1;const{isUUID:t}=UY(),e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,n=["http","https","ws","wss","urn","urn:uuid"];function r(R){return n.indexOf(R)!==-1}function a(R){return R.secure===!0?!0:R.secure===!1?!1:R.scheme?R.scheme.length===3&&(R.scheme[0]==="w"||R.scheme[0]==="W")&&(R.scheme[1]==="s"||R.scheme[1]==="S")&&(R.scheme[2]==="s"||R.scheme[2]==="S"):!1}function i(R){return R.host||(R.error=R.error||"HTTP URIs must have a host."),R}function s(R){const A=String(R.scheme).toLowerCase()==="https";return(R.port===(A?443:80)||R.port==="")&&(R.port=void 0),R.path||(R.path="/"),R}function o(R){return R.secure=a(R),R.resourceName=(R.path||"/")+(R.query?"?"+R.query:""),R.path=void 0,R.query=void 0,R}function l(R){if((R.port===(a(R)?443:80)||R.port==="")&&(R.port=void 0),typeof R.secure=="boolean"&&(R.scheme=R.secure?"wss":"ws",R.secure=void 0),R.resourceName){const[A,I]=R.resourceName.split("?");R.path=A&&A!=="/"?A:void 0,R.query=I,R.resourceName=void 0}return R.fragment=void 0,R}function d(R,A){if(!R.path)return R.error="URN can not be parsed",R;const I=R.path.match(e);if(I){const O=A.scheme||R.scheme||"urn";R.nid=I[1].toLowerCase(),R.nss=I[2];const M=`${O}:${A.nid||R.nid}`,U=C(M);R.path=void 0,U&&(R=U.parse(R,A))}else R.error=R.error||"URN can not be parsed.";return R}function f(R,A){if(R.nid===void 0)throw new Error("URN without nid cannot be serialized");const I=A.scheme||R.scheme||"urn",O=R.nid.toLowerCase(),M=`${I}:${A.nid||O}`,U=C(M);U&&(R=U.serialize(R,A));const L=R,z=R.nss;return L.path=`${O||A.nid}:${z}`,A.skipEscape=!0,L}function h(R,A){const I=R;return I.uuid=I.nss,I.nss=void 0,!A.tolerant&&(!I.uuid||!t(I.uuid))&&(I.error=I.error||"UUID is not valid."),I}function m(R){const A=R;return A.nss=(R.uuid||"").toLowerCase(),A}const b={scheme:"http",domainHost:!0,parse:i,serialize:s},g={scheme:"https",domainHost:b.domainHost,parse:i,serialize:s},w={scheme:"ws",domainHost:!0,parse:o,serialize:l},S={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},_={http:b,https:g,ws:w,wss:S,urn:{scheme:"urn",parse:d,serialize:f,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:h,serialize:m,skipNormalize:!0}};Object.setPrototypeOf(_,null);function C(R){return R&&(_[R]||_[R.toLowerCase()])||void 0}return IT={wsIsSecure:a,SCHEMES:_,isValidSchemeName:r,getSchemeHandler:C},IT}var P6;function Eue(){if(P6)return tg.exports;P6=1;const{normalizeIPv6:t,removeDotSegments:e,recomposeAuthority:n,normalizeComponentEncoding:r,isIPv4:a,nonSimpleDomain:i}=UY(),{SCHEMES:s,getSchemeHandler:o}=Sue();function l(S,T){return typeof S=="string"?S=m(g(S,T),T):typeof S=="object"&&(S=g(m(S,T),T)),S}function d(S,T,x){const _=x?Object.assign({scheme:"null"},x):{scheme:"null"},C=f(g(S,_),g(T,_),_,!0);return _.skipEscape=!0,m(C,_)}function f(S,T,x,_){const C={};return _||(S=g(m(S,x),x),T=g(m(T,x),x)),x=x||{},!x.tolerant&&T.scheme?(C.scheme=T.scheme,C.userinfo=T.userinfo,C.host=T.host,C.port=T.port,C.path=e(T.path||""),C.query=T.query):(T.userinfo!==void 0||T.host!==void 0||T.port!==void 0?(C.userinfo=T.userinfo,C.host=T.host,C.port=T.port,C.path=e(T.path||""),C.query=T.query):(T.path?(T.path[0]==="/"?C.path=e(T.path):((S.userinfo!==void 0||S.host!==void 0||S.port!==void 0)&&!S.path?C.path="/"+T.path:S.path?C.path=S.path.slice(0,S.path.lastIndexOf("/")+1)+T.path:C.path=T.path,C.path=e(C.path)),C.query=T.query):(C.path=S.path,T.query!==void 0?C.query=T.query:C.query=S.query),C.userinfo=S.userinfo,C.host=S.host,C.port=S.port),C.scheme=S.scheme),C.fragment=T.fragment,C}function h(S,T,x){return typeof S=="string"?(S=unescape(S),S=m(r(g(S,x),!0),{...x,skipEscape:!0})):typeof S=="object"&&(S=m(r(S,!0),{...x,skipEscape:!0})),typeof T=="string"?(T=unescape(T),T=m(r(g(T,x),!0),{...x,skipEscape:!0})):typeof T=="object"&&(T=m(r(T,!0),{...x,skipEscape:!0})),S.toLowerCase()===T.toLowerCase()}function m(S,T){const x={host:S.host,scheme:S.scheme,userinfo:S.userinfo,port:S.port,path:S.path,query:S.query,nid:S.nid,nss:S.nss,uuid:S.uuid,fragment:S.fragment,reference:S.reference,resourceName:S.resourceName,secure:S.secure,error:""},_=Object.assign({},T),C=[],R=o(_.scheme||x.scheme);R&&R.serialize&&R.serialize(x,_),x.path!==void 0&&(_.skipEscape?x.path=unescape(x.path):(x.path=escape(x.path),x.scheme!==void 0&&(x.path=x.path.split("%3A").join(":")))),_.reference!=="suffix"&&x.scheme&&C.push(x.scheme,":");const A=n(x);if(A!==void 0&&(_.reference!=="suffix"&&C.push("//"),C.push(A),x.path&&x.path[0]!=="/"&&C.push("/")),x.path!==void 0){let I=x.path;!_.absolutePath&&(!R||!R.absolutePath)&&(I=e(I)),A===void 0&&I[0]==="/"&&I[1]==="/"&&(I="/%2F"+I.slice(2)),C.push(I)}return x.query!==void 0&&C.push("?",x.query),x.fragment!==void 0&&C.push("#",x.fragment),C.join("")}const b=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function g(S,T){const x=Object.assign({},T),_={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let C=!1;x.reference==="suffix"&&(x.scheme?S=x.scheme+":"+S:S="//"+S);const R=S.match(b);if(R){if(_.scheme=R[1],_.userinfo=R[3],_.host=R[4],_.port=parseInt(R[5],10),_.path=R[6]||"",_.query=R[7],_.fragment=R[8],isNaN(_.port)&&(_.port=R[5]),_.host)if(a(_.host)===!1){const O=t(_.host);_.host=O.host.toLowerCase(),C=O.isIPV6}else C=!0;_.scheme===void 0&&_.userinfo===void 0&&_.host===void 0&&_.port===void 0&&_.query===void 0&&!_.path?_.reference="same-document":_.scheme===void 0?_.reference="relative":_.fragment===void 0?_.reference="absolute":_.reference="uri",x.reference&&x.reference!=="suffix"&&x.reference!==_.reference&&(_.error=_.error||"URI is not a "+x.reference+" reference.");const A=o(x.scheme||_.scheme);if(!x.unicodeSupport&&(!A||!A.unicodeSupport)&&_.host&&(x.domainHost||A&&A.domainHost)&&C===!1&&i(_.host))try{_.host=URL.domainToASCII(_.host.toLowerCase())}catch(I){_.error=_.error||"Host's domain name can not be converted to ASCII: "+I}(!A||A&&!A.skipNormalize)&&(S.indexOf("%")!==-1&&(_.scheme!==void 0&&(_.scheme=unescape(_.scheme)),_.host!==void 0&&(_.host=unescape(_.host))),_.path&&(_.path=escape(unescape(_.path))),_.fragment&&(_.fragment=encodeURI(decodeURIComponent(_.fragment)))),A&&A.parse&&A.parse(_,x)}else _.error=_.error||"URI can not be parsed.";return _}const w={SCHEMES:s,normalize:l,resolve:d,resolveComponent:f,equal:h,serialize:m,parse:g};return tg.exports=w,tg.exports.default=w,tg.exports.fastUri=w,tg.exports}var L6;function _ue(){if(L6)return Fv;L6=1,Object.defineProperty(Fv,"__esModule",{value:!0});const t=Eue();return t.code='require("ajv/dist/runtime/uri").default',Fv.default=t,Fv}var F6;function xue(){return F6||(F6=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=D1();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=mn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=pP(),a=O1(),i=FY(),s=hP(),o=mn(),l=k1(),d=qS(),f=Un(),h=vue,m=_ue(),b=(ee,Y)=>new RegExp(ee,Y);b.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},T={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},x=200;function _(ee){var Y,ne,te,G,W,ue,Ee,ge,fe,Ae,oe,de,se,Se,me,ce,pe,Te,be,Ie,je,ke,Ge,Et,gt;const kt=ee.strict,Ye=(Y=ee.code)===null||Y===void 0?void 0:Y.optimize,nt=Ye===!0||Ye===void 0?1:Ye||0,It=(te=(ne=ee.code)===null||ne===void 0?void 0:ne.regExp)!==null&&te!==void 0?te:b,Gt=(G=ee.uriResolver)!==null&&G!==void 0?G:m.default;return{strictSchema:(ue=(W=ee.strictSchema)!==null&&W!==void 0?W:kt)!==null&&ue!==void 0?ue:!0,strictNumbers:(ge=(Ee=ee.strictNumbers)!==null&&Ee!==void 0?Ee:kt)!==null&&ge!==void 0?ge:!0,strictTypes:(Ae=(fe=ee.strictTypes)!==null&&fe!==void 0?fe:kt)!==null&&Ae!==void 0?Ae:"log",strictTuples:(de=(oe=ee.strictTuples)!==null&&oe!==void 0?oe:kt)!==null&&de!==void 0?de:"log",strictRequired:(Se=(se=ee.strictRequired)!==null&&se!==void 0?se:kt)!==null&&Se!==void 0?Se:!1,code:ee.code?{...ee.code,optimize:nt,regExp:It}:{optimize:nt,regExp:It},loopRequired:(me=ee.loopRequired)!==null&&me!==void 0?me:x,loopEnum:(ce=ee.loopEnum)!==null&&ce!==void 0?ce:x,meta:(pe=ee.meta)!==null&&pe!==void 0?pe:!0,messages:(Te=ee.messages)!==null&&Te!==void 0?Te:!0,inlineRefs:(be=ee.inlineRefs)!==null&&be!==void 0?be:!0,schemaId:(Ie=ee.schemaId)!==null&&Ie!==void 0?Ie:"$id",addUsedSchema:(je=ee.addUsedSchema)!==null&&je!==void 0?je:!0,validateSchema:(ke=ee.validateSchema)!==null&&ke!==void 0?ke:!0,validateFormats:(Ge=ee.validateFormats)!==null&&Ge!==void 0?Ge:!0,unicodeRegExp:(Et=ee.unicodeRegExp)!==null&&Et!==void 0?Et:!0,int32range:(gt=ee.int32range)!==null&&gt!==void 0?gt:!0,uriResolver:Gt}}class C{constructor(Y={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Y=this.opts={...Y,..._(Y)};const{es5:ne,lines:te}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:w,es5:ne,lines:te}),this.logger=z(Y.logger);const G=Y.validateFormats;Y.validateFormats=!1,this.RULES=(0,i.getRules)(),R.call(this,S,Y,"NOT SUPPORTED"),R.call(this,T,Y,"DEPRECATED","warn"),this._metaOpts=U.call(this),Y.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Y.keywords&&M.call(this,Y.keywords),typeof Y.meta=="object"&&this.addMetaSchema(Y.meta),I.call(this),Y.validateFormats=G}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Y,meta:ne,schemaId:te}=this.opts;let G=h;te==="id"&&(G={...h},G.id=G.$id,delete G.$id),ne&&Y&&this.addMetaSchema(G,G[te],!1)}defaultMeta(){const{meta:Y,schemaId:ne}=this.opts;return this.opts.defaultMeta=typeof Y=="object"?Y[ne]||Y:void 0}validate(Y,ne){let te;if(typeof Y=="string"){if(te=this.getSchema(Y),!te)throw new Error(`no schema with key or ref "${Y}"`)}else te=this.compile(Y);const G=te(ne);return"$async"in te||(this.errors=te.errors),G}compile(Y,ne){const te=this._addSchema(Y,ne);return te.validate||this._compileSchemaEnv(te)}compileAsync(Y,ne){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:te}=this.opts;return G.call(this,Y,ne);async function G(Ae,oe){await W.call(this,Ae.$schema);const de=this._addSchema(Ae,oe);return de.validate||ue.call(this,de)}async function W(Ae){Ae&&!this.getSchema(Ae)&&await G.call(this,{$ref:Ae},!0)}async function ue(Ae){try{return this._compileSchemaEnv(Ae)}catch(oe){if(!(oe instanceof a.default))throw oe;return Ee.call(this,oe),await ge.call(this,oe.missingSchema),ue.call(this,Ae)}}function Ee({missingSchema:Ae,missingRef:oe}){if(this.refs[Ae])throw new Error(`AnySchema ${Ae} is loaded but ${oe} cannot be resolved`)}async function ge(Ae){const oe=await fe.call(this,Ae);this.refs[Ae]||await W.call(this,oe.$schema),this.refs[Ae]||this.addSchema(oe,Ae,ne)}async function fe(Ae){const oe=this._loading[Ae];if(oe)return oe;try{return await(this._loading[Ae]=te(Ae))}finally{delete this._loading[Ae]}}}addSchema(Y,ne,te,G=this.opts.validateSchema){if(Array.isArray(Y)){for(const ue of Y)this.addSchema(ue,void 0,te,G);return this}let W;if(typeof Y=="object"){const{schemaId:ue}=this.opts;if(W=Y[ue],W!==void 0&&typeof W!="string")throw new Error(`schema ${ue} must be string`)}return ne=(0,l.normalizeId)(ne||W),this._checkUnique(ne),this.schemas[ne]=this._addSchema(Y,te,ne,G,!0),this}addMetaSchema(Y,ne,te=this.opts.validateSchema){return this.addSchema(Y,ne,!0,te),this}validateSchema(Y,ne){if(typeof Y=="boolean")return!0;let te;if(te=Y.$schema,te!==void 0&&typeof te!="string")throw new Error("$schema must be a string");if(te=te||this.opts.defaultMeta||this.defaultMeta(),!te)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const G=this.validate(te,Y);if(!G&&ne){const W="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(W);else throw new Error(W)}return G}getSchema(Y){let ne;for(;typeof(ne=A.call(this,Y))=="string";)Y=ne;if(ne===void 0){const{schemaId:te}=this.opts,G=new s.SchemaEnv({schema:{},schemaId:te});if(ne=s.resolveSchema.call(this,G,Y),!ne)return;this.refs[Y]=ne}return ne.validate||this._compileSchemaEnv(ne)}removeSchema(Y){if(Y instanceof RegExp)return this._removeAllSchemas(this.schemas,Y),this._removeAllSchemas(this.refs,Y),this;switch(typeof Y){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ne=A.call(this,Y);return typeof ne=="object"&&this._cache.delete(ne.schema),delete this.schemas[Y],delete this.refs[Y],this}case"object":{const ne=Y;this._cache.delete(ne);let te=Y[this.opts.schemaId];return te&&(te=(0,l.normalizeId)(te),delete this.schemas[te],delete this.refs[te]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Y){for(const ne of Y)this.addKeyword(ne);return this}addKeyword(Y,ne){let te;if(typeof Y=="string")te=Y,typeof ne=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ne.keyword=te);else if(typeof Y=="object"&&ne===void 0){if(ne=Y,te=ne.keyword,Array.isArray(te)&&!te.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,te,ne),!ne)return(0,f.eachItem)(te,W=>$.call(this,W)),this;K.call(this,ne);const G={...ne,type:(0,d.getJSONTypes)(ne.type),schemaType:(0,d.getJSONTypes)(ne.schemaType)};return(0,f.eachItem)(te,G.type.length===0?W=>$.call(this,W,G):W=>G.type.forEach(ue=>$.call(this,W,G,ue))),this}getKeyword(Y){const ne=this.RULES.all[Y];return typeof ne=="object"?ne.definition:!!ne}removeKeyword(Y){const{RULES:ne}=this;delete ne.keywords[Y],delete ne.all[Y];for(const te of ne.rules){const G=te.rules.findIndex(W=>W.keyword===Y);G>=0&&te.rules.splice(G,1)}return this}addFormat(Y,ne){return typeof ne=="string"&&(ne=new RegExp(ne)),this.formats[Y]=ne,this}errorsText(Y=this.errors,{separator:ne=", ",dataVar:te="data"}={}){return!Y||Y.length===0?"No errors":Y.map(G=>`${te}${G.instancePath} ${G.message}`).reduce((G,W)=>G+ne+W)}$dataMetaSchema(Y,ne){const te=this.RULES.all;Y=JSON.parse(JSON.stringify(Y));for(const G of ne){const W=G.split("/").slice(1);let ue=Y;for(const Ee of W)ue=ue[Ee];for(const Ee in te){const ge=te[Ee];if(typeof ge!="object")continue;const{$data:fe}=ge.definition,Ae=ue[Ee];fe&&Ae&&(ue[Ee]=re(Ae))}}return Y}_removeAllSchemas(Y,ne){for(const te in Y){const G=Y[te];(!ne||ne.test(te))&&(typeof G=="string"?delete Y[te]:G&&!G.meta&&(this._cache.delete(G.schema),delete Y[te]))}}_addSchema(Y,ne,te,G=this.opts.validateSchema,W=this.opts.addUsedSchema){let ue;const{schemaId:Ee}=this.opts;if(typeof Y=="object")ue=Y[Ee];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Y!="boolean")throw new Error("schema must be object or boolean")}let ge=this._cache.get(Y);if(ge!==void 0)return ge;te=(0,l.normalizeId)(ue||te);const fe=l.getSchemaRefs.call(this,Y,te);return ge=new s.SchemaEnv({schema:Y,schemaId:Ee,meta:ne,baseId:te,localRefs:fe}),this._cache.set(ge.schema,ge),W&&!te.startsWith("#")&&(te&&this._checkUnique(te),this.refs[te]=ge),G&&this.validateSchema(Y,!0),ge}_checkUnique(Y){if(this.schemas[Y]||this.refs[Y])throw new Error(`schema with key or id "${Y}" already exists`)}_compileSchemaEnv(Y){if(Y.meta?this._compileMetaSchema(Y):s.compileSchema.call(this,Y),!Y.validate)throw new Error("ajv implementation error");return Y.validate}_compileMetaSchema(Y){const ne=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,Y)}finally{this.opts=ne}}}C.ValidationError=r.default,C.MissingRefError=a.default,t.default=C;function R(ee,Y,ne,te="error"){for(const G in ee){const W=G;W in Y&&this.logger[te](`${ne}: option ${G}. ${ee[W]}`)}}function A(ee){return ee=(0,l.normalizeId)(ee),this.schemas[ee]||this.refs[ee]}function I(){const ee=this.opts.schemas;if(ee)if(Array.isArray(ee))this.addSchema(ee);else for(const Y in ee)this.addSchema(ee[Y],Y)}function O(){for(const ee in this.opts.formats){const Y=this.opts.formats[ee];Y&&this.addFormat(ee,Y)}}function M(ee){if(Array.isArray(ee)){this.addVocabulary(ee);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Y in ee){const ne=ee[Y];ne.keyword||(ne.keyword=Y),this.addKeyword(ne)}}function U(){const ee={...this.opts};for(const Y of g)delete ee[Y];return ee}const L={log(){},warn(){},error(){}};function z(ee){if(ee===!1)return L;if(ee===void 0)return console;if(ee.log&&ee.warn&&ee.error)return ee;throw new Error("logger must implement log, warn and error methods")}const j=/^[a-z_$][a-z0-9_$:-]*$/i;function H(ee,Y){const{RULES:ne}=this;if((0,f.eachItem)(ee,te=>{if(ne.keywords[te])throw new Error(`Keyword ${te} is already defined`);if(!j.test(te))throw new Error(`Keyword ${te} has invalid name`)}),!!Y&&Y.$data&&!("code"in Y||"validate"in Y))throw new Error('$data keyword must have "code" or "validate" function')}function $(ee,Y,ne){var te;const G=Y?.post;if(ne&&G)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:W}=this;let ue=G?W.post:W.rules.find(({type:ge})=>ge===ne);if(ue||(ue={type:ne,rules:[]},W.rules.push(ue)),W.keywords[ee]=!0,!Y)return;const Ee={keyword:ee,definition:{...Y,type:(0,d.getJSONTypes)(Y.type),schemaType:(0,d.getJSONTypes)(Y.schemaType)}};Y.before?q.call(this,ue,Ee,Y.before):ue.rules.push(Ee),W.all[ee]=Ee,(te=Y.implements)===null||te===void 0||te.forEach(ge=>this.addKeyword(ge))}function q(ee,Y,ne){const te=ee.rules.findIndex(G=>G.keyword===ne);te>=0?ee.rules.splice(te,0,Y):(ee.rules.push(Y),this.logger.warn(`rule ${ne} is not defined`))}function K(ee){let{metaSchema:Y}=ee;Y!==void 0&&(ee.$data&&this.opts.$data&&(Y=re(Y)),ee.validateSchema=this.compile(Y,!0))}const V={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function re(ee){return{anyOf:[ee,V]}}})(ET)),ET}var Bv={},jv={},Uv={},B6;function wue(){if(B6)return Uv;B6=1,Object.defineProperty(Uv,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Uv.default=t,Uv}var Uc={},j6;function Tue(){if(j6)return Uc;j6=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.callRef=Uc.getValidate=void 0;const t=O1(),e=So(),n=mn(),r=su(),a=hP(),i=Un(),s={keyword:"$ref",schemaType:"string",code(d){const{gen:f,schema:h,it:m}=d,{baseId:b,schemaEnv:g,validateName:w,opts:S,self:T}=m,{root:x}=g;if((h==="#"||h==="#/")&&b===x.baseId)return C();const _=a.resolveRef.call(T,x,b,h);if(_===void 0)throw new t.default(m.opts.uriResolver,b,h);if(_ instanceof a.SchemaEnv)return R(_);return A(_);function C(){if(g===x)return l(d,w,g,g.$async);const I=f.scopeValue("root",{ref:x});return l(d,(0,n._)`${I}.validate`,x,x.$async)}function R(I){const O=o(d,I);l(d,O,I,I.$async)}function A(I){const O=f.scopeValue("schema",S.code.source===!0?{ref:I,code:(0,n.stringify)(I)}:{ref:I}),M=f.name("valid"),U=d.subschema({schema:I,dataTypes:[],schemaPath:n.nil,topSchemaRef:O,errSchemaPath:h},M);d.mergeEvaluated(U),d.ok(M)}}};function o(d,f){const{gen:h}=d;return f.validate?h.scopeValue("validate",{ref:f.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:f})}.validate`}Uc.getValidate=o;function l(d,f,h,m){const{gen:b,it:g}=d,{allErrors:w,schemaEnv:S,opts:T}=g,x=T.passContext?r.default.this:n.nil;m?_():C();function _(){if(!S.$async)throw new Error("async schema referenced by sync schema");const I=b.let("valid");b.try(()=>{b.code((0,n._)`await ${(0,e.callValidateCode)(d,f,x)}`),A(f),w||b.assign(I,!0)},O=>{b.if((0,n._)`!(${O} instanceof ${g.ValidationError})`,()=>b.throw(O)),R(O),w||b.assign(I,!1)}),d.ok(I)}function C(){d.result((0,e.callValidateCode)(d,f,x),()=>A(f),()=>R(f))}function R(I){const O=(0,n._)`${I}.errors`;b.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${O} : ${r.default.vErrors}.concat(${O})`),b.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function A(I){var O;if(!g.opts.unevaluated)return;const M=(O=h?.validate)===null||O===void 0?void 0:O.evaluated;if(g.props!==!0)if(M&&!M.dynamicProps)M.props!==void 0&&(g.props=i.mergeEvaluated.props(b,M.props,g.props));else{const U=b.var("props",(0,n._)`${I}.evaluated.props`);g.props=i.mergeEvaluated.props(b,U,g.props,n.Name)}if(g.items!==!0)if(M&&!M.dynamicItems)M.items!==void 0&&(g.items=i.mergeEvaluated.items(b,M.items,g.items));else{const U=b.var("items",(0,n._)`${I}.evaluated.items`);g.items=i.mergeEvaluated.items(b,U,g.items,n.Name)}}}return Uc.callRef=l,Uc.default=s,Uc}var U6;function Cue(){if(U6)return jv;U6=1,Object.defineProperty(jv,"__esModule",{value:!0});const t=wue(),e=Tue(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return jv.default=n,jv}var zv={},qv={},z6;function Rue(){if(z6)return qv;z6=1,Object.defineProperty(qv,"__esModule",{value:!0});const t=mn(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:i,schemaCode:s})=>(0,t.str)`must be ${n[i].okStr} ${s}`,params:({keyword:i,schemaCode:s})=>(0,t._)`{comparison: ${n[i].okStr}, limit: ${s}}`},a={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(i){const{keyword:s,data:o,schemaCode:l}=i;i.fail$data((0,t._)`${o} ${n[s].fail} ${l} || isNaN(${o})`)}};return qv.default=a,qv}var $v={},q6;function Aue(){if(q6)return $v;q6=1,Object.defineProperty($v,"__esModule",{value:!0});const t=mn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:a,data:i,schemaCode:s,it:o}=r,l=o.opts.multipleOfPrecision,d=a.let("res"),f=l?(0,t._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${l}`:(0,t._)`${d} !== parseInt(${d})`;r.fail$data((0,t._)`(${s} === 0 || (${d} = ${i}/${s}, ${f}))`)}};return $v.default=n,$v}var Gv={},Hv={},$6;function Iue(){if($6)return Hv;$6=1,Object.defineProperty(Hv,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,a=0,i;for(;a<n;)r++,i=e.charCodeAt(a++),i>=55296&&i<=56319&&a<n&&(i=e.charCodeAt(a),(i&64512)===56320&&a++);return r}return Hv.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Hv}var G6;function kue(){if(G6)return Gv;G6=1,Object.defineProperty(Gv,"__esModule",{value:!0});const t=mn(),e=Un(),n=Iue(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:s}){const o=i==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${s} characters`},params:({schemaCode:i})=>(0,t._)`{limit: ${i}}`},code(i){const{keyword:s,data:o,schemaCode:l,it:d}=i,f=s==="maxLength"?t.operators.GT:t.operators.LT,h=d.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(i.gen,n.default)}(${o})`;i.fail$data((0,t._)`${h} ${f} ${l}`)}};return Gv.default=a,Gv}var Vv={},H6;function Due(){if(H6)return Vv;H6=1,Object.defineProperty(Vv,"__esModule",{value:!0});const t=So(),e=mn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){const{data:i,$data:s,schema:o,schemaCode:l,it:d}=a,f=d.opts.unicodeRegExp?"u":"",h=s?(0,e._)`(new RegExp(${l}, ${f}))`:(0,t.usePattern)(a,o);a.fail$data((0,e._)`!${h}.test(${i})`)}};return Vv.default=r,Vv}var Wv={},V6;function Oue(){if(V6)return Wv;V6=1,Object.defineProperty(Wv,"__esModule",{value:!0});const t=mn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:a}){const i=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${a} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:a,data:i,schemaCode:s}=r,o=a==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${i}).length ${o} ${s}`)}};return Wv.default=n,Wv}var Yv={},W6;function Nue(){if(W6)return Yv;W6=1,Object.defineProperty(Yv,"__esModule",{value:!0});const t=So(),e=mn(),n=Un(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,e.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,e._)`{missingProperty: ${i}}`},code(i){const{gen:s,schema:o,schemaCode:l,data:d,$data:f,it:h}=i,{opts:m}=h;if(!f&&o.length===0)return;const b=o.length>=m.loopRequired;if(h.allErrors?g():w(),m.strictRequired){const x=i.parentSchema.properties,{definedProperties:_}=i.it;for(const C of o)if(x?.[C]===void 0&&!_.has(C)){const R=h.schemaEnv.baseId+h.errSchemaPath,A=`required property "${C}" is not defined at "${R}" (strictRequired)`;(0,n.checkStrictMode)(h,A,h.opts.strictRequired)}}function g(){if(b||f)i.block$data(e.nil,S);else for(const x of o)(0,t.checkReportMissingProp)(i,x)}function w(){const x=s.let("missing");if(b||f){const _=s.let("valid",!0);i.block$data(_,()=>T(x,_)),i.ok(_)}else s.if((0,t.checkMissingProp)(i,o,x)),(0,t.reportMissingProp)(i,x),s.else()}function S(){s.forOf("prop",l,x=>{i.setParams({missingProperty:x}),s.if((0,t.noPropertyInData)(s,d,x,m.ownProperties),()=>i.error())})}function T(x,_){i.setParams({missingProperty:x}),s.forOf(x,l,()=>{s.assign(_,(0,t.propertyInData)(s,d,x,m.ownProperties)),s.if((0,e.not)(_),()=>{i.error(),s.break()})},e.nil)}}};return Yv.default=a,Yv}var Kv={},Y6;function Mue(){if(Y6)return Kv;Y6=1,Object.defineProperty(Kv,"__esModule",{value:!0});const t=mn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:a}){const i=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${a} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:a,data:i,schemaCode:s}=r,o=a==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${i}.length ${o} ${s}`)}};return Kv.default=n,Kv}var Xv={},Zv={},K6;function mP(){if(K6)return Zv;K6=1,Object.defineProperty(Zv,"__esModule",{value:!0});const t=jY();return t.code='require("ajv/dist/runtime/equal").default',Zv.default=t,Zv}var X6;function Pue(){if(X6)return Xv;X6=1,Object.defineProperty(Xv,"__esModule",{value:!0});const t=qS(),e=mn(),n=Un(),r=mP(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${s} are identical)`,params:({params:{i:s,j:o}})=>(0,e._)`{i: ${s}, j: ${o}}`},code(s){const{gen:o,data:l,$data:d,schema:f,parentSchema:h,schemaCode:m,it:b}=s;if(!d&&!f)return;const g=o.let("valid"),w=h.items?(0,t.getSchemaTypes)(h.items):[];s.block$data(g,S,(0,e._)`${m} === false`),s.ok(g);function S(){const C=o.let("i",(0,e._)`${l}.length`),R=o.let("j");s.setParams({i:C,j:R}),o.assign(g,!0),o.if((0,e._)`${C} > 1`,()=>(T()?x:_)(C,R))}function T(){return w.length>0&&!w.some(C=>C==="object"||C==="array")}function x(C,R){const A=o.name("item"),I=(0,t.checkDataTypes)(w,A,b.opts.strictNumbers,t.DataType.Wrong),O=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${C}--;`,()=>{o.let(A,(0,e._)`${l}[${C}]`),o.if(I,(0,e._)`continue`),w.length>1&&o.if((0,e._)`typeof ${A} == "string"`,(0,e._)`${A} += "_"`),o.if((0,e._)`typeof ${O}[${A}] == "number"`,()=>{o.assign(R,(0,e._)`${O}[${A}]`),s.error(),o.assign(g,!1).break()}).code((0,e._)`${O}[${A}] = ${C}`)})}function _(C,R){const A=(0,n.useFunc)(o,r.default),I=o.name("outer");o.label(I).for((0,e._)`;${C}--;`,()=>o.for((0,e._)`${R} = ${C}; ${R}--;`,()=>o.if((0,e._)`${A}(${l}[${C}], ${l}[${R}])`,()=>{s.error(),o.assign(g,!1).break(I)})))}}};return Xv.default=i,Xv}var Qv={},Z6;function Lue(){if(Z6)return Qv;Z6=1,Object.defineProperty(Qv,"__esModule",{value:!0});const t=mn(),e=Un(),n=mP(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,t._)`{allowedValue: ${i}}`},code(i){const{gen:s,data:o,$data:l,schemaCode:d,schema:f}=i;l||f&&typeof f=="object"?i.fail$data((0,t._)`!${(0,e.useFunc)(s,n.default)}(${o}, ${d})`):i.fail((0,t._)`${f} !== ${o}`)}};return Qv.default=a,Qv}var Jv={},Q6;function Fue(){if(Q6)return Jv;Q6=1,Object.defineProperty(Jv,"__esModule",{value:!0});const t=mn(),e=Un(),n=mP(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,t._)`{allowedValues: ${i}}`},code(i){const{gen:s,data:o,$data:l,schema:d,schemaCode:f,it:h}=i;if(!l&&d.length===0)throw new Error("enum must have non-empty array");const m=d.length>=h.opts.loopEnum;let b;const g=()=>b??(b=(0,e.useFunc)(s,n.default));let w;if(m||l)w=s.let("valid"),i.block$data(w,S);else{if(!Array.isArray(d))throw new Error("ajv implementation error");const x=s.const("vSchema",f);w=(0,t.or)(...d.map((_,C)=>T(x,C)))}i.pass(w);function S(){s.assign(w,!1),s.forOf("v",f,x=>s.if((0,t._)`${g()}(${o}, ${x})`,()=>s.assign(w,!0).break()))}function T(x,_){const C=d[_];return typeof C=="object"&&C!==null?(0,t._)`${g()}(${o}, ${x}[${_}])`:(0,t._)`${o} === ${C}`}}};return Jv.default=a,Jv}var J6;function Bue(){if(J6)return zv;J6=1,Object.defineProperty(zv,"__esModule",{value:!0});const t=Rue(),e=Aue(),n=kue(),r=Due(),a=Oue(),i=Nue(),s=Mue(),o=Pue(),l=Lue(),d=Fue(),f=[t.default,e.default,n.default,r.default,a.default,i.default,s.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,d.default];return zv.default=f,zv}var e0={},ip={},e8;function zY(){if(e8)return ip;e8=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.validateAdditionalItems=void 0;const t=mn(),e=Un(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,t.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,t._)`{limit: ${i}}`},code(i){const{parentSchema:s,it:o}=i,{items:l}=s;if(!Array.isArray(l)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(i,l)}};function a(i,s){const{gen:o,schema:l,data:d,keyword:f,it:h}=i;h.items=!0;const m=o.const("len",(0,t._)`${d}.length`);if(l===!1)i.setParams({len:s.length}),i.pass((0,t._)`${m} <= ${s.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(h,l)){const g=o.var("valid",(0,t._)`${m} <= ${s.length}`);o.if((0,t.not)(g),()=>b(g)),i.ok(g)}function b(g){o.forRange("i",s.length,m,w=>{i.subschema({keyword:f,dataProp:w,dataPropType:e.Type.Num},g),h.allErrors||o.if((0,t.not)(g),()=>o.break())})}}return ip.validateAdditionalItems=a,ip.default=r,ip}var t0={},sp={},t8;function qY(){if(t8)return sp;t8=1,Object.defineProperty(sp,"__esModule",{value:!0}),sp.validateTuple=void 0;const t=mn(),e=Un(),n=So(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:s,it:o}=i;if(Array.isArray(s))return a(i,"additionalItems",s);o.items=!0,!(0,e.alwaysValidSchema)(o,s)&&i.ok((0,n.validateArray)(i))}};function a(i,s,o=i.schema){const{gen:l,parentSchema:d,data:f,keyword:h,it:m}=i;w(d),m.opts.unevaluated&&o.length&&m.items!==!0&&(m.items=e.mergeEvaluated.items(l,o.length,m.items));const b=l.name("valid"),g=l.const("len",(0,t._)`${f}.length`);o.forEach((S,T)=>{(0,e.alwaysValidSchema)(m,S)||(l.if((0,t._)`${g} > ${T}`,()=>i.subschema({keyword:h,schemaProp:T,dataProp:T},b)),i.ok(b))});function w(S){const{opts:T,errSchemaPath:x}=m,_=o.length,C=_===S.minItems&&(_===S.maxItems||S[s]===!1);if(T.strictTuples&&!C){const R=`"${h}" is ${_}-tuple, but minItems or maxItems/${s} are not specified or different at path "${x}"`;(0,e.checkStrictMode)(m,R,T.strictTuples)}}}return sp.validateTuple=a,sp.default=r,sp}var n8;function jue(){if(n8)return t0;n8=1,Object.defineProperty(t0,"__esModule",{value:!0});const t=qY(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return t0.default=e,t0}var n0={},r8;function Uue(){if(r8)return n0;r8=1,Object.defineProperty(n0,"__esModule",{value:!0});const t=mn(),e=Un(),n=So(),r=zY(),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{schema:o,parentSchema:l,it:d}=s,{prefixItems:f}=l;d.items=!0,!(0,e.alwaysValidSchema)(d,o)&&(f?(0,r.validateAdditionalItems)(s,f):s.ok((0,n.validateArray)(s)))}};return n0.default=i,n0}var r0={},a8;function zue(){if(a8)return r0;a8=1,Object.defineProperty(r0,"__esModule",{value:!0});const t=mn(),e=Un(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:i}})=>i===void 0?(0,t.str)`must contain at least ${a} valid item(s)`:(0,t.str)`must contain at least ${a} and no more than ${i} valid item(s)`,params:({params:{min:a,max:i}})=>i===void 0?(0,t._)`{minContains: ${a}}`:(0,t._)`{minContains: ${a}, maxContains: ${i}}`},code(a){const{gen:i,schema:s,parentSchema:o,data:l,it:d}=a;let f,h;const{minContains:m,maxContains:b}=o;d.opts.next?(f=m===void 0?1:m,h=b):f=1;const g=i.const("len",(0,t._)`${l}.length`);if(a.setParams({min:f,max:h}),h===void 0&&f===0){(0,e.checkStrictMode)(d,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&f>h){(0,e.checkStrictMode)(d,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(d,s)){let _=(0,t._)`${g} >= ${f}`;h!==void 0&&(_=(0,t._)`${_} && ${g} <= ${h}`),a.pass(_);return}d.items=!0;const w=i.name("valid");h===void 0&&f===1?T(w,()=>i.if(w,()=>i.break())):f===0?(i.let(w,!0),h!==void 0&&i.if((0,t._)`${l}.length > 0`,S)):(i.let(w,!1),S()),a.result(w,()=>a.reset());function S(){const _=i.name("_valid"),C=i.let("count",0);T(_,()=>i.if(_,()=>x(C)))}function T(_,C){i.forRange("i",0,g,R=>{a.subschema({keyword:"contains",dataProp:R,dataPropType:e.Type.Num,compositeRule:!0},_),C()})}function x(_){i.code((0,t._)`${_}++`),h===void 0?i.if((0,t._)`${_} >= ${f}`,()=>i.assign(w,!0).break()):(i.if((0,t._)`${_} > ${h}`,()=>i.assign(w,!1).break()),f===1?i.assign(w,!0):i.if((0,t._)`${_} >= ${f}`,()=>i.assign(w,!0)))}}};return r0.default=r,r0}var kT={},i8;function que(){return i8||(i8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=mn(),n=Un(),r=So();t.error={message:({params:{property:l,depsCount:d,deps:f}})=>{const h=d===1?"property":"properties";return(0,e.str)`must have ${h} ${f} when property ${l} is present`},params:({params:{property:l,depsCount:d,deps:f,missingProperty:h}})=>(0,e._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${d},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[d,f]=i(l);s(l,d),o(l,f)}};function i({schema:l}){const d={},f={};for(const h in l){if(h==="__proto__")continue;const m=Array.isArray(l[h])?d:f;m[h]=l[h]}return[d,f]}function s(l,d=l.schema){const{gen:f,data:h,it:m}=l;if(Object.keys(d).length===0)return;const b=f.let("missing");for(const g in d){const w=d[g];if(w.length===0)continue;const S=(0,r.propertyInData)(f,h,g,m.opts.ownProperties);l.setParams({property:g,depsCount:w.length,deps:w.join(", ")}),m.allErrors?f.if(S,()=>{for(const T of w)(0,r.checkReportMissingProp)(l,T)}):(f.if((0,e._)`${S} && (${(0,r.checkMissingProp)(l,w,b)})`),(0,r.reportMissingProp)(l,b),f.else())}}t.validatePropertyDeps=s;function o(l,d=l.schema){const{gen:f,data:h,keyword:m,it:b}=l,g=f.name("valid");for(const w in d)(0,n.alwaysValidSchema)(b,d[w])||(f.if((0,r.propertyInData)(f,h,w,b.opts.ownProperties),()=>{const S=l.subschema({keyword:m,schemaProp:w},g);l.mergeValidEvaluated(S,g)},()=>f.var(g,!0)),l.ok(g))}t.validateSchemaDeps=o,t.default=a})(kT)),kT}var a0={},s8;function $ue(){if(s8)return a0;s8=1,Object.defineProperty(a0,"__esModule",{value:!0});const t=mn(),e=Un(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,t._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:i,schema:s,data:o,it:l}=a;if((0,e.alwaysValidSchema)(l,s))return;const d=i.name("valid");i.forIn("key",o,f=>{a.setParams({propertyName:f}),a.subschema({keyword:"propertyNames",data:f,dataTypes:["string"],propertyName:f,compositeRule:!0},d),i.if((0,t.not)(d),()=>{a.error(!0),l.allErrors||i.break()})}),a.ok(d)}};return a0.default=r,a0}var i0={},o8;function $Y(){if(o8)return i0;o8=1,Object.defineProperty(i0,"__esModule",{value:!0});const t=So(),e=mn(),n=su(),r=Un(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,e._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:o,schema:l,parentSchema:d,data:f,errsCount:h,it:m}=s;if(!h)throw new Error("ajv implementation error");const{allErrors:b,opts:g}=m;if(m.props=!0,g.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const w=(0,t.allSchemaProperties)(d.properties),S=(0,t.allSchemaProperties)(d.patternProperties);T(),s.ok((0,e._)`${h} === ${n.default.errors}`);function T(){o.forIn("key",f,A=>{!w.length&&!S.length?C(A):o.if(x(A),()=>C(A))})}function x(A){let I;if(w.length>8){const O=(0,r.schemaRefOrVal)(m,d.properties,"properties");I=(0,t.isOwnProperty)(o,O,A)}else w.length?I=(0,e.or)(...w.map(O=>(0,e._)`${A} === ${O}`)):I=e.nil;return S.length&&(I=(0,e.or)(I,...S.map(O=>(0,e._)`${(0,t.usePattern)(s,O)}.test(${A})`))),(0,e.not)(I)}function _(A){o.code((0,e._)`delete ${f}[${A}]`)}function C(A){if(g.removeAdditional==="all"||g.removeAdditional&&l===!1){_(A);return}if(l===!1){s.setParams({additionalProperty:A}),s.error(),b||o.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const I=o.name("valid");g.removeAdditional==="failing"?(R(A,I,!1),o.if((0,e.not)(I),()=>{s.reset(),_(A)})):(R(A,I),b||o.if((0,e.not)(I),()=>o.break()))}}function R(A,I,O){const M={keyword:"additionalProperties",dataProp:A,dataPropType:r.Type.Str};O===!1&&Object.assign(M,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(M,I)}}};return i0.default=i,i0}var s0={},l8;function Gue(){if(l8)return s0;l8=1,Object.defineProperty(s0,"__esModule",{value:!0});const t=D1(),e=So(),n=Un(),r=$Y(),a={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:s,schema:o,parentSchema:l,data:d,it:f}=i;f.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(f,r.default,"additionalProperties"));const h=(0,e.allSchemaProperties)(o);for(const S of h)f.definedProperties.add(S);f.opts.unevaluated&&h.length&&f.props!==!0&&(f.props=n.mergeEvaluated.props(s,(0,n.toHash)(h),f.props));const m=h.filter(S=>!(0,n.alwaysValidSchema)(f,o[S]));if(m.length===0)return;const b=s.name("valid");for(const S of m)g(S)?w(S):(s.if((0,e.propertyInData)(s,d,S,f.opts.ownProperties)),w(S),f.allErrors||s.else().var(b,!0),s.endIf()),i.it.definedProperties.add(S),i.ok(b);function g(S){return f.opts.useDefaults&&!f.compositeRule&&o[S].default!==void 0}function w(S){i.subschema({keyword:"properties",schemaProp:S,dataProp:S},b)}}};return s0.default=a,s0}var o0={},c8;function Hue(){if(c8)return o0;c8=1,Object.defineProperty(o0,"__esModule",{value:!0});const t=So(),e=mn(),n=Un(),r=Un(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:s,schema:o,data:l,parentSchema:d,it:f}=i,{opts:h}=f,m=(0,t.allSchemaProperties)(o),b=m.filter(C=>(0,n.alwaysValidSchema)(f,o[C]));if(m.length===0||b.length===m.length&&(!f.opts.unevaluated||f.props===!0))return;const g=h.strictSchema&&!h.allowMatchingProperties&&d.properties,w=s.name("valid");f.props!==!0&&!(f.props instanceof e.Name)&&(f.props=(0,r.evaluatedPropsToName)(s,f.props));const{props:S}=f;T();function T(){for(const C of m)g&&x(C),f.allErrors?_(C):(s.var(w,!0),_(C),s.if(w))}function x(C){for(const R in g)new RegExp(C).test(R)&&(0,n.checkStrictMode)(f,`property ${R} matches pattern ${C} (use allowMatchingProperties)`)}function _(C){s.forIn("key",l,R=>{s.if((0,e._)`${(0,t.usePattern)(i,C)}.test(${R})`,()=>{const A=b.includes(C);A||i.subschema({keyword:"patternProperties",schemaProp:C,dataProp:R,dataPropType:r.Type.Str},w),f.opts.unevaluated&&S!==!0?s.assign((0,e._)`${S}[${R}]`,!0):!A&&!f.allErrors&&s.if((0,e.not)(w),()=>s.break())})})}}};return o0.default=a,o0}var l0={},u8;function Vue(){if(u8)return l0;u8=1,Object.defineProperty(l0,"__esModule",{value:!0});const t=Un(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:a,it:i}=n;if((0,t.alwaysValidSchema)(i,a)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return l0.default=e,l0}var c0={},d8;function Wue(){if(d8)return c0;d8=1,Object.defineProperty(c0,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:So().validateUnion,error:{message:"must match a schema in anyOf"}};return c0.default=e,c0}var u0={},f8;function Yue(){if(f8)return u0;f8=1,Object.defineProperty(u0,"__esModule",{value:!0});const t=mn(),e=Un(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,t._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:i,schema:s,parentSchema:o,it:l}=a;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;const d=s,f=i.let("valid",!1),h=i.let("passing",null),m=i.name("_valid");a.setParams({passing:h}),i.block(b),a.result(f,()=>a.reset(),()=>a.error(!0));function b(){d.forEach((g,w)=>{let S;(0,e.alwaysValidSchema)(l,g)?i.var(m,!0):S=a.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},m),w>0&&i.if((0,t._)`${m} && ${f}`).assign(f,!1).assign(h,(0,t._)`[${h}, ${w}]`).else(),i.if(m,()=>{i.assign(f,!0),i.assign(h,w),S&&a.mergeEvaluated(S,t.Name)})})}}};return u0.default=r,u0}var d0={},p8;function Kue(){if(p8)return d0;p8=1,Object.defineProperty(d0,"__esModule",{value:!0});const t=Un(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:a,it:i}=n;if(!Array.isArray(a))throw new Error("ajv implementation error");const s=r.name("valid");a.forEach((o,l)=>{if((0,t.alwaysValidSchema)(i,o))return;const d=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(d)})}};return d0.default=e,d0}var f0={},h8;function Xue(){if(h8)return f0;h8=1,Object.defineProperty(f0,"__esModule",{value:!0});const t=mn(),e=Un(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,t.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,t._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:s,parentSchema:o,it:l}=i;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const d=a(l,"then"),f=a(l,"else");if(!d&&!f)return;const h=s.let("valid",!0),m=s.name("_valid");if(b(),i.reset(),d&&f){const w=s.let("ifClause");i.setParams({ifClause:w}),s.if(m,g("then",w),g("else",w))}else d?s.if(m,g("then")):s.if((0,t.not)(m),g("else"));i.pass(h,()=>i.error(!0));function b(){const w=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);i.mergeEvaluated(w)}function g(w,S){return()=>{const T=i.subschema({keyword:w},m);s.assign(h,m),i.mergeValidEvaluated(T,h),S?s.assign(S,(0,t._)`${w}`):i.setParams({ifClause:w})}}}};function a(i,s){const o=i.schema[s];return o!==void 0&&!(0,e.alwaysValidSchema)(i,o)}return f0.default=r,f0}var p0={},m8;function Zue(){if(m8)return p0;m8=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=Un(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:a}){r.if===void 0&&(0,t.checkStrictMode)(a,`"${n}" without "if" is ignored`)}};return p0.default=e,p0}var g8;function Que(){if(g8)return e0;g8=1,Object.defineProperty(e0,"__esModule",{value:!0});const t=zY(),e=jue(),n=qY(),r=Uue(),a=zue(),i=que(),s=$ue(),o=$Y(),l=Gue(),d=Hue(),f=Vue(),h=Wue(),m=Yue(),b=Kue(),g=Xue(),w=Zue();function S(T=!1){const x=[f.default,h.default,m.default,b.default,g.default,w.default,s.default,o.default,i.default,l.default,d.default];return T?x.push(e.default,r.default):x.push(t.default,n.default),x.push(a.default),x}return e0.default=S,e0}var h0={},m0={},b8;function Jue(){if(b8)return m0;b8=1,Object.defineProperty(m0,"__esModule",{value:!0});const t=mn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,a){const{gen:i,data:s,$data:o,schema:l,schemaCode:d,it:f}=r,{opts:h,errSchemaPath:m,schemaEnv:b,self:g}=f;if(!h.validateFormats)return;o?w():S();function w(){const T=i.scopeValue("formats",{ref:g.formats,code:h.code.formats}),x=i.const("fDef",(0,t._)`${T}[${d}]`),_=i.let("fType"),C=i.let("format");i.if((0,t._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>i.assign(_,(0,t._)`${x}.type || "string"`).assign(C,(0,t._)`${x}.validate`),()=>i.assign(_,(0,t._)`"string"`).assign(C,x)),r.fail$data((0,t.or)(R(),A()));function R(){return h.strictSchema===!1?t.nil:(0,t._)`${d} && !${C}`}function A(){const I=b.$async?(0,t._)`(${x}.async ? await ${C}(${s}) : ${C}(${s}))`:(0,t._)`${C}(${s})`,O=(0,t._)`(typeof ${C} == "function" ? ${I} : ${C}.test(${s}))`;return(0,t._)`${C} && ${C} !== true && ${_} === ${a} && !${O}`}}function S(){const T=g.formats[l];if(!T){R();return}if(T===!0)return;const[x,_,C]=A(T);x===a&&r.pass(I());function R(){if(h.strictSchema===!1){g.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function A(O){const M=O instanceof RegExp?(0,t.regexpCode)(O):h.code.formats?(0,t._)`${h.code.formats}${(0,t.getProperty)(l)}`:void 0,U=i.scopeValue("formats",{key:l,ref:O,code:M});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${U}.validate`]:["string",O,U]}function I(){if(typeof T=="object"&&!(T instanceof RegExp)&&T.async){if(!b.$async)throw new Error("async format in sync schema");return(0,t._)`await ${C}(${s})`}return typeof _=="function"?(0,t._)`${C}(${s})`:(0,t._)`${C}.test(${s})`}}}};return m0.default=n,m0}var y8;function ede(){if(y8)return h0;y8=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=[Jue().default];return h0.default=e,h0}var nd={},v8;function tde(){return v8||(v8=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.contentVocabulary=nd.metadataVocabulary=void 0,nd.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],nd.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),nd}var S8;function nde(){if(S8)return Bv;S8=1,Object.defineProperty(Bv,"__esModule",{value:!0});const t=Cue(),e=Bue(),n=Que(),r=ede(),a=tde(),i=[t.default,e.default,(0,n.default)(),r.default,a.metadataVocabulary,a.contentVocabulary];return Bv.default=i,Bv}var g0={},ng={},E8;function rde(){if(E8)return ng;E8=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.DiscrError=void 0;var t;return(function(e){e.Tag="tag",e.Mapping="mapping"})(t||(ng.DiscrError=t={})),ng}var _8;function ade(){if(_8)return g0;_8=1,Object.defineProperty(g0,"__esModule",{value:!0});const t=mn(),e=rde(),n=hP(),r=O1(),a=Un(),s={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:l}})=>o===e.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:o,tag:l,tagName:d}})=>(0,t._)`{error: ${o}, tag: ${d}, tagValue: ${l}}`},code(o){const{gen:l,data:d,schema:f,parentSchema:h,it:m}=o,{oneOf:b}=h;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=f.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!b)throw new Error("discriminator: requires oneOf keyword");const w=l.let("valid",!1),S=l.const("tag",(0,t._)`${d}${(0,t.getProperty)(g)}`);l.if((0,t._)`typeof ${S} == "string"`,()=>T(),()=>o.error(!1,{discrError:e.DiscrError.Tag,tag:S,tagName:g})),o.ok(w);function T(){const C=_();l.if(!1);for(const R in C)l.elseIf((0,t._)`${S} === ${R}`),l.assign(w,x(C[R]));l.else(),o.error(!1,{discrError:e.DiscrError.Mapping,tag:S,tagName:g}),l.endIf()}function x(C){const R=l.name("valid"),A=o.subschema({keyword:"oneOf",schemaProp:C},R);return o.mergeEvaluated(A,t.Name),R}function _(){var C;const R={},A=O(h);let I=!0;for(let L=0;L<b.length;L++){let z=b[L];if(z?.$ref&&!(0,a.schemaHasRulesButRef)(z,m.self.RULES)){const H=z.$ref;if(z=n.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,H),z instanceof n.SchemaEnv&&(z=z.schema),z===void 0)throw new r.default(m.opts.uriResolver,m.baseId,H)}const j=(C=z?.properties)===null||C===void 0?void 0:C[g];if(typeof j!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);I=I&&(A||O(z)),M(j,L)}if(!I)throw new Error(`discriminator: "${g}" must be required`);return R;function O({required:L}){return Array.isArray(L)&&L.includes(g)}function M(L,z){if(L.const)U(L.const,z);else if(L.enum)for(const j of L.enum)U(j,z);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function U(L,z){if(typeof L!="string"||L in R)throw new Error(`discriminator: "${g}" values must be unique strings`);R[L]=z}}}};return g0.default=s,g0}const ide="http://json-schema.org/draft-07/schema#",sde="http://json-schema.org/draft-07/schema#",ode="Core schema meta-schema",lde={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},cde=["object","boolean"],ude={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dde={$schema:ide,$id:sde,title:ode,definitions:lde,type:cde,properties:ude,default:!0};var x8;function GY(){return x8||(x8=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=xue(),r=nde(),a=ade(),i=dde,s=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(i,s):i;this.addMetaSchema(g,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var d=D1();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return d.KeywordCxt}});var f=mn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=pP();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var m=O1();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})})(Nv,Nv.exports)),Nv.exports}var fde=GY();const pde=Tn(fde);var b0={exports:{}},DT={},w8;function hde(){return w8||(w8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(M,U){return{validate:M,compare:U}}t.fullFormats={date:e(i,s),time:e(l,d),"date-time":e(h,m),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:w,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:O,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:T,int32:{type:"number",validate:C},int64:{type:"number",validate:R},float:{type:"number",validate:A},double:{type:"number",validate:A},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,s),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,m),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function n(M){return M%4===0&&(M%100!==0||M%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];function i(M){const U=r.exec(M);if(!U)return!1;const L=+U[1],z=+U[2],j=+U[3];return z>=1&&z<=12&&j>=1&&j<=(z===2&&n(L)?29:a[z])}function s(M,U){if(M&&U)return M>U?1:M<U?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(M,U){const L=o.exec(M);if(!L)return!1;const z=+L[1],j=+L[2],H=+L[3],$=L[5];return(z<=23&&j<=59&&H<=59||z===23&&j===59&&H===60)&&(!U||$!=="")}function d(M,U){if(!(M&&U))return;const L=o.exec(M),z=o.exec(U);if(L&&z)return M=L[1]+L[2]+L[3]+(L[4]||""),U=z[1]+z[2]+z[3]+(z[4]||""),M>U?1:M<U?-1:0}const f=/t|\s/i;function h(M){const U=M.split(f);return U.length===2&&i(U[0])&&l(U[1],!0)}function m(M,U){if(!(M&&U))return;const[L,z]=M.split(f),[j,H]=U.split(f),$=s(L,j);if($!==void 0)return $||d(z,H)}const b=/\/|:/,g=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function w(M){return b.test(M)&&g.test(M)}const S=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function T(M){return S.lastIndex=0,S.test(M)}const x=-2147483648,_=2**31-1;function C(M){return Number.isInteger(M)&&M<=_&&M>=x}function R(M){return Number.isInteger(M)}function A(){return!0}const I=/[^\\]\\Z/;function O(M){if(I.test(M))return!1;try{return new RegExp(M),!0}catch{return!1}}})(DT)),DT}var OT={},T8;function mde(){return T8||(T8=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=GY(),n=mn(),r=n.operators,a={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:o,schemaCode:l})=>n.str`should be ${a[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>n._`{comparison: ${a[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(a),type:"string",schemaType:"string",$data:!0,error:i,code(o){const{gen:l,data:d,schemaCode:f,keyword:h,it:m}=o,{opts:b,self:g}=m;if(!b.validateFormats)return;const w=new e.KeywordCxt(m,g.RULES.all.format.definition,"format");w.$data?S():T();function S(){const _=l.scopeValue("formats",{ref:g.formats,code:b.code.formats}),C=l.const("fmt",n._`${_}[${w.schemaCode}]`);o.fail$data(n.or(n._`typeof ${C} != "object"`,n._`${C} instanceof RegExp`,n._`typeof ${C}.compare != "function"`,x(C)))}function T(){const _=w.schema,C=g.formats[_];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${h}": format "${_}" does not define "compare" function`);const R=l.scopeValue("formats",{key:_,ref:C,code:b.code.formats?n._`${b.code.formats}${n.getProperty(_)}`:void 0});o.fail$data(x(R))}function x(_){return n._`${_}.compare(${d}, ${f}) ${a[h].fail} 0`}},dependencies:["format"]};const s=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=s})(OT)),OT}var C8;function gde(){return C8||(C8=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=hde(),r=mde(),a=mn(),i=new a.Name("fullFormats"),s=new a.Name("fastFormats"),o=(d,f={keywords:!0})=>{if(Array.isArray(f))return l(d,f,n.fullFormats,i),d;const[h,m]=f.mode==="fast"?[n.fastFormats,s]:[n.fullFormats,i],b=f.formats||n.formatNames;return l(d,b,h,m),f.keywords&&r.default(d),d};o.get=(d,f="full")=>{const m=(f==="fast"?n.fastFormats:n.fullFormats)[d];if(!m)throw new Error(`Unknown format "${d}"`);return m};function l(d,f,h,m){var b,g;(b=(g=d.opts.code).formats)!==null&&b!==void 0||(g.formats=a._`require("ajv-formats/dist/formats").${m}`);for(const w of f)d.addFormat(w,h[w])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(b0,b0.exports)),b0.exports}var bde=gde();const yde=Tn(bde);var NT,R8;function vde(){if(R8)return NT;R8=1;function t(e){return function(n,r,a){for(var i=-1,s=Object(n),o=a(n),l=o.length;l--;){var d=o[e?l:++i];if(r(s[d],d,s)===!1)break}return n}}return NT=t,NT}var MT,A8;function HY(){if(A8)return MT;A8=1;var t=vde(),e=t();return MT=e,MT}var PT,I8;function Sde(){if(I8)return PT;I8=1;var t=HY(),e=ic();function n(r,a){return r&&t(r,a,e)}return PT=n,PT}var LT,k8;function Ede(){if(k8)return LT;k8=1;var t=ac();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var s=a.length,o=r?s:-1,l=Object(a);(r?o--:++o<s)&&i(l[o],o,l)!==!1;);return a}}return LT=e,LT}var FT,D8;function gP(){if(D8)return FT;D8=1;var t=Sde(),e=Ede(),n=e(t);return FT=n,FT}var BT,O8;function _de(){if(O8)return BT;O8=1;var t=gP();function e(n,r){var a=[];return t(n,function(i,s,o){r(i,s,o)&&a.push(i)}),a}return BT=e,BT}var jT,N8;function xde(){if(N8)return jT;N8=1;var t=RY(),e=_de(),n=iu(),r=Qr();function a(i,s){var o=r(i)?t:e;return o(i,n(s,3))}return jT=a,jT}var wde=xde();const M8=Tn(wde);var UT,P8;function Tde(){if(P8)return UT;P8=1;var t=fP();function e(n,r){return t(n,r)}return UT=e,UT}var Cde=Tde();const bP=Tn(Cde);var zT,L8;function VY(){if(L8)return zT;L8=1;var t=Ad(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return zT=e,zT}var qT,F8;function yP(){if(F8)return qT;F8=1;var t=VY();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return qT=e,qT}var $T,B8;function WY(){if(B8)return $T;B8=1;var t=yP(),e=Cb();function n(r,a,i){(i!==void 0&&!e(r[a],i)||i===void 0&&!(a in r))&&t(r,a,i)}return $T=n,$T}var Eg={exports:{}};Eg.exports;var j8;function YY(){return j8||(j8=1,(function(t,e){var n=Si(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,s=i?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(d,f){if(f)return d.slice();var h=d.length,m=o?o(h):new d.constructor(h);return d.copy(m),m}t.exports=l})(Eg,Eg.exports)),Eg.exports}var GT,U8;function vP(){if(U8)return GT;U8=1;var t=wY();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return GT=e,GT}var HT,z8;function KY(){if(z8)return HT;z8=1;var t=vP();function e(n,r){var a=r?t(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return HT=e,HT}var VT,q8;function Ib(){if(q8)return VT;q8=1;function t(e,n){var r=-1,a=e.length;for(n||(n=Array(a));++r<a;)n[r]=e[r];return n}return VT=t,VT}var WT,$8;function N1(){if($8)return WT;$8=1;var t=ds(),e=Object.create,n=(function(){function r(){}return function(a){if(!t(a))return{};if(e)return e(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}})();return WT=n,WT}var YT,G8;function SP(){if(G8)return YT;G8=1;var t=aY(),e=t(Object.getPrototypeOf,Object);return YT=e,YT}var KT,H8;function XY(){if(H8)return KT;H8=1;var t=N1(),e=SP(),n=S1();function r(a){return typeof a.constructor=="function"&&!n(a)?t(e(a)):{}}return KT=r,KT}var XT,V8;function ZY(){if(V8)return XT;V8=1;var t=ac(),e=fs();function n(r){return e(r)&&t(r)}return XT=n,XT}var ZT,W8;function EP(){if(W8)return ZT;W8=1;var t=au(),e=SP(),n=fs(),r="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,l=s.call(Object);function d(f){if(!n(f)||t(f)!=r)return!1;var h=e(f);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==l}return ZT=d,ZT}var QT,Y8;function QY(){if(Y8)return QT;Y8=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return QT=t,QT}var JT,K8;function _P(){if(K8)return JT;K8=1;var t=yP(),e=Cb(),n=Object.prototype,r=n.hasOwnProperty;function a(i,s,o){var l=i[s];(!(r.call(i,s)&&e(l,o))||o===void 0&&!(s in i))&&t(i,s,o)}return JT=a,JT}var eC,X8;function Xp(){if(X8)return eC;X8=1;var t=_P(),e=yP();function n(r,a,i,s){var o=!i;i||(i={});for(var l=-1,d=a.length;++l<d;){var f=a[l],h=s?s(i[f],r[f],f,i,r):void 0;h===void 0&&(h=r[f]),o?e(i,f,h):t(i,f,h)}return i}return eC=n,eC}var tC,Z8;function Rde(){if(Z8)return tC;Z8=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return tC=t,tC}var nC,Q8;function Ade(){if(Q8)return nC;Q8=1;var t=ds(),e=S1(),n=Rde(),r=Object.prototype,a=r.hasOwnProperty;function i(s){if(!t(s))return n(s);var o=e(s),l=[];for(var d in s)d=="constructor"&&(o||!a.call(s,d))||l.push(d);return l}return nC=i,nC}var rC,J8;function kb(){if(J8)return rC;J8=1;var t=pY(),e=Ade(),n=ac();function r(a){return n(a)?t(a,!0):e(a)}return rC=r,rC}var aC,eB;function Ide(){if(eB)return aC;eB=1;var t=Xp(),e=kb();function n(r){return t(r,e(r))}return aC=n,aC}var iC,tB;function kde(){if(tB)return iC;tB=1;var t=WY(),e=YY(),n=KY(),r=Ib(),a=XY(),i=wb(),s=Qr(),o=ZY(),l=Tb(),d=xb(),f=ds(),h=EP(),m=E1(),b=QY(),g=Ide();function w(S,T,x,_,C,R,A){var I=b(S,x),O=b(T,x),M=A.get(O);if(M){t(S,x,M);return}var U=R?R(I,O,x+"",S,T,A):void 0,L=U===void 0;if(L){var z=s(O),j=!z&&l(O),H=!z&&!j&&m(O);U=O,z||j||H?s(I)?U=I:o(I)?U=r(I):j?(L=!1,U=e(O,!0)):H?(L=!1,U=n(O,!0)):U=[]:h(O)||i(O)?(U=I,i(I)?U=g(I):(!f(I)||d(I))&&(U=a(O))):L=!1}L&&(A.set(O,U),C(U,O,_,R,A),A.delete(O)),t(S,x,U)}return iC=w,iC}var sC,nB;function Dde(){if(nB)return sC;nB=1;var t=R1(),e=WY(),n=HY(),r=kde(),a=ds(),i=kb(),s=QY();function o(l,d,f,h,m){l!==d&&n(d,function(b,g){if(m||(m=new t),a(b))r(l,d,g,f,o,h,m);else{var w=h?h(s(l,g),b,g+"",l,d,m):void 0;w===void 0&&(w=b),e(l,g,w)}},i)}return sC=o,sC}var oC,rB;function xP(){if(rB)return oC;rB=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return oC=t,oC}var lC,aB;function JY(){if(aB)return lC;aB=1;var t=xP(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var s=arguments,o=-1,l=e(s.length-a,0),d=Array(l);++o<l;)d[o]=s[a+o];o=-1;for(var f=Array(a+1);++o<a;)f[o]=s[o];return f[a]=i(d),t(r,this,f)}}return lC=n,lC}var cC,iB;function Ode(){if(iB)return cC;iB=1;function t(e){return function(){return e}}return cC=t,cC}var uC,sB;function Nde(){if(sB)return uC;sB=1;var t=Ode(),e=VY(),n=A1(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return uC=r,uC}var dC,oB;function eK(){if(oB)return dC;oB=1;var t=800,e=16,n=Date.now;function r(a){var i=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return dC=r,dC}var fC,lB;function wP(){if(lB)return fC;lB=1;var t=Nde(),e=eK(),n=e(t);return fC=n,fC}var pC,cB;function tK(){if(cB)return pC;cB=1;var t=A1(),e=JY(),n=wP();function r(a,i){return n(e(a,i,t),a+"")}return pC=r,pC}var hC,uB;function Mde(){if(uB)return hC;uB=1;var t=tK(),e=hY();function n(r){return t(function(a,i){var s=-1,o=i.length,l=o>1?i[o-1]:void 0,d=o>2?i[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,d&&e(i[0],i[1],d)&&(l=o<3?void 0:l,o=1),a=Object(a);++s<o;){var f=i[s];f&&r(a,f,s,l)}return a})}return hC=n,hC}var mC,dB;function Pde(){if(dB)return mC;dB=1;var t=Dde(),e=Mde(),n=e(function(r,a,i){t(r,a,i)});return mC=n,mC}var Lde=Pde();const Pn=Tn(Lde);var gC,fB;function TP(){if(fB)return gC;fB=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a&&n(e[r],r,e)!==!1;);return e}return gC=t,gC}var bC,pB;function nK(){if(pB)return bC;pB=1;var t=Xp(),e=ic();function n(r,a){return r&&t(a,e(a),r)}return bC=n,bC}var yC,hB;function Fde(){if(hB)return yC;hB=1;var t=Xp(),e=kb();function n(r,a){return r&&t(a,e(a),r)}return yC=n,yC}var vC,mB;function Bde(){if(mB)return vC;mB=1;var t=Xp(),e=dP();function n(r,a){return t(r,e(r),a)}return vC=n,vC}var SC,gB;function rK(){if(gB)return SC;gB=1;var t=uP(),e=SP(),n=dP(),r=AY(),a=Object.getOwnPropertySymbols,i=a?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return SC=i,SC}var EC,bB;function jde(){if(bB)return EC;bB=1;var t=Xp(),e=rK();function n(r,a){return t(r,e(r),a)}return EC=n,EC}var _C,yB;function aK(){if(yB)return _C;yB=1;var t=CY(),e=rK(),n=kb();function r(a){return t(a,n,e)}return _C=r,_C}var xC,vB;function Ude(){if(vB)return xC;vB=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&e.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return xC=n,xC}var wC,SB;function zde(){if(SB)return wC;SB=1;var t=vP();function e(n,r){var a=r?t(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return wC=e,wC}var TC,EB;function qde(){if(EB)return TC;EB=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return TC=e,TC}var CC,_B;function $de(){if(_B)return CC;_B=1;var t=Hp(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return CC=r,CC}var RC,xB;function Gde(){if(xB)return RC;xB=1;var t=vP(),e=zde(),n=qde(),r=$de(),a=KY(),i="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",d="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",g="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",T="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",A="[object Uint16Array]",I="[object Uint32Array]";function O(M,U,L){var z=M.constructor;switch(U){case b:return t(M);case i:case s:return new z(+M);case g:return e(M,L);case w:case S:case T:case x:case _:case C:case R:case A:case I:return a(M,L);case o:return new z;case l:case h:return new z(M);case d:return n(M);case f:return new z;case m:return r(M)}}return RC=O,RC}var AC,wB;function Hde(){if(wB)return AC;wB=1;var t=Id(),e=fs(),n="[object Map]";function r(a){return e(a)&&t(a)==n}return AC=r,AC}var IC,TB;function Vde(){if(TB)return IC;TB=1;var t=Hde(),e=rP(),n=aP(),r=n&&n.isMap,a=r?e(r):t;return IC=a,IC}var kC,CB;function Wde(){if(CB)return kC;CB=1;var t=Id(),e=fs(),n="[object Set]";function r(a){return e(a)&&t(a)==n}return kC=r,kC}var DC,RB;function Yde(){if(RB)return DC;RB=1;var t=Wde(),e=rP(),n=aP(),r=n&&n.isSet,a=r?e(r):t;return DC=a,DC}var OC,AB;function M1(){if(AB)return OC;AB=1;var t=R1(),e=TP(),n=_P(),r=nK(),a=Fde(),i=YY(),s=Ib(),o=Bde(),l=jde(),d=IY(),f=aK(),h=Id(),m=Ude(),b=Gde(),g=XY(),w=Qr(),S=Tb(),T=Vde(),x=ds(),_=Yde(),C=ic(),R=kb(),A=1,I=2,O=4,M="[object Arguments]",U="[object Array]",L="[object Boolean]",z="[object Date]",j="[object Error]",H="[object Function]",$="[object GeneratorFunction]",q="[object Map]",K="[object Number]",V="[object Object]",re="[object RegExp]",ee="[object Set]",Y="[object String]",ne="[object Symbol]",te="[object WeakMap]",G="[object ArrayBuffer]",W="[object DataView]",ue="[object Float32Array]",Ee="[object Float64Array]",ge="[object Int8Array]",fe="[object Int16Array]",Ae="[object Int32Array]",oe="[object Uint8Array]",de="[object Uint8ClampedArray]",se="[object Uint16Array]",Se="[object Uint32Array]",me={};me[M]=me[U]=me[G]=me[W]=me[L]=me[z]=me[ue]=me[Ee]=me[ge]=me[fe]=me[Ae]=me[q]=me[K]=me[V]=me[re]=me[ee]=me[Y]=me[ne]=me[oe]=me[de]=me[se]=me[Se]=!0,me[j]=me[H]=me[te]=!1;function ce(pe,Te,be,Ie,je,ke){var Ge,Et=Te&A,gt=Te&I,kt=Te&O;if(be&&(Ge=je?be(pe,Ie,je,ke):be(pe)),Ge!==void 0)return Ge;if(!x(pe))return pe;var Ye=w(pe);if(Ye){if(Ge=m(pe),!Et)return s(pe,Ge)}else{var nt=h(pe),It=nt==H||nt==$;if(S(pe))return i(pe,Et);if(nt==V||nt==M||It&&!je){if(Ge=gt||It?{}:g(pe),!Et)return gt?l(pe,a(Ge,pe)):o(pe,r(Ge,pe))}else{if(!me[nt])return je?pe:{};Ge=b(pe,nt,Et)}}ke||(ke=new t);var Gt=ke.get(pe);if(Gt)return Gt;ke.set(pe,Ge),_(pe)?pe.forEach(function(Pe){Ge.add(ce(Pe,Te,be,Pe,pe,ke))}):T(pe)&&pe.forEach(function(Pe,we){Ge.set(we,ce(Pe,Te,be,we,pe,ke))});var Ze=kt?gt?f:d:gt?R:C,ot=Ye?void 0:Ze(pe);return e(ot||pe,function(Pe,we){ot&&(we=Pe,Pe=pe[we]),n(Ge,we,ce(Pe,Te,be,we,pe,ke))}),Ge}return OC=ce,OC}var NC,IB;function Kde(){if(IB)return NC;IB=1;var t=M1(),e=1,n=4;function r(a){return t(a,e|n)}return NC=r,NC}var Xde=Kde();const Mg=Tn(Xde);var MC={},kB;function Zde(){return kB||(kB=1,(function(t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=(function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var a in n){var i=n[a];e.call(r,i)?r[i].push(a):r[i]=[a]}return r})(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(MC)),MC}var PC,DB;function CP(){return DB||(DB=1,PC={}),PC}var LC,OB;function Qde(){if(OB)return LC;OB=1;var t=Zde(),e=CP(),n=Array.prototype.push;function r(f,h){return h==2?function(m,b){return f.apply(void 0,arguments)}:function(m){return f.apply(void 0,arguments)}}function a(f,h){return h==2?function(m,b){return f(m,b)}:function(m){return f(m)}}function i(f){for(var h=f?f.length:0,m=Array(h);h--;)m[h]=f[h];return m}function s(f){return function(h){return f({},h)}}function o(f,h){return function(){for(var m=arguments.length,b=m-1,g=Array(m);m--;)g[m]=arguments[m];var w=g[h],S=g.slice(0,h);return w&&n.apply(S,w),h!=b&&n.apply(S,g.slice(h+1)),f.apply(this,S)}}function l(f,h){return function(){var m=arguments.length;if(m){for(var b=Array(m);m--;)b[m]=arguments[m];var g=b[0]=h.apply(void 0,b);return f.apply(void 0,b),g}}}function d(f,h,m,b){var g=typeof h=="function",w=h===Object(h);if(w&&(b=m,m=h,h=void 0),m==null)throw new TypeError;b||(b={});var S={cap:"cap"in b?b.cap:!0,curry:"curry"in b?b.curry:!0,fixed:"fixed"in b?b.fixed:!0,immutable:"immutable"in b?b.immutable:!0,rearg:"rearg"in b?b.rearg:!0},T=g?m:e,x="curry"in b&&b.curry,_="fixed"in b&&b.fixed,C="rearg"in b&&b.rearg,R=g?m.runInContext():void 0,A=g?m:{ary:f.ary,assign:f.assign,clone:f.clone,curry:f.curry,forEach:f.forEach,isArray:f.isArray,isError:f.isError,isFunction:f.isFunction,isWeakMap:f.isWeakMap,iteratee:f.iteratee,keys:f.keys,rearg:f.rearg,toInteger:f.toInteger,toPath:f.toPath},I=A.ary,O=A.assign,M=A.clone,U=A.curry,L=A.forEach,z=A.isArray,j=A.isError,H=A.isFunction,$=A.isWeakMap,q=A.keys,K=A.rearg,V=A.toInteger,re=A.toPath,ee=q(t.aryMethod),Y={castArray:function(me){return function(){var ce=arguments[0];return z(ce)?me(i(ce)):me.apply(void 0,arguments)}},iteratee:function(me){return function(){var ce=arguments[0],pe=arguments[1],Te=me(ce,pe),be=Te.length;return S.cap&&typeof pe=="number"?(pe=pe>2?pe-2:1,be&&be<=pe?Te:a(Te,pe)):Te}},mixin:function(me){return function(ce){var pe=this;if(!H(pe))return me(pe,Object(ce));var Te=[];return L(q(ce),function(be){H(ce[be])&&Te.push([be,pe.prototype[be]])}),me(pe,Object(ce)),L(Te,function(be){var Ie=be[1];H(Ie)?pe.prototype[be[0]]=Ie:delete pe.prototype[be[0]]}),pe}},nthArg:function(me){return function(ce){var pe=ce<0?1:V(ce)+1;return U(me(ce),pe)}},rearg:function(me){return function(ce,pe){var Te=pe?pe.length:0;return U(me(ce,pe),Te)}},runInContext:function(me){return function(ce){return d(f,me(ce),b)}}};function ne(me,ce){if(S.cap){var pe=t.iterateeRearg[me];if(pe)return Ae(ce,pe);var Te=!g&&t.iterateeAry[me];if(Te)return fe(ce,Te)}return ce}function te(me,ce,pe){return x||S.curry&&pe>1?U(ce,pe):ce}function G(me,ce,pe){if(S.fixed&&(_||!t.skipFixed[me])){var Te=t.methodSpread[me],be=Te&&Te.start;return be===void 0?I(ce,pe):o(ce,be)}return ce}function W(me,ce,pe){return S.rearg&&pe>1&&(C||!t.skipRearg[me])?K(ce,t.methodRearg[me]||t.aryRearg[pe]):ce}function ue(me,ce){ce=re(ce);for(var pe=-1,Te=ce.length,be=Te-1,Ie=M(Object(me)),je=Ie;je!=null&&++pe<Te;){var ke=ce[pe],Ge=je[ke];Ge!=null&&!(H(Ge)||j(Ge)||$(Ge))&&(je[ke]=M(pe==be?Ge:Object(Ge))),je=je[ke]}return Ie}function Ee(me){return se.runInContext.convert(me)(void 0)}function ge(me,ce){var pe=t.aliasToReal[me]||me,Te=t.remap[pe]||pe,be=b;return function(Ie){var je=g?R:A,ke=g?R[Te]:ce,Ge=O(O({},be),Ie);return d(je,pe,ke,Ge)}}function fe(me,ce){return oe(me,function(pe){return typeof pe=="function"?a(pe,ce):pe})}function Ae(me,ce){return oe(me,function(pe){var Te=ce.length;return r(K(a(pe,Te),ce),Te)})}function oe(me,ce){return function(){var pe=arguments.length;if(!pe)return me();for(var Te=Array(pe);pe--;)Te[pe]=arguments[pe];var be=S.rearg?0:pe-1;return Te[be]=ce(Te[be]),me.apply(void 0,Te)}}function de(me,ce,pe){var Te,be=t.aliasToReal[me]||me,Ie=ce,je=Y[be];return je?Ie=je(ce):S.immutable&&(t.mutate.array[be]?Ie=l(ce,i):t.mutate.object[be]?Ie=l(ce,s(ce)):t.mutate.set[be]&&(Ie=l(ce,ue))),L(ee,function(ke){return L(t.aryMethod[ke],function(Ge){if(be==Ge){var Et=t.methodSpread[be],gt=Et&&Et.afterRearg;return Te=gt?G(be,W(be,Ie,ke),ke):W(be,G(be,Ie,ke),ke),Te=ne(be,Te),Te=te(be,Te,ke),!1}}),!Te}),Te||(Te=Ie),Te==ce&&(Te=x?U(Te,1):function(){return ce.apply(this,arguments)}),Te.convert=ge(be,ce),Te.placeholder=ce.placeholder=pe,Te}if(!w)return de(h,m,T);var se=m,Se=[];return L(ee,function(me){L(t.aryMethod[me],function(ce){var pe=se[t.remap[ce]||ce];pe&&Se.push([ce,de(ce,pe,se)])})}),L(q(se),function(me){var ce=se[me];if(typeof ce=="function"){for(var pe=Se.length;pe--;)if(Se[pe][0]==me)return;ce.convert=ge(me,ce),Se.push([me,ce])}}),L(Se,function(me){se[me[0]]=me[1]}),se.convert=Ee,se.placeholder=se,L(q(se),function(me){L(t.realToAlias[me]||[],function(ce){se[ce]=se[me]})}),se}return LC=d,LC}var FC,NB;function iK(){if(NB)return FC;NB=1;var t=lY(),e=t&&new t;return FC=e,FC}var BC,MB;function sK(){if(MB)return BC;MB=1;var t=A1(),e=iK(),n=e?function(r,a){return e.set(r,a),r}:t;return BC=n,BC}var jC,PB;function P1(){if(PB)return jC;PB=1;var t=N1(),e=ds();function n(r){return function(){var a=arguments;switch(a.length){case 0:return new r;case 1:return new r(a[0]);case 2:return new r(a[0],a[1]);case 3:return new r(a[0],a[1],a[2]);case 4:return new r(a[0],a[1],a[2],a[3]);case 5:return new r(a[0],a[1],a[2],a[3],a[4]);case 6:return new r(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new r(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var i=t(r.prototype),s=r.apply(i,a);return e(s)?s:i}}return jC=n,jC}var UC,LB;function Jde(){if(LB)return UC;LB=1;var t=P1(),e=Si(),n=1;function r(a,i,s){var o=i&n,l=t(a);function d(){var f=this&&this!==e&&this instanceof d?l:a;return f.apply(o?s:this,arguments)}return d}return UC=r,UC}var zC,FB;function oK(){if(FB)return zC;FB=1;var t=Math.max;function e(n,r,a,i){for(var s=-1,o=n.length,l=a.length,d=-1,f=r.length,h=t(o-l,0),m=Array(f+h),b=!i;++d<f;)m[d]=r[d];for(;++s<l;)(b||s<o)&&(m[a[s]]=n[s]);for(;h--;)m[d++]=n[s++];return m}return zC=e,zC}var qC,BB;function lK(){if(BB)return qC;BB=1;var t=Math.max;function e(n,r,a,i){for(var s=-1,o=n.length,l=-1,d=a.length,f=-1,h=r.length,m=t(o-d,0),b=Array(m+h),g=!i;++s<m;)b[s]=n[s];for(var w=s;++f<h;)b[w+f]=r[f];for(;++l<d;)(g||s<o)&&(b[w+a[l]]=n[s++]);return b}return qC=e,qC}var $C,jB;function efe(){if(jB)return $C;jB=1;function t(e,n){for(var r=e.length,a=0;r--;)e[r]===n&&++a;return a}return $C=t,$C}var GC,UB;function RP(){if(UB)return GC;UB=1;function t(){}return GC=t,GC}var HC,zB;function AP(){if(zB)return HC;zB=1;var t=N1(),e=RP(),n=4294967295;function r(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=n,this.__views__=[]}return r.prototype=t(e.prototype),r.prototype.constructor=r,HC=r,HC}var VC,qB;function cK(){if(qB)return VC;qB=1;function t(){}return VC=t,VC}var WC,$B;function uK(){if($B)return WC;$B=1;var t=iK(),e=cK(),n=t?function(r){return t.get(r)}:e;return WC=n,WC}var YC,GB;function tfe(){if(GB)return YC;GB=1;var t={};return YC=t,YC}var KC,HB;function nfe(){if(HB)return KC;HB=1;var t=tfe(),e=Object.prototype,n=e.hasOwnProperty;function r(a){for(var i=a.name+"",s=t[i],o=n.call(t,i)?s.length:0;o--;){var l=s[o],d=l.func;if(d==null||d==a)return l.name}return i}return KC=r,KC}var XC,VB;function dK(){if(VB)return XC;VB=1;var t=N1(),e=RP();function n(r,a){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=void 0}return n.prototype=t(e.prototype),n.prototype.constructor=n,XC=n,XC}var ZC,WB;function rfe(){if(WB)return ZC;WB=1;var t=AP(),e=dK(),n=Ib();function r(a){if(a instanceof t)return a.clone();var i=new e(a.__wrapped__,a.__chain__);return i.__actions__=n(a.__actions__),i.__index__=a.__index__,i.__values__=a.__values__,i}return ZC=r,ZC}var QC,YB;function afe(){if(YB)return QC;YB=1;var t=AP(),e=dK(),n=RP(),r=Qr(),a=fs(),i=rfe(),s=Object.prototype,o=s.hasOwnProperty;function l(d){if(a(d)&&!r(d)&&!(d instanceof t)){if(d instanceof e)return d;if(o.call(d,"__wrapped__"))return i(d)}return new e(d)}return l.prototype=n.prototype,l.prototype.constructor=l,QC=l,QC}var JC,KB;function ife(){if(KB)return JC;KB=1;var t=AP(),e=uK(),n=nfe(),r=afe();function a(i){var s=n(i),o=r[s];if(typeof o!="function"||!(s in t.prototype))return!1;if(i===o)return!0;var l=e(o);return!!l&&i===l[0]}return JC=a,JC}var eR,XB;function fK(){if(XB)return eR;XB=1;var t=sK(),e=eK(),n=e(t);return eR=n,eR}var tR,ZB;function sfe(){if(ZB)return tR;ZB=1;var t=/\{\n\/\* \[wrapped with (.+)\] \*/,e=/,? & /;function n(r){var a=r.match(t);return a?a[1].split(e):[]}return tR=n,tR}var nR,QB;function ofe(){if(QB)return nR;QB=1;var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function e(n,r){var a=r.length;if(!a)return n;var i=a-1;return r[i]=(a>1?"& ":"")+r[i],r=r.join(a>2?", ":" "),n.replace(t,`{
/* [wrapped with `+r+`] */
`)}return nR=e,nR}var rR,JB;function pK(){if(JB)return rR;JB=1;var t=PY();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return rR=e,rR}var aR,ej;function lfe(){if(ej)return aR;ej=1;var t=TP(),e=pK(),n=1,r=2,a=8,i=16,s=32,o=64,l=128,d=256,f=512,h=[["ary",l],["bind",n],["bindKey",r],["curry",a],["curryRight",i],["flip",f],["partial",s],["partialRight",o],["rearg",d]];function m(b,g){return t(h,function(w){var S="_."+w[0];g&w[1]&&!e(b,S)&&b.push(S)}),b.sort()}return aR=m,aR}var iR,tj;function hK(){if(tj)return iR;tj=1;var t=sfe(),e=ofe(),n=wP(),r=lfe();function a(i,s,o){var l=s+"";return n(i,e(l,r(t(l),o)))}return iR=a,iR}var sR,nj;function mK(){if(nj)return sR;nj=1;var t=ife(),e=fK(),n=hK(),r=4,a=8,i=32,s=64;function o(l,d,f,h,m,b,g,w,S,T){var x=d&a,_=x?g:void 0,C=x?void 0:g,R=x?b:void 0,A=x?void 0:b;d|=x?i:s,d&=~(x?s:i),d&r||(d&=-4);var I=[l,d,m,R,_,A,C,w,S,T],O=f.apply(void 0,I);return t(l)&&e(O,I),O.placeholder=h,n(O,l,d)}return sR=o,sR}var oR,rj;function gK(){if(rj)return oR;rj=1;function t(e){var n=e;return n.placeholder}return oR=t,oR}var lR,aj;function cfe(){if(aj)return lR;aj=1;var t=Ib(),e=Kp(),n=Math.min;function r(a,i){for(var s=a.length,o=n(i.length,s),l=t(a);o--;){var d=i[o];a[o]=e(d,s)?l[d]:void 0}return a}return lR=r,lR}var cR,ij;function IP(){if(ij)return cR;ij=1;var t="__lodash_placeholder__";function e(n,r){for(var a=-1,i=n.length,s=0,o=[];++a<i;){var l=n[a];(l===r||l===t)&&(n[a]=t,o[s++]=a)}return o}return cR=e,cR}var uR,sj;function bK(){if(sj)return uR;sj=1;var t=oK(),e=lK(),n=efe(),r=P1(),a=mK(),i=gK(),s=cfe(),o=IP(),l=Si(),d=1,f=2,h=8,m=16,b=128,g=512;function w(S,T,x,_,C,R,A,I,O,M){var U=T&b,L=T&d,z=T&f,j=T&(h|m),H=T&g,$=z?void 0:r(S);function q(){for(var K=arguments.length,V=Array(K),re=K;re--;)V[re]=arguments[re];if(j)var ee=i(q),Y=n(V,ee);if(_&&(V=t(V,_,C,j)),R&&(V=e(V,R,A,j)),K-=Y,j&&K<M){var ne=o(V,ee);return a(S,T,w,q.placeholder,x,V,ne,I,O,M-K)}var te=L?x:this,G=z?te[S]:S;return K=V.length,I?V=s(V,I):H&&K>1&&V.reverse(),U&&O<K&&(V.length=O),this&&this!==l&&this instanceof q&&(G=$||r(G)),G.apply(te,V)}return q}return uR=w,uR}var dR,oj;function ufe(){if(oj)return dR;oj=1;var t=xP(),e=P1(),n=bK(),r=mK(),a=gK(),i=IP(),s=Si();function o(l,d,f){var h=e(l);function m(){for(var b=arguments.length,g=Array(b),w=b,S=a(m);w--;)g[w]=arguments[w];var T=b<3&&g[0]!==S&&g[b-1]!==S?[]:i(g,S);if(b-=T.length,b<f)return r(l,d,n,m.placeholder,void 0,g,T,void 0,void 0,f-b);var x=this&&this!==s&&this instanceof m?h:l;return t(x,this,g)}return m}return dR=o,dR}var fR,lj;function dfe(){if(lj)return fR;lj=1;var t=xP(),e=P1(),n=Si(),r=1;function a(i,s,o,l){var d=s&r,f=e(i);function h(){for(var m=-1,b=arguments.length,g=-1,w=l.length,S=Array(w+b),T=this&&this!==n&&this instanceof h?f:i;++g<w;)S[g]=l[g];for(;b--;)S[g++]=arguments[++m];return t(T,d?o:this,S)}return h}return fR=a,fR}var pR,cj;function ffe(){if(cj)return pR;cj=1;var t=oK(),e=lK(),n=IP(),r="__lodash_placeholder__",a=1,i=2,s=4,o=8,l=128,d=256,f=Math.min;function h(m,b){var g=m[1],w=b[1],S=g|w,T=S<(a|i|l),x=w==l&&g==o||w==l&&g==d&&m[7].length<=b[8]||w==(l|d)&&b[7].length<=b[8]&&g==o;if(!(T||x))return m;w&a&&(m[2]=b[2],S|=g&a?0:s);var _=b[3];if(_){var C=m[3];m[3]=C?t(C,_,b[4]):_,m[4]=C?n(m[3],r):b[4]}return _=b[5],_&&(C=m[5],m[5]=C?e(C,_,b[6]):_,m[6]=C?n(m[5],r):b[6]),_=b[7],_&&(m[7]=_),w&l&&(m[8]=m[8]==null?b[8]:f(m[8],b[8])),m[9]==null&&(m[9]=b[9]),m[0]=b[0],m[1]=S,m}return pR=h,pR}var hR,uj;function kP(){if(uj)return hR;uj=1;var t=sK(),e=Jde(),n=ufe(),r=bK(),a=dfe(),i=uK(),s=ffe(),o=fK(),l=hK(),d=Ab(),f="Expected a function",h=1,m=2,b=8,g=16,w=32,S=64,T=Math.max;function x(_,C,R,A,I,O,M,U){var L=C&m;if(!L&&typeof _!="function")throw new TypeError(f);var z=A?A.length:0;if(z||(C&=-97,A=I=void 0),M=M===void 0?M:T(d(M),0),U=U===void 0?U:d(U),z-=I?I.length:0,C&S){var j=A,H=I;A=I=void 0}var $=L?void 0:i(_),q=[_,C,R,A,I,j,H,O,M,U];if($&&s(q,$),_=q[0],C=q[1],R=q[2],A=q[3],I=q[4],U=q[9]=q[9]===void 0?L?0:_.length:T(q[9]-z,0),!U&&C&(b|g)&&(C&=-25),!C||C==h)var K=e(_,C,R);else C==b||C==g?K=n(_,C,U):(C==w||C==(h|w))&&!I.length?K=a(_,C,R,A):K=r.apply(void 0,q);var V=$?t:o;return l(V(K,q),_,C)}return hR=x,hR}var mR,dj;function pfe(){if(dj)return mR;dj=1;var t=kP(),e=128;function n(r,a,i){return a=i?void 0:a,a=r&&a==null?r.length:a,t(r,e,void 0,void 0,void 0,void 0,a)}return mR=n,mR}var gR,fj;function hfe(){if(fj)return gR;fj=1;var t=M1(),e=4;function n(r){return t(r,e)}return gR=n,gR}var bR,pj;function mfe(){if(pj)return bR;pj=1;var t=kP(),e=8;function n(r,a,i){a=i?void 0:a;var s=t(r,e,void 0,void 0,void 0,void 0,void 0,a);return s.placeholder=n.placeholder,s}return n.placeholder={},bR=n,bR}var yR,hj;function gfe(){if(hj)return yR;hj=1;var t=au(),e=fs(),n=EP(),r="[object DOMException]",a="[object Error]";function i(s){if(!e(s))return!1;var o=t(s);return o==a||o==r||typeof s.message=="string"&&typeof s.name=="string"&&!n(s)}return yR=i,yR}var vR,mj;function bfe(){if(mj)return vR;mj=1;var t=Id(),e=fs(),n="[object WeakMap]";function r(a){return e(a)&&t(a)==n}return vR=r,vR}var SR,gj;function yfe(){if(gj)return SR;gj=1;var t=M1(),e=iu(),n=1;function r(a){return e(typeof a=="function"?a:t(a,n))}return SR=r,SR}var ER,bj;function vfe(){if(bj)return ER;bj=1;var t=Hp(),e=wb(),n=Qr(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return ER=a,ER}var _R,yj;function yK(){if(yj)return _R;yj=1;var t=uP(),e=vfe();function n(r,a,i,s,o){var l=-1,d=r.length;for(i||(i=e),o||(o=[]);++l<d;){var f=r[l];a>0&&i(f)?a>1?n(f,a-1,i,s,o):t(o,f):s||(o[o.length]=f)}return o}return _R=n,_R}var xR,vj;function Sfe(){if(vj)return xR;vj=1;var t=yK();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return xR=e,xR}var wR,Sj;function vK(){if(Sj)return wR;Sj=1;var t=Sfe(),e=JY(),n=wP();function r(a){return n(e(a,void 0,t),a+"")}return wR=r,wR}var TR,Ej;function Efe(){if(Ej)return TR;Ej=1;var t=kP(),e=vK(),n=256,r=e(function(a,i){return t(a,n,void 0,void 0,void 0,i)});return TR=r,TR}var CR,_j;function _fe(){if(_j)return CR;_j=1;var t=Vp(),e=Ib(),n=Qr(),r=Wp(),a=bY(),i=kd(),s=Yp();function o(l){return n(l)?t(l,i):r(l)?[l]:e(a(s(l)))}return CR=o,CR}var RR,xj;function xfe(){return xj||(xj=1,RR={ary:pfe(),assign:nK(),clone:hfe(),curry:mfe(),forEach:TP(),isArray:Qr(),isError:gfe(),isFunction:xb(),isWeakMap:bfe(),iteratee:yfe(),keys:eP(),rearg:Efe(),toInteger:Ab(),toPath:_fe()}),RR}var AR,wj;function SK(){if(wj)return AR;wj=1;var t=Qde(),e=xfe();function n(r,a,i){return t(e,r,a,i)}return AR=n,AR}var IR,Tj;function wfe(){if(Tj)return IR;Tj=1;var t=_P(),e=Rb(),n=Kp(),r=ds(),a=kd();function i(s,o,l,d){if(!r(s))return s;o=e(o,s);for(var f=-1,h=o.length,m=h-1,b=s;b!=null&&++f<h;){var g=a(o[f]),w=l;if(g==="__proto__"||g==="constructor"||g==="prototype")return s;if(f!=m){var S=b[g];w=d?d(S,g,b):void 0,w===void 0&&(w=r(S)?S:n(o[f+1])?[]:{})}t(b,g,w),b=b[g]}return s}return IR=i,IR}var kR,Cj;function Tfe(){if(Cj)return kR;Cj=1;var t=wfe();function e(n,r,a){return n==null?n:t(n,r,a)}return kR=e,kR}var DR,Rj;function Cfe(){if(Rj)return DR;Rj=1;var t=SK(),e=t("set",Tfe());return e.placeholder=CP(),DR=e,DR}var Rfe=Cfe();const Afe=Tn(Rfe);var OR,Aj;function EK(){if(Aj)return OR;Aj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return OR=t,OR}var NR,Ij;function Ife(){if(Ij)return NR;Ij=1;var t=lP(),e=dY();function n(r,a){return a.length<2?r:t(r,e(a,0,-1))}return NR=n,NR}var MR,kj;function DP(){if(kj)return MR;kj=1;var t=Rb(),e=EK(),n=Ife(),r=kd();function a(i,s){return s=t(s,i),i=n(i,s),i==null||delete i[r(e(s))]}return MR=a,MR}var PR,Dj;function kfe(){if(Dj)return PR;Dj=1;var t=DP();function e(n,r){return n==null?!0:t(n,r)}return PR=e,PR}var LR,Oj;function Dfe(){if(Oj)return LR;Oj=1;var t=SK(),e=t("unset",kfe());return e.placeholder=CP(),LR=e,LR}var Ofe=Dfe();const Nfe=Tn(Ofe);var Mfe=xb();const Pfe=Tn(Mfe);var FR,Nj;function Lfe(){if(Nj)return FR;Nj=1;var t=Wp();function e(n,r,a){for(var i=-1,s=n.length;++i<s;){var o=n[i],l=r(o);if(l!=null&&(d===void 0?l===l&&!t(l):a(l,d)))var d=l,f=o}return f}return FR=e,FR}var BR,Mj;function Ffe(){if(Mj)return BR;Mj=1;function t(e,n){return e>n}return BR=t,BR}var jR,Pj;function Bfe(){if(Pj)return jR;Pj=1;var t=Lfe(),e=Ffe(),n=iu();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return jR=r,jR}var jfe=Bfe();const OP=Tn(jfe);var UR,Lj;function Ufe(){if(Lj)return UR;Lj=1;var t=DP(),e=Kp(),n=Array.prototype,r=n.splice;function a(i,s){for(var o=i?s.length:0,l=o-1;o--;){var d=s[o];if(o==l||d!==f){var f=d;e(d)?r.call(i,d,1):t(i,d)}}return i}return UR=a,UR}var zR,Fj;function zfe(){if(Fj)return zR;Fj=1;var t=iu(),e=Ufe();function n(r,a){var i=[];if(!(r&&r.length))return i;var s=-1,o=[],l=r.length;for(a=t(a,3);++s<l;){var d=r[s];a(d,s,r)&&(i.push(d),o.push(s))}return e(r,o),i}return zR=n,zR}zfe();var qR,Bj;function qfe(){if(Bj)return qR;Bj=1;function t(e,n,r){return e===e&&(r!==void 0&&(e=e<=r?e:r),n!==void 0&&(e=e>=n?e:n)),e}return qR=t,qR}var $R,jj;function $fe(){if(jj)return $R;jj=1;var t=qfe(),e=uY(),n=Ab(),r=Yp();function a(i,s,o){i=r(i),s=e(s);var l=i.length;o=o===void 0?l:t(n(o),0,l);var d=o;return o-=s.length,o>=0&&i.slice(o,d)==s}return $R=a,$R}$fe();EK();var GR,Uj;function Gfe(){if(Uj)return GR;Uj=1;function t(e,n,r,a,i){return i(e,function(s,o,l){r=a?(a=!1,s):n(r,s,o,l)}),r}return GR=t,GR}var HR,zj;function Hfe(){if(zj)return HR;zj=1;var t=cY(),e=gP(),n=iu(),r=Gfe(),a=Qr();function i(s,o,l){var d=a(s)?t:r,f=arguments.length<3;return d(s,n(o,4),l,f,e)}return HR=i,HR}var Vfe=Hfe();const qj=Tn(Vfe);var VR,$j;function Wfe(){if($j)return VR;$j=1;var t=Vp();function e(n,r){return t(r,function(a){return[a,n[a]]})}return VR=e,VR}var WR,Gj;function Yfe(){if(Gj)return WR;Gj=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=[a,a]}),r}return WR=t,WR}var YR,Hj;function Kfe(){if(Hj)return YR;Hj=1;var t=Wfe(),e=Id(),n=TY(),r=Yfe(),a="[object Map]",i="[object Set]";function s(o){return function(l){var d=e(l);return d==a?n(l):d==i?r(l):t(l,o(l))}}return YR=s,YR}var KR,Vj;function Xfe(){if(Vj)return KR;Vj=1;var t=Kfe(),e=ic(),n=t(e);return KR=n,KR}var Zfe=Xfe();const Qfe=Tn(Zfe),pS="additionalProperties",hS="required",Jfe=(t,e)=>{const n={};return t.filter(r=>{const a=e(r);return Object.prototype.hasOwnProperty.call(n,a)?!1:(n[a]=!0,!0)})};class epe{constructor(e){this.findOption=e,this.schemaObject=n=>{const r=this.properties(n),a={type:"object",properties:r,additionalProperties:this.findOption(r)(pS)},i=this.findOption(r)(hS);return i.length>0&&(a.required=i),a},this.properties=n=>{const r={};return Object.keys(n).reduce((a,i)=>(a[i]=this.property(n[i]),a),r)},this.property=n=>{switch(typeof n){case"string":return{type:"string"};case"boolean":return{type:"boolean"};case"number":return Number.isInteger(n)?{type:"integer"}:{type:"number"};case"object":return n==null?{type:"null"}:this.schemaObjectOrArray(n);default:return{}}},this.schemaObjectOrArray=n=>n instanceof Array?this.schemaArray(n):this.schemaObject(n),this.schemaArray=n=>{if(n.length>0){const r=n.map(this.property),a=Jfe(r,i=>JSON.stringify(i));return a.length===1?{type:"array",items:a[0]}:{type:"array",items:{oneOf:a}}}else return{type:"array",items:{}}}}}const _K=(t,e={})=>{const n=a=>i=>{switch(i){case pS:return Object.prototype.hasOwnProperty.call(e,pS)?e[pS]:!0;case hS:return Object.prototype.hasOwnProperty.call(e,hS)?e[hS](a):Object.keys(a);default:return}};return new epe(n).schemaObject(t)},NP=new Set,xK=(t,e)=>e<=1?t:t+e.toString(),tpe=(t,e)=>{const n=xK(t,e);return!NP.has(n)},XN=t=>{t===void 0&&(t="undefined");let e=0;for(;!tpe(t,e);)e++;const n=xK(t,e);return NP.add(n),n},ZN=t=>NP.delete(t),Zp=(t,e)=>{let n=t;return!Xt(t)&&!Xt(e)&&!e.startsWith("[")&&(n=t+"."),Xt(n)?e:Xt(e)?n:`${n}${e}`},wK=t=>{const r=t.replace(/(anyOf|allOf|oneOf)\/[\d]+\//g,"").replace(/(then|else)\//g,"").split("/").map(Db),i=r[0]==="#"||r[0]===""?2:1;return _1(i,r.length,2).map(s=>r[s])},$S=t=>t?.replace(/~/g,"~0").replace(/\//g,"~1"),Db=t=>t?.replace(/~1/g,"/").replace(/~0/,"~"),TK=t=>`/properties/${t.split(".").map(e=>$S(e)).join("/properties/")}`,XR=(t,e)=>{if(e&&typeof e.title=="string")return e.title;if(typeof t.scope=="string"){const n=t.scope,r=Db(n.substr(n.lastIndexOf("/")+1));return iP(r)}return""},npe=(t,e)=>{const n=t.label;if(typeof n=="boolean")return y0(XR(t,e),n);if(typeof n=="string")return y0(n,!0);if(typeof n=="object"){const r=typeof n.text=="string"?n.text:XR(t,e),a=typeof n.show=="boolean"?n.show:!0;return y0(r,a)}return y0(XR(t,e),!0)},y0=(t,e)=>({text:t,show:e}),mS=(t,e)=>Xt(e)?t:e.split(".").reduce((r,a)=>{if(!(!r||!Object.prototype.hasOwnProperty.call(r,a)))return r[a]},t),rpe=t=>t==="#"||t===void 0||t==="",Bi=(t,e,n)=>{const r=e?.split("/").map(Db);return gS(t,r,n)},gS=(t,e,n)=>{if(typeof t?.$ref=="string"&&(t=Bi(n,t.$ref,n)),!e||e.length===0)return t;if(Xt(t))return;const[r,...a]=e;if(rpe(r))return gS(t,a,n);const i=sa(t,r),s=gS(i,a,n);if(s)return s;if(r==="properties"||r==="items"){let o;const l=[].concat(t.oneOf??[],t.allOf??[],t.anyOf??[],t.then??[],t.else??[]);for(const d of l)if(o=gS(d,[r,...a],n),o)break;return o}};var al;(function(t){t.HIDE="HIDE",t.SHOW="SHOW",t.ENABLE="ENABLE",t.DISABLE="DISABLE"})(al||(al={}));const QN=(t,e)=>{if(ope(t)){if(AK(t)&&t.scope.endsWith(TK(e)))return t;if(t.options?.detail)return QN(t.options.detail,e)}if(MP(t))for(const n of t.elements){const r=QN(n,e);if(r!==void 0)return r}},CK=(t,e)=>{if(!AK(t))return e??"";const n=wK(t.scope);return Xt(n)?e??"":Zp(e,n.join("."))},RK=t=>typeof t=="object"&&t!==null&&typeof t.i18n=="string",ape=t=>t.type==="Group",MP=t=>t.elements!==void 0,ipe=t=>!!t&&typeof t=="object",AK=t=>ipe(t)&&typeof t.scope=="string",spe=t=>!!t&&typeof t=="object",ope=t=>t.type==="Control",lpe=t=>t.type==="OR",cpe=t=>t.type==="AND",upe=t=>t.type==="LEAF",dpe=t=>SY(t,"schema"),fpe=t=>SY(t,"validate")&&typeof t.validate=="function",ZR=(t,e)=>CK(t,e),JN=(t,e,n,r,a)=>{if(cpe(n))return n.conditions.reduce((i,s)=>i&&JN(t,e,s,r,a),!0);if(lpe(n))return n.conditions.reduce((i,s)=>i||JN(t,e,s,r,a),!1);if(upe(n))return mS(t,ZR(n,r))===n.expectedValue;if(dpe(n)){const i=mS(t,ZR(n,r));return n.failWhenUndefined&&i===void 0?!1:a.validate(n.schema,i)}else if(fpe(n)){const s={data:mS(t,ZR(n,r)),fullData:t,path:r,uischemaElement:e};return n.validate(s)}else return!0},IK=(t,e,n,r)=>{const a=t.rule.condition;return JN(e,t,a,n,r)},ppe=(t,e,n=void 0,r)=>{const a=IK(t,e,n,r);switch(t.rule.effect){case al.HIDE:return!a;case al.SHOW:return a;default:return!0}},hpe=(t,e,n=void 0,r)=>{const a=IK(t,e,n,r);switch(t.rule.effect){case al.DISABLE:return!a;case al.ENABLE:return a;default:return!0}},PP=t=>!!(t.rule&&(t.rule.effect===al.SHOW||t.rule.effect===al.HIDE)),mpe=t=>!!(t.rule&&(t.rule.effect===al.ENABLE||t.rule.effect===al.DISABLE)),Qp=(t,e,n=void 0,r)=>t.rule?ppe(t,e,n,r):!0,gpe=(t,e,n=void 0,r)=>t.rule?hpe(t,e,n,r):!0,bpe=t=>{if(t&&typeof t=="object"&&"properties"in t&&t.properties)return NY(Object.keys(t.properties),e=>{const n=t.properties[e];return n&&typeof n=="object"&&"type"in n&&(n.type==="string"||n.type==="number"||n.type==="integer")})},Zg=t=>!!t&&Object.prototype.hasOwnProperty.call(t,"oneOf")&&t.oneOf&&t.oneOf.every(e=>e.const!==void 0),kK=t=>!!t&&typeof t=="object"&&(Object.prototype.hasOwnProperty.call(t,"enum")||Object.prototype.hasOwnProperty.call(t,"const")),ype=(t,e)=>{const n=t.toISOString();return e==="date-time"?n:e==="date"?n.split("T")[0]:e==="time"?n.split("T")[1].split(".")[0]:n},wa=(t,e)=>LY(md(t),e),md=t=>{if(Xt(t))return[];if(!Xt(t.type)&&typeof t.type=="string")return[t.type];if(MY(t.type))return t.type;if(!Xt(t.properties)||!Xt(t.additionalProperties))return["object"];if(!Xt(t.items))return["array"];if(!Xt(t.enum)){const e=new Set;return t.enum.forEach(n=>{typeof n=="string"?e.add("string"):md(n).forEach(r=>e.add(r))}),Array.from(e)}if(!Xt(t.allOf)){const e=NY(t.allOf,n=>md(n).length!==0);if(e)return md(e)}return[]},ji={schema:Bi,data:mS},vpe=t=>wK(t.scope).join("."),LP={compose:Zp,fromScoped:vpe},Spe=t=>{const e=new pde({allErrors:!0,verbose:!0,strict:!1,addUsedSchema:!1,...t});return yde(e),e},Vl=(t,e)=>t===void 0?[]:t(e)?[]:t.errors,Epe="YYYY-MM-DD",_pe="HH:mm:ss",xpe="YYYY-MM-DDTHH:mm:ss.sssZ",wpe=t=>{switch(t.keyword){case"required":case"dependencies":return t.params.missingProperty;case"additionalProperties":return t.params.additionalProperty;default:return}},eM=t=>{let e=t.dataPath||t.instancePath||"";e=e.replace(/\//g,".");const n=wpe(t);return n!==void 0&&!e.endsWith(n)&&(e=`${e}.${n}`),e=e.replace(/^./,""),e=Db(e),e},Tpe=(t,e,n)=>r=>{const a=M8(r,i=>i.keyword==="oneOf"||i.keyword==="anyOf").map(i=>eM(i));return M8(r,i=>{if(Rpe.indexOf(i.keyword)!==-1&&!Zg(i.parentSchema))return!1;const s=eM(i);let o=n(s);const l=i.parentSchema;return o&&!Cpe(l)&&!Zg(l)&&a.findIndex(d=>t.startsWith(d))!==-1&&(o=o&&bP(l,e)),o})},Cpe=t=>t?.type==="object"||!!t?.properties,Rpe=["additionalProperties","allOf","anyOf","oneOf"],DK=t=>t==null?"":t.join(`
`),OK=t=>({type:t,elements:[]}),bS=t=>({type:"Control",scope:t}),Ape=(t,e)=>{if(!Xt(t)&&!MP(t)){const n=OK(e);return n.elements.push(t),n}return t},Ipe=(t,e)=>{if(!Xt(e)){const n=iP(e);if(ape(t))t.label=n;else{const r={type:"Label",text:n};t.elements.push(r)}}},kpe=t=>!Xt(t)&&(!Xt(t.oneOf)||!Xt(t.anyOf)||!Xt(t.allOf)),tM=(t,e,n,r,a,i)=>{if(!Xt(t)&&t.$ref!==void 0)return tM(Bi(i,t.$ref,i),e,n,r,a,i);if(kpe(t)){const o=bS(n);return e.push(o),o}const s=md(t);if(s.length===0)return null;if(s.length>1){const o=bS(n);return e.push(o),o}if(n==="#"&&s[0]==="object"){const o=OK(a);if(e.push(o),t.properties&&ece(t.properties).length>1&&Ipe(o,r),!Xt(t.properties)){const l=n+"/properties";Object.keys(t.properties).map(d=>{let f=t.properties[d];const h=`${l}/${$S(d)}`;f.$ref!==void 0&&(f=Bi(i,f.$ref,i)),tM(f,o.elements,h,d,a,i)})}return o}switch(s[0]){case"object":case"array":case"string":case"number":case"integer":case"null":case"boolean":{const o=bS(n);return e.push(o),o}default:throw new Error("Unknown type: "+JSON.stringify(t))}},NK=(t,e="VerticalLayout",n="#",r=t)=>Ape(tM(t,[],n,"",e,r),e),Ed={jsonSchema:_K,uiSchema:NK,controlElement:bS},FP="jsonforms/INIT",BP="jsonforms/UPDATE_CORE",jP="jsonforms/SET_AJV",UP="jsonforms/UPDATE",zP="jsonforms/UPDATE_ERRORS",Dpe="jsonforms/VALIDATE",MK="jsonforms/ADD_RENDERER",PK="jsonforms/REMOVE_RENDERER",LK="jsonforms/ADD_CELL",FK="jsonforms/REMOVE_CELL",qP="jsonforms/SET_CONFIG",BK="jsonforms/ADD_UI_SCHEMA",jK="jsonforms/REMOVE_UI_SCHEMA",$P="jsonforms/SET_SCHEMA",GP="jsonforms/SET_UISCHEMA",HP="jsonforms/SET_VALIDATION_MODE",VP="jsonforms/SET_LOCALE",WP="jsonforms/SET_TRANSLATOR",YP="jsonforms/UPDATE_I18N",UK="jsonforms/ADD_DEFAULT_DATA",zK="jsonforms/REMOVE_DEFAULT_DATA",Ope=t=>{if(!("type"in t)||typeof t.type!="string")return!1;switch(t.type){case"ADD":return"values"in t&&Array.isArray(t.values)&&t.values.length>0;case"REMOVE":return"indices"in t&&Array.isArray(t.indices)&&t.indices.length>0&&t.indices.every(e=>typeof e=="number");case"MOVE":return"moves"in t&&Array.isArray(t.moves)&&t.moves.length>0&&t.moves.every(e=>typeof e=="object"&&e!==null&&"from"in e&&"to"in e&&typeof e.from=="number"&&typeof e.to=="number");default:return!1}},Npe=(t,e=_K(t),n,r)=>({type:FP,data:t,schema:e,uischema:typeof n=="object"?n:NK(e),options:r}),Mpe=(t,e,n,r)=>({type:BP,data:t,schema:e,uischema:n,options:r}),Ppe=(t,e)=>({type:UK,schemaPath:t,data:e}),Lpe=t=>({type:zK,schemaPath:t}),Fpe=t=>({type:jP,ajv:t}),po=(t,e,n)=>({type:UP,path:t,updater:e,context:n}),Bpe=t=>({type:zP,errors:t}),jpe=(t,e)=>({type:MK,tester:t,renderer:e}),Upe=(t,e)=>({type:LK,tester:t,cell:e}),zpe=(t,e)=>({type:FK,tester:t,cell:e}),qpe=(t,e)=>({type:PK,tester:t,renderer:e}),$pe=t=>({type:qP,config:t}),Gpe=t=>({type:HP,validationMode:t}),Hpe=(t,e)=>({type:BK,tester:t,uischema:e}),Vpe=t=>({type:jK,tester:t}),Wpe=t=>({type:VP,locale:t}),Ype=t=>({type:$P,schema:t}),Kpe=(t,e)=>({type:WP,translator:t,errorTranslator:e}),Xpe=(t,e,n)=>({type:YP,locale:t,translator:e,errorTranslator:n}),Zpe=t=>({type:GP,uischema:t});var op=Object.freeze({__proto__:null,INIT:FP,UPDATE_CORE:BP,SET_AJV:jP,UPDATE_DATA:UP,UPDATE_ERRORS:zP,VALIDATE:Dpe,ADD_RENDERER:MK,REMOVE_RENDERER:PK,ADD_CELL:LK,REMOVE_CELL:FK,SET_CONFIG:qP,ADD_UI_SCHEMA:BK,REMOVE_UI_SCHEMA:jK,SET_SCHEMA:$P,SET_UISCHEMA:GP,SET_VALIDATION_MODE:HP,SET_LOCALE:VP,SET_TRANSLATOR:WP,UPDATE_I18N:YP,ADD_DEFAULT_DATA:UK,REMOVE_DEFAULT_DATA:zK,isUpdateArrayContext:Ope,init:Npe,updateCore:Mpe,registerDefaultData:Ppe,unregisterDefaultData:Lpe,setAjv:Fpe,update:po,updateErrors:Bpe,registerRenderer:jpe,registerCell:Upe,unregisterCell:zpe,unregisterRenderer:qpe,setConfig:$pe,setValidationMode:Gpe,registerUISchema:Hpe,unregisterUISchema:Vpe,setLocale:Wpe,setSchema:Ype,setTranslator:Kpe,updateI18n:Xpe,setUISchema:Zpe});const Qpe={restrict:!1,trim:!1,showUnfocusedDescription:!1,hideRequiredAsterisk:!1},Wj=(t={})=>Pn({},Qpe,t),Yj=(t=Wj(),e)=>{switch(e.type){case qP:return Wj(e.config);default:return t}},Jpe={data:{},schema:{},uischema:void 0,errors:[],validator:void 0,ajv:void 0,validationMode:"ValidateAndShow",additionalErrors:[]},Kj=(t,e)=>e&&ehe(e.options)?e.options.validationMode:t.validationMode,ehe=t=>t?t.validationMode!==void 0:!1,the=t=>t?t.additionalErrors!==void 0:!1,Xj=(t,e)=>e&&the(e.options)?e.options.additionalErrors:t.additionalErrors,Zj=(t,e)=>{if(e){if(nhe(e.options))return e.options.ajv;if(e.options!==void 0&&Pfe(e.options.compile))return e.options}return t.ajv?t.ajv:Spe()},nhe=t=>t?t.ajv!==void 0:!1,QR=(t=Jpe,e)=>{switch(e.type){case FP:{const n=Zj(t,e),r=Kj(t,e),a=r==="NoValidation"?void 0:n.compile(e.schema),i=Vl(a,e.data),s=Xj(t,e);return{...t,data:e.data,schema:e.schema,uischema:e.uischema,additionalErrors:s,errors:i,validator:a,ajv:n,validationMode:r}}case BP:{const n=Zj(t,e),r=Kj(t,e);let a=t.validator,i=t.errors;t.schema!==e.schema||t.validationMode!==r||t.ajv!==n?(a=r==="NoValidation"?void 0:n.compile(e.schema),i=Vl(a,e.data)):t.data!==e.data&&(i=Vl(a,e.data));const s=Xj(t,e);return t.data!==e.data||t.schema!==e.schema||t.uischema!==e.uischema||t.ajv!==n||t.errors!==i||t.validator!==a||t.validationMode!==r||t.additionalErrors!==s?{...t,data:e.data,schema:e.schema,uischema:e.uischema,ajv:n,errors:bP(i,t.errors)?t.errors:i,validator:a,validationMode:r,additionalErrors:s}:t}case jP:{const n=e.ajv,r=t.validationMode==="NoValidation"?void 0:n.compile(t.schema),a=Vl(r,t.data);return{...t,validator:r,errors:a}}case $P:{const r=e.schema&&t.ajv&&t.validationMode!=="NoValidation"?t.ajv.compile(e.schema):t.validator,a=Vl(r,t.data);return{...t,validator:r,schema:e.schema,errors:a}}case GP:return{...t,uischema:e.uischema};case UP:{if(e.path===void 0||e.path===null)return t;if(e.path===""){const n=e.updater(Mg(t.data)),r=Vl(t.validator,n);return{...t,data:n,errors:r}}else{const n=sa(t.data,e.path),r=e.updater(Mg(n));let a;r!==void 0?a=Afe(e.path,r,t.data===void 0?{}:t.data):a=Nfe(e.path,t.data===void 0?{}:t.data);const i=Vl(t.validator,a);return{...t,data:a,errors:i}}}case zP:return{...t,errors:e.errors};case HP:{if(t.validationMode===e.validationMode)return t;if(e.validationMode==="NoValidation"){const n=Vl(void 0,t.data);return{...t,errors:n,validationMode:e.validationMode}}if(t.validationMode==="NoValidation"){const n=t.ajv.compile(t.schema),r=Vl(n,t.data);return{...t,validator:n,errors:r,validationMode:e.validationMode}}return{...t,validationMode:e.validationMode}}default:return t}};var Za;(function(t){t.addTooltip="addTooltip",t.addAriaLabel="addAriaLabel",t.removeTooltip="removeTooltip",t.upAriaLabel="upAriaLabel",t.downAriaLabel="downAriaLabel",t.noSelection="noSelection",t.removeAriaLabel="removeAriaLabel",t.noDataMessage="noDataMessage",t.deleteDialogTitle="deleteDialogTitle",t.deleteDialogMessage="deleteDialogMessage",t.deleteDialogAccept="deleteDialogAccept",t.deleteDialogDecline="deleteDialogDecline",t.up="up",t.down="down"})(Za||(Za={}));const rhe=[{key:Za.addTooltip,default:t=>t?`Add to ${t}`:"Add"},{key:Za.addAriaLabel,default:t=>t?`Add to ${t} button`:"Add button"},{key:Za.removeTooltip,default:()=>"Delete"},{key:Za.removeAriaLabel,default:()=>"Delete button"},{key:Za.upAriaLabel,default:()=>"Move item up"},{key:Za.up,default:()=>"Up"},{key:Za.down,default:()=>"Down"},{key:Za.downAriaLabel,default:()=>"Move item down"},{key:Za.noDataMessage,default:()=>"No data"},{key:Za.noSelection,default:()=>"No selection"},{key:Za.deleteDialogTitle,default:()=>"Confirm Deletion"},{key:Za.deleteDialogMessage,default:()=>"Are you sure you want to delete the selected entry?"},{key:Za.deleteDialogAccept,default:()=>"Yes"},{key:Za.deleteDialogDecline,default:()=>"No"}];var yp;(function(t){t.clearDialogTitle="clearDialogTitle",t.clearDialogMessage="clearDialogMessage",t.clearDialogAccept="clearDialogAccept",t.clearDialogDecline="clearDialogDecline"})(yp||(yp={}));yp.clearDialogTitle,yp.clearDialogMessage,yp.clearDialogAccept,yp.clearDialogDecline;const KP=(t,e)=>RK(e)?e.i18n:t?.i18n??void 0,ahe=t=>t?.split(".").filter(e=>!/^\d+$/.test(e)).join(".")||"root",Ms=(t,e,n)=>KP(t,e)??ahe(n),GS=(t,e,n,r)=>`${Ms(t,e,n)}.${r}`,ihe=(t,e)=>`${t}.${e}`,XP=(t,e)=>e,ZP=(t,e,n)=>{const r=GS(t.parentSchema,n,eM(t),`error.${t.keyword}`),a=e(r,void 0,{error:t});if(a!==void 0)return a;const i=e(`error.${t.keyword}`,void 0,{error:t});if(i!==void 0)return i;const s=e(t.message,void 0,{error:t});return s!==void 0?s:t.keyword==="required"&&t.message?.startsWith("must have required property")?e("is a required property","is a required property",{error:t}):t.message},QP=(t,e,n,r,a,i)=>{if(t.length>0&&n){const s=GS(r,a,i,"error.custom"),o=n(s,void 0,{schema:r,uischema:a,path:i,errors:t});if(o!==void 0)return o}return DK(t.map(s=>e(s,n,a)))},JP=(t,e)=>{if(t.label===!1||(t.label===void 0||t.label===null||t.label===!0)&&!RK(t))return;const n=typeof t.label=="string"?t.label:JSON.stringify(t.label),r=KP(void 0,t),a=typeof r=="string"?`${r}.label`:n;return e(a,n,{uischema:t})},she=(t,e,n,r)=>{const a={};return e.forEach(i=>{const s=ihe(n,i.key);a[i.key]=t(s,i.default(r))}),a},ohe=t=>t===void 0?XP:t.translate,lhe=t=>t===void 0?ZP:t.translateError,go=()=>t=>ohe(sa(t,"jsonforms.i18n")),eL=()=>t=>lhe(sa(t,"jsonforms.i18n")),vp={locale:"en",translate:XP,translateError:ZP},Qj=(t=vp,e)=>{switch(e.type){case YP:{const n=e.locale??vp.locale,r=e.translator??vp.translate,a=e.errorTranslator??vp.translateError;return n!==t.locale||r!==t.translate||a!==t.translateError?{...t,locale:n,translate:r,translateError:a}:t}case WP:return{...t,translate:e.translator??XP,translateError:e.errorTranslator??ZP};case VP:return{...t,locale:e.locale??navigator.languages[0]};default:return t}},HS=-1,Pg=t=>!Xt(t)&&t.scope!==void 0,hr=t=>(e,n,r)=>{if(Xt(e)||!Pg(e)||Xt(n))return!1;const a=e.scope;if(Xt(a))return!1;let i=n;return wa(n,"object")&&(i=Bi(n,a,r?.rootSchema)),i===void 0?!1:t(i,r?.rootSchema)},tL=(t,e)=>(n,r,a)=>{if(Xt(n)||!Pg(n))return!1;const i=n.scope;let s=r;return wa(r,"object")&&(s=Bi(r,i,a?.rootSchema)),s=sa(s,t),s===void 0?!1:e(s,a?.rootSchema)},Jc=t=>hr(e=>!Xt(e)&&wa(e,t)),nL=t=>hr(e=>!Xt(e)&&e.format===t&&wa(e,"string")),zn=t=>e=>!Xt(e)&&e.type===t,Eo=(t,e)=>n=>{if(Xt(n))return!1;const r=n.options;return!Xt(r)&&r[t]===e},On=(...t)=>(e,n,r)=>t.reduce((a,i)=>a&&i(e,n,r),!0),Jp=(...t)=>(e,n,r)=>t.reduce((a,i)=>a||i(e,n,r),!1),$t=(t,e)=>(n,r,a)=>e(n,r,a)?t:HS,che=(t,e)=>(n,r,a)=>{const i=e(n,r,a);return i===HS?HS:i+t},L1=On(zn("Control"),Jc("boolean")),uhe=On(zn("Control"),Jc("object")),dhe=On(zn("Control"),hr(t=>Object.prototype.hasOwnProperty.call(t,"allOf"))),fhe=On(zn("Control"),hr(t=>Object.prototype.hasOwnProperty.call(t,"anyOf"))),phe=On(zn("Control"),hr(t=>Object.prototype.hasOwnProperty.call(t,"oneOf"))),rL=On(zn("Control"),hr(t=>kK(t))),aL=On(zn("Control"),hr(t=>Zg(t))),qK=On(zn("Control"),Jc("integer")),$K=On(zn("Control"),Jc("number")),GK=On(zn("Control"),Jc("string"));On(zn("Control"),Eo("multi",!0));const iL=On(zn("Control"),Jp(nL("date"),Eo("format","date"))),sL=On(zn("Control"),Jp(nL("time"),Eo("format","time"))),hhe=On(zn("Control"),Jp(nL("date-time"),Eo("format","date-time"))),HK=On(hr((t,e)=>wa(t,"array")&&!Array.isArray(Bi(t,"items",e))),tL("items",(t,e)=>{const n=t.$ref?Bi(e,t.$ref,e):t;return wa(n,"object")})),mhe=On(zn("Control"),HK),_g=(t,e,n)=>{if(MY(t))return qj(t,(r,a)=>r||_g(a,e,n),!1);if(e(t))return!0;if(t.$ref){const r=Bi(n,t.$ref,n);if(r&&!r.$ref)return _g(r,e,n)}return t.items?_g(t.items,e,n):t.properties?qj(Qfe(t.properties),(r,[a,i])=>r||_g(i,e,n),!1):!1},ghe=(t,e,n)=>{if(!zn("Control")(t,e,n))return!1;const r=t.scope,a=Bi(e,r,n?.rootSchema??e);let i=0;if(a!==void 0&&a.items!==void 0){if(_g(a.items,s=>s===e||s.$ref!==void 0?!1:!!(s.anyOf||s.allOf||s.oneOf&&!Zg(s)||wa(s,"object")&&(i++,i===2)||wa(s,"array")),n?.rootSchema))return!0;if(t.options&&t.options.detail){if(typeof t.options.detail=="string")return t.options.detail.toUpperCase()!=="DEFAULT";if(typeof t.options.detail=="object"&&t.options.detail.type)return!0}}return!1},bhe=On(zn("Control"),hr((t,e)=>md(t).length!==0&&!Array.isArray(Bi(t,"items",e))),tL("items",(t,e)=>{const n=t.$ref?Bi(e,t.$ref,e):t,r=md(n);return r.length===1&&LY(["integer","number","boolean","string"],r[0])})),yhe=On(zn("Control"),Jp(Jc("number"),Jc("integer")),hr(t=>Object.prototype.hasOwnProperty.call(t,"maximum")&&Object.prototype.hasOwnProperty.call(t,"minimum")&&Object.prototype.hasOwnProperty.call(t,"default")),Eo("slider",!0)),vhe=On(zn("Control"),Jc("integer"),Eo("format",!0)),She=t=>t.type==="Categorization",Ehe=t=>t.type==="Category",VK=t=>Xt(t.elements)?!1:t.elements.map(e=>She(e)?VK(e):Ehe(e)).reduce((e,n)=>e&&n,!0),_he=t=>VK(t),WK=t=>(e,n,r)=>{const a=OP(t,i=>i.tester(e,n,r));if(a!==void 0&&a.tester(e,n,r)!==HS)return a.uischema},F1=(t,e,n,r,a="VerticalLayout",i,s)=>{if(i&&i.options&&i.options.detail){if(typeof i.options.detail=="string"){if(i.options.detail.toUpperCase()==="GENERATE")return typeof a=="function"?a():Ed.uiSchema(e,a,void 0,s)}else if(typeof i.options.detail=="object"&&i.options.detail.type&&typeof i.options.detail.type=="string")return i.options.detail}const o=WK(t)(e,n,r);return o===void 0?typeof a=="function"?a():Ed.uiSchema(e,a,"#",s):o},Jj=(t,e,n)=>n(t,e),YK=(t,e,n)=>r=>{const a=r.errors??[],i=r.additionalErrors??[];return Tpe(t,e,n)(r.validationMode==="ValidateAndHide"?i:[...a,...i])},KK=(t,e)=>YK(t,e,n=>n===t),xhe=(t,e)=>YK(t,e,n=>n.startsWith(t+".")),XK=(t,e)=>n=>KK(t,e)(n.jsonforms.core),whe=(t,e)=>n=>xhe(t,e)(n.jsonforms.core),Ob=t=>Rhe(sa(t,"jsonforms.core")),Qg=t=>Ahe(sa(t,"jsonforms.core")),The=t=>Ihe(sa(t,"jsonforms.core")),eh=t=>khe(sa(t,"jsonforms.core")),ZK=t=>sa(t,"jsonforms.renderers"),QK=t=>sa(t,"jsonforms.cells"),Che=t=>sa(t,"jsonforms.uischemas"),Rhe=t=>sa(t,"data"),Ahe=t=>sa(t,"schema"),Ihe=t=>sa(t,"uischema"),khe=t=>sa(t,"ajv"),_d=t=>t.jsonforms.config,oL=(t,e,n,r,a,i)=>t?.jsonforms?.readonly?!1:n&&mpe(n)?gpe(n,a,e?.path,eh(t)):typeof n?.options?.readonly=="boolean"?!n.options.readonly:typeof n?.options?.readOnly=="boolean"?!n.options.readOnly:typeof i?.readonly=="boolean"?!i.readonly:typeof i?.readOnly=="boolean"?!i.readOnly:r?.readOnly===!0?!1:typeof e?.enabled=="boolean"?e.enabled:!0,JK=(t,e,n)=>{const r=e+n;if(r<0||r>=t.length)return;const a=[e,r].sort((i,s)=>i-s);t.splice(a[0],2,t[a[1]],t[a[0]])},eX=(t,e)=>{JK(t,e,-1)},tX=(t,e)=>{JK(t,e,1)},Dhe=(t,e,n)=>{const r=e.split("/"),a=Db(r[r.length-1]),s=r.slice(0,r.length-2).join("/"),o=ji.schema(t,s,n);return o!==void 0&&o.required!==void 0&&o.required.indexOf(a)!==-1},nX=(t,e,n)=>`${t??""}${e&&!n?"*":""}`,Nb=(t,e)=>t&&!e,Jl=(t,e)=>{const n=rX(t,e);return n===void 0?{}:n},rX=(t,e)=>{const n=typeof t.$ref=="string"?ji.schema(e,t.$ref,e):t;if(n.default!==void 0)return eU(n,e);if(wa(n,"string"))return n.format==="date-time"||n.format==="date"||n.format==="time"?ype(new Date,n.format):"";if(wa(n,"integer")||wa(n,"number"))return 0;if(wa(n,"boolean"))return!1;if(wa(n,"array"))return[];if(wa(n,"object"))return eU(n,e);if(wa(n,"null"))return null;const r=["oneOf","anyOf","allOf"];for(const a of r)if(t[a]&&Array.isArray(t[a])){const i=Ohe(t[a],e);if(i!==void 0)return i}},Ohe=(t,e)=>{if(t.length>0)for(const n of t){const r=rX(n,e);if(r!==void 0)return r}},eU=(t,e)=>{if(wa(t,"object")&&t.default===void 0){const n={};for(const r in t.properties){const a=t.properties[r],i=a.$ref?ji.schema(e,a.$ref,e):a;i&&i.default!==void 0&&(n[r]=Mg(i.default))}return t.allOf&&Array.isArray(t.allOf)&&t.allOf.forEach(r=>{if(r&&r.properties)for(const a in r.properties){const i=r.properties[a],s=i.$ref?ji.schema(e,i.$ref,e):i;s&&s.default!==void 0&&(n[a]=Mg(s.default))}}),n}return Mg(t.default)},ls=(t,e,n,r)=>e===void 0||e!==void 0&&!t||!r&&!n,Np=(t,e,n)=>{let r=typeof t=="string"?t:JSON.stringify(t);return e&&(n?r=e(`${n}.${r}`,r):r=e(r,r)),{label:r,value:t}},B1=(t,e,n)=>{let r=t.title??(typeof t.const=="string"?t.const:JSON.stringify(t.const));return e&&(t.i18n?r=e(t.i18n,r):n?r=e(`${n}.${r}`,r):r=e(r,r)),{label:r,value:t.const}},th=(t,e)=>{const{uischema:n}=e,r=Ob(t),a=CK(n,e.path),i=e.visible===void 0||PP(n)?Qp(n,r,e.path,eh(t)):e.visible,s=n,o=e.id,l=Qg(t),d=s.scope!==void 0&&Dhe(e.schema,s.scope,l),f=ji.schema(e.schema||l,s.scope,l),h=XK(a,f)(t),m=f!==void 0?f.description:"",b=ji.data(r,a),g=npe(n,f),w=g.show?g.text:"",S=_d(t),T=oL(t,e,n,f||l,r,S),x=f??l,_=go()(t),C=eL()(t),R=Ms(x,n,a),A=_(GS(x,n,a,"label"),w,{schema:x,uischema:n,path:a,errors:h}),I=_(GS(x,n,a,"description"),m,{schema:x,uischema:n,path:a,errors:h}),O=QP(h,C,_,x,n,a);return{data:b,description:I,errors:O,label:A,visible:i,enabled:T,id:o,path:a,required:d,uischema:n,schema:x,config:_d(t),cells:e.cells||t.jsonforms.cells,rootSchema:l,i18nKeyPrefix:R}},Nhe=t=>({handleChange(e,n){t(po(e,()=>n))}}),Mhe=(t,e)=>{const n=th(t,e),r=e.options||n.schema.enum?.map(a=>Np(a,go()(t),Ms(n.schema,n.uischema,n.path)))||n.schema.const&&[Np(n.schema.const,go()(t),Ms(n.schema,n.uischema,n.path))];return{...n,options:r}},Phe=(t,e)=>{const n=th(t,e),r=e.options||n.schema.oneOf?.map(a=>B1(a,go()(t),Ms(n.schema,n.uischema,n.path)));return{...n,options:r}},Lhe=(t,e)=>{const n=th(t,e);let r=n.schema.items;r=r&&r.$ref?Bi(n.rootSchema,r.$ref,n.rootSchema):r;const a=e.options||r?.oneOf&&r.oneOf.map(i=>B1(i,t.jsonforms.i18n?.translate,Ms(n.schema,n.uischema,n.path)))||r?.enum?.map(i=>Np(i,t.jsonforms.i18n?.translate,Ms(n.schema,n.uischema,n.path)));return{...n,options:a}},Fhe=(t,e)=>{const{schema:n,path:r,uischema:a,childLabelProp:i,index:s}=e,o=Zp(r,`${s}`),l=sX(Ob(t),o,i,n,Qg(t),t.jsonforms.i18n.translate,a);return{...e,childLabel:l}},aX=(t,e)=>{const{...n}=th(t,e);return{...n,uischemas:t.jsonforms.uischemas}},Bhe=t=>({addItem:(e,n)=>()=>{t(po(e,r=>r==null?[n]:(r.push(n),r),{type:"ADD",values:[n]}))},removeItems:(e,n)=>()=>{t(po(e,r=>(n.sort((a,i)=>a-i).reverse().forEach(a=>r.splice(a,1)),r),{type:"REMOVE",indices:n}))},moveUp:(e,n)=>()=>{t(po(e,r=>(eX(r,n),r),{type:"MOVE",moves:[{from:n,to:n-1}]}))},moveDown:(e,n)=>()=>{t(po(e,r=>(tX(r,n),r),{type:"MOVE",moves:[{from:n,to:n+1}]}))}}),jhe=t=>({addItem:(e,n)=>{t(po(e,r=>r==null?[n]:(r.push(n),r)))},removeItem:(e,n)=>{t(po(e,r=>{const a=r.indexOf(n);return r.splice(a,1),r}))}}),iX={visible:!0,enabled:!0,path:"",direction:"column"},Uhe=t=>t.type==="HorizontalLayout"?"row":t.type==="VerticalLayout"?"column":iX.direction,zhe=(t,e)=>{const n=Ob(t),{uischema:r}=e,a=e.visible===void 0||PP(r)?Qp(e.uischema,n,e.path,eh(t)):e.visible,i=ji.data(n,e.path),s=_d(t),o=oL(t,e,r,void 0,n,s),l=go()(t),d=spe(r)?JP(r,l):void 0;return{...iX,renderers:e.renderers||ZK(t),cells:e.cells||QK(t),visible:a,enabled:o,path:e.path,data:i,uischema:e.uischema,schema:e.schema,direction:e.direction??Uhe(r),config:s,label:d}},qhe=(t,e)=>({renderers:e.renderers||sa(t.jsonforms,"renderers"),cells:e.cells||sa(t.jsonforms,"cells"),schema:e.schema||Qg(t),rootSchema:Qg(t),uischema:e.uischema||The(t),path:e.path,enabled:e.enabled,config:_d(t)}),lL=(t,e,n)=>{const{data:r,schema:a,rootSchema:i,i18nKeyPrefix:s,label:o,...l}=th(t,e),d=t.jsonforms.core.ajv,f=["required","additionalProperties","type","enum","const"],h=b=>!b||b.length===0||!b.find(g=>f.indexOf(g.keyword)!==-1);let m;for(let b=0;b<a[n]?.length;b++)try{let g=a[n][b];g.$ref&&(g=ji.schema(i,g.$ref,i));const w=d.compile(g);if(w(r),h(w.errors)){m=b;break}}catch{console.debug("Combinator subschema is not self contained, can't hand it over to AJV")}return{data:r,schema:a,rootSchema:i,...l,i18nKeyPrefix:s,label:o,indexOfFittingSchema:m,uischemas:Che(t)}},$he=(t,e)=>lL(t,e,"allOf"),Ghe=(t,e)=>lL(t,e,"anyOf"),Hhe=(t,e)=>lL(t,e,"oneOf"),Vhe=(t,e)=>{const{path:n,schema:r,uischema:a,errors:i,label:s,...o}=aX(t,e),l=ji.schema(r,"items",o.rootSchema),d=go()(t),f=QP(whe(n,l)(t),eL()(t),d,void 0,void 0,void 0),h=i+(i.length>0&&f.length>0?`
`:"")+f;return{...o,label:s,path:n,uischema:a,schema:l,arraySchema:r,data:o.data?o.data.length:0,errors:h,minItems:r.minItems}},Whe=(t,e)=>{const{uischema:n}=e,r=e.visible===void 0||PP(n)?Qp(e.uischema,Ob(t),e.path,eh(t)):e.visible,a=n.text,i=go()(t),s=KP(void 0,n),o=s?`${s}.text`:a??"";return{text:i(o,a,{uischema:n}),visible:r,config:_d(t),renderers:e.renderers||ZK(t),cells:e.cells||QK(t),uischema:n}},sX=(t,e,n,r,a,i,s)=>{const o=ji.data(t,e);if(n||(n=bpe(r)),!n)return"";const l=sa(o,n);if(l===void 0)return"";const d=ji.schema(r,"#"+TK(n),a);let f;if(kK(d))f=Np(l,i,Ms(d,QN(s,n),e+"."+n));else if(Zg(d)){const m=d.oneOf.find(b=>bP(b.const,l));m&&(f=B1(m,i,Ms(m,void 0,e+"."+n)))}return f?f.label:l},j1=(t,e)=>{const{id:n,schema:r,path:a,uischema:i,renderers:s,cells:o}=e,l=Ob(t),d=e.visible!==void 0?e.visible:Qp(i,l,void 0,eh(t)),f=Qg(t),h=_d(t);let m;t.jsonforms.readonly===!0?m=!1:typeof e.enabled=="boolean"?m=e.enabled:m=oL(t,e,i,r||f,l,h);const b=go()(t),g=eL()(t),w=QP(XK(a,r)(t),g,b,r,i,a),S=Xt(w);return{data:ji.data(l,a),visible:d,enabled:m,id:n,path:a,errors:w,isValid:S,schema:r,uischema:i,config:_d(t),rootSchema:f,renderers:s,cells:o}},Yhe=(t,e)=>{const n=j1(t,e),{renderers:r,cells:a,...i}=e;return{...n,...i,cells:a||t.jsonforms.cells||[]}},Khe=(t,e)=>{const n=j1(t,e),r=e.options||n.schema.enum?.map(a=>Np(a,go()(t),Ms(n.schema,n.uischema,n.path)))||n.schema.const&&[Np(n.schema.const,go()(t),Ms(n.schema,n.uischema,n.path))];return{...n,options:r}},Xhe=(t,e)=>{const n=j1(t,e),r=e.options||n.schema.oneOf?.map(a=>B1(a,go()(t),Ms(n.schema,n.uischema,n.path)));return{...n,options:r}},cL=(t,e,n,r,a,i)=>t.map((s,o)=>{const l=s.$ref&&ji.schema(e,s.$ref,e),d=l??s;return{schema:d,uischema:F1(i,d,r.scope,a,void 0,r,e),label:s.title??l?.title??`${n}-${o}`}});var JR,tU;function Zhe(){if(tU)return JR;tU=1;var t=Si(),e=function(){return t.Date.now()};return JR=e,JR}var eA,nU;function Qhe(){if(nU)return eA;nU=1;var t=ds(),e=Zhe(),n=mY(),r="Expected a function",a=Math.max,i=Math.min;function s(o,l,d){var f,h,m,b,g,w,S=0,T=!1,x=!1,_=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(d)&&(T=!!d.leading,x="maxWait"in d,m=x?a(n(d.maxWait)||0,l):m,_="trailing"in d?!!d.trailing:_);function C(j){var H=f,$=h;return f=h=void 0,S=j,b=o.apply($,H),b}function R(j){return S=j,g=setTimeout(O,l),T?C(j):b}function A(j){var H=j-w,$=j-S,q=l-H;return x?i(q,m-$):q}function I(j){var H=j-w,$=j-S;return w===void 0||H>=l||H<0||x&&$>=m}function O(){var j=e();if(I(j))return M(j);g=setTimeout(O,A(j))}function M(j){return g=void 0,_&&f?C(j):(f=h=void 0,b)}function U(){g!==void 0&&clearTimeout(g),S=0,f=w=h=g=void 0}function L(){return g===void 0?b:M(e())}function z(){var j=e(),H=I(j);if(f=arguments,h=this,w=j,H){if(g===void 0)return R(w);if(x)return clearTimeout(g),g=setTimeout(O,l),C(w)}return g===void 0&&(g=setTimeout(O,l)),b}return z.cancel=U,z.flush=L,z}return eA=s,eA}var Jhe=Qhe();const oX=Tn(Jhe);class eme extends Q.Component{constructor(e){super(e)}}class tme extends eme{constructor(e){super(e),this.handleChange=n=>{this.setState({value:n}),this.updateData(n)},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.updateData=n=>{this.props.handleChange(this.props.path,n)},this.state={value:e.data?e.data:"",isFocused:!1}}}class lX extends N.Component{render(){return Q.createElement("div",{style:{color:"red"}},"No applicable ",this.props.type," found.")}}const nme={data:{},schema:{},uischema:void 0,errors:[],additionalErrors:[],validator:void 0,ajv:void 0},cX=Q.createContext({core:nme,renderers:[]}),rme=(t,e)=>{const n=N.useRef(!0);N.useEffect(()=>{if(n.current){n.current=!1;return}t()},e)},ame=({children:t,initState:e,onChange:n,middleware:r})=>{const{data:a,schema:i,uischema:s,ajv:o,validationMode:l,additionalErrors:d}=e.core,f=N.useRef(r??Jj);f.current=r??Jj;const[h,m]=N.useState(()=>f.current(e.core,op.init(a,i,s,{ajv:o,validationMode:l,additionalErrors:d}),QR));N.useEffect(()=>m(R=>f.current(R,op.updateCore(a,i,s,{ajv:o,validationMode:l,additionalErrors:d}),QR)),[a,i,s,o,l,d]);const[b,g]=N.useReducer(Yj,void 0,()=>Yj(void 0,op.setConfig(e.config)));rme(()=>{g(op.setConfig(e.config))},[e.config]);const[w,S]=N.useReducer(Qj,void 0,()=>Qj(e.i18n,op.updateI18n(e.i18n?.locale,e.i18n?.translate,e.i18n?.translateError)));N.useEffect(()=>{S(op.updateI18n(e.i18n?.locale,e.i18n?.translate,e.i18n?.translateError))},[e.i18n?.locale,e.i18n?.translate,e.i18n?.translateError]);const T=N.useCallback(R=>{m(A=>f.current(A,R,QR))},[]),x=N.useMemo(()=>({core:h,renderers:e.renderers,cells:e.cells,config:b,uischemas:e.uischemas,readonly:e.readonly,i18n:w,dispatch:T}),[h,e.renderers,e.cells,b,e.uischemas,e.readonly,w]),_=N.useRef(n);N.useEffect(()=>{_.current=n},[n]);const C=N.useCallback(oX((...R)=>_.current?.(...R),10),[]);return N.useEffect(()=>{C({data:h.data,errors:h.errors})},[h.data,h.errors]),Q.createElement(cX.Provider,{value:x},t)},U1=()=>N.useContext(cX),ime=(t,e)=>Vhe({jsonforms:{...t}},e),sme=(t,e)=>zhe({jsonforms:{...t}},e),ome=(t,e)=>th({jsonforms:{...t}},e),lme=(t,e)=>{const n=Mhe({jsonforms:{...t}},e),r=N.useMemo(()=>n.options,[e.options,n.schema,t.i18n?.translate]);return{...n,options:r}},cme=(t,e)=>{const n=Phe({jsonforms:{...t}},e),r=N.useMemo(()=>n.options,[e.options,n.schema,t.i18n?.translate]);return{...n,options:r}},ume=(t,e)=>{const n=Lhe({jsonforms:{...t}},e),r=N.useMemo(()=>n.options,[n.schema,t.i18n?.translate]);return{...n,options:r}},dme=(t,e)=>aX({jsonforms:{...t}},e),fme=(t,e)=>({...$he({jsonforms:{...t}},e)}),zi=t=>N.useMemo(()=>Nhe(t),[t]),pme=(t,e)=>{const n=Ghe({jsonforms:{...t}},e),r=zi(t.dispatch);return{...n,...r}},hme=(t,e)=>{const n=Hhe({jsonforms:{...t}},e),r=zi(t.dispatch);return{...n,...r}},mme=(t,e)=>qhe({jsonforms:{...t}},e),gme=t=>({...zi(t),...N.useMemo(()=>Bhe(t),[t])}),bme=(t,e)=>Fhe({jsonforms:{...t}},e),yme=(t,e)=>j1({jsonforms:{...t}},e),vme=(t,e)=>{const n=Khe({jsonforms:{...t}},e),r=N.useMemo(()=>n.options,[e.options,n.schema,t.i18n?.translate]);return{...n,options:r}},Sme=(t,e)=>{const n=Xhe({jsonforms:{...t}},e),r=N.useMemo(()=>n.options,[e.options,n.schema,t.i18n?.translate]);return{...n,options:r}},Eme=(t,e)=>Yhe({jsonforms:{...t}},e),_me=t=>({...zi(t),...N.useMemo(()=>jhe(t),[t])}),xme=(t,e)=>Whe({jsonforms:{...t}},e),ma=t=>function(n){const r=U1();return Q.createElement(t,{ctx:r,props:n})},wme=t=>function({ctx:n,props:r}){const a=mme(n,r);return Q.createElement(t,{...r,...a})},Tme=t=>function({ctx:n,props:r}){const a=ome(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...a,...i})},Cme=t=>function({ctx:n,props:r}){const a=sme(n,r);return Q.createElement(t,{...r,...a})},Rme=t=>function({ctx:n,props:r}){const a=hme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...a,...i})},Ame=t=>function({ctx:n,props:r}){const a=pme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...a,...i})},Ime=t=>function({ctx:n,props:r}){const a=fme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...a,...i})},kme=t=>function({ctx:n,props:r}){const a=dme(n,r);return Q.createElement(t,{...r,...a})},Dme=t=>function({ctx:n,props:r}){const a=ime(n,r),i=gme(n.dispatch);return Q.createElement(t,{...r,...a,...i})},Ome=t=>function({ctx:n,props:r}){const a=bme(n,r);return Q.createElement(t,{...r,...a})},Nme=t=>function({ctx:n,props:r}){const a=yme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...i,...a})},Mme=t=>function({ctx:n,props:r}){const a=Eme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...i,...a})},Pme=t=>function({ctx:n,props:r}){const a=vme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...i,...a})},Lme=t=>function({ctx:n,props:r}){const a=lme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...i,...a})},Fme=t=>function({ctx:n,props:r}){const a=Sme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...i,...a})},Bme=t=>function({ctx:n,props:r}){const a=cme(n,r),i=zi(n.dispatch);return Q.createElement(t,{...r,...i,...a})},jme=t=>function({ctx:n,props:r}){const a=ume(n,r),i=_me(n.dispatch);return Q.createElement(t,{...r,...i,...a})},Ume=t=>function({ctx:n,props:r}){const a=xme(n,r);return Q.createElement(t,{...r,...a})},uX=(t,e=!0)=>ma(wme(e?Q.memo(t):t)),Nr=(t,e=!0)=>ma(Tme(e?Q.memo(t):t)),Mb=(t,e=!0)=>ma(Cme(e?Q.memo(t):t)),zme=(t,e=!0)=>ma(Rme(e?Q.memo(t):t)),qme=(t,e=!0)=>ma(Ame(e?Q.memo(t):t)),$me=(t,e=!0)=>ma(Ime(e?Q.memo(t):t)),Gme=(t,e=!0)=>ma(kme(e?Q.memo(t):t)),uL=(t,e=!0)=>ma(Dme(e?Q.memo(t):t)),Hme=(t,e=!0)=>ma(Ome(e?Q.memo(t):t)),ou=(t,e=!0)=>ma(Nme(e?Q.memo(t):t)),Vme=(t,e=!0)=>ma(Mme(e?Q.memo(t):t)),Wme=(t,e=!0)=>ma(Pme(e?Q.memo(t):t)),dX=(t,e=!0)=>ma(Lme(e?Q.memo(t):t)),Yme=(t,e=!0)=>ma(Fme(e?Q.memo(t):t)),fX=(t,e=!0)=>ma(Bme(e?Q.memo(t):t)),Kme=(t,e=!0)=>ma(jme(e?Q.memo(t):t)),Xme=(t,e=!0)=>ma(Ume(e?Q.memo(t):t)),sc=t=>function(n){const r=U1(),a=r.i18n?.locale??vp.locale,i=r.i18n?.translate??vp.translate;return Q.createElement(t,{...n,locale:a,t:i})},dL=t=>function(n){const r=N.useMemo(()=>she(n.t,rhe,n.i18nKeyPrefix,n.label),[n.t,n.i18nKeyPrefix,n.label]);return Q.createElement(t,{...n,translations:r})};class pX extends Q.Component{constructor(e){super(e),this.state={id:Pg(e.uischema)?XN(e.uischema.scope):void 0}}componentWillUnmount(){Pg(this.props.uischema)&&ZN(this.state.id)}componentDidUpdate(e){e.schema!==this.props.schema&&(ZN(this.state.id),this.setState({id:Pg(this.props.uischema)?XN(this.props.uischema.scope):void 0}))}render(){const{schema:e,rootSchema:n,uischema:r,path:a,enabled:i,renderers:s,cells:o,config:l}=this.props;return Q.createElement(Zme,{uischema:r,schema:e,rootSchema:n,path:a,enabled:i,renderers:s,cells:o,id:this.state.id,config:l})}}const Zme=Q.memo(function(e){const n=N.useMemo(()=>({rootSchema:e.rootSchema,config:e.config}),[e.rootSchema,e.config]),r=N.useMemo(()=>OP(e.renderers,a=>a.tester(e.uischema,e.schema,n)),[e.renderers,e.uischema,e.schema,n]);if(r===void 0||r.tester(e.uischema,e.schema,n)===-1)return Q.createElement(lX,{type:"renderer"});{const a=r.renderer;return Q.createElement(a,{uischema:e.uischema,schema:e.schema,path:e.path,enabled:e.enabled,renderers:e.renderers,cells:e.cells,id:e.id})}});class Qme extends pX{constructor(e){super(e)}}const il=uX(pX);uX(Qme);const z1=t=>{const{ajv:e,data:n,schema:r,uischema:a,renderers:i,cells:s,onChange:o,config:l,uischemas:d,readonly:f,validationMode:h,i18n:m,additionalErrors:b,middleware:g}=t,w=N.useMemo(()=>r!==void 0?r:Ed.jsonSchema(n),[r,n]),S=N.useMemo(()=>typeof a=="object"?a:Ed.uiSchema(w,void 0,void 0,w),[a,w]);return Q.createElement(ame,{initState:{core:{ajv:e,data:n,schema:w,uischema:S,validationMode:h,additionalErrors:b},config:l,uischemas:d,renderers:i,cells:s,readonly:f,i18n:m},onChange:o,middleware:g},Q.createElement(il,null))},Jme=({uischema:t,schema:e,rootSchema:n,path:r,cells:a,id:i,enabled:s,renderers:o,config:l})=>{const d=N.useMemo(()=>({rootSchema:n,config:l}),[n,l]),f=N.useMemo(()=>OP(a,h=>h.tester(t,e,d)),[a,t,e,d]);if(f===void 0||f.tester(t,e,d)===-1)return Q.createElement(lX,{type:"cell"});{const h=f.cell;return Q.createElement(h,{uischema:t,schema:e,enabled:s,path:r,id:i,renderers:o,cells:a})}},rU=Vme(Jme);var tA,aU;function ege(){if(aU)return tA;aU=1;var t=EP();function e(n){return t(n)?void 0:n}return tA=e,tA}var nA,iU;function tge(){if(iU)return nA;iU=1;var t=Vp(),e=M1(),n=DP(),r=Rb(),a=Xp(),i=ege(),s=vK(),o=aK(),l=1,d=2,f=4,h=s(function(m,b){var g={};if(m==null)return g;var w=!1;b=t(b,function(T){return T=r(T,m),w||(w=T.length>1),T}),a(m,o(m),g),w&&(g=e(g,l|d|f,i));for(var S=b.length;S--;)n(g,b[S]);return g});return nA=h,nA}var nge=tge();const rge=Tn(nge);var rA,sU;function age(){if(sU)return rA;sU=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return rA=t,rA}var aA,oU;function ige(){if(oU)return aA;oU=1;var t=oY(),e=cK(),n=cP(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return aA=a,aA}var iA,lU;function sge(){if(lU)return iA;lU=1;var t=EY(),e=pK(),n=age(),r=_Y(),a=ige(),i=cP(),s=200;function o(l,d,f){var h=-1,m=e,b=l.length,g=!0,w=[],S=w;if(f)g=!1,m=n;else if(b>=s){var T=d?null:a(l);if(T)return i(T);g=!1,m=r,S=new t}else S=d?[]:w;e:for(;++h<b;){var x=l[h],_=d?d(x):x;if(x=f||x!==0?x:0,g&&_===_){for(var C=S.length;C--;)if(S[C]===_)continue e;d&&S.push(_),w.push(x)}else m(S,_,f)||(S!==w&&S.push(_),w.push(x))}return w}return iA=o,iA}var sA,cU;function oge(){if(cU)return sA;cU=1;var t=yK(),e=tK(),n=sge(),r=ZY(),a=e(function(i){return n(t(i,1,r,!0))});return sA=a,sA}var lge=oge();const cge=Tn(lge);var yS={exports:{}},uge=yS.exports,uU;function dge(){return uU||(uU=1,(function(t,e){(function(n,r){t.exports=r()})(uge,(function(){var n=1e3,r=6e4,a=36e5,i="millisecond",s="second",o="minute",l="hour",d="day",f="week",h="month",m="quarter",b="year",g="date",w="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},_=function(j,H,$){var q=String(j);return!q||q.length>=H?j:""+Array(H+1-q.length).join($)+j},C={s:_,z:function(j){var H=-j.utcOffset(),$=Math.abs(H),q=Math.floor($/60),K=$%60;return(H<=0?"+":"-")+_(q,2,"0")+":"+_(K,2,"0")},m:function j(H,$){if(H.date()<$.date())return-j($,H);var q=12*($.year()-H.year())+($.month()-H.month()),K=H.clone().add(q,h),V=$-K<0,re=H.clone().add(q+(V?-1:1),h);return+(-(q+($-K)/(V?K-re:re-K))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:h,y:b,w:f,d,D:g,h:l,m:o,s,ms:i,Q:m}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},R="en",A={};A[R]=x;var I=function(j){return j instanceof L},O=function(j,H,$){var q;if(!j)return R;if(typeof j=="string")A[j]&&(q=j),H&&(A[j]=H,q=j);else{var K=j.name;A[K]=j,q=K}return!$&&q&&(R=q),q||!$&&R},M=function(j,H){if(I(j))return j.clone();var $=typeof H=="object"?H:{};return $.date=j,$.args=arguments,new L($)},U=C;U.l=O,U.i=I,U.w=function(j,H){return M(j,{locale:H.$L,utc:H.$u,x:H.$x,$offset:H.$offset})};var L=(function(){function j($){this.$L=O($.locale,null,!0),this.parse($)}var H=j.prototype;return H.parse=function($){this.$d=(function(q){var K=q.date,V=q.utc;if(K===null)return new Date(NaN);if(U.u(K))return new Date;if(K instanceof Date)return new Date(K);if(typeof K=="string"&&!/Z$/i.test(K)){var re=K.match(S);if(re){var ee=re[2]-1||0,Y=(re[7]||"0").substring(0,3);return V?new Date(Date.UTC(re[1],ee,re[3]||1,re[4]||0,re[5]||0,re[6]||0,Y)):new Date(re[1],ee,re[3]||1,re[4]||0,re[5]||0,re[6]||0,Y)}}return new Date(K)})($),this.$x=$.x||{},this.init()},H.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},H.$utils=function(){return U},H.isValid=function(){return this.$d.toString()!==w},H.isSame=function($,q){var K=M($);return this.startOf(q)<=K&&K<=this.endOf(q)},H.isAfter=function($,q){return M($)<this.startOf(q)},H.isBefore=function($,q){return this.endOf(q)<M($)},H.$g=function($,q,K){return U.u($)?this[q]:this.set(K,$)},H.unix=function(){return Math.floor(this.valueOf()/1e3)},H.valueOf=function(){return this.$d.getTime()},H.startOf=function($,q){var K=this,V=!!U.u(q)||q,re=U.p($),ee=function(ge,fe){var Ae=U.w(K.$u?Date.UTC(K.$y,fe,ge):new Date(K.$y,fe,ge),K);return V?Ae:Ae.endOf(d)},Y=function(ge,fe){return U.w(K.toDate()[ge].apply(K.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(fe)),K)},ne=this.$W,te=this.$M,G=this.$D,W="set"+(this.$u?"UTC":"");switch(re){case b:return V?ee(1,0):ee(31,11);case h:return V?ee(1,te):ee(0,te+1);case f:var ue=this.$locale().weekStart||0,Ee=(ne<ue?ne+7:ne)-ue;return ee(V?G-Ee:G+(6-Ee),te);case d:case g:return Y(W+"Hours",0);case l:return Y(W+"Minutes",1);case o:return Y(W+"Seconds",2);case s:return Y(W+"Milliseconds",3);default:return this.clone()}},H.endOf=function($){return this.startOf($,!1)},H.$set=function($,q){var K,V=U.p($),re="set"+(this.$u?"UTC":""),ee=(K={},K[d]=re+"Date",K[g]=re+"Date",K[h]=re+"Month",K[b]=re+"FullYear",K[l]=re+"Hours",K[o]=re+"Minutes",K[s]=re+"Seconds",K[i]=re+"Milliseconds",K)[V],Y=V===d?this.$D+(q-this.$W):q;if(V===h||V===b){var ne=this.clone().set(g,1);ne.$d[ee](Y),ne.init(),this.$d=ne.set(g,Math.min(this.$D,ne.daysInMonth())).$d}else ee&&this.$d[ee](Y);return this.init(),this},H.set=function($,q){return this.clone().$set($,q)},H.get=function($){return this[U.p($)]()},H.add=function($,q){var K,V=this;$=Number($);var re=U.p(q),ee=function(te){var G=M(V);return U.w(G.date(G.date()+Math.round(te*$)),V)};if(re===h)return this.set(h,this.$M+$);if(re===b)return this.set(b,this.$y+$);if(re===d)return ee(1);if(re===f)return ee(7);var Y=(K={},K[o]=r,K[l]=a,K[s]=n,K)[re]||1,ne=this.$d.getTime()+$*Y;return U.w(ne,this)},H.subtract=function($,q){return this.add(-1*$,q)},H.format=function($){var q=this,K=this.$locale();if(!this.isValid())return K.invalidDate||w;var V=$||"YYYY-MM-DDTHH:mm:ssZ",re=U.z(this),ee=this.$H,Y=this.$m,ne=this.$M,te=K.weekdays,G=K.months,W=function(fe,Ae,oe,de){return fe&&(fe[Ae]||fe(q,V))||oe[Ae].substr(0,de)},ue=function(fe){return U.s(ee%12||12,fe,"0")},Ee=K.meridiem||function(fe,Ae,oe){var de=fe<12?"AM":"PM";return oe?de.toLowerCase():de},ge={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ne+1,MM:U.s(ne+1,2,"0"),MMM:W(K.monthsShort,ne,G,3),MMMM:W(G,ne),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:W(K.weekdaysMin,this.$W,te,2),ddd:W(K.weekdaysShort,this.$W,te,3),dddd:te[this.$W],H:String(ee),HH:U.s(ee,2,"0"),h:ue(1),hh:ue(2),a:Ee(ee,Y,!0),A:Ee(ee,Y,!1),m:String(Y),mm:U.s(Y,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:re};return V.replace(T,(function(fe,Ae){return Ae||ge[fe]||re.replace(":","")}))},H.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},H.diff=function($,q,K){var V,re=U.p(q),ee=M($),Y=(ee.utcOffset()-this.utcOffset())*r,ne=this-ee,te=U.m(this,ee);return te=(V={},V[b]=te/12,V[h]=te,V[m]=te/3,V[f]=(ne-Y)/6048e5,V[d]=(ne-Y)/864e5,V[l]=ne/a,V[o]=ne/r,V[s]=ne/n,V)[re]||ne,K?te:U.a(te)},H.daysInMonth=function(){return this.endOf(h).$D},H.$locale=function(){return A[this.$L]},H.locale=function($,q){if(!$)return this.$L;var K=this.clone(),V=O($,q,!0);return V&&(K.$L=V),K},H.clone=function(){return U.w(this.$d,this)},H.toDate=function(){return new Date(this.valueOf())},H.toJSON=function(){return this.isValid()?this.toISOString():null},H.toISOString=function(){return this.$d.toISOString()},H.toString=function(){return this.$d.toUTCString()},j})(),z=L.prototype;return M.prototype=z,[["$ms",i],["$s",s],["$m",o],["$H",l],["$W",d],["$M",h],["$y",b],["$D",g]].forEach((function(j){z[j[1]]=function(H){return this.$g(H,j[0],j[1])}})),M.extend=function(j,H){return j.$i||(j(H,L,M),j.$i=!0),M},M.locale=O,M.isDayjs=I,M.unix=function(j){return M(1e3*j)},M.en=A[R],M.Ls=A,M.p={},M}))})(yS)),yS.exports}var fge=dge();const jr=Tn(fge);var vS={exports:{}},pge=vS.exports,dU;function hge(){return dU||(dU=1,(function(t,e){(function(n,r){t.exports=r()})(pge,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,i=/\d\d?/,s=/\d*[^\s\d-_:/()]+/,o={},l=function(w){return(w=+w)+(w>68?1900:2e3)},d=function(w){return function(S){this[w]=+S}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(w){(this.zone||(this.zone={})).offset=(function(S){if(!S||S==="Z")return 0;var T=S.match(/([+-]|\d\d)/g),x=60*T[1]+(+T[2]||0);return x===0?0:T[0]==="+"?-x:x})(w)}],h=function(w){var S=o[w];return S&&(S.indexOf?S:S.s.concat(S.f))},m=function(w,S){var T,x=o.meridiem;if(x){for(var _=1;_<=24;_+=1)if(w.indexOf(x(_,0,S))>-1){T=_>12;break}}else T=w===(S?"pm":"PM");return T},b={A:[s,function(w){this.afternoon=m(w,!1)}],a:[s,function(w){this.afternoon=m(w,!0)}],S:[/\d/,function(w){this.milliseconds=100*+w}],SS:[a,function(w){this.milliseconds=10*+w}],SSS:[/\d{3}/,function(w){this.milliseconds=+w}],s:[i,d("seconds")],ss:[i,d("seconds")],m:[i,d("minutes")],mm:[i,d("minutes")],H:[i,d("hours")],h:[i,d("hours")],HH:[i,d("hours")],hh:[i,d("hours")],D:[i,d("day")],DD:[a,d("day")],Do:[s,function(w){var S=o.ordinal,T=w.match(/\d+/);if(this.day=T[0],S)for(var x=1;x<=31;x+=1)S(x).replace(/\[|\]/g,"")===w&&(this.day=x)}],M:[i,d("month")],MM:[a,d("month")],MMM:[s,function(w){var S=h("months"),T=(h("monthsShort")||S.map((function(x){return x.substr(0,3)}))).indexOf(w)+1;if(T<1)throw new Error;this.month=T%12||T}],MMMM:[s,function(w){var S=h("months").indexOf(w)+1;if(S<1)throw new Error;this.month=S%12||S}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(w){this.year=l(w)}],YYYY:[/\d{4}/,d("year")],Z:f,ZZ:f};function g(w){var S,T;S=w,T=o&&o.formats;for(var x=(w=S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(M,U,L){var z=L&&L.toUpperCase();return U||T[L]||n[L]||T[z].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(j,H,$){return H||$.slice(1)}))}))).match(r),_=x.length,C=0;C<_;C+=1){var R=x[C],A=b[R],I=A&&A[0],O=A&&A[1];x[C]=O?{regex:I,parser:O}:R.replace(/^\[|\]$/g,"")}return function(M){for(var U={},L=0,z=0;L<_;L+=1){var j=x[L];if(typeof j=="string")z+=j.length;else{var H=j.regex,$=j.parser,q=M.substr(z),K=H.exec(q)[0];$.call(U,K),M=M.replace(K,"")}}return(function(V){var re=V.afternoon;if(re!==void 0){var ee=V.hours;re?ee<12&&(V.hours+=12):ee===12&&(V.hours=0),delete V.afternoon}})(U),U}}return function(w,S,T){T.p.customParseFormat=!0,w&&w.parseTwoDigitYear&&(l=w.parseTwoDigitYear);var x=S.prototype,_=x.parse;x.parse=function(C){var R=C.date,A=C.utc,I=C.args;this.$u=A;var O=I[1];if(typeof O=="string"){var M=I[2]===!0,U=I[3]===!0,L=M||U,z=I[2];U&&(z=I[2]),o=this.$locale(),!M&&z&&(o=T.Ls[z]),this.$d=(function(q,K,V){try{if(["x","X"].indexOf(K)>-1)return new Date((K==="X"?1e3:1)*q);var re=g(K)(q),ee=re.year,Y=re.month,ne=re.day,te=re.hours,G=re.minutes,W=re.seconds,ue=re.milliseconds,Ee=re.zone,ge=new Date,fe=ne||(ee||Y?1:ge.getDate()),Ae=ee||ge.getFullYear(),oe=0;ee&&!Y||(oe=Y>0?Y-1:ge.getMonth());var de=te||0,se=G||0,Se=W||0,me=ue||0;return Ee?new Date(Date.UTC(Ae,oe,fe,de,se,Se,me+60*Ee.offset*1e3)):V?new Date(Date.UTC(Ae,oe,fe,de,se,Se,me)):new Date(Ae,oe,fe,de,se,Se,me)}catch{return new Date("")}})(R,O,A),this.init(),z&&z!==!0&&(this.$L=this.locale(z).$L),L&&R!=this.format(O)&&(this.$d=new Date("")),o={}}else if(O instanceof Array)for(var j=O.length,H=1;H<=j;H+=1){I[1]=O[H-1];var $=T.apply(this,I);if($.isValid()){this.$d=$.$d,this.$L=$.$L,this.init();break}H===j&&(this.$d=new Date(""))}else _.call(this,C)}}}))})(vS)),vS.exports}var mge=hge();const hX=Tn(mge);var oA,fU;function gge(){if(fU)return oA;fU=1;var t=gP(),e=ac();function n(r,a){var i=-1,s=e(r)?Array(r.length):[];return t(r,function(o,l,d){s[++i]=a(o,l,d)}),s}return oA=n,oA}var lA,pU;function bge(){if(pU)return lA;pU=1;var t=Vp(),e=iu(),n=gge(),r=Qr();function a(i,s){var o=r(i)?t:n;return o(i,e(s,3))}return lA=a,lA}var yge=bge();const mX=Tn(yge);function vge(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${t}; visit ${n} for the full message.`}const nh=X.oneOfType([X.func,X.object]);function Sge(t){if(typeof t!="string")throw new Error(vge(7));return t.charAt(0).toUpperCase()+t.slice(1)}function cA(t){return t&&t.ownerDocument||document}const sl=typeof window<"u"?N.useLayoutEffect:N.useEffect;let hU=0;function Ege(t){const[e,n]=N.useState(t),r=t||e;return N.useEffect(()=>{e==null&&(hU+=1,n(`mui-${hU}`))},[e]),r}const _ge={...Rte},mU=_ge.useId;function rh(t){if(mU!==void 0){const e=mU();return t??e}return Ege(t)}function xd(t){const{controlled:e,default:n,name:r,state:a="value"}=t,{current:i}=N.useRef(e!==void 0),[s,o]=N.useState(n),l=i?e:s,d=N.useCallback(f=>{i||o(f)},[]);return[l,d]}function St(t){const e=N.useRef(t);return sl(()=>{e.current=t}),N.useRef((...n)=>(0,e.current)(...n)).current}function bi(...t){const e=N.useRef(void 0),n=N.useCallback(r=>{const a=t.map(i=>{if(i==null)return null;if(typeof i=="function"){const s=i,o=s(r);return typeof o=="function"?o:()=>{s(null)}}return i.current=r,()=>{i.current=null}});return()=>{a.forEach(i=>i?.())}},t);return N.useMemo(()=>t.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=n(r))},t)}const xge={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Nn(t,e,n=void 0){const r={};for(const a in t){const i=t[a];let s="",o=!0;for(let l=0;l<i.length;l+=1){const d=i[l];d&&(s+=(o===!0?"":" ")+e(d),o=!1,n&&n[d]&&(s+=" "+n[d]))}r[a]=s}return r}const gU=t=>t,wge=()=>{let t=gU;return{configure(e){t=e},generate(e){return t(e)},reset(){t=gU}}},Tge=wge(),Cge={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ln(t,e,n="Mui"){const r=Cge[e];return r?`${n}-${r}`:`${Tge.generate(t)}-${e}`}function qn(t,e,n="Mui"){const r={};return e.forEach(a=>{r[a]=Ln(t,a,n)}),r}function Rge(t){return typeof t=="string"}function Age(t,e,n){return t===void 0||Rge(t)?e:{...e,ownerState:{...e.ownerState,...n}}}function Ige(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function bU(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function kge(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:a,className:i}=t;if(!e){const b=wn(n?.className,i,a?.className,r?.className),g={...n?.style,...a?.style,...r?.style},w={...n,...a,...r};return b.length>0&&(w.className=b),Object.keys(g).length>0&&(w.style=g),{props:w,internalRef:void 0}}const s=Ige({...a,...r}),o=bU(r),l=bU(a),d=e(s),f=wn(d?.className,n?.className,i,a?.className,r?.className),h={...d?.style,...n?.style,...a?.style,...r?.style},m={...d,...n,...l,...o};return f.length>0&&(m.className=f),Object.keys(h).length>0&&(m.style=h),{props:m,internalRef:d.ref}}function eu(t,e,n){return typeof t=="function"?t(e,n):t}function jn(t){const{elementType:e,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:a=!1,...i}=t,s=a?{}:eu(n,r),{props:o,internalRef:l}=kge({...i,externalSlotProps:s}),d=bi(l,s?.ref,t.additionalProps?.ref);return Age(e,{...o,ref:d},r)}const Dge=["localeText"],nM=N.createContext(null),q1=function(e){const{localeText:n}=e,r=Dt(e,Dge),{utils:a,localeText:i}=N.useContext(nM)??{utils:void 0,localeText:void 0},s=Wt({props:r,name:"MuiLocalizationProvider"}),{children:o,dateAdapter:l,dateFormats:d,dateLibInstance:f,adapterLocale:h,localeText:m}=s,b=N.useMemo(()=>he({},m,i,n),[m,i,n]),g=N.useMemo(()=>{if(!l)return a||null;const T=new l({locale:h,formats:d,instance:f});if(!T.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return T},[l,h,d,f,a]),w=N.useMemo(()=>g?{minDate:g.date("1900-01-01T00:00:00.000"),maxDate:g.date("2099-12-31T00:00:00.000")}:null,[g]),S=N.useMemo(()=>({utils:g,defaultDates:w,localeText:b}),[w,g,b]);return y.jsx(nM.Provider,{value:S,children:o})},Oge=t=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:he({},t)}}}}),ah=t=>{const{utils:e,formatKey:n,contextTranslation:r,propsTranslation:a}=t;return i=>{const s=i!==null&&e.isValid(i)?e.format(i,n):null;return(a??r)(i,e,s)}},gX={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:t=>t==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(t,e,n,r)=>`Select ${t}. ${!r&&(e===null||!n.isValid(e))?"No time selected":`Selected time is ${r??n.format(e,"fullTime")}`}`,hoursClockNumberText:t=>`${t} hours`,minutesClockNumberText:t=>`${t} minutes`,secondsClockNumberText:t=>`${t} seconds`,selectViewText:t=>`Select ${t}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:t=>`Week ${t}`,calendarWeekNumberText:t=>`${t}`,openDatePickerDialogue:(t,e,n)=>n||t!==null&&e.isValid(t)?`Choose date, selected date is ${n??e.format(t,"fullDate")}`:"Choose date",openTimePickerDialogue:(t,e,n)=>n||t!==null&&e.isValid(t)?`Choose time, selected time is ${n??e.format(t,"fullTime")}`:"Choose time",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:t=>"Y".repeat(t.digitAmount),fieldMonthPlaceholder:t=>t.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:t=>t.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Nge=gX;Oge(gX);const Dd=()=>{const t=N.useContext(nM);if(t===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(t.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=N.useMemo(()=>he({},Nge,t.localeText),[t.localeText]);return N.useMemo(()=>he({},t,{localeText:e}),[t,e])},un=()=>Dd().utils,Od=()=>Dd().defaultDates,Nd=t=>{const e=un(),n=N.useRef(void 0);return n.current===void 0&&(n.current=e.date(void 0,t)),n.current},Jr=()=>Dd().localeText,Mge=nu(y.jsx("path",{d:"M7 10l5 5 5-5z"})),Pge=nu(y.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),Lge=nu(y.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),bX=nu(y.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"})),Fge=nu(y.jsxs(N.Fragment,{children:[y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),Bge=nu(y.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})),jge=nu(y.jsxs(N.Fragment,{children:[y.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),y.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]})),Uge=nu(y.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function zge(t){return Ln("MuiPickersArrowSwitcher",t)}qn("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const qge=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],$ge=["ownerState"],Gge=["ownerState"],Hge=rt("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex"}),Vge=rt("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})(({theme:t})=>({width:t.spacing(3)})),yU=rt(Ct,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(t,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),Wge=t=>{const{classes:e}=t;return Nn({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},zge,e)},yX=N.forwardRef(function(e,n){const r=us(),a=Wt({props:e,name:"MuiPickersArrowSwitcher"}),{children:i,className:s,slots:o,slotProps:l,isNextDisabled:d,isNextHidden:f,onGoToNext:h,nextLabel:m,isPreviousDisabled:b,isPreviousHidden:g,onGoToPrevious:w,previousLabel:S,labelId:T}=a,x=Dt(a,qge),_=a,C=Wge(_),R={isDisabled:d,isHidden:f,goTo:h,label:m},A={isDisabled:b,isHidden:g,goTo:w,label:S},I=o?.previousIconButton??yU,O=jn({elementType:I,externalSlotProps:l?.previousIconButton,additionalProps:{size:"medium",title:A.label,"aria-label":A.label,disabled:A.isDisabled,edge:"end",onClick:A.goTo},ownerState:he({},_,{hidden:A.isHidden}),className:wn(C.button,C.previousIconButton)}),M=o?.nextIconButton??yU,U=jn({elementType:M,externalSlotProps:l?.nextIconButton,additionalProps:{size:"medium",title:R.label,"aria-label":R.label,disabled:R.isDisabled,edge:"start",onClick:R.goTo},ownerState:he({},_,{hidden:R.isHidden}),className:wn(C.button,C.nextIconButton)}),L=o?.leftArrowIcon??Pge,z=jn({elementType:L,externalSlotProps:l?.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:_,className:C.leftArrowIcon}),j=Dt(z,$ge),H=o?.rightArrowIcon??Lge,$=jn({elementType:H,externalSlotProps:l?.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:_,className:C.rightArrowIcon}),q=Dt($,Gge);return y.jsxs(Hge,he({ref:n,className:wn(C.root,s),ownerState:_},x,{children:[y.jsx(I,he({},O,{children:r?y.jsx(H,he({},q)):y.jsx(L,he({},j))})),i?y.jsx(Ve,{variant:"subtitle1",component:"span",id:T,children:i}):y.jsx(Vge,{className:C.spacer,ownerState:_}),y.jsx(M,he({},U,{children:r?y.jsx(L,he({},j)):y.jsx(H,he({},q))}))]}))}),Yo=(t,e)=>t.length!==e.length?!1:e.every(n=>t.includes(n)),fL=({openTo:t,defaultOpenTo:e,views:n,defaultViews:r})=>{const a=n??r;let i;if(t!=null)i=t;else if(a.includes(e))i=e;else if(a.length>0)i=a[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:a,openTo:i}},vX=["hours","minutes","seconds"],Mp=t=>vX.includes(t),xg=t=>vX.includes(t)||t==="meridiem",Yge=(t,e)=>t?e.getHours(t)>=12?"pm":"am":null,Jg=(t,e,n)=>n&&(t>=12?"pm":"am")!==e?e==="am"?t-12:t+12:t,Kge=(t,e,n,r)=>{const a=Jg(r.getHours(t),e,n);return r.setHours(t,a)},vU=(t,e)=>e.getHours(t)*3600+e.getMinutes(t)*60+e.getSeconds(t),Pb=(t,e)=>(n,r)=>t?e.isAfter(n,r):vU(n,e)>vU(r,e),VS=(t,{format:e,views:n,ampm:r})=>{if(e!=null)return e;const a=t.formats;return Yo(n,["hours"])?r?`${a.hours12h} ${a.meridiem}`:a.hours24h:Yo(n,["minutes"])?a.minutes:Yo(n,["seconds"])?a.seconds:Yo(n,["minutes","seconds"])?`${a.minutes}:${a.seconds}`:Yo(n,["hours","minutes","seconds"])?r?`${a.hours12h}:${a.minutes}:${a.seconds} ${a.meridiem}`:`${a.hours24h}:${a.minutes}:${a.seconds}`:r?`${a.hours12h}:${a.minutes} ${a.meridiem}`:`${a.hours24h}:${a.minutes}`};function Lb({onChange:t,onViewChange:e,openTo:n,view:r,views:a,autoFocus:i,focusedView:s,onFocusedViewChange:o}){const l=N.useRef(n),d=N.useRef(a),f=N.useRef(a.includes(n)?n:a[0]),[h,m]=xd({name:"useViews",state:"view",controlled:r,default:f.current}),b=N.useRef(i?h:null),[g,w]=xd({name:"useViews",state:"focusedView",controlled:s,default:b.current});N.useEffect(()=>{(l.current&&l.current!==n||d.current&&d.current.some(I=>!a.includes(I)))&&(m(a.includes(n)?n:a[0]),d.current=a,l.current=n)},[n,m,h,a]);const S=a.indexOf(h),T=a[S-1]??null,x=a[S+1]??null,_=St((I,O)=>{w(O?I:M=>I===M?null:M),o?.(I,O)}),C=St(I=>{_(I,!0),I!==h&&(m(I),e&&e(I))}),R=St(()=>{x&&C(x)}),A=St((I,O,M)=>{const U=O==="finish",L=M?a.indexOf(M)<a.length-1:!!x;if(t(I,U&&L?"partial":O,M),M&&M!==h){const j=a[a.indexOf(M)+1];j&&C(j)}else U&&R()});return{view:h,setView:C,focusedView:g,setFocusedView:_,nextView:x,previousView:T,defaultView:a.includes(n)?n:a[0],goToNextView:R,setValueAndGoToNextView:A}}function Xge(t,{disableFuture:e,maxDate:n,timezone:r}){const a=un();return N.useMemo(()=>{const i=a.date(void 0,r),s=a.startOfMonth(e&&a.isBefore(i,n)?i:n);return!a.isAfter(s,t)},[e,n,t,a,r])}function Zge(t,{disablePast:e,minDate:n,timezone:r}){const a=un();return N.useMemo(()=>{const i=a.date(void 0,r),s=a.startOfMonth(e&&a.isAfter(i,n)?i:n);return!a.isBefore(s,t)},[e,n,t,a,r])}function $1(t,e,n,r){const a=un(),i=Yge(t,a),s=N.useCallback(o=>{const l=t==null?null:Kge(t,o,!!e,a);n(l,r??"partial")},[e,t,n,r,a]);return{meridiemMode:i,handleMeridiemChange:s}}const eb=36,G1=2,H1=320,Qge=280,V1=336,SX=232,wg=48,W1=rt("div")({overflow:"hidden",width:H1,maxHeight:V1,display:"flex",flexDirection:"column",margin:"0 auto"});function Jge(t){return Ln("MuiTimeClock",t)}qn("MuiTimeClock",["root","arrowSwitcher"]);const Pp=220,ec=36,tb={x:Pp/2,y:Pp/2},EX={x:tb.x,y:0},ebe=EX.x-tb.x,tbe=EX.y-tb.y,nbe=t=>t*(180/Math.PI),_X=(t,e,n)=>{const r=e-tb.x,a=n-tb.y,i=Math.atan2(ebe,tbe)-Math.atan2(r,a);let s=nbe(i);s=Math.round(s/t)*t,s%=360;const o=Math.floor(s/t)||0,l=r**2+a**2,d=Math.sqrt(l);return{value:o,distance:d}},rbe=(t,e,n=1)=>{const r=n*6;let{value:a}=_X(r,t,e);return a=a*n%60,a},abe=(t,e,n)=>{const{value:r,distance:a}=_X(30,t,e);let i=r||12;return n?i%=12:a<Pp/2-ec&&(i+=12,i%=24),i};function ibe(t){return Ln("MuiClockPointer",t)}qn("MuiClockPointer",["root","thumb"]);const sbe=["className","hasSelected","isInner","type","viewValue"],obe=t=>{const{classes:e}=t;return Nn({root:["root"],thumb:["thumb"]},ibe,e)},lbe=rt("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({width:2,backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:t.transitions.create(["transform","height"])}}]})),cbe=rt("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(t,e)=>e.thumb})(({theme:t})=>({width:4,height:4,backgroundColor:(t.vars||t).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${ec/2}px)`,border:`${(ec-4)/2}px solid ${(t.vars||t).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(t.vars||t).palette.primary.main}}]}));function ube(t){const e=Wt({props:t,name:"MuiClockPointer"}),{className:n,isInner:r,type:a,viewValue:i}=e,s=Dt(e,sbe),o=N.useRef(a);N.useEffect(()=>{o.current=a},[a]);const l=he({},e,{shouldAnimate:o.current!==a}),d=obe(l),f=()=>{let m=360/(a==="hours"?12:60)*i;return a==="hours"&&i>12&&(m-=360),{height:Math.round((r?.26:.4)*Pp),transform:`rotateZ(${m}deg)`}};return y.jsx(lbe,he({style:f(),className:wn(d.root,n),ownerState:l},s,{children:y.jsx(cbe,{ownerState:l,className:d.thumb})}))}function dbe(t){return Ln("MuiClock",t)}qn("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const WS=(t,e,n)=>{let r=e;return r=t.setHours(r,t.getHours(n)),r=t.setMinutes(r,t.getMinutes(n)),r=t.setSeconds(r,t.getSeconds(n)),r=t.setMilliseconds(r,t.getMilliseconds(n)),r},Lg=({date:t,disableFuture:e,disablePast:n,maxDate:r,minDate:a,isDateDisabled:i,utils:s,timezone:o})=>{const l=WS(s,s.date(void 0,o),t);n&&s.isBefore(a,l)&&(a=l),e&&s.isAfter(r,l)&&(r=l);let d=t,f=t;for(s.isBefore(t,a)&&(d=a,f=null),s.isAfter(t,r)&&(f&&(f=r),d=null);d||f;){if(d&&s.isAfter(d,r)&&(d=null),f&&s.isBefore(f,a)&&(f=null),d){if(!i(d))return d;d=s.addDays(d,1)}if(f){if(!i(f))return f;f=s.addDays(f,-1)}}return null},fbe=(t,e)=>e==null||!t.isValid(e)?null:e,ni=(t,e,n)=>e==null||!t.isValid(e)?n:e,pbe=(t,e,n)=>!t.isValid(e)&&e!=null&&!t.isValid(n)&&n!=null?!0:t.isEqual(e,n),pL=(t,e)=>{const r=[t.startOfYear(e)];for(;r.length<12;){const a=r[r.length-1];r.push(t.addMonths(a,1))}return r},hL=(t,e,n)=>n==="date"?t.startOfDay(t.date(void 0,e)):t.date(void 0,e),ho=(t,e)=>{const n=t.setHours(t.date(),e==="am"?2:14);return t.format(n,"meridiem")},hbe=["year","month","day"],Lp=t=>hbe.includes(t),nb=(t,{format:e,views:n},r)=>{if(e!=null)return e;const a=t.formats;return Yo(n,["year"])?a.year:Yo(n,["month"])?a.month:Yo(n,["day"])?a.dayOfMonth:Yo(n,["month","year"])?`${a.month} ${a.year}`:Yo(n,["day","month"])?`${a.month} ${a.dayOfMonth}`:r?/en/.test(t.getCurrentLocaleCode())?a.normalDateWithWeekday:a.normalDate:a.keyboardDate},mbe=(t,e)=>{const n=t.startOfWeek(e);return[0,1,2,3,4,5,6].map(r=>t.addDays(n,r))},gbe=t=>{const{classes:e,meridiemMode:n}=t;return Nn({root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",n==="am"&&"selected"],pmButton:["pmButton",n==="pm"&&"selected"],meridiemText:["meridiemText"]},dbe,e)},bbe=rt("div",{name:"MuiClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:t.spacing(2)})),ybe=rt("div",{name:"MuiClock",slot:"Clock",overridesResolver:(t,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),vbe=rt("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})({"&:focus":{outline:"none"}}),Sbe=rt("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(t,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Ebe=rt("div",{name:"MuiClock",slot:"Pin",overridesResolver:(t,e)=>e.pin})(({theme:t})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(t.vars||t).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),xX=(t,e)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:ec,variants:[{props:{meridiemMode:e},style:{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:hover":{backgroundColor:(t.vars||t).palette.primary.light}}}]}),_be=rt(Ct,{name:"MuiClock",slot:"AmButton",overridesResolver:(t,e)=>e.amButton})(({theme:t})=>he({},xX(t,"am"),{position:"absolute",left:8})),xbe=rt(Ct,{name:"MuiClock",slot:"PmButton",overridesResolver:(t,e)=>e.pmButton})(({theme:t})=>he({},xX(t,"pm"),{position:"absolute",right:8})),SU=rt(Ve,{name:"MuiClock",slot:"meridiemText",overridesResolver:(t,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function wbe(t){const e=Wt({props:t,name:"MuiClock"}),{ampm:n,ampmInClock:r,autoFocus:a,children:i,value:s,handleMeridiemChange:o,isTimeDisabled:l,meridiemMode:d,minutesStep:f=1,onChange:h,selectedId:m,type:b,viewValue:g,viewRange:[w,S],disabled:T=!1,readOnly:x,className:_}=e,C=e,R=un(),A=Jr(),I=N.useRef(!1),O=gbe(C),M=l(g,b),U=!n&&b==="hours"&&(g<1||g>12),L=(te,G)=>{T||x||l(te,b)||h(te,G)},z=(te,G)=>{let{offsetX:W,offsetY:ue}=te;if(W===void 0){const ge=te.target.getBoundingClientRect();W=te.changedTouches[0].clientX-ge.left,ue=te.changedTouches[0].clientY-ge.top}const Ee=b==="seconds"||b==="minutes"?rbe(W,ue,f):abe(W,ue,!!n);L(Ee,G)},j=te=>{I.current=!0,z(te,"shallow")},H=te=>{I.current&&(z(te,"finish"),I.current=!1),te.preventDefault()},$=te=>{te.buttons>0&&z(te.nativeEvent,"shallow")},q=te=>{I.current&&(I.current=!1),z(te.nativeEvent,"finish")},K=N.useMemo(()=>b==="hours"?!0:g%5===0,[b,g]),V=b==="minutes"?f:1,re=N.useRef(null);sl(()=>{a&&re.current.focus()},[a]);const ee=te=>Math.max(w,Math.min(S,te)),Y=te=>(te+(S+1))%(S+1),ne=te=>{if(!I.current)switch(te.key){case"Home":L(w,"partial"),te.preventDefault();break;case"End":L(S,"partial"),te.preventDefault();break;case"ArrowUp":L(Y(g+V),"partial"),te.preventDefault();break;case"ArrowDown":L(Y(g-V),"partial"),te.preventDefault();break;case"PageUp":L(ee(g+5),"partial"),te.preventDefault();break;case"PageDown":L(ee(g-5),"partial"),te.preventDefault();break;case"Enter":case" ":L(g,"finish"),te.preventDefault();break}};return y.jsxs(bbe,{className:wn(O.root,_),children:[y.jsxs(ybe,{className:O.clock,children:[y.jsx(Sbe,{onTouchMove:j,onTouchStart:j,onTouchEnd:H,onMouseUp:q,onMouseMove:$,ownerState:{disabled:T},className:O.squareMask}),!M&&y.jsxs(N.Fragment,{children:[y.jsx(Ebe,{className:O.pin}),s!=null&&y.jsx(ube,{type:b,viewValue:g,isInner:U,hasSelected:K})]}),y.jsx(vbe,{"aria-activedescendant":m,"aria-label":A.clockLabelText(b,s,R,s==null?null:R.format(s,"fullTime")),ref:re,role:"listbox",onKeyDown:ne,tabIndex:0,className:O.wrapper,children:i})]}),n&&r&&y.jsxs(N.Fragment,{children:[y.jsx(_be,{onClick:x?void 0:()=>o("am"),disabled:T||d===null,ownerState:C,className:O.amButton,title:ho(R,"am"),children:y.jsx(SU,{variant:"caption",className:O.meridiemText,children:ho(R,"am")})}),y.jsx(xbe,{disabled:T||d===null,onClick:x?void 0:()=>o("pm"),ownerState:C,className:O.pmButton,title:ho(R,"pm"),children:y.jsx(SU,{variant:"caption",className:O.meridiemText,children:ho(R,"pm")})})]})]})}function Tbe(t){return Ln("MuiClockNumber",t)}const v0=qn("MuiClockNumber",["root","selected","disabled"]),Cbe=["className","disabled","index","inner","label","selected"],Rbe=t=>{const{classes:e,selected:n,disabled:r}=t;return Nn({root:["root",n&&"selected",r&&"disabled"]},Tbe,e)},Abe=rt("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${v0.disabled}`]:e.disabled},{[`&.${v0.selected}`]:e.selected}]})(({theme:t})=>({height:ec,width:ec,position:"absolute",left:`calc((100% - ${ec}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(t.vars||t).palette.text.primary,fontFamily:t.typography.fontFamily,"&:focused":{backgroundColor:(t.vars||t).palette.background.paper},[`&.${v0.selected}`]:{color:(t.vars||t).palette.primary.contrastText},[`&.${v0.disabled}`]:{pointerEvents:"none",color:(t.vars||t).palette.text.disabled},variants:[{props:{inner:!0},style:he({},t.typography.body2,{color:(t.vars||t).palette.text.secondary})}]}));function wX(t){const e=Wt({props:t,name:"MuiClockNumber"}),{className:n,disabled:r,index:a,inner:i,label:s,selected:o}=e,l=Dt(e,Cbe),d=e,f=Rbe(d),h=a%12/12*Math.PI*2-Math.PI/2,m=(Pp-ec-2)/2*(i?.65:1),b=Math.round(Math.cos(h)*m),g=Math.round(Math.sin(h)*m);return y.jsx(Abe,he({className:wn(f.root,n),"aria-disabled":r?!0:void 0,"aria-selected":o?!0:void 0,role:"option",style:{transform:`translate(${b}px, ${g+(Pp-ec)/2}px`},ownerState:d},l,{children:s}))}const Ibe=({ampm:t,value:e,getClockNumberText:n,isDisabled:r,selectedId:a,utils:i})=>{const s=e?i.getHours(e):null,o=[],l=t?1:0,d=t?12:23,f=h=>s===null?!1:t?h===12?s===12||s===0:s===h||s-12===h:s===h;for(let h=l;h<=d;h+=1){let m=h.toString();h===0&&(m="00");const b=!t&&(h===0||h>12);m=i.formatNumber(m);const g=f(h);o.push(y.jsx(wX,{id:g?a:void 0,index:h,inner:b,selected:g,disabled:r(h),label:m,"aria-label":n(m)},h))}return o},EU=({utils:t,value:e,isDisabled:n,getClockNumberText:r,selectedId:a})=>{const i=t.formatNumber;return[[5,i("05")],[10,i("10")],[15,i("15")],[20,i("20")],[25,i("25")],[30,i("30")],[35,i("35")],[40,i("40")],[45,i("45")],[50,i("50")],[55,i("55")],[0,i("00")]].map(([s,o],l)=>{const d=s===e;return y.jsx(wX,{label:o,id:d?a:void 0,index:l+1,inner:!1,disabled:n(s),selected:d,"aria-label":r(o)},s)})},mL=({timezone:t,value:e,defaultValue:n,referenceDate:r,onChange:a,valueManager:i})=>{const s=un(),o=N.useRef(n),l=e??o.current??i.emptyValue,d=N.useMemo(()=>i.getTimezone(s,l),[s,i,l]),f=St(g=>d==null?g:i.setTimezone(s,d,g));let h;t?h=t:d?h=d:r?h=s.getTimezone(r):h="default";const m=N.useMemo(()=>i.setTimezone(s,h,l),[i,s,h,l]),b=St((g,...w)=>{const S=f(g);a?.(S,...w)});return{value:m,handleValueChange:b,timezone:h}},ih=({name:t,timezone:e,value:n,defaultValue:r,referenceDate:a,onChange:i,valueManager:s})=>{const[o,l]=xd({name:t,state:"value",controlled:n,default:r??s.emptyValue}),d=St((f,...h)=>{l(f),i?.(f,...h)});return mL({timezone:e,value:o,defaultValue:void 0,referenceDate:a,onChange:d,valueManager:s})},co={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},kbe=t=>Math.max(...t.map(e=>co[e.type]??1)),rg=(t,e,n)=>{if(e===co.year)return t.startOfYear(n);if(e===co.month)return t.startOfMonth(n);if(e===co.day)return t.startOfDay(n);let r=n;return e<co.minutes&&(r=t.setMinutes(r,0)),e<co.seconds&&(r=t.setSeconds(r,0)),e<co.milliseconds&&(r=t.setMilliseconds(r,0)),r},Dbe=({props:t,utils:e,granularity:n,timezone:r,getTodayDate:a})=>{let i=a?a():rg(e,n,hL(e,r));t.minDate!=null&&e.isAfterDay(t.minDate,i)&&(i=rg(e,n,t.minDate)),t.maxDate!=null&&e.isBeforeDay(t.maxDate,i)&&(i=rg(e,n,t.maxDate));const s=Pb(t.disableIgnoringDatePartForTimeValidation??!1,e);return t.minTime!=null&&s(t.minTime,i)&&(i=rg(e,n,t.disableIgnoringDatePartForTimeValidation?t.minTime:WS(e,i,t.minTime))),t.maxTime!=null&&s(i,t.maxTime)&&(i=rg(e,n,t.disableIgnoringDatePartForTimeValidation?t.maxTime:WS(e,i,t.maxTime))),i},TX=(t,e)=>{const n=t.formatTokenMap[e];if(n==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},Obe=t=>{switch(t){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Y1=(t,e)=>{const n=[],r=t.date(void 0,"default"),a=t.startOfWeek(r),i=t.endOfWeek(r);let s=a;for(;t.isBefore(s,i);)n.push(s),s=t.addDays(s,1);return n.map(o=>t.formatByString(o,e))},CX=(t,e,n,r)=>{switch(n){case"month":return pL(t,t.date(void 0,e)).map(a=>t.formatByString(a,r));case"weekDay":return Y1(t,r);case"meridiem":{const a=t.date(void 0,e);return[t.startOfDay(a),t.endOfDay(a)].map(i=>t.formatByString(i,r))}default:return[]}},_U="s",Nbe=["0","1","2","3","4","5","6","7","8","9"],Mbe=t=>{const e=t.date(void 0);return t.formatByString(t.setSeconds(e,0),_U)==="0"?Nbe:Array.from({length:10}).map((r,a)=>t.formatByString(t.setSeconds(e,a),_U))},wd=(t,e)=>{if(e[0]==="0")return t;const n=[];let r="";for(let a=0;a<t.length;a+=1){r+=t[a];const i=e.indexOf(r);i>-1&&(n.push(i.toString()),r="")}return n.join("")},gL=(t,e)=>e[0]==="0"?t:t.split("").map(n=>e[Number(n)]).join(""),xU=(t,e)=>{const n=wd(t,e);return n!==" "&&!Number.isNaN(Number(n))},RX=(t,e)=>{let n=t;for(n=Number(n).toString();n.length<e;)n=`0${n}`;return n},AX=(t,e,n,r,a)=>{if(a.type==="day"&&a.contentType==="digit-with-letter"){const s=t.setDate(n.longestMonth,e);return t.formatByString(s,a.format)}let i=e.toString();return a.hasLeadingZerosInInput&&(i=RX(i,a.maxLength)),gL(i,r)},Pbe=(t,e,n,r,a,i,s,o)=>{const l=Obe(r),d=r==="Home",f=r==="End",h=n.value===""||d||f,m=()=>{const g=a[n.type]({currentDate:s,format:n.format,contentType:n.contentType}),w=x=>AX(t,x,g,i,n),S=n.type==="minutes"&&o?.minutesStep?o.minutesStep:1;let T;if(h){if(n.type==="year"&&!f&&!d)return t.formatByString(t.date(void 0,e),n.format);l>0||d?T=g.minimum:T=g.maximum}else T=parseInt(wd(n.value,i),10)+l*S;return T%S!==0&&((l<0||d)&&(T+=S-(S+T)%S),(l>0||f)&&(T-=T%S)),T>g.maximum?w(g.minimum+(T-g.maximum-1)%(g.maximum-g.minimum+1)):T<g.minimum?w(g.maximum-(g.minimum-T-1)%(g.maximum-g.minimum+1)):w(T)},b=()=>{const g=CX(t,e,n.type,n.format);if(g.length===0)return n.value;if(h)return l>0||d?g[0]:g[g.length-1];const T=((g.indexOf(n.value)+l)%g.length+g.length)%g.length;return g[T]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?m():b()},bL=(t,e,n)=>{let r=t.value||t.placeholder;const a=e==="non-input"?t.hasLeadingZerosInFormat:t.hasLeadingZerosInInput;return e==="non-input"&&t.hasLeadingZerosInInput&&!t.hasLeadingZerosInFormat&&(r=Number(wd(r,n)).toString()),["input-rtl","input-ltr"].includes(e)&&t.contentType==="digit"&&!a&&r.length===1&&(r=`${r}`),e==="input-rtl"&&(r=`${r}`),r},wU=(t,e,n,r)=>t.formatByString(t.parse(e,n),r),Lbe=(t,e)=>t.formatByString(t.date(void 0,"system"),e).length===4,IX=(t,e,n,r)=>{if(e!=="digit")return!1;const a=t.date(void 0,"default");switch(n){case"year":return t.lib==="dayjs"&&r==="YY"?!0:t.formatByString(t.setYear(a,1),r).startsWith("0");case"month":return t.formatByString(t.startOfYear(a),r).length>1;case"day":return t.formatByString(t.startOfMonth(a),r).length>1;case"weekDay":return t.formatByString(t.startOfWeek(a),r).length>1;case"hours":return t.formatByString(t.setHours(a,1),r).length>1;case"minutes":return t.formatByString(t.setMinutes(a,1),r).length>1;case"seconds":return t.formatByString(t.setSeconds(a,1),r).length>1;default:throw new Error("Invalid section type")}},Fbe=(t,e,n)=>{const r=e.some(l=>l.type==="day"),a=[],i=[];for(let l=0;l<e.length;l+=1){const d=e[l];r&&d.type==="weekDay"||(a.push(d.format),i.push(bL(d,"non-input",n)))}const s=a.join(" "),o=i.join(" ");return t.parse(o,s)},Bbe=t=>t.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),jbe=(t,e,n)=>{const a=t.map(i=>{const s=bL(i,n?"input-rtl":"input-ltr",e);return`${i.startSeparator}${s}${i.endSeparator}`}).join("");return n?`${a}`:a},Ube=(t,e,n)=>{const r=t.date(void 0,n),a=t.endOfYear(r),i=t.endOfDay(r),{maxDaysInMonth:s,longestMonth:o}=pL(t,r).reduce((l,d)=>{const f=t.getDaysInMonth(d);return f>l.maxDaysInMonth?{maxDaysInMonth:f,longestMonth:d}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Lbe(t,l)?9999:99}),month:()=>({minimum:1,maximum:t.getMonth(a)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&t.isValid(l)?t.getDaysInMonth(l):s,longestMonth:o}),weekDay:({format:l,contentType:d})=>{if(d==="digit"){const f=Y1(t,l).map(Number);return{minimum:Math.min(...f),maximum:Math.max(...f)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const d=t.getHours(i);return wd(t.formatByString(t.endOfDay(r),l),e)!==d.toString()?{minimum:1,maximum:Number(wd(t.formatByString(t.startOfDay(r),l),e))}:{minimum:0,maximum:d}},minutes:()=>({minimum:0,maximum:t.getMinutes(i)}),seconds:()=>({minimum:0,maximum:t.getSeconds(i)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},zbe=(t,e,n,r)=>{switch(e.type){case"year":return t.setYear(r,t.getYear(n));case"month":return t.setMonth(r,t.getMonth(n));case"weekDay":{const a=Y1(t,e.format),i=t.formatByString(n,e.format),s=a.indexOf(i),l=a.indexOf(e.value)-s;return t.addDays(n,l)}case"day":return t.setDate(r,t.getDate(n));case"meridiem":{const a=t.getHours(n)<12,i=t.getHours(r);return a&&i>=12?t.addHours(r,-12):!a&&i<12?t.addHours(r,12):r}case"hours":return t.setHours(r,t.getHours(n));case"minutes":return t.setMinutes(r,t.getMinutes(n));case"seconds":return t.setSeconds(r,t.getSeconds(n));default:return r}},TU={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},CU=(t,e,n,r,a)=>[...n].sort((i,s)=>TU[i.type]-TU[s.type]).reduce((i,s)=>!a||s.modified?zbe(t,s,e,i):i,r),qbe=()=>navigator.userAgent.toLowerCase().includes("android"),$be=(t,e)=>{const n={};if(!e)return t.forEach((l,d)=>{const f=d===0?null:d-1,h=d===t.length-1?null:d+1;n[d]={leftIndex:f,rightIndex:h}}),{neighbors:n,startIndex:0,endIndex:t.length-1};const r={},a={};let i=0,s=0,o=t.length-1;for(;o>=0;){s=t.findIndex((l,d)=>d>=i&&l.endSeparator?.includes(" ")&&l.endSeparator!==" / "),s===-1&&(s=t.length-1);for(let l=s;l>=i;l-=1)a[l]=o,r[o]=l,o-=1;i=s+1}return t.forEach((l,d)=>{const f=a[d],h=f===0?null:r[f-1],m=f===t.length-1?null:r[f+1];n[d]={leftIndex:h,rightIndex:m}}),{neighbors:n,startIndex:r[0],endIndex:r[t.length-1]}},rM=(t,e)=>{if(t==null)return null;if(t==="all")return"all";if(typeof t=="string"){const n=e.findIndex(r=>r.type===t);return n===-1?null:n}return t},Gbe=(t,e)=>{if(t.value)switch(t.type){case"month":{if(t.contentType==="digit")return e.format(e.setMonth(e.date(),Number(t.value)-1),"month");const n=e.parse(t.value,t.format);return n?e.format(n,"month"):void 0}case"day":return t.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(t.value)),"dayOfMonthFull"):t.value;case"weekDay":return;default:return}},Hbe=(t,e)=>{if(t.value)switch(t.type){case"weekDay":return t.contentType==="letter"?void 0:Number(t.value);case"meridiem":{const n=e.parse(`01:00 ${t.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${t.format}`);return n?e.getHours(n)>=12?1:0:void 0}case"day":return t.contentType==="digit-with-letter"?parseInt(t.value,10):Number(t.value);case"month":{if(t.contentType==="digit")return Number(t.value);const n=e.parse(t.value,t.format);return n?e.getMonth(n)+1:void 0}default:return t.contentType!=="letter"?Number(t.value):void 0}},Vbe=["value","referenceDate"],Or={emptyValue:null,getTodayValue:hL,getInitialReferenceValue:t=>{let{value:e,referenceDate:n}=t,r=Dt(t,Vbe);return e!=null&&r.utils.isValid(e)?e:n??Dbe(r)},cleanValue:fbe,areValuesEqual:pbe,isSameError:(t,e)=>t===e,hasError:t=>t!=null,defaultErrorState:null,getTimezone:(t,e)=>e==null||!t.isValid(e)?null:t.getTimezone(e),setTimezone:(t,e,n)=>n==null?null:t.setTimezone(n,e)},yL={updateReferenceValue:(t,e,n)=>e==null||!t.isValid(e)?n:e,getSectionsFromValue:(t,e,n,r)=>!t.isValid(e)&&!!n?n:r(e),getV7HiddenInputValueFromSections:Bbe,getV6InputValueFromSections:jbe,getActiveDateManager:(t,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!t.isValid(n)?e.referenceValue:n})}),parseValueStr:(t,e,n)=>n(t.trim(),e)},vL=({value:t,referenceDate:e,utils:n,props:r,timezone:a})=>{const i=N.useMemo(()=>Or.getInitialReferenceValue({value:t,utils:n,props:r,referenceDate:e,granularity:co.day,timezone:a,getTodayDate:()=>hL(n,a,"date")}),[]);return t??i},Wbe=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],Ybe=t=>{const{classes:e}=t;return Nn({root:["root"],arrowSwitcher:["arrowSwitcher"]},Jge,e)},Kbe=rt(W1,{name:"MuiTimeClock",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),Xbe=rt(yX,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(t,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),Zbe=["hours","minutes"],Qbe=N.forwardRef(function(e,n){const r=un(),a=Wt({props:e,name:"MuiTimeClock"}),{ampm:i=r.is12HourCycleInCurrentLocale(),ampmInClock:s=!1,autoFocus:o,slots:l,slotProps:d,value:f,defaultValue:h,referenceDate:m,disableIgnoringDatePartForTimeValidation:b=!1,maxTime:g,minTime:w,disableFuture:S,disablePast:T,minutesStep:x=1,shouldDisableTime:_,showViewSwitcher:C,onChange:R,view:A,views:I=Zbe,openTo:O,onViewChange:M,focusedView:U,onFocusedViewChange:L,className:z,disabled:j,readOnly:H,timezone:$}=a,q=Dt(a,Wbe),{value:K,handleValueChange:V,timezone:re}=ih({name:"TimeClock",timezone:$,value:f,defaultValue:h,referenceDate:m,onChange:R,valueManager:Or}),ee=vL({value:K,referenceDate:m,utils:r,props:a,timezone:re}),Y=Jr(),ne=Nd(re),{view:te,setView:G,previousView:W,nextView:ue,setValueAndGoToNextView:Ee}=Lb({view:A,views:I,openTo:O,onViewChange:M,onChange:V,focusedView:U,onFocusedViewChange:L}),{meridiemMode:ge,handleMeridiemChange:fe}=$1(ee,i,Ee),Ae=N.useCallback((me,ce)=>{const pe=Pb(b,r),Te=ce==="hours"||ce==="minutes"&&I.includes("seconds"),be=({start:je,end:ke})=>!(w&&pe(w,ke)||g&&pe(je,g)||S&&pe(je,ne)||T&&pe(ne,Te?ke:je)),Ie=(je,ke=1)=>{if(je%ke!==0)return!1;if(_)switch(ce){case"hours":return!_(r.setHours(ee,je),"hours");case"minutes":return!_(r.setMinutes(ee,je),"minutes");case"seconds":return!_(r.setSeconds(ee,je),"seconds");default:return!1}return!0};switch(ce){case"hours":{const je=Jg(me,ge,i),ke=r.setHours(ee,je);if(r.getHours(ke)!==je)return!0;const Ge=r.setSeconds(r.setMinutes(ke,0),0),Et=r.setSeconds(r.setMinutes(ke,59),59);return!be({start:Ge,end:Et})||!Ie(je)}case"minutes":{const je=r.setMinutes(ee,me),ke=r.setSeconds(je,0),Ge=r.setSeconds(je,59);return!be({start:ke,end:Ge})||!Ie(me,x)}case"seconds":{const je=r.setSeconds(ee,me);return!be({start:je,end:je})||!Ie(me)}default:throw new Error("not supported")}},[i,ee,b,g,ge,w,x,_,r,S,T,ne,I]),oe=rh(),de=N.useMemo(()=>{switch(te){case"hours":{const me=(Te,be)=>{const Ie=Jg(Te,ge,i);Ee(r.setHours(ee,Ie),be,"hours")},ce=r.getHours(ee);let pe;return i?ce>12?pe=[12,23]:pe=[0,11]:pe=[0,23],{onChange:me,viewValue:ce,children:Ibe({value:K,utils:r,ampm:i,getClockNumberText:Y.hoursClockNumberText,isDisabled:Te=>j||Ae(Te,"hours"),selectedId:oe}),viewRange:pe}}case"minutes":{const me=r.getMinutes(ee);return{viewValue:me,onChange:(pe,Te)=>{Ee(r.setMinutes(ee,pe),Te,"minutes")},children:EU({utils:r,value:me,getClockNumberText:Y.minutesClockNumberText,isDisabled:pe=>j||Ae(pe,"minutes"),selectedId:oe}),viewRange:[0,59]}}case"seconds":{const me=r.getSeconds(ee);return{viewValue:me,onChange:(pe,Te)=>{Ee(r.setSeconds(ee,pe),Te,"seconds")},children:EU({utils:r,value:me,getClockNumberText:Y.secondsClockNumberText,isDisabled:pe=>j||Ae(pe,"seconds"),selectedId:oe}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[te,r,K,i,Y.hoursClockNumberText,Y.minutesClockNumberText,Y.secondsClockNumberText,ge,Ee,ee,Ae,oe,j]),se=a,Se=Ybe(se);return y.jsxs(Kbe,he({ref:n,className:wn(Se.root,z),ownerState:se},q,{children:[y.jsx(wbe,he({autoFocus:o??!!U,ampmInClock:s&&I.includes("hours"),value:K,type:te,ampm:i,minutesStep:x,isTimeDisabled:Ae,meridiemMode:ge,handleMeridiemChange:fe,selectedId:oe,disabled:j,readOnly:H},de)),C&&y.jsx(Xbe,{className:Se.arrowSwitcher,slots:l,slotProps:d,onGoToPrevious:()=>G(W),isPreviousDisabled:!W,previousLabel:Y.openPreviousView,onGoToNext:()=>G(ue),isNextDisabled:!ue,nextLabel:Y.openNextView,ownerState:se})]}))});function Jbe(t){return Ln("MuiDigitalClock",t)}const eye=qn("MuiDigitalClock",["root","list","item"]);function gp(t,e){return Array.isArray(e)?e.every(n=>t.indexOf(n)!==-1):t.indexOf(e)!==-1}const tye=(t,e)=>n=>{(n.key==="Enter"||n.key===" ")&&(t(n),n.preventDefault(),n.stopPropagation())},hi=(t=document)=>{const e=t.activeElement;return e?e.shadowRoot?hi(e.shadowRoot):e:null},YS=t=>Array.from(t.children).indexOf(hi(document)),SL="@media (pointer: fine)",nye=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],rye=t=>{const{classes:e}=t;return Nn({root:["root"],list:["list"],item:["item"]},Jbe,e)},aye=rt(W1,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:SX,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),iye=rt(LV,{name:"MuiDigitalClock",slot:"List",overridesResolver:(t,e)=>e.list})({padding:0}),sye=rt(rr,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Jo(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Jo(t.palette.primary.main,t.palette.action.focusOpacity)}})),oye=N.forwardRef(function(e,n){const r=un(),a=N.useRef(null),i=bi(n,a),s=N.useRef(null),o=Wt({props:e,name:"MuiDigitalClock"}),{ampm:l=r.is12HourCycleInCurrentLocale(),timeStep:d=30,autoFocus:f,slots:h,slotProps:m,value:b,defaultValue:g,referenceDate:w,disableIgnoringDatePartForTimeValidation:S=!1,maxTime:T,minTime:x,disableFuture:_,disablePast:C,minutesStep:R=1,shouldDisableTime:A,onChange:I,view:O,openTo:M,onViewChange:U,focusedView:L,onFocusedViewChange:z,className:j,disabled:H,readOnly:$,views:q=["hours"],skipDisabled:K=!1,timezone:V}=o,re=Dt(o,nye),{value:ee,handleValueChange:Y,timezone:ne}=ih({name:"DigitalClock",timezone:V,value:b,defaultValue:g,referenceDate:w,onChange:I,valueManager:Or}),te=Jr(),G=Nd(ne),W=N.useMemo(()=>he({},o,{alreadyRendered:!!a.current}),[o]),ue=rye(W),Ee=h?.digitalClockItem??sye,ge=jn({elementType:Ee,externalSlotProps:m?.digitalClockItem,ownerState:{},className:ue.item}),fe=vL({value:ee,referenceDate:w,utils:r,props:o,timezone:ne}),Ae=St(pe=>Y(pe,"finish","hours")),{setValueAndGoToNextView:oe}=Lb({view:O,views:q,openTo:M,onViewChange:U,onChange:Ae,focusedView:L,onFocusedViewChange:z}),de=St(pe=>{oe(pe,"finish")});N.useEffect(()=>{if(a.current===null)return;const pe=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!pe)return;const Te=pe.offsetTop;(f||L)&&pe.focus(),a.current.scrollTop=Te-4});const se=N.useCallback(pe=>{const Te=Pb(S,r),be=()=>!(x&&Te(x,pe)||T&&Te(pe,T)||_&&Te(pe,G)||C&&Te(G,pe)),Ie=()=>r.getMinutes(pe)%R!==0?!1:A?!A(pe,"hours"):!0;return!be()||!Ie()},[S,r,x,T,_,G,C,R,A]),Se=N.useMemo(()=>{const pe=[];let be=r.startOfDay(fe);for(;r.isSameDay(fe,be);)pe.push(be),be=r.addMinutes(be,d);return pe},[fe,d,r]),me=Se.findIndex(pe=>r.isEqual(pe,fe)),ce=pe=>{switch(pe.key){case"PageUp":{const Te=YS(s.current)-5,be=s.current.children,Ie=Math.max(0,Te),je=be[Ie];je&&je.focus(),pe.preventDefault();break}case"PageDown":{const Te=YS(s.current)+5,be=s.current.children,Ie=Math.min(be.length-1,Te),je=be[Ie];je&&je.focus(),pe.preventDefault();break}}};return y.jsx(aye,he({ref:i,className:wn(ue.root,j),ownerState:W},re,{children:y.jsx(iye,{ref:s,role:"listbox","aria-label":te.timePickerToolbarTitle,className:ue.list,onKeyDown:ce,children:Se.map((pe,Te)=>{if(K&&se(pe))return null;const be=r.isEqual(pe,ee),Ie=r.format(pe,l?"fullTime12h":"fullTime24h"),je=me===Te||me===-1&&Te===0?0:-1;return y.jsx(Ee,he({onClick:()=>!$&&de(pe),selected:be,disabled:H||se(pe),disableRipple:$,role:"option","aria-disabled":$,"aria-selected":be,tabIndex:je},ge,{children:Ie}),`${pe.valueOf()}-${Ie}`)})})}))});function lye(t){return Ln("MuiMultiSectionDigitalClock",t)}const RU=qn("MuiMultiSectionDigitalClock",["root"]);function cye(t){return Ln("MuiMultiSectionDigitalClockSection",t)}const uye=qn("MuiMultiSectionDigitalClockSection",["root","item"]),dye=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],fye=t=>{const{classes:e}=t;return Nn({root:["root"],item:["item"]},cye,e)},pye=rt(LV,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({maxHeight:SX,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),hye=rt(rr,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(t,e)=>e.item})(({theme:t})=>({padding:8,margin:"2px 4px",width:wg,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Jo(t.palette.primary.main,t.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(t.vars||t).palette.primary.main,color:(t.vars||t).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Jo(t.palette.primary.main,t.palette.action.focusOpacity)}})),mye=N.forwardRef(function(e,n){const r=N.useRef(null),a=bi(n,r),i=N.useRef(null),s=Wt({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:o,onChange:l,className:d,disabled:f,readOnly:h,items:m,active:b,slots:g,slotProps:w,skipDisabled:S}=s,T=Dt(s,dye),x=N.useMemo(()=>he({},s,{alreadyRendered:!!r.current}),[s]),_=fye(x),C=g?.digitalClockSectionItem??hye;N.useEffect(()=>{if(r.current===null)return;const I=r.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(b&&o&&I&&I.focus(),!I||i.current===I)return;i.current=I;const O=I.offsetTop;r.current.scrollTop=O-4});const R=m.findIndex(I=>I.isFocused(I.value)),A=I=>{switch(I.key){case"PageUp":{const O=YS(r.current)-5,M=r.current.children,U=Math.max(0,O),L=M[U];L&&L.focus(),I.preventDefault();break}case"PageDown":{const O=YS(r.current)+5,M=r.current.children,U=Math.min(M.length-1,O),L=M[U];L&&L.focus(),I.preventDefault();break}}};return y.jsx(pye,he({ref:a,className:wn(_.root,d),ownerState:x,autoFocusItem:o&&b,role:"listbox",onKeyDown:A},T,{children:m.map((I,O)=>{const M=I.isDisabled?.(I.value),U=f||M;if(S&&U)return null;const L=I.isSelected(I.value),z=R===O||R===-1&&O===0?0:-1;return y.jsx(C,he({onClick:()=>!h&&l(I.value),selected:L,disabled:U,disableRipple:h,role:"option","aria-disabled":h||U||void 0,"aria-label":I.ariaLabel,"aria-selected":L,tabIndex:z,className:_.item},w?.digitalClockSectionItem,{children:I.label}),I.label)})}))}),gye=({now:t,value:e,utils:n,ampm:r,isDisabled:a,resolveAriaLabel:i,timeStep:s,valueOrReferenceDate:o})=>{const l=e?n.getHours(e):null,d=[],f=(b,g)=>{const w=g??l;return w===null?!1:r?b===12?w===12||w===0:w===b||w-12===b:w===b},h=b=>f(b,n.getHours(o)),m=r?11:23;for(let b=0;b<=m;b+=s){let g=n.format(n.setHours(t,b),r?"hours12h":"hours24h");const w=i(parseInt(g,10).toString());g=n.formatNumber(g),d.push({value:b,label:g,isSelected:f,isDisabled:a,isFocused:h,ariaLabel:w})}return d},AU=({value:t,utils:e,isDisabled:n,timeStep:r,resolveLabel:a,resolveAriaLabel:i,hasValue:s=!0})=>{const o=d=>t===null?!1:s&&t===d,l=d=>t===d;return[...Array.from({length:Math.ceil(60/r)},(d,f)=>{const h=r*f;return{value:h,label:e.formatNumber(a(h)),isDisabled:n,isSelected:o,isFocused:l,ariaLabel:i(h.toString())}})]},bye=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],yye=t=>{const{classes:e}=t;return Nn({root:["root"]},lye,e)},vye=rt(W1,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(t.vars||t).palette.divider}`})),Sye=N.forwardRef(function(e,n){const r=un(),a=us(),i=Wt({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:s=r.is12HourCycleInCurrentLocale(),timeSteps:o,autoFocus:l,slots:d,slotProps:f,value:h,defaultValue:m,referenceDate:b,disableIgnoringDatePartForTimeValidation:g=!1,maxTime:w,minTime:S,disableFuture:T,disablePast:x,minutesStep:_=1,shouldDisableTime:C,onChange:R,view:A,views:I=["hours","minutes"],openTo:O,onViewChange:M,focusedView:U,onFocusedViewChange:L,className:z,disabled:j,readOnly:H,skipDisabled:$=!1,timezone:q}=i,K=Dt(i,bye),{value:V,handleValueChange:re,timezone:ee}=ih({name:"MultiSectionDigitalClock",timezone:q,value:h,defaultValue:m,referenceDate:b,onChange:R,valueManager:Or}),Y=Jr(),ne=Nd(ee),te=N.useMemo(()=>he({hours:1,minutes:5,seconds:5},o),[o]),G=vL({value:V,referenceDate:b,utils:r,props:i,timezone:ee}),W=St((be,Ie,je)=>re(be,Ie,je)),ue=N.useMemo(()=>!s||!I.includes("hours")||I.includes("meridiem")?I:[...I,"meridiem"],[s,I]),{view:Ee,setValueAndGoToNextView:ge,focusedView:fe}=Lb({view:A,views:ue,openTo:O,onViewChange:M,onChange:W,focusedView:U,onFocusedViewChange:L}),Ae=St(be=>{ge(be,"finish","meridiem")}),{meridiemMode:oe,handleMeridiemChange:de}=$1(G,s,Ae,"finish"),se=N.useCallback((be,Ie)=>{const je=Pb(g,r),ke=Ie==="hours"||Ie==="minutes"&&ue.includes("seconds"),Ge=({start:gt,end:kt})=>!(S&&je(S,kt)||w&&je(gt,w)||T&&je(gt,ne)||x&&je(ne,ke?kt:gt)),Et=(gt,kt=1)=>{if(gt%kt!==0)return!1;if(C)switch(Ie){case"hours":return!C(r.setHours(G,gt),"hours");case"minutes":return!C(r.setMinutes(G,gt),"minutes");case"seconds":return!C(r.setSeconds(G,gt),"seconds");default:return!1}return!0};switch(Ie){case"hours":{const gt=Jg(be,oe,s),kt=r.setHours(G,gt);if(r.getHours(kt)!==gt)return!0;const Ye=r.setSeconds(r.setMinutes(kt,0),0),nt=r.setSeconds(r.setMinutes(kt,59),59);return!Ge({start:Ye,end:nt})||!Et(gt)}case"minutes":{const gt=r.setMinutes(G,be),kt=r.setSeconds(gt,0),Ye=r.setSeconds(gt,59);return!Ge({start:kt,end:Ye})||!Et(be,_)}case"seconds":{const gt=r.setSeconds(G,be);return!Ge({start:gt,end:gt})||!Et(be)}default:throw new Error("not supported")}},[s,G,g,w,oe,S,_,C,r,T,x,ne,ue]),Se=N.useCallback(be=>{switch(be){case"hours":return{onChange:Ie=>{const je=Jg(Ie,oe,s);ge(r.setHours(G,je),"finish","hours")},items:gye({now:ne,value:V,ampm:s,utils:r,isDisabled:Ie=>se(Ie,"hours"),timeStep:te.hours,resolveAriaLabel:Y.hoursClockNumberText,valueOrReferenceDate:G})};case"minutes":return{onChange:Ie=>{ge(r.setMinutes(G,Ie),"finish","minutes")},items:AU({value:r.getMinutes(G),utils:r,isDisabled:Ie=>se(Ie,"minutes"),resolveLabel:Ie=>r.format(r.setMinutes(ne,Ie),"minutes"),timeStep:te.minutes,hasValue:!!V,resolveAriaLabel:Y.minutesClockNumberText})};case"seconds":return{onChange:Ie=>{ge(r.setSeconds(G,Ie),"finish","seconds")},items:AU({value:r.getSeconds(G),utils:r,isDisabled:Ie=>se(Ie,"seconds"),resolveLabel:Ie=>r.format(r.setSeconds(ne,Ie),"seconds"),timeStep:te.seconds,hasValue:!!V,resolveAriaLabel:Y.secondsClockNumberText})};case"meridiem":{const Ie=ho(r,"am"),je=ho(r,"pm");return{onChange:de,items:[{value:"am",label:Ie,isSelected:()=>!!V&&oe==="am",isFocused:()=>!!G&&oe==="am",ariaLabel:Ie},{value:"pm",label:je,isSelected:()=>!!V&&oe==="pm",isFocused:()=>!!G&&oe==="pm",ariaLabel:je}]}}default:throw new Error(`Unknown view: ${be} found.`)}},[ne,V,s,r,te.hours,te.minutes,te.seconds,Y.hoursClockNumberText,Y.minutesClockNumberText,Y.secondsClockNumberText,oe,ge,G,se,de]),me=N.useMemo(()=>{if(!a)return ue;const be=ue.filter(Ie=>Ie!=="meridiem");return be.reverse(),ue.includes("meridiem")&&be.push("meridiem"),be},[a,ue]),ce=N.useMemo(()=>ue.reduce((be,Ie)=>he({},be,{[Ie]:Se(Ie)}),{}),[ue,Se]),pe=i,Te=yye(pe);return y.jsx(vye,he({ref:n,className:wn(Te.root,z),ownerState:pe,role:"group"},K,{children:me.map(be=>y.jsx(mye,{items:ce[be].items,onChange:ce[be].onChange,active:Ee===be,autoFocus:l||fe===be,disabled:j,readOnly:H,slots:d,slotProps:f,skipDisabled:$,"aria-label":Y.selectViewText(be)},be))}))});function Eye(t){return Ln("MuiPickersDay",t)}const rd=qn("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),_ye=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],xye=t=>{const{selected:e,disableMargin:n,disableHighlightToday:r,today:a,disabled:i,outsideCurrentMonth:s,showDaysOutsideCurrentMonth:o,classes:l}=t,d=s&&!o;return Nn({root:["root",e&&!d&&"selected",i&&"disabled",!n&&"dayWithMargin",!r&&a&&"today",s&&o&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Eye,l)},kX=({theme:t})=>he({},t.typography.caption,{width:eb,height:eb,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:t.transitions.create("background-color",{duration:t.transitions.duration.short}),color:(t.vars||t).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Jo(t.palette.primary.main,t.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.focusOpacity})`:Jo(t.palette.primary.main,t.palette.action.focusOpacity),[`&.${rd.selected}`]:{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${rd.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(t.vars||t).palette.primary.dark}},[`&.${rd.disabled}:not(.${rd.selected})`]:{color:(t.vars||t).palette.text.disabled},[`&.${rd.disabled}&.${rd.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${G1}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(t.vars||t).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${rd.selected})`]:{border:`1px solid ${(t.vars||t).palette.text.secondary}`}}}]}),DX=(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableMargin&&e.dayWithMargin,!n.disableHighlightToday&&n.today&&e.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},wye=rt(Bne,{name:"MuiPickersDay",slot:"Root",overridesResolver:DX})(kX),Tye=rt("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:DX})(({theme:t})=>he({},kX({theme:t}),{opacity:0,pointerEvents:"none"})),ag=()=>{},Cye=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersDay"}),{autoFocus:a=!1,className:i,day:s,disabled:o=!1,disableHighlightToday:l=!1,disableMargin:d=!1,isAnimating:f,onClick:h,onDaySelect:m,onFocus:b=ag,onBlur:g=ag,onKeyDown:w=ag,onMouseDown:S=ag,onMouseEnter:T=ag,outsideCurrentMonth:x,selected:_=!1,showDaysOutsideCurrentMonth:C=!1,children:R,today:A=!1}=r,I=Dt(r,_ye),O=he({},r,{autoFocus:a,disabled:o,disableHighlightToday:l,disableMargin:d,selected:_,showDaysOutsideCurrentMonth:C,today:A}),M=xye(O),U=un(),L=N.useRef(null),z=bi(L,n);sl(()=>{a&&!o&&!f&&!x&&L.current.focus()},[a,o,f,x]);const j=$=>{S($),x&&$.preventDefault()},H=$=>{o||m(s),x&&$.currentTarget.focus(),h&&h($)};return x&&!C?y.jsx(Tye,{className:wn(M.root,M.hiddenDaySpacingFiller,i),ownerState:O,role:I.role}):y.jsx(wye,he({className:wn(M.root,i),ref:z,centerRipple:!0,disabled:o,tabIndex:_?0:-1,onKeyDown:$=>w($,s),onFocus:$=>b($,s),onBlur:$=>g($,s),onMouseEnter:$=>T($,s),onClick:H,onMouseDown:j},I,{ownerState:O,children:R||U.format(s,"dayOfMonth")}))}),Rye=N.memo(Cye),sh=({props:t,value:e,timezone:n,adapter:r})=>{if(e===null)return null;const{shouldDisableDate:a,shouldDisableMonth:i,shouldDisableYear:s,disablePast:o,disableFuture:l}=t,d=r.utils.date(void 0,n),f=ni(r.utils,t.minDate,r.defaultDates.minDate),h=ni(r.utils,t.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(a&&a(e)):return"shouldDisableDate";case!!(i&&i(e)):return"shouldDisableMonth";case!!(s&&s(e)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(e,d)):return"disableFuture";case!!(o&&r.utils.isBeforeDay(e,d)):return"disablePast";case!!(f&&r.utils.isBeforeDay(e,f)):return"minDate";case!!(h&&r.utils.isAfterDay(e,h)):return"maxDate";default:return null}};sh.valueManager=Or;const Fb=({adapter:t,value:e,timezone:n,props:r})=>{if(e===null)return null;const{minTime:a,maxTime:i,minutesStep:s,shouldDisableTime:o,disableIgnoringDatePartForTimeValidation:l=!1,disablePast:d,disableFuture:f}=r,h=t.utils.date(void 0,n),m=Pb(l,t.utils);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(a&&m(a,e)):return"minTime";case!!(i&&m(e,i)):return"maxTime";case!!(f&&t.utils.isAfter(e,h)):return"disableFuture";case!!(d&&t.utils.isBefore(e,h)):return"disablePast";case!!(o&&o(e,"hours")):return"shouldDisableTime-hours";case!!(o&&o(e,"minutes")):return"shouldDisableTime-minutes";case!!(o&&o(e,"seconds")):return"shouldDisableTime-seconds";case!!(s&&t.utils.getMinutes(e)%s!==0):return"minutesStep";default:return null}};Fb.valueManager=Or;const K1=({adapter:t,value:e,timezone:n,props:r})=>{const a=sh({adapter:t,value:e,timezone:n,props:r});return a!==null?a:Fb({adapter:t,value:e,timezone:n,props:r})};K1.valueManager=Or;const aM=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],iM=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],OX=["minDateTime","maxDateTime"],Aye=[...aM,...iM,...OX],oh=t=>Aye.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{});function NX(t){const{props:e,validator:n,value:r,timezone:a,onError:i}=t,s=Dd(),o=N.useRef(n.valueManager.defaultErrorState),l=n({adapter:s,value:r,timezone:a,props:e}),d=n.valueManager.hasError(l);N.useEffect(()=>{i&&!n.valueManager.isSameError(l,o.current)&&i(l,r),o.current=l},[n,i,l,r]);const f=St(h=>n({adapter:s,value:h,timezone:a,props:e}));return{validationError:l,hasValidationError:d,getValidationErrorForNewValue:f}}const Iye=({utils:t,format:e})=>{let n=10,r=e,a=t.expandFormat(e);for(;a!==r;)if(r=a,a=t.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return a},kye=({utils:t,expandedFormat:e})=>{const n=[],{start:r,end:a}=t.escapedCharacters,i=new RegExp(`(\\${r}[^\\${a}]*\\${a})+`,"g");let s=null;for(;s=i.exec(e);)n.push({start:s.index,end:i.lastIndex-1});return n},Dye=(t,e,n,r)=>{switch(n.type){case"year":return e.fieldYearPlaceholder({digitAmount:t.formatByString(t.date(void 0,"default"),r).length,format:r});case"month":return e.fieldMonthPlaceholder({contentType:n.contentType,format:r});case"day":return e.fieldDayPlaceholder({format:r});case"weekDay":return e.fieldWeekDayPlaceholder({contentType:n.contentType,format:r});case"hours":return e.fieldHoursPlaceholder({format:r});case"minutes":return e.fieldMinutesPlaceholder({format:r});case"seconds":return e.fieldSecondsPlaceholder({format:r});case"meridiem":return e.fieldMeridiemPlaceholder({format:r});default:return r}},Oye=({utils:t,date:e,shouldRespectLeadingZeros:n,localeText:r,localizedDigits:a,now:i,token:s,startSeparator:o})=>{if(s==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const l=TX(t,s),d=IX(t,l.contentType,l.type,s),f=n?d:l.contentType==="digit",h=e!=null&&t.isValid(e);let m=h?t.formatByString(e,s):"",b=null;if(f)if(d)b=m===""?t.formatByString(i,s).length:m.length;else{if(l.maxLength==null)throw new Error(`MUI X: The token ${s} should have a 'maxDigitNumber' property on it's adapter`);b=l.maxLength,h&&(m=gL(RX(wd(m,a),b),a))}return he({},l,{format:s,maxLength:b,value:m,placeholder:Dye(t,r,l,s),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:f,startSeparator:o,endSeparator:"",modified:!1})},Nye=t=>{const{utils:e,expandedFormat:n,escapedParts:r}=t,a=e.date(void 0),i=[];let s="";const o=Object.keys(e.formatTokenMap).sort((b,g)=>g.length-b.length),l=/^([a-zA-Z]+)/,d=new RegExp(`^(${o.join("|")})*$`),f=new RegExp(`^(${o.join("|")})`),h=b=>r.find(g=>g.start<=b&&g.end>=b);let m=0;for(;m<n.length;){const b=h(m),g=b!=null,w=l.exec(n.slice(m))?.[1];if(!g&&w!=null&&d.test(w)){let S=w;for(;S.length>0;){const T=f.exec(S)[1];S=S.slice(T.length),i.push(Oye(he({},t,{now:a,token:T,startSeparator:s}))),s=""}m+=w.length}else{const S=n[m];g&&b?.start===m||b?.end===m||(i.length===0?s+=S:i[i.length-1].endSeparator+=S),m+=1}}return i.length===0&&s.length>0&&i.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),i},Mye=({isRtl:t,formatDensity:e,sections:n})=>n.map(r=>{const a=i=>{let s=i;return t&&s!==null&&s.includes(" ")&&(s=`${s}`),e==="spacious"&&["/",".","-"].includes(s)&&(s=` ${s} `),s};return r.startSeparator=a(r.startSeparator),r.endSeparator=a(r.endSeparator),r}),IU=t=>{let e=Iye(t);t.isRtl&&t.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const n=kye(he({},t,{expandedFormat:e})),r=Nye(he({},t,{expandedFormat:e,escapedParts:n}));return Mye(he({},t,{sections:r}))},Pye=t=>{const e=un(),n=Jr(),r=Dd(),a=us(),{valueManager:i,fieldValueManager:s,valueType:o,validator:l,internalProps:d,internalProps:{value:f,defaultValue:h,referenceDate:m,onChange:b,format:g,formatDensity:w="dense",selectedSections:S,onSelectedSectionsChange:T,shouldRespectLeadingZeros:x=!1,timezone:_,enableAccessibleFieldDOMStructure:C=!1}}=t,{timezone:R,value:A,handleValueChange:I}=mL({timezone:_,value:f,defaultValue:h,referenceDate:m,onChange:b,valueManager:i}),O=N.useMemo(()=>Mbe(e),[e]),M=N.useMemo(()=>Ube(e,O,R),[e,O,R]),U=N.useCallback((W,ue=null)=>s.getSectionsFromValue(e,W,ue,Ee=>IU({utils:e,localeText:n,localizedDigits:O,format:g,date:Ee,formatDensity:w,shouldRespectLeadingZeros:x,enableAccessibleFieldDOMStructure:C,isRtl:a})),[s,g,n,O,a,x,e,w,C]),[L,z]=N.useState(()=>{const W=U(A),ue={sections:W,value:A,referenceValue:i.emptyValue,tempValueStrAndroid:null},Ee=kbe(W),ge=i.getInitialReferenceValue({referenceDate:m,value:A,utils:e,props:d,granularity:Ee,timezone:R});return he({},ue,{referenceValue:ge})}),[j,H]=xd({controlled:S,default:null,name:"useField",state:"selectedSections"}),$=W=>{H(W),T?.(W)},q=N.useMemo(()=>rM(j,L.sections),[j,L.sections]),K=q==="all"?0:q,V=({value:W,referenceValue:ue,sections:Ee})=>{if(z(fe=>he({},fe,{sections:Ee,value:W,referenceValue:ue,tempValueStrAndroid:null})),i.areValuesEqual(e,L.value,W))return;const ge={validationError:l({adapter:r,value:W,timezone:R,props:d})};I(W,ge)},re=(W,ue)=>{const Ee=[...L.sections];return Ee[W]=he({},Ee[W],{value:ue,modified:!0}),Ee},ee=()=>{V({value:i.emptyValue,referenceValue:L.referenceValue,sections:U(i.emptyValue)})},Y=()=>{if(K==null)return;const W=L.sections[K],ue=s.getActiveDateManager(e,L,W),ge=ue.getSections(L.sections).filter(de=>de.value!=="").length===(W.value===""?0:1),fe=re(K,""),Ae=ge?null:e.getInvalidDate(),oe=ue.getNewValuesFromNewActiveDate(Ae);V(he({},oe,{sections:fe}))},ne=W=>{const ue=(fe,Ae)=>{const oe=e.parse(fe,g);if(oe==null||!e.isValid(oe))return null;const de=IU({utils:e,localeText:n,localizedDigits:O,format:g,date:oe,formatDensity:w,shouldRespectLeadingZeros:x,enableAccessibleFieldDOMStructure:C,isRtl:a});return CU(e,oe,de,Ae,!1)},Ee=s.parseValueStr(W,L.referenceValue,ue),ge=s.updateReferenceValue(e,Ee,L.referenceValue);V({value:Ee,referenceValue:ge,sections:U(Ee,L.sections)})},te=({activeSection:W,newSectionValue:ue,shouldGoToNextSection:Ee})=>{Ee&&K<L.sections.length-1&&$(K+1);const ge=s.getActiveDateManager(e,L,W),fe=re(K,ue),Ae=ge.getSections(fe),oe=Fbe(e,Ae,O);let de,se;if(oe!=null&&e.isValid(oe)){const Se=CU(e,oe,Ae,ge.referenceDate,!0);de=ge.getNewValuesFromNewActiveDate(Se),se=!0}else de=ge.getNewValuesFromNewActiveDate(oe),se=(oe!=null&&!e.isValid(oe))!=(ge.date!=null&&!e.isValid(ge.date));return se?V(he({},de,{sections:fe})):z(Se=>he({},Se,de,{sections:fe,tempValueStrAndroid:null}))},G=W=>z(ue=>he({},ue,{tempValueStrAndroid:W}));return N.useEffect(()=>{const W=U(L.value);z(ue=>he({},ue,{sections:W}))},[g,e.locale,a]),N.useEffect(()=>{let W;i.areValuesEqual(e,L.value,A)?W=i.getTimezone(e,L.value)!==i.getTimezone(e,A):W=!0,W&&z(ue=>he({},ue,{value:A,referenceValue:s.updateReferenceValue(e,A,ue.referenceValue),sections:U(A)}))},[A]),{state:L,activeSectionIndex:K,parsedSelectedSections:q,setSelectedSections:$,clearValue:ee,clearActiveSection:Y,updateSectionValue:te,updateValueFromValueStr:ne,setTempAndroidValueStr:G,getSectionsFromValue:U,sectionsValueBoundaries:M,localizedDigits:O,timezone:R}},Lye=5e3,lp=t=>t.saveQuery!=null,Fye=({sections:t,updateSectionValue:e,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:a,timezone:i})=>{const s=un(),[o,l]=N.useState(null),d=St(()=>l(null));N.useEffect(()=>{o!=null&&t[o.sectionIndex]?.type!==o.sectionType&&d()},[t,o,d]),N.useEffect(()=>{if(o!=null){const g=setTimeout(()=>d(),Lye);return()=>{clearTimeout(g)}}return()=>{}},[o,d]);const f=({keyPressed:g,sectionIndex:w},S,T)=>{const x=g.toLowerCase(),_=t[w];if(o!=null&&(!T||T(o.value))&&o.sectionIndex===w){const R=`${o.value}${x}`,A=S(R,_);if(!lp(A))return l({sectionIndex:w,value:R,sectionType:_.type}),A}const C=S(x,_);return lp(C)&&!C.saveQuery?(d(),null):(l({sectionIndex:w,value:x,sectionType:_.type}),lp(C)?null:C)},h=g=>{const w=(x,_,C)=>{const R=_.filter(A=>A.toLowerCase().startsWith(C));return R.length===0?{saveQuery:!1}:{sectionValue:R[0],shouldGoToNextSection:R.length===1}},S=(x,_,C,R)=>{const A=I=>CX(s,i,_.type,I);if(_.contentType==="letter")return w(_.format,A(_.format),x);if(C&&R!=null&&TX(s,C).contentType==="letter"){const I=A(C),O=w(C,I,x);return lp(O)?{saveQuery:!1}:he({},O,{sectionValue:R(O.sectionValue,I)})}return{saveQuery:!1}};return f(g,(x,_)=>{switch(_.type){case"month":{const C=R=>wU(s,R,s.formats.month,_.format);return S(x,_,s.formats.month,C)}case"weekDay":{const C=(R,A)=>A.indexOf(R).toString();return S(x,_,s.formats.weekday,C)}case"meridiem":return S(x,_);default:return{saveQuery:!1}}})},m=g=>{const w=(T,x)=>{const _=wd(T,r),C=Number(_),R=n[x.type]({currentDate:null,format:x.format,contentType:x.contentType});if(C>R.maximum)return{saveQuery:!1};if(C<R.minimum)return{saveQuery:!0};const A=C*10>R.maximum||_.length===R.maximum.toString().length;return{sectionValue:AX(s,C,R,r,x),shouldGoToNextSection:A}};return f(g,(T,x)=>{if(x.contentType==="digit"||x.contentType==="digit-with-letter")return w(T,x);if(x.type==="month"){IX(s,"digit","month","MM");const _=w(T,{type:x.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(lp(_))return _;const C=wU(s,_.sectionValue,"MM",x.format);return he({},_,{sectionValue:C})}if(x.type==="weekDay"){const _=w(T,x);if(lp(_))return _;const C=Y1(s,x.format)[Number(_.sectionValue)-1];return he({},_,{sectionValue:C})}return{saveQuery:!1}},T=>xU(T,r))};return{applyCharacterEditing:St(g=>{const w=t[g.sectionIndex],T=xU(g.keyPressed,r)?m(he({},g,{keyPressed:gL(g.keyPressed,r)})):h(g);if(T==null){a(null);return}e({activeSection:w,newSectionValue:T.sectionValue,shouldGoToNextSection:T.shouldGoToNextSection})}),resetCharacterQuery:d}},Bye=t=>{const{internalProps:{disabled:e,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:a,onClick:i,onFocus:s,onInput:o,onPaste:l,focused:d,autoFocus:f=!1},fieldValueManager:h,applyCharacterEditing:m,resetCharacterQuery:b,setSelectedSections:g,parsedSelectedSections:w,state:S,clearActiveSection:T,clearValue:x,updateSectionValue:_,updateValueFromValueStr:C,sectionOrder:R,areAllSectionsEmpty:A,sectionsValueBoundaries:I}=t,O=N.useRef(null),M=bi(r,O),U=Jr(),L=un(),z=rh(),[j,H]=N.useState(!1),$=N.useMemo(()=>({syncSelectionToDOM:()=>{if(!O.current)return;const se=document.getSelection();if(!se)return;if(w==null){se.rangeCount>0&&O.current.getRoot().contains(se.getRangeAt(0).startContainer)&&se.removeAllRanges(),j&&O.current.getRoot().blur();return}if(!O.current.getRoot().contains(hi(document)))return;const Se=new window.Range;let me;w==="all"?me=O.current.getRoot():S.sections[w].type==="empty"?me=O.current.getSectionContainer(w):me=O.current.getSectionContent(w),Se.selectNodeContents(me),me.focus(),se.removeAllRanges(),se.addRange(Se)},getActiveSectionIndexFromDOM:()=>{const se=hi(document);return!se||!O.current||!O.current.getRoot().contains(se)?null:O.current.getSectionIndexFromDOMElement(se)},focusField:(se=0)=>{if(!O.current||$.getActiveSectionIndexFromDOM()!=null)return;const Se=rM(se,S.sections);H(!0),O.current.getSectionContent(Se).focus()},setSelectedSections:se=>{if(!O.current)return;const Se=rM(se,S.sections);H((Se==="all"?0:Se)!==null),g(se)},isFieldFocused:()=>{const se=hi(document);return!!O.current&&O.current.getRoot().contains(se)}}),[w,g,S.sections,j]),q=St(se=>{if(!O.current)return;const Se=S.sections[se];O.current.getSectionContent(se).innerHTML=Se.value||Se.placeholder,$.syncSelectionToDOM()}),K=St((se,...Se)=>{se.isDefaultPrevented()||!O.current||(H(!0),i?.(se,...Se),w==="all"?setTimeout(()=>{const me=document.getSelection().getRangeAt(0).startOffset;if(me===0){g(R.startIndex);return}let ce=0,pe=0;for(;pe<me&&ce<S.sections.length;){const Te=S.sections[ce];ce+=1,pe+=`${Te.startSeparator}${Te.value||Te.placeholder}${Te.endSeparator}`.length}g(ce-1)}):j?O.current.getRoot().contains(se.target)||g(R.startIndex):(H(!0),g(R.startIndex)))}),V=St(se=>{if(o?.(se),!O.current||w!=="all")return;const me=se.target.textContent??"";O.current.getRoot().innerHTML=S.sections.map(ce=>`${ce.startSeparator}${ce.value||ce.placeholder}${ce.endSeparator}`).join(""),$.syncSelectionToDOM(),me.length===0||me.charCodeAt(0)===10?(b(),x(),g("all")):me.length>1?C(me):(w==="all"&&g(0),m({keyPressed:me,sectionIndex:0}))}),re=St(se=>{if(l?.(se),n||w!=="all"){se.preventDefault();return}const Se=se.clipboardData.getData("text");se.preventDefault(),b(),C(Se)}),ee=St((...se)=>{if(s?.(...se),j||!O.current)return;H(!0),O.current.getSectionIndexFromDOMElement(hi(document))!=null||g(R.startIndex)}),Y=St((...se)=>{a?.(...se),setTimeout(()=>{if(!O.current)return;const Se=hi(document);!O.current.getRoot().contains(Se)&&(H(!1),g(null))})}),ne=St(se=>Se=>{Se.isDefaultPrevented()||g(se)}),te=St(se=>{se.preventDefault()}),G=St(se=>()=>{g(se)}),W=St(se=>{if(se.preventDefault(),n||e||typeof w!="number")return;const Se=S.sections[w],me=se.clipboardData.getData("text"),ce=/^[a-zA-Z]+$/.test(me),pe=/^[0-9]+$/.test(me),Te=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(me);Se.contentType==="letter"&&ce||Se.contentType==="digit"&&pe||Se.contentType==="digit-with-letter"&&Te?(b(),_({activeSection:Se,newSectionValue:me,shouldGoToNextSection:!0})):!ce&&!pe&&(b(),C(me))}),ue=St(se=>{se.preventDefault(),se.dataTransfer.dropEffect="none"}),Ee=St(se=>{if(!O.current)return;const Se=se.target,me=Se.textContent??"",ce=O.current.getSectionIndexFromDOMElement(Se),pe=S.sections[ce];if(n||!O.current){q(ce);return}if(me.length===0){if(pe.value===""){q(ce);return}const Te=se.nativeEvent.inputType;if(Te==="insertParagraph"||Te==="insertLineBreak"){q(ce);return}b(),T();return}m({keyPressed:me,sectionIndex:ce}),q(ce)});sl(()=>{if(!(!j||!O.current)){if(w==="all")O.current.getRoot().focus();else if(typeof w=="number"){const se=O.current.getSectionContent(w);se&&se.focus()}}},[w,j]);const ge=N.useMemo(()=>S.sections.reduce((se,Se)=>(se[Se.type]=I[Se.type]({currentDate:null,contentType:Se.contentType,format:Se.format}),se),{}),[I,S.sections]),fe=w==="all",Ae=N.useMemo(()=>S.sections.map((se,Se)=>{const me=!fe&&!e&&!n;return{container:{"data-sectionindex":Se,onClick:ne(Se)},content:{tabIndex:fe||Se>0?-1:0,contentEditable:!fe&&!e&&!n,role:"spinbutton",id:`${z}-${se.type}`,"aria-labelledby":`${z}-${se.type}`,"aria-readonly":n,"aria-valuenow":Hbe(se,L),"aria-valuemin":ge[se.type].minimum,"aria-valuemax":ge[se.type].maximum,"aria-valuetext":se.value?Gbe(se,L):U.empty,"aria-label":U[se.type],"aria-disabled":e,spellCheck:me?!1:void 0,autoCapitalize:me?"off":void 0,autoCorrect:me?"off":void 0,[parseInt(N.version,10)>=17?"enterKeyHint":"enterkeyhint"]:me?"next":void 0,children:se.value||se.placeholder,onInput:Ee,onPaste:W,onFocus:G(Se),onDragOver:ue,onMouseUp:te,inputMode:se.contentType==="letter"?"text":"numeric"},before:{children:se.startSeparator},after:{children:se.endSeparator}}}),[S.sections,G,W,ue,Ee,ne,te,e,n,fe,U,L,ge,z]),oe=St(se=>{C(se.target.value)}),de=N.useMemo(()=>A?"":h.getV7HiddenInputValueFromSections(S.sections),[A,S.sections,h]);return N.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));f&&O.current&&O.current.getSectionContent(R.startIndex).focus()},[]),{interactions:$,returnedValue:{autoFocus:f,readOnly:n,focused:d??j,sectionListRef:M,onBlur:Y,onClick:K,onFocus:ee,onInput:V,onPaste:re,enableAccessibleFieldDOMStructure:!0,elements:Ae,tabIndex:w===0?-1:0,contentEditable:fe,value:de,onChange:oe,areAllSectionsEmpty:A}}},Sp=t=>t.replace(/[\u2066\u2067\u2068\u2069]/g,""),jye=(t,e,n)=>{let r=0,a=n?1:0;const i=[];for(let s=0;s<t.length;s+=1){const o=t[s],l=bL(o,n?"input-rtl":"input-ltr",e),d=`${o.startSeparator}${l}${o.endSeparator}`,f=Sp(d).length,h=d.length,m=Sp(l),b=a+(m===""?0:l.indexOf(m[0]))+o.startSeparator.length,g=b+m.length;i.push(he({},o,{start:r,end:r+f,startInInput:b,endInInput:g})),r+=f,a+=h}return i},Uye=t=>{const e=us(),n=N.useRef(void 0),r=N.useRef(void 0),{forwardedProps:{onFocus:a,onClick:i,onPaste:s,onBlur:o,inputRef:l,placeholder:d},internalProps:{readOnly:f=!1,disabled:h=!1},parsedSelectedSections:m,activeSectionIndex:b,state:g,fieldValueManager:w,valueManager:S,applyCharacterEditing:T,resetCharacterQuery:x,updateSectionValue:_,updateValueFromValueStr:C,clearActiveSection:R,clearValue:A,setTempAndroidValueStr:I,setSelectedSections:O,getSectionsFromValue:M,areAllSectionsEmpty:U,localizedDigits:L}=t,z=N.useRef(null),j=bi(l,z),H=N.useMemo(()=>jye(g.sections,L,e),[g.sections,L,e]),$=N.useMemo(()=>({syncSelectionToDOM:()=>{if(!z.current)return;if(m==null){z.current.scrollLeft&&(z.current.scrollLeft=0);return}if(z.current!==hi(document))return;const Ee=z.current.scrollTop;if(m==="all")z.current.select();else{const ge=H[m],fe=ge.type==="empty"?ge.startInInput-ge.startSeparator.length:ge.startInInput,Ae=ge.type==="empty"?ge.endInInput+ge.endSeparator.length:ge.endInInput;(fe!==z.current.selectionStart||Ae!==z.current.selectionEnd)&&z.current===hi(document)&&z.current.setSelectionRange(fe,Ae),clearTimeout(r.current),r.current=setTimeout(()=>{z.current&&z.current===hi(document)&&z.current.selectionStart===z.current.selectionEnd&&(z.current.selectionStart!==fe||z.current.selectionEnd!==Ae)&&$.syncSelectionToDOM()})}z.current.scrollTop=Ee},getActiveSectionIndexFromDOM:()=>{const Ee=z.current.selectionStart??0,ge=z.current.selectionEnd??0;if(Ee===0&&ge===0)return null;const fe=Ee<=H[0].startInInput?1:H.findIndex(Ae=>Ae.startInInput-Ae.startSeparator.length>Ee);return fe===-1?H.length-1:fe-1},focusField:(Ee=0)=>{hi(document)!==z.current&&(z.current?.focus(),O(Ee))},setSelectedSections:Ee=>O(Ee),isFieldFocused:()=>z.current===hi(document)}),[z,m,H,O]),q=()=>{const Ee=z.current.selectionStart??0;let ge;Ee<=H[0].startInInput||Ee>=H[H.length-1].endInInput?ge=1:ge=H.findIndex(Ae=>Ae.startInInput-Ae.startSeparator.length>Ee);const fe=ge===-1?H.length-1:ge-1;O(fe)},K=St((...Ee)=>{a?.(...Ee);const ge=z.current;clearTimeout(n.current),n.current=setTimeout(()=>{!ge||ge!==z.current||b==null&&(ge.value.length&&Number(ge.selectionEnd)-Number(ge.selectionStart)===ge.value.length?O("all"):q())})}),V=St((Ee,...ge)=>{Ee.isDefaultPrevented()||(i?.(Ee,...ge),q())}),re=St(Ee=>{if(s?.(Ee),Ee.preventDefault(),f||h)return;const ge=Ee.clipboardData.getData("text");if(typeof m=="number"){const fe=g.sections[m],Ae=/^[a-zA-Z]+$/.test(ge),oe=/^[0-9]+$/.test(ge),de=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(ge);if(fe.contentType==="letter"&&Ae||fe.contentType==="digit"&&oe||fe.contentType==="digit-with-letter"&&de){x(),_({activeSection:fe,newSectionValue:ge,shouldGoToNextSection:!0});return}if(Ae||oe)return}x(),C(ge)}),ee=St((...Ee)=>{o?.(...Ee),O(null)}),Y=St(Ee=>{if(f)return;const ge=Ee.target.value;if(ge===""){x(),A();return}const fe=Ee.nativeEvent.data,Ae=fe&&fe.length>1,oe=Ae?fe:ge,de=Sp(oe);if(m==="all"&&O(b),b==null||Ae){C(Ae?fe:de);return}let se;if(m==="all"&&de.length===1)se=de;else{const Se=Sp(w.getV6InputValueFromSections(H,L,e));let me=-1,ce=-1;for(let Ie=0;Ie<Se.length;Ie+=1)me===-1&&Se[Ie]!==de[Ie]&&(me=Ie),ce===-1&&Se[Se.length-Ie-1]!==de[de.length-Ie-1]&&(ce=Ie);const pe=H[b];if(me<pe.start||Se.length-ce-1>pe.end)return;const be=de.length-Se.length+pe.end-Sp(pe.endSeparator||"").length;se=de.slice(pe.start+Sp(pe.startSeparator||"").length,be)}if(se.length===0){qbe()&&I(oe),x(),R();return}T({keyPressed:se,sectionIndex:b})}),ne=N.useMemo(()=>d!==void 0?d:w.getV6InputValueFromSections(M(S.emptyValue),L,e),[d,w,M,S.emptyValue,L,e]),te=N.useMemo(()=>g.tempValueStrAndroid??w.getV6InputValueFromSections(g.sections,L,e),[g.sections,w,g.tempValueStrAndroid,L,e]);N.useEffect(()=>(z.current&&z.current===hi(document)&&O("all"),()=>{clearTimeout(n.current),clearTimeout(r.current)}),[]);const G=N.useMemo(()=>b==null||g.sections[b].contentType==="letter"?"text":"numeric",[b,g.sections]),ue=!(z.current&&z.current===hi(document))&&U;return{interactions:$,returnedValue:{readOnly:f,onBlur:ee,onClick:V,onFocus:K,onPaste:re,inputRef:j,enableAccessibleFieldDOMStructure:!1,placeholder:ne,inputMode:G,autoComplete:"off",value:ue?"":te,onChange:Y}}},EL=t=>{const e=un(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:a,enableAccessibleFieldDOMStructure:i=!1,disabled:s=!1,readOnly:o=!1},forwardedProps:{onKeyDown:l,error:d,clearable:f,onClear:h},fieldValueManager:m,valueManager:b,validator:g}=t,w=us(),S=Pye(t),{state:T,activeSectionIndex:x,parsedSelectedSections:_,setSelectedSections:C,clearValue:R,clearActiveSection:A,updateSectionValue:I,setTempAndroidValueStr:O,sectionsValueBoundaries:M,localizedDigits:U,timezone:L}=S,z=Fye({sections:T.sections,updateSectionValue:I,sectionsValueBoundaries:M,localizedDigits:U,setTempAndroidValueStr:O,timezone:L}),{resetCharacterQuery:j}=z,H=b.areValuesEqual(e,T.value,b.emptyValue),$=i?Bye:Uye,q=N.useMemo(()=>$be(T.sections,w&&!i),[T.sections,w,i]),{returnedValue:K,interactions:V}=$(he({},t,S,z,{areAllSectionsEmpty:H,sectionOrder:q})),re=St(W=>{if(l?.(W),!s)switch(!0){case((W.ctrlKey||W.metaKey)&&String.fromCharCode(W.keyCode)==="A"&&!W.shiftKey&&!W.altKey):{W.preventDefault(),C("all");break}case W.key==="ArrowRight":{if(W.preventDefault(),_==null)C(q.startIndex);else if(_==="all")C(q.endIndex);else{const ue=q.neighbors[_].rightIndex;ue!==null&&C(ue)}break}case W.key==="ArrowLeft":{if(W.preventDefault(),_==null)C(q.endIndex);else if(_==="all")C(q.startIndex);else{const ue=q.neighbors[_].leftIndex;ue!==null&&C(ue)}break}case W.key==="Delete":{if(W.preventDefault(),o)break;_==null||_==="all"?R():A(),j();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(W.key):{if(W.preventDefault(),o||x==null)break;_==="all"&&C(x);const ue=T.sections[x],Ee=m.getActiveDateManager(e,T,ue),ge=Pbe(e,L,ue,W.key,M,U,Ee.date,{minutesStep:a});I({activeSection:ue,newSectionValue:ge,shouldGoToNextSection:!1});break}}});sl(()=>{V.syncSelectionToDOM()});const{hasValidationError:ee}=NX({props:n,validator:g,timezone:L,value:T.value,onError:n.onError}),Y=N.useMemo(()=>d!==void 0?d:ee,[ee,d]);N.useEffect(()=>{!Y&&x==null&&j()},[T.referenceValue,x,Y]),N.useEffect(()=>{T.tempValueStrAndroid!=null&&x!=null&&(j(),A())},[T.sections]),N.useImperativeHandle(r,()=>({getSections:()=>T.sections,getActiveSectionIndex:V.getActiveSectionIndexFromDOM,setSelectedSections:V.setSelectedSections,focusField:V.focusField,isFieldFocused:V.isFieldFocused}));const ne=St((W,...ue)=>{W.preventDefault(),h?.(W,...ue),R(),V.isFieldFocused()?C(q.startIndex):V.focusField(0)}),te={onKeyDown:re,onClear:ne,error:Y,clearable:!!(f&&!H&&!o&&!s)},G={disabled:s,readOnly:o};return he({},t.forwardedProps,te,G,K)},zye=["clearable","onClear","InputProps","sx","slots","slotProps"],qye=["ownerState"],_L=t=>{const e=Jr(),{clearable:n,onClear:r,InputProps:a,sx:i,slots:s,slotProps:o}=t,l=Dt(t,zye),d=s?.clearButton??Ct,f=jn({elementType:d,externalSlotProps:o?.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),h=Dt(f,qye),m=s?.clearIcon??Uge,b=jn({elementType:m,externalSlotProps:o?.clearIcon,ownerState:{}});return he({},l,{InputProps:he({},a,{endAdornment:y.jsxs(N.Fragment,{children:[n&&y.jsx(Ip,{position:"end",sx:{marginRight:a?.endAdornment?-1:-1.5},children:y.jsx(d,he({},h,{onClick:r,children:y.jsx(m,he({fontSize:"small"},b))}))}),a?.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(i)?i:[i]]})},$ye=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],xL=(t,e)=>N.useMemo(()=>{const n=he({},t),r={},a=i=>{n.hasOwnProperty(i)&&(r[i]=n[i],delete n[i])};return $ye.forEach(a),e==="date"?aM.forEach(a):e==="time"?iM.forEach(a):e==="date-time"&&(aM.forEach(a),iM.forEach(a),OX.forEach(a)),{forwardedProps:n,internalProps:r}},[t,e]),Gye=N.createContext(null);function MX(t){const{contextValue:e,localeText:n,children:r}=t;return y.jsx(Gye.Provider,{value:e,children:y.jsx(q1,{localeText:n,children:r})})}const Hye=t=>{const e=un(),n=Od();return he({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??e.formats.keyboardDate,minDate:ni(e,t.minDate,n.minDate),maxDate:ni(e,t.maxDate,n.maxDate)})},Vye=t=>{const e=un(),r=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.fullTime12h:e.formats.fullTime24h;return he({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??r})},Wye=t=>{const e=un(),n=Od(),a=t.ampm??e.is12HourCycleInCurrentLocale()?e.formats.keyboardDateTime12h:e.formats.keyboardDateTime24h;return he({},t,{disablePast:t.disablePast??!1,disableFuture:t.disableFuture??!1,format:t.format??a,disableIgnoringDatePartForTimeValidation:!!(t.minDateTime||t.maxDateTime),minDate:ni(e,t.minDateTime??t.minDate,n.minDate),maxDate:ni(e,t.maxDateTime??t.maxDate,n.maxDate),minTime:t.minDateTime??t.minTime,maxTime:t.maxDateTime??t.maxTime})},Yye=t=>{const e=Hye(t),{forwardedProps:n,internalProps:r}=xL(e,"date");return EL({forwardedProps:n,internalProps:r,valueManager:Or,fieldValueManager:yL,validator:sh,valueType:"date"})};function Kye(t){return Ln("MuiPickersTextField",t)}qn("MuiPickersTextField",["root","focused","disabled","error","required"]);function Xye(t){return Ln("MuiPickersInputBase",t)}const Tp=qn("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function Zye(t){return Ln("MuiPickersSectionList",t)}const ig=qn("MuiPickersSectionList",["root","section","sectionContent"]),Qye=["slots","slotProps","elements","sectionListRef"],PX=rt("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(t,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),LX=rt("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(t,e)=>e.section})({}),FX=rt("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(t,e)=>e.sectionSeparator})({whiteSpace:"pre"}),BX=rt("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(t,e)=>e.sectionContent})({outline:"none"}),Jye=t=>{const{classes:e}=t;return Nn({root:["root"],section:["section"],sectionContent:["sectionContent"]},Zye,e)};function eve(t){const{slots:e,slotProps:n,element:r,classes:a}=t,i=e?.section??LX,s=jn({elementType:i,externalSlotProps:n?.section,externalForwardedProps:r.container,className:a.section,ownerState:{}}),o=e?.sectionContent??BX,l=jn({elementType:o,externalSlotProps:n?.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:a.sectionContent,ownerState:{}}),d=e?.sectionSeparator??FX,f=jn({elementType:d,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),h=jn({elementType:d,externalSlotProps:n?.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return y.jsxs(i,he({},s,{children:[y.jsx(d,he({},f)),y.jsx(o,he({},l)),y.jsx(d,he({},h))]}))}const tve=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersSectionList"}),{slots:a,slotProps:i,elements:s,sectionListRef:o}=r,l=Dt(r,Qye),d=Jye(r),f=N.useRef(null),h=bi(n,f),m=w=>{if(!f.current)throw new Error(`MUI X: Cannot call sectionListRef.${w} before the mount of the component.`);return f.current};N.useImperativeHandle(o,()=>({getRoot(){return m("getRoot")},getSectionContainer(w){return m("getSectionContainer").querySelector(`.${ig.section}[data-sectionindex="${w}"]`)},getSectionContent(w){return m("getSectionContent").querySelector(`.${ig.section}[data-sectionindex="${w}"] .${ig.sectionContent}`)},getSectionIndexFromDOMElement(w){const S=m("getSectionIndexFromDOMElement");if(w==null||!S.contains(w))return null;let T=null;return w.classList.contains(ig.section)?T=w:w.classList.contains(ig.sectionContent)&&(T=w.parentElement),T==null?null:Number(T.dataset.sectionindex)}}));const b=a?.root??PX,g=jn({elementType:b,externalSlotProps:i?.root,externalForwardedProps:l,additionalProps:{ref:h,suppressContentEditableWarning:!0},className:d.root,ownerState:{}});return y.jsx(b,he({},g,{children:g.contentEditable?s.map(({content:w,before:S,after:T})=>`${S.children}${w.children}${T.children}`).join(""):y.jsx(N.Fragment,{children:s.map((w,S)=>y.jsx(eve,{slots:a,slotProps:i,element:w,classes:d},S))})}))}),nve=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],rve=t=>Math.round(t*1e5)/1e5,X1=rt("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>he({},t.typography.body1,{color:(t.vars||t).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${rve(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),wL=rt(PX,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})(({theme:t})=>({padding:"4px 0 5px",fontFamily:t.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:n,filled:r,label:a})=>!e&&!n&&!r&&a==null,style:t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:t.palette.mode==="light"?.42:.5}}]})),ave=rt(LX,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(t,e)=>e.section})(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),ive=rt(BX,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(t,e)=>e.content})(({theme:t})=>({fontFamily:t.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),sve=rt(FX,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(t,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),ove=rt("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(t,e)=>e.hiddenInput})(he({},xge)),lve=t=>{const{focused:e,disabled:n,error:r,classes:a,fullWidth:i,readOnly:s,color:o,size:l,endAdornment:d,startAdornment:f}=t,h={root:["root",e&&!n&&"focused",n&&"disabled",s&&"readOnly",r&&"error",i&&"fullWidth",`color${Sge(o)}`,l==="small"&&"inputSizeSmall",!!f&&"adornedStart",!!d&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return Nn(h,Xye,a)},TL=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersInputBase"}),{elements:a,areAllSectionsEmpty:i,value:s,onChange:o,id:l,endAdornment:d,startAdornment:f,renderSuffix:h,slots:m,slotProps:b,contentEditable:g,tabIndex:w,onInput:S,onPaste:T,onKeyDown:x,name:_,readOnly:C,inputProps:R,inputRef:A,sectionListRef:I}=r,O=Dt(r,nve),M=N.useRef(null),U=bi(n,M),L=bi(R?.ref,A),z=us(),j=r1();if(!j)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const H=ee=>{if(j.disabled){ee.stopPropagation();return}j.onFocus?.(ee)};N.useEffect(()=>{j&&j.setAdornedStart(!!f)},[j,f]),N.useEffect(()=>{j&&(i?j.onEmpty():j.onFilled())},[j,i]);const $=he({},r,j,{isRtl:z}),q=lve($),K=m?.root||X1,V=jn({elementType:K,externalSlotProps:b?.root,externalForwardedProps:O,additionalProps:{"aria-invalid":j.error,ref:U},className:q.root,ownerState:$}),re=m?.input||wL;return y.jsxs(K,he({},V,{children:[f,y.jsx(tve,{sectionListRef:I,elements:a,contentEditable:g,tabIndex:w,className:q.sectionsContainer,onFocus:H,onBlur:j.onBlur,onInput:S,onPaste:T,onKeyDown:x,slots:{root:re,section:ave,sectionContent:ive,sectionSeparator:sve},slotProps:{root:{ownerState:$},sectionContent:{className:Tp.sectionContent},sectionSeparator:({position:ee})=>({className:ee==="before"?Tp.sectionBefore:Tp.sectionAfter})}}),d,h?h(he({},j)):null,y.jsx(ove,he({name:_,className:q.input,value:s,onChange:o,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:C,required:j.required,disabled:j.disabled},R,{ref:L}))]}))});function cve(t){return Ln("MuiPickersOutlinedInput",t)}const ao=he({},Tp,qn("MuiPickersOutlinedInput",["root","notchedOutline","input"])),uve=["children","className","label","notched","shrink"],dve=rt("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),kU=rt("span")(({theme:t})=>({fontFamily:t.typography.fontFamily,fontSize:"inherit"})),fve=rt("legend")(({theme:t})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}));function pve(t){const{className:e,label:n}=t,r=Dt(t,uve),a=n!=null&&n!=="",i=he({},t,{withLabel:a});return y.jsx(dve,he({"aria-hidden":!0,className:e},r,{ownerState:i,children:y.jsx(fve,{ownerState:i,children:a?y.jsx(kU,{children:n}):y.jsx(kU,{className:"notranslate",children:""})})}))}const hve=["label","autoFocus","ownerState","notched"],mve=rt(X1,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${ao.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${ao.focused} .${ao.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ao.disabled}`]:{[`& .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled},"*":{color:(t.vars||t).palette.action.disabled}},[`&.${ao.error} .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},variants:Object.keys((t.vars??t).palette).filter(n=>(t.vars??t).palette[n]?.main??!1).map(n=>({props:{color:n},style:{[`&.${ao.focused}:not(.${ao.error}) .${ao.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}))}}),gve=rt(wL,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),bve=t=>{const{classes:e}=t,r=Nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},cve,e);return he({},e,r)},jX=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersOutlinedInput"}),{label:a,ownerState:i,notched:s}=r,o=Dt(r,hve),l=r1(),d=he({},r,i,l,{color:l?.color||"primary"}),f=bve(d);return y.jsx(TL,he({slots:{root:mve,input:gve},renderSuffix:h=>y.jsx(pve,{shrink:!!(s||h.adornedStart||h.focused||h.filled),notched:!!(s||h.adornedStart||h.focused||h.filled),className:f.notchedOutline,label:a!=null&&a!==""&&l?.required?y.jsxs(N.Fragment,{children:[a,"","*"]}):a,ownerState:d})},o,{label:a,classes:f,ref:n}))});jX.muiName="Input";function yve(t){return Ln("MuiPickersFilledInput",t)}const ad=he({},Tp,qn("MuiPickersFilledInput",["root","underline","input"])),vve=["label","autoFocus","disableUnderline","ownerState"],Sve=rt(X1,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>jne(t)&&t!=="disableUnderline"})(({theme:t})=>{const e=t.palette.mode==="light",n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${ad.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${ad.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[...Object.keys((t.vars??t).palette).filter(s=>(t.vars??t).palette[s].main).map(s=>({props:{color:s,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[s]?.main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ad.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ad.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ad.disabled}, .${ad.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ad.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:s})=>!!s,style:{paddingLeft:12}},{props:({endAdornment:s})=>!!s,style:{paddingRight:12}}]}}),Eve=rt(wL,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(t,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:t})=>!!t,style:{paddingLeft:0}},{props:({endAdornment:t})=>!!t,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),_ve=t=>{const{classes:e,disableUnderline:n}=t,a=Nn({root:["root",!n&&"underline"],input:["input"]},yve,e);return he({},e,a)},UX=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersFilledInput"}),{label:a,disableUnderline:i=!1,ownerState:s}=r,o=Dt(r,vve),l=r1(),d=he({},r,s,l,{color:l?.color||"primary"}),f=_ve(d);return y.jsx(TL,he({slots:{root:Sve,input:Eve},slotProps:{root:{disableUnderline:i}}},o,{label:a,classes:f,ref:n}))});UX.muiName="Input";function xve(t){return Ln("MuiPickersFilledInput",t)}const sg=he({},Tp,qn("MuiPickersInput",["root","input"])),wve=["label","autoFocus","disableUnderline","ownerState"],Tve=rt(X1,{name:"MuiPickersInput",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((t.vars??t).palette).filter(r=>(t.vars??t).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${sg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${sg.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${sg.disabled}, .${sg.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${sg.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Cve=t=>{const{classes:e,disableUnderline:n}=t,a=Nn({root:["root",!n&&"underline"],input:["input"]},xve,e);return he({},e,a)},zX=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersInput"}),{label:a,disableUnderline:i=!1,ownerState:s}=r,o=Dt(r,wve),l=r1(),d=he({},r,s,l,{disableUnderline:i,color:l?.color||"primary"}),f=Cve(d);return y.jsx(TL,he({slots:{root:Tve}},o,{label:a,classes:f,ref:n}))});zX.muiName="Input";const Rve=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Ave={standard:zX,filled:UX,outlined:jX},Ive=rt(Fi,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({maxWidth:"100%"}),kve=t=>{const{focused:e,disabled:n,classes:r,required:a}=t;return Nn({root:["root",e&&!n&&"focused",n&&"disabled",a&&"required"]},Kye,r)},CL=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersTextField"}),{onFocus:a,onBlur:i,className:s,color:o="primary",disabled:l=!1,error:d=!1,variant:f="outlined",required:h=!1,InputProps:m,inputProps:b,inputRef:g,sectionListRef:w,elements:S,areAllSectionsEmpty:T,onClick:x,onKeyDown:_,onKeyUp:C,onPaste:R,onInput:A,endAdornment:I,startAdornment:O,tabIndex:M,contentEditable:U,focused:L,value:z,onChange:j,fullWidth:H,id:$,name:q,helperText:K,FormHelperTextProps:V,label:re,InputLabelProps:ee}=r,Y=Dt(r,Rve),ne=N.useRef(null),te=bi(n,ne),G=rh($),W=K&&G?`${G}-helper-text`:void 0,ue=re&&G?`${G}-label`:void 0,Ee=he({},r,{color:o,disabled:l,error:d,focused:L,required:h,variant:f}),ge=kve(Ee),fe=Ave[f];return y.jsxs(Ive,he({className:wn(ge.root,s),ref:te,focused:L,onFocus:a,onBlur:i,disabled:l,variant:f,error:d,color:o,fullWidth:H,required:h,ownerState:Ee},Y,{children:[y.jsx(tu,he({htmlFor:G,id:ue},ee,{children:re})),y.jsx(fe,he({elements:S,areAllSectionsEmpty:T,onClick:x,onKeyDown:_,onKeyUp:C,onInput:A,onPaste:R,endAdornment:I,startAdornment:O,tabIndex:M,contentEditable:U,value:z,onChange:j,id:G,fullWidth:H,inputProps:b,inputRef:g,sectionListRef:w,label:re,name:q,role:"group","aria-labelledby":ue,"aria-describedby":W,"aria-live":W?"polite":void 0},m)),K&&y.jsx(zr,he({id:W},V,{children:K}))]}))}),Dve=["enableAccessibleFieldDOMStructure"],Ove=["InputProps","readOnly"],Nve=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],RL=t=>{let{enableAccessibleFieldDOMStructure:e}=t,n=Dt(t,Dve);if(e){const{InputProps:h,readOnly:m}=n,b=Dt(n,Ove);return he({},b,{InputProps:he({},h??{},{readOnly:m})})}const{onPaste:r,onKeyDown:a,inputMode:i,readOnly:s,InputProps:o,inputProps:l,inputRef:d}=n,f=Dt(n,Nve);return he({},f,{InputProps:he({},o??{},{readOnly:s}),inputProps:he({},l??{},{inputMode:i,onPaste:r,onKeyDown:a,ref:d})})},Mve=["slots","slotProps","InputProps","inputProps"],qX=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDateField"}),{slots:a,slotProps:i,InputProps:s,inputProps:o}=r,l=Dt(r,Mve),d=r,f=a?.textField??(e.enableAccessibleFieldDOMStructure?CL:jt),h=jn({elementType:f,externalSlotProps:i?.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:d});h.inputProps=he({},o,h.inputProps),h.InputProps=he({},s,h.InputProps);const m=Yye(h),b=RL(m),g=_L(he({},b,{slots:a,slotProps:i}));return y.jsx(f,he({},g))}),Pve=t=>{const e=Vye(t),{forwardedProps:n,internalProps:r}=xL(e,"time");return EL({forwardedProps:n,internalProps:r,valueManager:Or,fieldValueManager:yL,validator:Fb,valueType:"time"})},Lve=["slots","slotProps","InputProps","inputProps"],$X=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiTimeField"}),{slots:a,slotProps:i,InputProps:s,inputProps:o}=r,l=Dt(r,Lve),d=r,f=a?.textField??(e.enableAccessibleFieldDOMStructure?CL:jt),h=jn({elementType:f,externalSlotProps:i?.textField,externalForwardedProps:l,ownerState:d,additionalProps:{ref:n}});h.inputProps=he({},o,h.inputProps),h.InputProps=he({},s,h.InputProps);const m=Pve(h),b=RL(m),g=_L(he({},b,{slots:a,slotProps:i}));return y.jsx(f,he({},g))}),Fve=t=>{const e=Wye(t),{forwardedProps:n,internalProps:r}=xL(e,"date-time");return EL({forwardedProps:n,internalProps:r,valueManager:Or,fieldValueManager:yL,validator:K1,valueType:"date-time"})},Bve=["slots","slotProps","InputProps","inputProps"],GX=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDateTimeField"}),{slots:a,slotProps:i,InputProps:s,inputProps:o}=r,l=Dt(r,Bve),d=r,f=a?.textField??(e.enableAccessibleFieldDOMStructure?CL:jt),h=jn({elementType:f,externalSlotProps:i?.textField,externalForwardedProps:l,ownerState:d,additionalProps:{ref:n}});h.inputProps=he({},o,h.inputProps),h.InputProps=he({},s,h.InputProps);const m=Fve(h),b=RL(m),g=_L(he({},b,{slots:a,slotProps:i}));return y.jsx(f,he({},g))}),HX=({shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:a,disableFuture:i,disablePast:s,timezone:o})=>{const l=Dd();return N.useCallback(d=>sh({adapter:l,value:d,timezone:o,props:{shouldDisableDate:t,shouldDisableMonth:e,shouldDisableYear:n,minDate:r,maxDate:a,disableFuture:i,disablePast:s}})!==null,[l,t,e,n,r,a,i,s,o])},jve=(t,e,n)=>(r,a)=>{switch(a.type){case"changeMonth":return he({},r,{slideDirection:a.direction,currentMonth:a.newMonth,isMonthSwitchingAnimating:!t});case"changeMonthTimezone":{const i=a.newTimezone;if(n.getTimezone(r.currentMonth)===i)return r;let s=n.setTimezone(r.currentMonth,i);return n.getMonth(s)!==n.getMonth(r.currentMonth)&&(s=n.setMonth(s,n.getMonth(r.currentMonth))),he({},r,{currentMonth:s})}case"finishMonthSwitchingAnimation":return he({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&a.focusedDay!=null&&n.isSameDay(a.focusedDay,r.focusedDay))return r;const i=a.focusedDay!=null&&!e&&!n.isSameMonth(r.currentMonth,a.focusedDay);return he({},r,{focusedDay:a.focusedDay,isMonthSwitchingAnimating:i&&!t&&!a.withoutMonthSwitchingAnimation,currentMonth:i?n.startOfMonth(a.focusedDay):r.currentMonth,slideDirection:a.focusedDay!=null&&n.isAfterDay(a.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Uve=t=>{const{value:e,referenceDate:n,disableFuture:r,disablePast:a,disableSwitchToMonthOnDayFocus:i=!1,maxDate:s,minDate:o,onMonthChange:l,reduceAnimations:d,shouldDisableDate:f,timezone:h}=t,m=un(),b=N.useRef(jve(!!d,i,m)).current,g=N.useMemo(()=>Or.getInitialReferenceValue({value:e,utils:m,timezone:h,props:t,referenceDate:n,granularity:co.day}),[n,h]),[w,S]=N.useReducer(b,{isMonthSwitchingAnimating:!1,focusedDay:g,currentMonth:m.startOfMonth(g),slideDirection:"left"});N.useEffect(()=>{S({type:"changeMonthTimezone",newTimezone:m.getTimezone(g)})},[g,m]);const T=N.useCallback(A=>{S(he({type:"changeMonth"},A)),l&&l(A.newMonth)},[l]),x=N.useCallback(A=>{const I=A;m.isSameMonth(I,w.currentMonth)||T({newMonth:m.startOfMonth(I),direction:m.isAfterDay(I,w.currentMonth)?"left":"right"})},[w.currentMonth,T,m]),_=HX({shouldDisableDate:f,minDate:o,maxDate:s,disableFuture:r,disablePast:a,timezone:h}),C=N.useCallback(()=>{S({type:"finishMonthSwitchingAnimation"})},[]),R=St((A,I)=>{_(A)||S({type:"changeFocusedDay",focusedDay:A,withoutMonthSwitchingAnimation:I})});return{referenceDate:g,calendarState:w,changeMonth:x,changeFocusedDay:R,isDateDisabled:_,onMonthSwitchingAnimationEnd:C,handleChangeMonth:T}},zve=t=>Ln("MuiPickersFadeTransitionGroup",t);qn("MuiPickersFadeTransitionGroup",["root"]);const qve=t=>{const{classes:e}=t;return Nn({root:["root"]},zve,e)},$ve=rt(FV,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"block",position:"relative"});function VX(t){const e=Wt({props:t,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:a,transKey:i}=e,s=qve(e),o=yo();return a?n:y.jsx($ve,{className:wn(s.root,r),children:y.jsx(ru,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:o.transitions.duration.enteringScreen,enter:o.transitions.duration.enteringScreen,exit:0},children:n},i)})}const Gve=t=>Ln("MuiPickersSlideTransition",t),Cs=qn("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Hve=["children","className","reduceAnimations","slideDirection","transKey","classes"],Vve=t=>{const{classes:e,slideDirection:n}=t,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Nn(r,Gve,e)},Wve=rt(FV,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`.${Cs["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${Cs["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${Cs.slideEnterActive}`]:e.slideEnterActive},{[`.${Cs.slideExit}`]:e.slideExit},{[`.${Cs["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${Cs["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:t})=>{const e=t.transitions.create("transform",{duration:t.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Cs["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Cs["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Cs.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${Cs.slideExit}`]:{transform:"translate(0%)"},[`& .${Cs["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${Cs["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function Yve(t){const e=Wt({props:t,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:a,transKey:i}=e,s=Dt(e,Hve),o=Vve(e),l=yo();if(a)return y.jsx("div",{className:wn(o.root,r),children:n});const d={exit:o.exit,enterActive:o.enterActive,enter:o.enter,exitActive:o.exitActive};return y.jsx(Wve,{className:wn(o.root,r),childFactory:f=>N.cloneElement(f,{classNames:d}),role:"presentation",children:y.jsx(Une,he({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:d},s,{children:n}),i)})}const Kve=t=>Ln("MuiDayCalendar",t);qn("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Xve=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Zve=["ownerState"],Qve=t=>{const{classes:e}=t;return Nn({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Kve,e)},WX=(eb+G1*2)*6,Jve=rt("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),e0e=rt("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(t,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),t0e=rt(Ve,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(t,e)=>e.weekDayLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(t.vars||t).palette.text.secondary})),n0e=rt(Ve,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(t,e)=>e.weekNumberLabel})(({theme:t})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:t.palette.text.disabled})),r0e=rt(Ve,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(t,e)=>e.weekNumber})(({theme:t})=>he({},t.typography.caption,{width:eb,height:eb,padding:0,margin:`0 ${G1}px`,color:t.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),a0e=rt("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(t,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:WX}),i0e=rt(Yve,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(t,e)=>e.slideTransition})({minHeight:WX}),s0e=rt("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(t,e)=>e.monthContainer})({overflow:"hidden"}),o0e=rt("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(t,e)=>e.weekContainer})({margin:`${G1}px 0`,display:"flex",justifyContent:"center"});function l0e(t){let{parentProps:e,day:n,focusableDay:r,selectedDays:a,isDateDisabled:i,currentMonthNumber:s,isViewFocused:o}=t,l=Dt(t,Xve);const{disabled:d,disableHighlightToday:f,isMonthSwitchingAnimating:h,showDaysOutsideCurrentMonth:m,slots:b,slotProps:g,timezone:w}=e,S=un(),T=Nd(w),x=r!==null&&S.isSameDay(n,r),_=a.some(z=>S.isSameDay(z,n)),C=S.isSameDay(n,T),R=b?.day??Rye,A=jn({elementType:R,externalSlotProps:g?.day,additionalProps:he({disableHighlightToday:f,showDaysOutsideCurrentMonth:m,role:"gridcell",isAnimating:h,"data-timestamp":S.toJsDate(n).valueOf()},l),ownerState:he({},e,{day:n,selected:_})}),I=Dt(A,Zve),O=N.useMemo(()=>d||i(n),[d,i,n]),M=N.useMemo(()=>S.getMonth(n)!==s,[S,n,s]),U=N.useMemo(()=>{const z=S.startOfMonth(S.setMonth(n,s));return m?S.isSameDay(n,S.startOfWeek(z)):S.isSameDay(n,z)},[s,n,m,S]),L=N.useMemo(()=>{const z=S.endOfMonth(S.setMonth(n,s));return m?S.isSameDay(n,S.endOfWeek(z)):S.isSameDay(n,z)},[s,n,m,S]);return y.jsx(R,he({},I,{day:n,disabled:O,autoFocus:o&&x,today:C,outsideCurrentMonth:M,isFirstVisibleCell:U,isLastVisibleCell:L,selected:_,tabIndex:x?0:-1,"aria-selected":_,"aria-current":C?"date":void 0}))}function c0e(t){const e=Wt({props:t,name:"MuiDayCalendar"}),n=un(),{onFocusedDayChange:r,className:a,currentMonth:i,selectedDays:s,focusedDay:o,loading:l,onSelectedDaysChange:d,onMonthSwitchingAnimationEnd:f,readOnly:h,reduceAnimations:m,renderLoading:b=()=>y.jsx("span",{children:"..."}),slideDirection:g,TransitionProps:w,disablePast:S,disableFuture:T,minDate:x,maxDate:_,shouldDisableDate:C,shouldDisableMonth:R,shouldDisableYear:A,dayOfWeekFormatter:I=ce=>n.format(ce,"weekdayShort").charAt(0).toUpperCase(),hasFocus:O,onFocusedViewChange:M,gridLabelId:U,displayWeekNumber:L,fixedWeekNumber:z,autoFocus:j,timezone:H}=e,$=Nd(H),q=Qve(e),K=us(),V=HX({shouldDisableDate:C,shouldDisableMonth:R,shouldDisableYear:A,minDate:x,maxDate:_,disablePast:S,disableFuture:T,timezone:H}),re=Jr(),[ee,Y]=xd({name:"DayCalendar",state:"hasFocus",controlled:O,default:j??!1}),[ne,te]=N.useState(()=>o||$),G=St(ce=>{h||d(ce)}),W=ce=>{V(ce)||(r(ce),te(ce),M?.(!0),Y(!0))},ue=St((ce,pe)=>{switch(ce.key){case"ArrowUp":W(n.addDays(pe,-7)),ce.preventDefault();break;case"ArrowDown":W(n.addDays(pe,7)),ce.preventDefault();break;case"ArrowLeft":{const Te=n.addDays(pe,K?1:-1),be=n.addMonths(pe,K?1:-1),Ie=Lg({utils:n,date:Te,minDate:K?Te:n.startOfMonth(be),maxDate:K?n.endOfMonth(be):Te,isDateDisabled:V,timezone:H});W(Ie||Te),ce.preventDefault();break}case"ArrowRight":{const Te=n.addDays(pe,K?-1:1),be=n.addMonths(pe,K?-1:1),Ie=Lg({utils:n,date:Te,minDate:K?n.startOfMonth(be):Te,maxDate:K?Te:n.endOfMonth(be),isDateDisabled:V,timezone:H});W(Ie||Te),ce.preventDefault();break}case"Home":W(n.startOfWeek(pe)),ce.preventDefault();break;case"End":W(n.endOfWeek(pe)),ce.preventDefault();break;case"PageUp":W(n.addMonths(pe,1)),ce.preventDefault();break;case"PageDown":W(n.addMonths(pe,-1)),ce.preventDefault();break}}),Ee=St((ce,pe)=>W(pe)),ge=St((ce,pe)=>{ee&&n.isSameDay(ne,pe)&&M?.(!1)}),fe=n.getMonth(i),Ae=n.getYear(i),oe=N.useMemo(()=>s.filter(ce=>!!ce).map(ce=>n.startOfDay(ce)),[n,s]),de=`${Ae}-${fe}`,se=N.useMemo(()=>N.createRef(),[de]),Se=N.useMemo(()=>{const ce=n.startOfMonth(i),pe=n.endOfMonth(i);return V(ne)||n.isAfterDay(ne,pe)||n.isBeforeDay(ne,ce)?Lg({utils:n,date:ne,minDate:ce,maxDate:pe,disablePast:S,disableFuture:T,isDateDisabled:V,timezone:H}):ne},[i,T,S,ne,V,n,H]),me=N.useMemo(()=>{const ce=n.getWeekArray(i);let pe=n.addMonths(i,1);for(;z&&ce.length<z;){const Te=n.getWeekArray(pe),be=n.isSameDay(ce[ce.length-1][0],Te[0][0]);Te.slice(be?1:0).forEach(Ie=>{ce.length<z&&ce.push(Ie)}),pe=n.addMonths(pe,1)}return ce},[i,z,n]);return y.jsxs(Jve,{role:"grid","aria-labelledby":U,className:q.root,children:[y.jsxs(e0e,{role:"row",className:q.header,children:[L&&y.jsx(n0e,{variant:"caption",role:"columnheader","aria-label":re.calendarWeekNumberHeaderLabel,className:q.weekNumberLabel,children:re.calendarWeekNumberHeaderText}),mbe(n,$).map((ce,pe)=>y.jsx(t0e,{variant:"caption",role:"columnheader","aria-label":n.format(ce,"weekday"),className:q.weekDayLabel,children:I(ce)},pe.toString()))]}),l?y.jsx(a0e,{className:q.loadingContainer,children:b()}):y.jsx(i0e,he({transKey:de,onExited:f,reduceAnimations:m,slideDirection:g,className:wn(a,q.slideTransition)},w,{nodeRef:se,children:y.jsx(s0e,{ref:se,role:"rowgroup",className:q.monthContainer,children:me.map((ce,pe)=>y.jsxs(o0e,{role:"row",className:q.weekContainer,"aria-rowindex":pe+1,children:[L&&y.jsx(r0e,{className:q.weekNumber,role:"rowheader","aria-label":re.calendarWeekNumberAriaLabelText(n.getWeekNumber(ce[0])),children:re.calendarWeekNumberText(n.getWeekNumber(ce[0]))}),ce.map((Te,be)=>y.jsx(l0e,{parentProps:e,day:Te,selectedDays:oe,focusableDay:Se,onKeyDown:ue,onFocus:Ee,onBlur:ge,onDaySelect:G,isDateDisabled:V,currentMonthNumber:fe,isViewFocused:ee,"aria-colindex":be+1},Te.toString()))]},`week-${ce[0]}`))})}))]})}function u0e(t){return Ln("MuiPickersMonth",t)}const S0=qn("MuiPickersMonth",["root","monthButton","disabled","selected"]),d0e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],f0e=t=>{const{disabled:e,selected:n,classes:r}=t;return Nn({root:["root"],monthButton:["monthButton",e&&"disabled",n&&"selected"]},u0e,r)},p0e=rt("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),h0e=rt("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(t,e)=>[e.monthButton,{[`&.${S0.disabled}`]:e.disabled},{[`&.${S0.selected}`]:e.selected}]})(({theme:t})=>he({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Jo(t.palette.action.active,t.palette.action.hoverOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Jo(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${S0.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${S0.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),m0e=N.memo(function(e){const n=Wt({props:e,name:"MuiPickersMonth"}),{autoFocus:r,className:a,children:i,disabled:s,selected:o,value:l,tabIndex:d,onClick:f,onKeyDown:h,onFocus:m,onBlur:b,"aria-current":g,"aria-label":w,slots:S,slotProps:T}=n,x=Dt(n,d0e),_=N.useRef(null),C=f0e(n);sl(()=>{r&&_.current?.focus()},[r]);const R=S?.monthButton??h0e,A=jn({elementType:R,externalSlotProps:T?.monthButton,additionalProps:{children:i,disabled:s,tabIndex:d,ref:_,type:"button",role:"radio","aria-current":g,"aria-checked":o,"aria-label":w,onClick:I=>f(I,l),onKeyDown:I=>h(I,l),onFocus:I=>m(I,l),onBlur:I=>b(I,l)},ownerState:n,className:C.monthButton});return y.jsx(p0e,he({className:wn(C.root,a),ownerState:n},x,{children:y.jsx(R,he({},A))}))});function g0e(t){return Ln("MuiMonthCalendar",t)}qn("MuiMonthCalendar",["root"]);const b0e=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],y0e=t=>{const{classes:e}=t;return Nn({root:["root"]},g0e,e)};function v0e(t,e){const n=un(),r=Od(),a=Wt({props:t,name:e});return he({disableFuture:!1,disablePast:!1},a,{minDate:ni(n,a.minDate,r.minDate),maxDate:ni(n,a.maxDate,r.maxDate)})}const S0e=rt("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:H1,boxSizing:"border-box"}),E0e=N.forwardRef(function(e,n){const r=v0e(e,"MuiMonthCalendar"),{className:a,value:i,defaultValue:s,referenceDate:o,disabled:l,disableFuture:d,disablePast:f,maxDate:h,minDate:m,onChange:b,shouldDisableMonth:g,readOnly:w,autoFocus:S=!1,onMonthFocus:T,hasFocus:x,onFocusedViewChange:_,monthsPerRow:C=3,timezone:R,gridLabelId:A,slots:I,slotProps:O}=r,M=Dt(r,b0e),{value:U,handleValueChange:L,timezone:z}=ih({name:"MonthCalendar",timezone:R,value:i,defaultValue:s,referenceDate:o,onChange:b,valueManager:Or}),j=Nd(z),H=us(),$=un(),q=N.useMemo(()=>Or.getInitialReferenceValue({value:U,utils:$,props:r,timezone:z,referenceDate:o,granularity:co.month}),[]),K=r,V=y0e(K),re=N.useMemo(()=>$.getMonth(j),[$,j]),ee=N.useMemo(()=>U!=null?$.getMonth(U):null,[U,$]),[Y,ne]=N.useState(()=>ee||$.getMonth(q)),[te,G]=xd({name:"MonthCalendar",state:"hasFocus",controlled:x,default:S??!1}),W=St(de=>{G(de),_&&_(de)}),ue=N.useCallback(de=>{const se=$.startOfMonth(f&&$.isAfter(j,m)?j:m),Se=$.startOfMonth(d&&$.isBefore(j,h)?j:h),me=$.startOfMonth(de);return $.isBefore(me,se)||$.isAfter(me,Se)?!0:g?g(me):!1},[d,f,h,m,j,g,$]),Ee=St((de,se)=>{if(w)return;const Se=$.setMonth(U??q,se);L(Se)}),ge=St(de=>{ue($.setMonth(U??q,de))||(ne(de),W(!0),T&&T(de))});N.useEffect(()=>{ne(de=>ee!==null&&de!==ee?ee:de)},[ee]);const fe=St((de,se)=>{switch(de.key){case"ArrowUp":ge((12+se-3)%12),de.preventDefault();break;case"ArrowDown":ge((12+se+3)%12),de.preventDefault();break;case"ArrowLeft":ge((12+se+(H?1:-1))%12),de.preventDefault();break;case"ArrowRight":ge((12+se+(H?-1:1))%12),de.preventDefault();break}}),Ae=St((de,se)=>{ge(se)}),oe=St((de,se)=>{Y===se&&W(!1)});return y.jsx(S0e,he({ref:n,className:wn(V.root,a),ownerState:K,role:"radiogroup","aria-labelledby":A},M,{children:pL($,U??q).map(de=>{const se=$.getMonth(de),Se=$.format(de,"monthShort"),me=$.format(de,"month"),ce=se===ee,pe=l||ue(de);return y.jsx(m0e,{selected:ce,value:se,onClick:Ee,onKeyDown:fe,autoFocus:te&&se===Y,disabled:pe,tabIndex:se===Y&&!pe?0:-1,onFocus:Ae,onBlur:oe,"aria-current":re===se?"date":void 0,"aria-label":me,monthsPerRow:C,slots:I,slotProps:O,children:Se},Se)})}))});function _0e(t){return Ln("MuiPickersYear",t)}const E0=qn("MuiPickersYear",["root","yearButton","selected","disabled"]),x0e=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],w0e=t=>{const{disabled:e,selected:n,classes:r}=t;return Nn({root:["root"],yearButton:["yearButton",e&&"disabled",n&&"selected"]},_0e,r)},T0e=rt("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(t,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),C0e=rt("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(t,e)=>[e.yearButton,{[`&.${E0.disabled}`]:e.disabled},{[`&.${E0.selected}`]:e.selected}]})(({theme:t})=>he({color:"unset",backgroundColor:"transparent",border:0,outline:0},t.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.focusOpacity})`:Jo(t.palette.action.active,t.palette.action.focusOpacity)},"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:Jo(t.palette.action.active,t.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${E0.disabled}`]:{color:(t.vars||t).palette.text.secondary},[`&.${E0.selected}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.main,"&:focus, &:hover":{backgroundColor:(t.vars||t).palette.primary.dark}}})),R0e=N.memo(function(e){const n=Wt({props:e,name:"MuiPickersYear"}),{autoFocus:r,className:a,children:i,disabled:s,selected:o,value:l,tabIndex:d,onClick:f,onKeyDown:h,onFocus:m,onBlur:b,"aria-current":g,slots:w,slotProps:S}=n,T=Dt(n,x0e),x=N.useRef(null),_=w0e(n);sl(()=>{r&&x.current?.focus()},[r]);const C=w?.yearButton??C0e,R=jn({elementType:C,externalSlotProps:S?.yearButton,additionalProps:{children:i,disabled:s,tabIndex:d,ref:x,type:"button",role:"radio","aria-current":g,"aria-checked":o,onClick:A=>f(A,l),onKeyDown:A=>h(A,l),onFocus:A=>m(A,l),onBlur:A=>b(A,l)},ownerState:n,className:_.yearButton});return y.jsx(T0e,he({className:wn(_.root,a),ownerState:n},T,{children:y.jsx(C,he({},R))}))});function A0e(t){return Ln("MuiYearCalendar",t)}qn("MuiYearCalendar",["root"]);const I0e=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],k0e=t=>{const{classes:e}=t;return Nn({root:["root"]},A0e,e)};function D0e(t,e){const n=un(),r=Od(),a=Wt({props:t,name:e});return he({disablePast:!1,disableFuture:!1},a,{yearsPerRow:a.yearsPerRow??3,minDate:ni(n,a.minDate,r.minDate),maxDate:ni(n,a.maxDate,r.maxDate)})}const O0e=rt("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:H1,maxHeight:Qge,boxSizing:"border-box",position:"relative"}),N0e=N.forwardRef(function(e,n){const r=D0e(e,"MuiYearCalendar"),{autoFocus:a,className:i,value:s,defaultValue:o,referenceDate:l,disabled:d,disableFuture:f,disablePast:h,maxDate:m,minDate:b,onChange:g,readOnly:w,shouldDisableYear:S,onYearFocus:T,hasFocus:x,onFocusedViewChange:_,yearsOrder:C="asc",yearsPerRow:R,timezone:A,gridLabelId:I,slots:O,slotProps:M}=r,U=Dt(r,I0e),{value:L,handleValueChange:z,timezone:j}=ih({name:"YearCalendar",timezone:A,value:s,defaultValue:o,referenceDate:l,onChange:g,valueManager:Or}),H=Nd(j),$=us(),q=un(),K=N.useMemo(()=>Or.getInitialReferenceValue({value:L,utils:q,props:r,timezone:j,referenceDate:l,granularity:co.year}),[]),V=r,re=k0e(V),ee=N.useMemo(()=>q.getYear(H),[q,H]),Y=N.useMemo(()=>L!=null?q.getYear(L):null,[L,q]),[ne,te]=N.useState(()=>Y||q.getYear(K)),[G,W]=xd({name:"YearCalendar",state:"hasFocus",controlled:x,default:a??!1}),ue=St(Te=>{W(Te),_&&_(Te)}),Ee=N.useCallback(Te=>{if(h&&q.isBeforeYear(Te,H)||f&&q.isAfterYear(Te,H)||b&&q.isBeforeYear(Te,b)||m&&q.isAfterYear(Te,m))return!0;if(!S)return!1;const be=q.startOfYear(Te);return S(be)},[f,h,m,b,H,S,q]),ge=St((Te,be)=>{if(w)return;const Ie=q.setYear(L??K,be);z(Ie)}),fe=St(Te=>{Ee(q.setYear(L??K,Te))||(te(Te),ue(!0),T?.(Te))});N.useEffect(()=>{te(Te=>Y!==null&&Te!==Y?Y:Te)},[Y]);const Ae=C!=="desc"?R*1:R*-1,oe=$&&C==="asc"||!$&&C==="desc"?-1:1,de=St((Te,be)=>{switch(Te.key){case"ArrowUp":fe(be-Ae),Te.preventDefault();break;case"ArrowDown":fe(be+Ae),Te.preventDefault();break;case"ArrowLeft":fe(be-oe),Te.preventDefault();break;case"ArrowRight":fe(be+oe),Te.preventDefault();break}}),se=St((Te,be)=>{fe(be)}),Se=St((Te,be)=>{ne===be&&ue(!1)}),me=N.useRef(null),ce=bi(n,me);N.useEffect(()=>{if(a||me.current===null)return;const Te=me.current.querySelector('[tabindex="0"]');if(!Te)return;const be=Te.offsetHeight,Ie=Te.offsetTop,je=me.current.clientHeight,ke=me.current.scrollTop,Ge=Ie+be;be>je||Ie<ke||(me.current.scrollTop=Ge-je/2-be/2)},[a]);const pe=q.getYearRange([b,m]);return C==="desc"&&pe.reverse(),y.jsx(O0e,he({ref:ce,className:wn(re.root,i),ownerState:V,role:"radiogroup","aria-labelledby":I},U,{children:pe.map(Te=>{const be=q.getYear(Te),Ie=be===Y,je=d||Ee(Te);return y.jsx(R0e,{selected:Ie,value:be,onClick:ge,onKeyDown:de,autoFocus:G&&be===ne,disabled:je,tabIndex:be===ne&&!je?0:-1,onFocus:se,onBlur:Se,"aria-current":ee===be?"date":void 0,yearsPerRow:R,slots:O,slotProps:M,children:q.format(Te,"year")},q.format(Te,"year"))})}))}),M0e=t=>Ln("MuiPickersCalendarHeader",t),P0e=qn("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),L0e=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],F0e=["ownerState"],B0e=t=>{const{classes:e}=t;return Nn({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},M0e,e)},j0e=rt("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),U0e=rt("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(t,e)=>e.labelContainer})(({theme:t})=>he({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},t.typography.body1,{fontWeight:t.typography.fontWeightMedium})),z0e=rt("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(t,e)=>e.label})({marginRight:6}),q0e=rt(Ct,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(t,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${P0e.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),$0e=rt(Mge,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(t,e)=>e.switchViewIcon})(({theme:t})=>({willChange:"transform",transition:t.transitions.create("transform"),transform:"rotate(0deg)"})),G0e=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=Wt({props:e,name:"MuiPickersCalendarHeader"}),{slots:s,slotProps:o,currentMonth:l,disabled:d,disableFuture:f,disablePast:h,maxDate:m,minDate:b,onMonthChange:g,onViewChange:w,view:S,reduceAnimations:T,views:x,labelId:_,className:C,timezone:R,format:A=`${a.formats.month} ${a.formats.year}`}=i,I=Dt(i,L0e),O=i,M=B0e(i),U=s?.switchViewButton??q0e,L=jn({elementType:U,externalSlotProps:o?.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(S)},ownerState:O,className:M.switchViewButton}),z=s?.switchViewIcon??$0e,j=jn({elementType:z,externalSlotProps:o?.switchViewIcon,ownerState:O,className:M.switchViewIcon}),H=Dt(j,F0e),$=()=>g(a.addMonths(l,1),"left"),q=()=>g(a.addMonths(l,-1),"right"),K=Xge(l,{disableFuture:f,maxDate:m,timezone:R}),V=Zge(l,{disablePast:h,minDate:b,timezone:R}),re=()=>{if(!(x.length===1||!w||d))if(x.length===2)w(x.find(Y=>Y!==S)||x[0]);else{const Y=x.indexOf(S)!==0?0:1;w(x[Y])}};if(x.length===1&&x[0]==="year")return null;const ee=a.formatByString(l,A);return y.jsxs(j0e,he({},I,{ownerState:O,className:wn(M.root,C),ref:n,children:[y.jsxs(U0e,{role:"presentation",onClick:re,ownerState:O,"aria-live":"polite",className:M.labelContainer,children:[y.jsx(VX,{reduceAnimations:T,transKey:ee,children:y.jsx(z0e,{id:_,ownerState:O,className:M.label,children:ee})}),x.length>1&&!d&&y.jsx(U,he({},L,{children:y.jsx(z,he({},H))}))]}),y.jsx(ru,{in:S==="day",appear:!T,enter:!T,children:y.jsx(yX,{slots:s,slotProps:o,onGoToPrevious:q,isPreviousDisabled:V,previousLabel:r.previousMonth,onGoToNext:$,isNextDisabled:K,nextLabel:r.nextMonth})})]}))}),H0e="@media (prefers-reduced-motion: reduce)",Cp=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),DU=Cp&&Cp[1]?parseInt(Cp[1],10):null,OU=Cp&&Cp[2]?parseInt(Cp[2],10):null,V0e=DU&&DU<10||OU&&OU<13||!1,YX=()=>a1(H0e,{defaultMatches:!1})||V0e,W0e=t=>Ln("MuiDateCalendar",t);qn("MuiDateCalendar",["root","viewTransitionContainer"]);const Y0e=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],K0e=t=>{const{classes:e}=t;return Nn({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},W0e,e)};function X0e(t,e){const n=un(),r=Od(),a=YX(),i=Wt({props:t,name:e});return he({},i,{loading:i.loading??!1,disablePast:i.disablePast??!1,disableFuture:i.disableFuture??!1,openTo:i.openTo??"day",views:i.views??["year","day"],reduceAnimations:i.reduceAnimations??a,renderLoading:i.renderLoading??(()=>y.jsx("span",{children:"..."})),minDate:ni(n,i.minDate,r.minDate),maxDate:ni(n,i.maxDate,r.maxDate)})}const Z0e=rt(W1,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"flex",flexDirection:"column",height:V1}),Q0e=rt(VX,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(t,e)=>e.viewTransitionContainer})({}),J0e=N.forwardRef(function(e,n){const r=un(),a=rh(),i=X0e(e,"MuiDateCalendar"),{autoFocus:s,onViewChange:o,value:l,defaultValue:d,referenceDate:f,disableFuture:h,disablePast:m,onChange:b,onYearChange:g,onMonthChange:w,reduceAnimations:S,shouldDisableDate:T,shouldDisableMonth:x,shouldDisableYear:_,view:C,views:R,openTo:A,className:I,disabled:O,readOnly:M,minDate:U,maxDate:L,disableHighlightToday:z,focusedView:j,onFocusedViewChange:H,showDaysOutsideCurrentMonth:$,fixedWeekNumber:q,dayOfWeekFormatter:K,slots:V,slotProps:re,loading:ee,renderLoading:Y,displayWeekNumber:ne,yearsOrder:te,yearsPerRow:G,monthsPerRow:W,timezone:ue}=i,Ee=Dt(i,Y0e),{value:ge,handleValueChange:fe,timezone:Ae}=ih({name:"DateCalendar",timezone:ue,value:l,defaultValue:d,referenceDate:f,onChange:b,valueManager:Or}),{view:oe,setView:de,focusedView:se,setFocusedView:Se,goToNextView:me,setValueAndGoToNextView:ce}=Lb({view:C,views:R,openTo:A,onChange:fe,onViewChange:o,autoFocus:s,focusedView:j,onFocusedViewChange:H}),{referenceDate:pe,calendarState:Te,changeFocusedDay:be,changeMonth:Ie,handleChangeMonth:je,isDateDisabled:ke,onMonthSwitchingAnimationEnd:Ge}=Uve({value:ge,referenceDate:f,reduceAnimations:S,onMonthChange:w,minDate:U,maxDate:L,shouldDisableDate:T,disablePast:m,disableFuture:h,timezone:Ae}),Et=O&&ge||U,gt=O&&ge||L,kt=`${a}-grid-label`,Ye=se!==null,nt=V?.calendarHeader??G0e,It=jn({elementType:nt,externalSlotProps:re?.calendarHeader,additionalProps:{views:R,view:oe,currentMonth:Te.currentMonth,onViewChange:de,onMonthChange:(Ot,pt)=>je({newMonth:Ot,direction:pt}),minDate:Et,maxDate:gt,disabled:O,disablePast:m,disableFuture:h,reduceAnimations:S,timezone:Ae,labelId:kt},ownerState:i}),Gt=St(Ot=>{const pt=r.startOfMonth(Ot),Me=r.endOfMonth(Ot),Je=ke(Ot)?Lg({utils:r,date:Ot,minDate:r.isBefore(U,pt)?pt:U,maxDate:r.isAfter(L,Me)?Me:L,disablePast:m,disableFuture:h,isDateDisabled:ke,timezone:Ae}):Ot;Je?(ce(Je,"finish"),w?.(pt)):(me(),Ie(pt)),be(Je,!0)}),Ze=St(Ot=>{const pt=r.startOfYear(Ot),Me=r.endOfYear(Ot),Je=ke(Ot)?Lg({utils:r,date:Ot,minDate:r.isBefore(U,pt)?pt:U,maxDate:r.isAfter(L,Me)?Me:L,disablePast:m,disableFuture:h,isDateDisabled:ke,timezone:Ae}):Ot;Je?(ce(Je,"finish"),g?.(Je)):(me(),Ie(pt)),be(Je,!0)}),ot=St(Ot=>fe(Ot&&WS(r,Ot,ge??pe),"finish",oe));N.useEffect(()=>{ge!=null&&r.isValid(ge)&&Ie(ge)},[ge]);const Pe=i,we=K0e(Pe),$e={disablePast:m,disableFuture:h,maxDate:L,minDate:U},He={disableHighlightToday:z,readOnly:M,disabled:O,timezone:Ae,gridLabelId:kt,slots:V,slotProps:re},ft=N.useRef(oe);N.useEffect(()=>{ft.current!==oe&&(se===ft.current&&Se(oe,!0),ft.current=oe)},[se,Se,oe]);const Nt=N.useMemo(()=>[ge],[ge]);return y.jsxs(Z0e,he({ref:n,className:wn(we.root,I),ownerState:Pe},Ee,{children:[y.jsx(nt,he({},It,{slots:V,slotProps:re})),y.jsx(Q0e,{reduceAnimations:S,className:we.viewTransitionContainer,transKey:oe,ownerState:Pe,children:y.jsxs("div",{children:[oe==="year"&&y.jsx(N0e,he({},$e,He,{value:ge,onChange:Ze,shouldDisableYear:_,hasFocus:Ye,onFocusedViewChange:Ot=>Se("year",Ot),yearsOrder:te,yearsPerRow:G,referenceDate:pe})),oe==="month"&&y.jsx(E0e,he({},$e,He,{hasFocus:Ye,className:I,value:ge,onChange:Gt,shouldDisableMonth:x,onFocusedViewChange:Ot=>Se("month",Ot),monthsPerRow:W,referenceDate:pe})),oe==="day"&&y.jsx(c0e,he({},Te,$e,He,{onMonthSwitchingAnimationEnd:Ge,onFocusedDayChange:be,reduceAnimations:S,selectedDays:Nt,onSelectedDaysChange:ot,shouldDisableDate:T,shouldDisableMonth:x,shouldDisableYear:_,hasFocus:Ye,onFocusedViewChange:Ot=>Se("day",Ot),showDaysOutsideCurrentMonth:$,fixedWeekNumber:q,dayOfWeekFormatter:K,displayWeekNumber:ne,loading:ee,renderLoading:Y}))]})})]}))});function KX(t){return Ln("MuiPickersToolbar",t)}const eSe=qn("MuiPickersToolbar",["root","content"]),tSe=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],nSe=t=>{const{classes:e}=t;return Nn({root:["root"],content:["content"]},KX,e)},rSe=rt("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:t.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),aSe=rt("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(t,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),AL=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersToolbar"}),{children:a,className:i,toolbarTitle:s,hidden:o,titleId:l}=r,d=Dt(r,tSe),f=r,h=nSe(f);return o?null:y.jsxs(rSe,he({ref:n,className:wn(h.root,i),ownerState:f},d,{children:[y.jsx(Ve,{color:"text.secondary",variant:"overline",id:l,children:s}),y.jsx(aSe,{className:h.content,ownerState:f,children:a})]}))});function iSe(t){return Ln("MuiDatePickerToolbar",t)}qn("MuiDatePickerToolbar",["root","title"]);const sSe=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],oSe=t=>{const{classes:e}=t;return Nn({root:["root"],title:["title"]},iSe,e)},lSe=rt(AL,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),cSe=rt(Ve,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(t,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),uSe=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDatePickerToolbar"}),{value:a,isLandscape:i,toolbarFormat:s,toolbarPlaceholder:o="",views:l,className:d}=r,f=Dt(r,sSe),h=un(),m=Jr(),b=oSe(r),g=N.useMemo(()=>{if(!a)return o;const S=nb(h,{format:s,views:l},!0);return h.formatByString(a,S)},[a,s,o,h,l]),w=r;return y.jsx(lSe,he({ref:n,toolbarTitle:m.datePickerToolbarTitle,isLandscape:i,className:wn(b.root,d)},f,{children:y.jsx(cSe,{variant:"h4",align:i?"left":"center",ownerState:w,className:b.title,children:g})}))});function XX(t,e){const n=un(),r=Od(),a=Wt({props:t,name:e}),i=N.useMemo(()=>a.localeText?.toolbarTitle==null?a.localeText:he({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle}),[a.localeText]);return he({},a,{localeText:i},fL({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:ni(n,a.minDate,r.minDate),maxDate:ni(n,a.maxDate,r.maxDate),slots:he({toolbar:uSe},a.slots)})}function dSe(t){return Ln("MuiPickersPopper",t)}qn("MuiPickersPopper",["root","paper"]);const fSe=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],pSe=t=>{const{classes:e}=t;return Nn({root:["root"],paper:["paper"]},dSe,e)},hSe=rt($ne,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({zIndex:t.zIndex.modal})),mSe=rt(pa,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(t,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:t})=>["top","top-start","top-end"].includes(t),style:{transformOrigin:"bottom center"}}]});function gSe(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function bSe(t,e){const n=N.useRef(!1),r=N.useRef(!1),a=N.useRef(null),i=N.useRef(!1);N.useEffect(()=>{if(!t)return;function l(){i.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),i.current=!1}},[t]);const s=St(l=>{if(!i.current)return;const d=r.current;r.current=!1;const f=cA(a.current);if(!a.current||"clientX"in l&&gSe(l,f))return;if(n.current){n.current=!1;return}let h;l.composedPath?h=l.composedPath().indexOf(a.current)>-1:h=!f.documentElement.contains(l.target)||a.current.contains(l.target),!h&&!d&&e(l)}),o=()=>{r.current=!0};return N.useEffect(()=>{if(t){const l=cA(a.current),d=()=>{n.current=!0};return l.addEventListener("touchstart",s),l.addEventListener("touchmove",d),()=>{l.removeEventListener("touchstart",s),l.removeEventListener("touchmove",d)}}},[t,s]),N.useEffect(()=>{if(t){const l=cA(a.current);return l.addEventListener("click",s),()=>{l.removeEventListener("click",s),r.current=!1}}},[t,s]),[a,o,o]}const ySe=N.forwardRef((t,e)=>{const{PaperComponent:n,popperPlacement:r,ownerState:a,children:i,paperSlotProps:s,paperClasses:o,onPaperClick:l,onPaperTouchStart:d}=t,f=Dt(t,fSe),h=he({},a,{placement:r}),m=jn({elementType:n,externalSlotProps:s,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:o,ownerState:h});return y.jsx(n,he({},f,m,{onClick:b=>{l(b),m.onClick?.(b)},onTouchStart:b=>{d(b),m.onTouchStart?.(b)},ownerState:h,children:i}))});function vSe(t){const e=Wt({props:t,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:a=null,shouldRestoreFocus:i,onBlur:s,onDismiss:o,open:l,role:d,placement:f,slots:h,slotProps:m,reduceAnimations:b}=e;N.useEffect(()=>{function $(q){l&&q.key==="Escape"&&o()}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[o,l]);const g=N.useRef(null);N.useEffect(()=>{d==="tooltip"||i&&!i()||(l?g.current=hi(document):g.current&&g.current instanceof HTMLElement&&setTimeout(()=>{g.current instanceof HTMLElement&&g.current.focus()}))},[l,d,i]);const[w,S,T]=bSe(l,s??o),x=N.useRef(null),_=bi(x,a),C=bi(_,w),R=e,A=pSe(R),I=YX(),O=b??I,M=$=>{$.key==="Escape"&&($.stopPropagation(),o())},U=h?.desktopTransition??O?ru:zne,L=h?.desktopTrapFocus??qne,z=h?.desktopPaper??mSe,j=h?.popper??hSe,H=jn({elementType:j,externalSlotProps:m?.popper,additionalProps:{transition:!0,role:d,open:l,anchorEl:n,placement:f,onKeyDown:M},className:A.root,ownerState:e});return y.jsx(j,he({},H,{children:({TransitionProps:$,placement:q})=>y.jsx(L,he({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:d==="tooltip",isEnabled:()=>!0},m?.desktopTrapFocus,{children:y.jsx(U,he({},$,m?.desktopTransition,{children:y.jsx(ySe,{PaperComponent:z,ownerState:R,popperPlacement:q,ref:C,onPaperClick:S,onPaperTouchStart:T,paperClasses:A.paper,paperSlotProps:m?.desktopPaper,children:r})}))}))}))}const SSe=({open:t,onOpen:e,onClose:n})=>{const r=N.useRef(typeof t=="boolean").current,[a,i]=N.useState(!1);N.useEffect(()=>{if(r){if(typeof t!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");i(t)}},[r,t]);const s=N.useCallback(o=>{r||i(o),o&&e&&e(),!o&&n&&n()},[r,e,n]);return{isOpen:a,setIsOpen:s}},ESe=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:a}=t,i=!a&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?i&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?i?!0:n(r.lastPublishedValue):!1},_Se=t=>{const{action:e,hasChanged:n,dateState:r,isControlled:a,closeOnSelect:i}=t,s=!a&&!r.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?s&&["accept","today","clear"].includes(e.pickerAction)?!0:n(r.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&i?s?!0:n(r.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&n(r.lastCommittedValue):!1},xSe=t=>{const{action:e,closeOnSelect:n}=t;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&n:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},wSe=({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:a})=>{const{onAccept:i,onChange:s,value:o,defaultValue:l,closeOnSelect:d=r==="desktop",timezone:f,referenceDate:h}=t,{current:m}=N.useRef(l),{current:b}=N.useRef(o!==void 0),[g,w]=N.useState(f),S=un(),T=Dd(),{isOpen:x,setIsOpen:_}=SSe(t),{timezone:C,value:R,handleValueChange:A}=mL({timezone:f,value:o,defaultValue:m,referenceDate:h,onChange:s,valueManager:e}),[I,O]=N.useState(()=>{let fe;return R!==void 0?fe=R:m!==void 0?fe=m:fe=e.emptyValue,{draft:fe,lastPublishedValue:fe,lastCommittedValue:fe,lastControlledValue:o,hasBeenModifiedSinceMount:!1}}),M=e.getTimezone(S,I.draft);g!==f&&(w(f),f&&M&&f!==M&&O(fe=>he({},fe,{draft:e.setTimezone(S,f,fe.draft)})));const{getValidationErrorForNewValue:U}=NX({props:t,validator:a,timezone:C,value:I.draft,onError:t.onError}),L=St(fe=>{const Ae={action:fe,dateState:I,hasChanged:ce=>!e.areValuesEqual(S,fe.value,ce),isControlled:b,closeOnSelect:d},oe=ESe(Ae),de=_Se(Ae),se=xSe(Ae);O(ce=>he({},ce,{draft:fe.value,lastPublishedValue:oe?fe.value:ce.lastPublishedValue,lastCommittedValue:de?fe.value:ce.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let Se=null;const me=()=>(Se||(Se={validationError:fe.name==="setValueFromField"?fe.context.validationError:U(fe.value)},fe.name==="setValueFromShortcut"&&(Se.shortcut=fe.shortcut)),Se);oe&&A(fe.value,me()),de&&i&&i(fe.value,me()),se&&_(!1)});if(I.lastControlledValue!==o){const fe=e.areValuesEqual(S,I.draft,R);O(Ae=>he({},Ae,{lastControlledValue:o},fe?{}:{lastCommittedValue:R,lastPublishedValue:R,draft:R,hasBeenModifiedSinceMount:!0}))}const z=St(()=>{L({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),j=St(()=>{L({value:I.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),H=St(()=>{L({value:I.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),$=St(()=>{L({value:I.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),q=St(()=>{L({value:e.getTodayValue(S,C,n),name:"setValueFromAction",pickerAction:"today"})}),K=St(fe=>{fe.preventDefault(),_(!0)}),V=St(fe=>{fe?.preventDefault(),_(!1)}),re=St((fe,Ae="partial")=>L({name:"setValueFromView",value:fe,selectionState:Ae})),ee=St((fe,Ae,oe)=>L({name:"setValueFromShortcut",value:fe,changeImportance:Ae,shortcut:oe})),Y=St((fe,Ae)=>L({name:"setValueFromField",value:fe,context:Ae})),ne={onClear:z,onAccept:j,onDismiss:H,onCancel:$,onSetToday:q,onOpen:K,onClose:V},te={value:I.draft,onChange:Y},G=N.useMemo(()=>e.cleanValue(S,I.draft),[S,e,I.draft]),W={value:G,onChange:re,onClose:V,open:x},Ee=he({},ne,{value:G,onChange:re,onSelectShortcut:ee,isValid:fe=>{const Ae=a({adapter:T,value:fe,timezone:C,props:t});return!e.hasError(Ae)}}),ge=N.useMemo(()=>({onOpen:K,onClose:V,open:x}),[x,V,K]);return{open:x,fieldProps:te,viewProps:W,layoutProps:Ee,actions:ne,contextValue:ge}},TSe=["className","sx"],CSe=({props:t,propsFromPickerValue:e,additionalViewProps:n,autoFocusView:r,rendererInterceptor:a,fieldRef:i})=>{const{onChange:s,open:o,onClose:l}=e,{view:d,views:f,openTo:h,onViewChange:m,viewRenderers:b,timezone:g}=t,w=Dt(t,TSe),{view:S,setView:T,defaultView:x,focusedView:_,setFocusedView:C,setValueAndGoToNextView:R}=Lb({view:d,views:f,openTo:h,onChange:s,onViewChange:m,autoFocus:r}),{hasUIView:A,viewModeLookup:I}=N.useMemo(()=>f.reduce((H,$)=>{let q;return b[$]!=null?q="UI":q="field",H.viewModeLookup[$]=q,q==="UI"&&(H.hasUIView=!0),H},{hasUIView:!1,viewModeLookup:{}}),[b,f]),O=N.useMemo(()=>f.reduce((H,$)=>b[$]!=null&&Mp($)?H+1:H,0),[b,f]),M=I[S],U=St(()=>M==="UI"),[L,z]=N.useState(M==="UI"?S:null);return L!==S&&I[S]==="UI"&&z(S),sl(()=>{M==="field"&&o&&(l(),setTimeout(()=>{i?.current?.setSelectedSections(S),i?.current?.focusField(S)}))},[S]),sl(()=>{if(!o)return;let H=S;M==="field"&&L!=null&&(H=L),H!==x&&I[H]==="UI"&&I[x]==="UI"&&(H=x),H!==S&&T(H),C(H,!0)},[o]),{hasUIView:A,shouldRestoreFocus:U,layoutProps:{views:f,view:L,onViewChange:T},renderCurrentView:()=>{if(L==null)return null;const H=b[L];if(H==null)return null;const $=he({},w,n,e,{views:f,timezone:g,onChange:R,view:L,onViewChange:T,focusedView:_,onFocusedViewChange:C,showViewSwitcher:O>1,timeViewsCount:O});return a?a(b,L,$):H($)}}};function NU(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const RSe=(t,e)=>{const[n,r]=N.useState(NU);return sl(()=>{const i=()=>{r(NU())};return window.addEventListener("orientationchange",i),()=>{window.removeEventListener("orientationchange",i)}},[]),gp(t,["hours","minutes","seconds"])?!1:(e||n)==="landscape"},ASe=({props:t,propsFromPickerValue:e,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:a}=t,i=RSe(n.views,a),s=us();return{layoutProps:he({},n,e,{isLandscape:i,isRtl:s,wrapperVariant:r,disabled:t.disabled,readOnly:t.readOnly})}};function ISe(t){const{props:e,pickerValueResponse:n}=t;return N.useMemo(()=>({value:n.viewProps.value,open:n.open,disabled:e.disabled??!1,readOnly:e.readOnly??!1}),[n.viewProps.value,n.open,e.disabled,e.readOnly])}const ZX=({props:t,valueManager:e,valueType:n,wrapperVariant:r,additionalViewProps:a,validator:i,autoFocusView:s,rendererInterceptor:o,fieldRef:l})=>{const d=wSe({props:t,valueManager:e,valueType:n,wrapperVariant:r,validator:i}),f=CSe({props:t,additionalViewProps:a,autoFocusView:s,fieldRef:l,propsFromPickerValue:d.viewProps,rendererInterceptor:o}),h=ASe({props:t,wrapperVariant:r,propsFromPickerValue:d.layoutProps,propsFromPickerViews:f.layoutProps}),m=ISe({props:t,pickerValueResponse:d});return{open:d.open,actions:d.actions,fieldProps:d.fieldProps,renderCurrentView:f.renderCurrentView,hasUIView:f.hasUIView,shouldRestoreFocus:f.shouldRestoreFocus,layoutProps:h.layoutProps,contextValue:d.contextValue,ownerState:m}};function QX(t){return Ln("MuiPickersLayout",t)}const oo=qn("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),kSe=["onAccept","onClear","onCancel","onSetToday","actions"];function DSe(t){const{onAccept:e,onClear:n,onCancel:r,onSetToday:a,actions:i}=t,s=Dt(t,kSe),o=Jr();if(i==null||i.length===0)return null;const l=i?.map(d=>{switch(d){case"clear":return y.jsx(xt,{onClick:n,children:o.clearButtonLabel},d);case"cancel":return y.jsx(xt,{onClick:r,children:o.cancelButtonLabel},d);case"accept":return y.jsx(xt,{onClick:e,children:o.okButtonLabel},d);case"today":return y.jsx(xt,{onClick:a,children:o.todayButtonLabel},d);default:return null}});return y.jsx(cs,he({},s,{children:l}))}const OSe=["items","changeImportance","isLandscape","onChange","isValid"],NSe=["getValue"];function MSe(t){const{items:e,changeImportance:n="accept",onChange:r,isValid:a}=t,i=Dt(t,OSe);if(e==null||e.length===0)return null;const s=e.map(o=>{let{getValue:l}=o,d=Dt(o,NSe);const f=l({isValid:a});return he({},d,{label:d.label,onClick:()=>{r(f,n,d)},disabled:!a(f)})});return y.jsx(ub,he({dense:!0,sx:[{maxHeight:V1,maxWidth:200,overflow:"auto"},...Array.isArray(i.sx)?i.sx:[i.sx]]},i,{children:s.map(o=>y.jsx(Zl,{children:y.jsx(pr,he({},o))},o.id??o.label))}))}function PSe(t){return t.view!==null}const LSe=t=>{const{classes:e,isLandscape:n}=t;return Nn({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},QX,e)},JX=t=>{const{wrapperVariant:e,onAccept:n,onClear:r,onCancel:a,onSetToday:i,view:s,views:o,onViewChange:l,value:d,onChange:f,onSelectShortcut:h,isValid:m,isLandscape:b,disabled:g,readOnly:w,children:S,slots:T,slotProps:x}=t,_=LSe(t),C=T?.actionBar??DSe,R=jn({elementType:C,externalSlotProps:x?.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:a,onSetToday:i,actions:e==="desktop"?[]:["cancel","accept"]},className:_.actionBar,ownerState:he({},t,{wrapperVariant:e})}),A=y.jsx(C,he({},R)),I=T?.toolbar,O=jn({elementType:I,externalSlotProps:x?.toolbar,additionalProps:{isLandscape:b,onChange:f,value:d,view:s,onViewChange:l,views:o,disabled:g,readOnly:w},className:_.toolbar,ownerState:he({},t,{wrapperVariant:e})}),M=PSe(O)&&I?y.jsx(I,he({},O)):null,U=S,L=T?.tabs,z=s&&L?y.jsx(L,he({view:s,onViewChange:l,className:_.tabs},x?.tabs)):null,j=T?.shortcuts??MSe,H=jn({elementType:j,externalSlotProps:x?.shortcuts,additionalProps:{isValid:m,isLandscape:b,onChange:h},className:_.shortcuts,ownerState:{isValid:m,isLandscape:b,onChange:h,wrapperVariant:e}}),$=s&&j?y.jsx(j,he({},H)):null;return{toolbar:M,content:U,tabs:z,actionBar:A,shortcuts:$}},FSe=t=>{const{isLandscape:e,classes:n}=t;return Nn({root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]},QX,n)},eZ=rt("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${oo.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${oo.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${oo.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${oo.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${oo.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${oo.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${oo.shortcuts}`]:{gridColumn:3}}}]}),tZ=rt("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(t,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),nZ=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersLayout"}),{toolbar:a,content:i,tabs:s,actionBar:o,shortcuts:l}=JX(r),{sx:d,className:f,isLandscape:h,wrapperVariant:m}=r,b=FSe(r);return y.jsxs(eZ,{ref:n,sx:d,className:wn(b.root,f),ownerState:r,children:[h?l:a,h?a:l,y.jsx(tZ,{className:b.contentWrapper,children:m==="desktop"?y.jsxs(N.Fragment,{children:[i,s]}):y.jsxs(N.Fragment,{children:[s,i]})}),o]})}),BSe=["props","getOpenDialogAriaText"],jSe=["ownerState"],USe=["ownerState"],IL=t=>{let{props:e,getOpenDialogAriaText:n}=t,r=Dt(t,BSe);const{slots:a,slotProps:i,className:s,sx:o,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:f,selectedSections:h,onSelectedSectionsChange:m,timezone:b,name:g,label:w,inputRef:S,readOnly:T,disabled:x,autoFocus:_,localeText:C,reduceAnimations:R}=e,A=N.useRef(null),I=N.useRef(null),O=rh(),M=i?.toolbar?.hidden??!1,{open:U,actions:L,hasUIView:z,layoutProps:j,renderCurrentView:H,shouldRestoreFocus:$,fieldProps:q,contextValue:K,ownerState:V}=ZX(he({},r,{props:e,fieldRef:I,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),re=a.inputAdornment??Ip,ee=jn({elementType:re,externalSlotProps:i?.inputAdornment,additionalProps:{position:"end"},ownerState:e}),Y=Dt(ee,jSe),ne=a.openPickerButton??Ct,te=jn({elementType:ne,externalSlotProps:i?.openPickerButton,additionalProps:{disabled:x||T,onClick:U?L.onClose:L.onOpen,"aria-label":n(q.value),edge:Y.position},ownerState:e}),G=Dt(te,USe),W=a.openPickerIcon,ue=jn({elementType:W,externalSlotProps:i?.openPickerIcon,ownerState:V}),Ee=a.field,ge=jn({elementType:Ee,externalSlotProps:i?.field,additionalProps:he({},q,M&&{id:O},{readOnly:T,disabled:x,className:s,sx:o,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:f,selectedSections:h,onSelectedSectionsChange:m,timezone:b,label:w,name:g,autoFocus:_&&!e.open,focused:U?!0:void 0},S?{inputRef:S}:{}),ownerState:e});z&&(ge.InputProps=he({},ge.InputProps,{ref:A},!e.disableOpenPicker&&{[`${Y.position}Adornment`]:y.jsx(re,he({},Y,{children:y.jsx(ne,he({},G,{children:y.jsx(W,he({},ue))}))}))}));const fe=he({textField:a.textField,clearIcon:a.clearIcon,clearButton:a.clearButton},ge.slots),Ae=a.layout??nZ;let oe=O;M&&(w?oe=`${O}-label`:oe=void 0);const de=he({},i,{toolbar:he({},i?.toolbar,{titleId:O}),popper:he({"aria-labelledby":oe},i?.popper)}),se=bi(I,ge.unstableFieldRef);return{renderPicker:()=>y.jsxs(MX,{contextValue:K,localeText:C,children:[y.jsx(Ee,he({},ge,{slots:fe,slotProps:de,unstableFieldRef:se})),y.jsx(vSe,he({role:"dialog",placement:"bottom-start",anchorEl:A.current},L,{open:U,slots:a,slotProps:de,shouldRestoreFocus:$,reduceAnimations:R,children:y.jsx(Ae,he({},j,de?.layout,{slots:a,slotProps:de,children:H()}))}))]})}},Os=({view:t,onViewChange:e,views:n,focusedView:r,onFocusedViewChange:a,value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minDate:b,maxDate:g,shouldDisableDate:w,shouldDisableMonth:S,shouldDisableYear:T,reduceAnimations:x,onMonthChange:_,monthsPerRow:C,onYearChange:R,yearsOrder:A,yearsPerRow:I,slots:O,slotProps:M,loading:U,renderLoading:L,disableHighlightToday:z,readOnly:j,disabled:H,showDaysOutsideCurrentMonth:$,dayOfWeekFormatter:q,sx:K,autoFocus:V,fixedWeekNumber:re,displayWeekNumber:ee,timezone:Y})=>y.jsx(J0e,{view:t,onViewChange:e,views:n.filter(Lp),focusedView:r&&Lp(r)?r:null,onFocusedViewChange:a,value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minDate:b,maxDate:g,shouldDisableDate:w,shouldDisableMonth:S,shouldDisableYear:T,reduceAnimations:x,onMonthChange:_,monthsPerRow:C,onYearChange:R,yearsOrder:A,yearsPerRow:I,slots:O,slotProps:M,loading:U,renderLoading:L,disableHighlightToday:z,readOnly:j,disabled:H,showDaysOutsideCurrentMonth:$,dayOfWeekFormatter:q,sx:K,autoFocus:V,fixedWeekNumber:re,displayWeekNumber:ee,timezone:Y}),rZ=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=XX(e,"MuiDesktopDatePicker"),s=he({day:Os,month:Os,year:Os},i.viewRenderers),o=he({},i,{viewRenderers:s,format:nb(a,i,!1),yearsPerRow:i.yearsPerRow??4,slots:he({openPickerIcon:bX,field:qX},i.slots),slotProps:he({},i.slotProps,{field:d=>he({},eu(i.slotProps?.field,d),oh(i),{ref:n}),toolbar:he({hidden:!0},i.slotProps?.toolbar)})}),{renderPicker:l}=IL({props:o,valueManager:Or,valueType:"date",getOpenDialogAriaText:ah({utils:a,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:o.localeText?.openDatePickerDialogue}),validator:sh});return l()});rZ.propTypes={autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:nh,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,minDate:X.object,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","month","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","month","year"]),viewRenderers:X.shape({day:X.func,month:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","month","year"]).isRequired),yearsOrder:X.oneOf(["asc","desc"]),yearsPerRow:X.oneOf([3,4])};const zSe=rt(yi)({[`& .${D3.container}`]:{outline:0},[`& .${D3.paper}`]:{outline:0,minWidth:H1}}),qSe=rt(vi)({"&:first-of-type":{padding:0}});function $Se(t){const{children:e,onDismiss:n,open:r,slots:a,slotProps:i}=t,s=a?.dialog??zSe,o=a?.mobileTransition??ru;return y.jsx(s,he({open:r,onClose:n},i?.dialog,{TransitionComponent:o,TransitionProps:i?.mobileTransition,PaperComponent:a?.mobilePaper,PaperProps:i?.mobilePaper,children:y.jsx(qSe,{children:e})}))}const GSe=["props","getOpenDialogAriaText"],kL=t=>{let{props:e,getOpenDialogAriaText:n}=t,r=Dt(t,GSe);const{slots:a,slotProps:i,className:s,sx:o,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:f,selectedSections:h,onSelectedSectionsChange:m,timezone:b,name:g,label:w,inputRef:S,readOnly:T,disabled:x,localeText:_}=e,C=N.useRef(null),R=rh(),A=i?.toolbar?.hidden??!1,{open:I,actions:O,layoutProps:M,renderCurrentView:U,fieldProps:L,contextValue:z}=ZX(he({},r,{props:e,fieldRef:C,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),j=a.field,H=jn({elementType:j,externalSlotProps:i?.field,additionalProps:he({},L,A&&{id:R},!(x||T)&&{onClick:O.onOpen,onKeyDown:tye(O.onOpen)},{readOnly:T??!0,disabled:x,className:s,sx:o,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:f,selectedSections:h,onSelectedSectionsChange:m,timezone:b,label:w,name:g},S?{inputRef:S}:{}),ownerState:e});H.inputProps=he({},H.inputProps,{"aria-label":n(L.value)});const $=he({textField:a.textField},H.slots),q=a.layout??nZ;let K=R;A&&(w?K=`${R}-label`:K=void 0);const V=he({},i,{toolbar:he({},i?.toolbar,{titleId:R}),mobilePaper:he({"aria-labelledby":K},i?.mobilePaper)}),re=bi(C,H.unstableFieldRef);return{renderPicker:()=>y.jsxs(MX,{contextValue:z,localeText:_,children:[y.jsx(j,he({},H,{slots:$,slotProps:V,unstableFieldRef:re})),y.jsx($Se,he({},O,{open:I,slots:a,slotProps:V,children:y.jsx(q,he({},M,V?.layout,{slots:a,slotProps:V,children:U()}))}))]})}},aZ=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=XX(e,"MuiMobileDatePicker"),s=he({day:Os,month:Os,year:Os},i.viewRenderers),o=he({},i,{viewRenderers:s,format:nb(a,i,!1),slots:he({field:qX},i.slots),slotProps:he({},i.slotProps,{field:d=>he({},eu(i.slotProps?.field,d),oh(i),{ref:n}),toolbar:he({hidden:!1},i.slotProps?.toolbar)})}),{renderPicker:l}=kL({props:o,valueManager:Or,valueType:"date",getOpenDialogAriaText:ah({utils:a,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:o.localeText?.openDatePickerDialogue}),validator:sh});return l()});aZ.propTypes={autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:nh,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,minDate:X.object,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","month","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","month","year"]),viewRenderers:X.shape({day:X.func,month:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","month","year"]).isRequired),yearsOrder:X.oneOf(["asc","desc"]),yearsPerRow:X.oneOf([3,4])};const HSe=["desktopModeMediaQuery"],VSe=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=SL}=r,i=Dt(r,HSe);return a1(a,{defaultMatches:!0})?y.jsx(rZ,he({ref:n},i)):y.jsx(aZ,he({ref:n},i))});function WSe(t){return Ln("MuiPickersToolbarText",t)}const sM=qn("MuiPickersToolbarText",["root","selected"]),YSe=["className","selected","value"],KSe=t=>{const{classes:e,selected:n}=t;return Nn({root:["root",n&&"selected"]},WSe,e)},XSe=rt(Ve,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(t,e)=>[e.root,{[`&.${sM.selected}`]:e.selected}]})(({theme:t})=>({transition:t.transitions.create("color"),color:(t.vars||t).palette.text.secondary,[`&.${sM.selected}`]:{color:(t.vars||t).palette.text.primary}})),DL=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersToolbarText"}),{className:a,value:i}=r,s=Dt(r,YSe),o=KSe(r);return y.jsx(XSe,he({ref:n,className:wn(o.root,a),component:"span"},s,{children:i}))}),ZSe=["align","className","selected","typographyClassName","value","variant","width"],QSe=t=>{const{classes:e}=t;return Nn({root:["root"]},KX,e)},JSe=rt(xt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),as=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiPickersToolbarButton"}),{align:a,className:i,selected:s,typographyClassName:o,value:l,variant:d,width:f}=r,h=Dt(r,ZSe),m=QSe(r);return y.jsx(JSe,he({variant:"text",ref:n,className:wn(m.root,i)},f?{sx:{width:f}}:{},h,{children:y.jsx(DL,{align:a,className:o,variant:d,value:l,selected:s})}))});function e1e(t){return Ln("MuiTimePickerToolbar",t)}const Fg=qn("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),t1e=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],n1e=t=>{const{isLandscape:e,classes:n,isRtl:r}=t;return Nn({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",r&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]},e1e,n)},r1e=rt(AL,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})({}),a1e=rt(DL,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),i1e=rt("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(t,e)=>[{[`&.${Fg.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${Fg.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),s1e=rt("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${Fg.ampmLabel}`]:e.ampmLabel},{[`&.${Fg.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Fg.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function o1e(t){const e=Wt({props:t,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:a,isLandscape:i,onChange:s,view:o,onViewChange:l,views:d,disabled:f,readOnly:h,className:m}=e,b=Dt(e,t1e),g=un(),w=Jr(),S=us(),T=!!(n&&!r&&d.includes("hours")),{meridiemMode:x,handleMeridiemChange:_}=$1(a,n,s),C=O=>n?g.format(O,"hours12h"):g.format(O,"hours24h"),R=he({},e,{isRtl:S}),A=n1e(R),I=y.jsx(a1e,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:A.separator});return y.jsxs(r1e,he({landscapeDirection:"row",toolbarTitle:w.timePickerToolbarTitle,isLandscape:i,ownerState:R,className:wn(A.root,m)},b,{children:[y.jsxs(i1e,{className:A.hourMinuteLabel,ownerState:R,children:[gp(d,"hours")&&y.jsx(as,{tabIndex:-1,variant:"h3",onClick:()=>l("hours"),selected:o==="hours",value:a?C(a):"--"}),gp(d,["hours","minutes"])&&I,gp(d,"minutes")&&y.jsx(as,{tabIndex:-1,variant:"h3",onClick:()=>l("minutes"),selected:o==="minutes",value:a?g.format(a,"minutes"):"--"}),gp(d,["minutes","seconds"])&&I,gp(d,"seconds")&&y.jsx(as,{variant:"h3",onClick:()=>l("seconds"),selected:o==="seconds",value:a?g.format(a,"seconds"):"--"})]}),T&&y.jsxs(s1e,{className:A.ampmSelection,ownerState:R,children:[y.jsx(as,{disableRipple:!0,variant:"subtitle2",selected:x==="am",typographyClassName:A.ampmLabel,value:ho(g,"am"),onClick:h?void 0:()=>_("am"),disabled:f}),y.jsx(as,{disableRipple:!0,variant:"subtitle2",selected:x==="pm",typographyClassName:A.ampmLabel,value:ho(g,"pm"),onClick:h?void 0:()=>_("pm"),disabled:f})]})]}))}function iZ(t,e){const n=un(),r=Wt({props:t,name:e}),a=r.ampm??n.is12HourCycleInCurrentLocale(),i=N.useMemo(()=>r.localeText?.toolbarTitle==null?r.localeText:he({},r.localeText,{timePickerToolbarTitle:r.localeText.toolbarTitle}),[r.localeText]);return he({},r,{ampm:a,localeText:i},fL({views:r.views,openTo:r.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:r.disableFuture??!1,disablePast:r.disablePast??!1,slots:he({toolbar:o1e},r.slots),slotProps:he({},r.slotProps,{toolbar:he({ampm:a,ampmInClock:r.ampmInClock},r.slotProps?.toolbar)})})}const Rp=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:a,value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minTime:b,maxTime:g,shouldDisableTime:w,minutesStep:S,ampm:T,ampmInClock:x,slots:_,slotProps:C,readOnly:R,disabled:A,sx:I,autoFocus:O,showViewSwitcher:M,disableIgnoringDatePartForTimeValidation:U,timezone:L})=>y.jsx(Qbe,{view:t,onViewChange:e,focusedView:n&&Mp(n)?n:null,onFocusedViewChange:r,views:a.filter(Mp),value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minTime:b,maxTime:g,shouldDisableTime:w,minutesStep:S,ampm:T,ampmInClock:x,slots:_,slotProps:C,readOnly:R,disabled:A,sx:I,autoFocus:O,showViewSwitcher:M,disableIgnoringDatePartForTimeValidation:U,timezone:L}),sZ=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:a,value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minTime:b,maxTime:g,shouldDisableTime:w,minutesStep:S,ampm:T,slots:x,slotProps:_,readOnly:C,disabled:R,sx:A,autoFocus:I,disableIgnoringDatePartForTimeValidation:O,timeSteps:M,skipDisabled:U,timezone:L})=>y.jsx(oye,{view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:a.filter(Mp),value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minTime:b,maxTime:g,shouldDisableTime:w,minutesStep:S,ampm:T,slots:x,slotProps:_,readOnly:C,disabled:R,sx:A,autoFocus:I,disableIgnoringDatePartForTimeValidation:O,timeStep:M?.minutes,skipDisabled:U,timezone:L}),KS=({view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:a,value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minTime:b,maxTime:g,shouldDisableTime:w,minutesStep:S,ampm:T,slots:x,slotProps:_,readOnly:C,disabled:R,sx:A,autoFocus:I,disableIgnoringDatePartForTimeValidation:O,timeSteps:M,skipDisabled:U,timezone:L})=>y.jsx(Sye,{view:t,onViewChange:e,focusedView:n,onFocusedViewChange:r,views:a.filter(Mp),value:i,defaultValue:s,referenceDate:o,onChange:l,className:d,classes:f,disableFuture:h,disablePast:m,minTime:b,maxTime:g,shouldDisableTime:w,minutesStep:S,ampm:T,slots:x,slotProps:_,readOnly:C,disabled:R,sx:A,autoFocus:I,disableIgnoringDatePartForTimeValidation:O,timeSteps:M,skipDisabled:U,timezone:L}),l1e=["views","format"],oZ=(t,e,n)=>{let{views:r,format:a}=e,i=Dt(e,l1e);if(a)return a;const s=[],o=[];if(r.forEach(f=>{Mp(f)?o.push(f):Lp(f)&&s.push(f)}),o.length===0)return nb(t,he({views:s},i),!1);if(s.length===0)return VS(t,he({views:o},i));const l=VS(t,he({views:o},i));return`${nb(t,he({views:s},i),!1)} ${l}`},c1e=(t,e,n)=>n?e.filter(r=>!xg(r)||r==="hours"):t?[...e,"meridiem"]:e,u1e=(t,e)=>1440/((t.hours??1)*(t.minutes??5))<=e;function lZ({thresholdToRenderTimeInASingleColumn:t,ampm:e,timeSteps:n,views:r}){const a=t??24,i=he({hours:1,minutes:5,seconds:5},n),s=u1e(i,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:i,shouldRenderTimeInASingleColumn:s,views:c1e(e,r,s)}}const cZ=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=iZ(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:s,views:o,timeSteps:l}=lZ(i),d=s?sZ:KS,f=he({hours:d,minutes:d,seconds:d,meridiem:d},i.viewRenderers),h=i.ampmInClock??!0,m=s?[]:["accept"],g=f.hours?.name===KS.name?o:o.filter(T=>T!=="meridiem"),w=he({},i,{ampmInClock:h,timeSteps:l,viewRenderers:f,format:VS(a,i),views:s?["hours"]:g,slots:he({field:$X,openPickerIcon:Fge},i.slots),slotProps:he({},i.slotProps,{field:T=>he({},eu(i.slotProps?.field,T),oh(i),{ref:n}),toolbar:he({hidden:!0,ampmInClock:h},i.slotProps?.toolbar),actionBar:he({actions:m},i.slotProps?.actionBar)})}),{renderPicker:S}=IL({props:w,valueManager:Or,valueType:"time",getOpenDialogAriaText:ah({utils:a,formatKey:"fullTime",contextTranslation:r.openTimePickerDialogue,propsTranslation:w.localeText?.openTimePickerDialogue}),validator:Fb});return S()});cZ.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,enableAccessibleFieldDOMStructure:X.any,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:nh,label:X.node,localeText:X.object,maxTime:X.object,minTime:X.object,minutesStep:X.number,name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,open:X.bool,openTo:X.oneOf(["hours","meridiem","minutes","seconds"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableTime:X.func,skipDisabled:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),thresholdToRenderTimeInASingleColumn:X.number,timeSteps:X.shape({hours:X.number,minutes:X.number,seconds:X.number}),timezone:X.string,value:X.object,view:X.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:X.shape({hours:X.func,meridiem:X.func,minutes:X.func,seconds:X.func}),views:X.arrayOf(X.oneOf(["hours","minutes","seconds"]).isRequired)};const uZ=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=iZ(e,"MuiMobileTimePicker"),s=he({hours:Rp,minutes:Rp,seconds:Rp},i.viewRenderers),o=i.ampmInClock??!1,l=he({},i,{ampmInClock:o,viewRenderers:s,format:VS(a,i),slots:he({field:$X},i.slots),slotProps:he({},i.slotProps,{field:f=>he({},eu(i.slotProps?.field,f),oh(i),{ref:n}),toolbar:he({hidden:!1,ampmInClock:o},i.slotProps?.toolbar)})}),{renderPicker:d}=kL({props:l,valueManager:Or,valueType:"time",getOpenDialogAriaText:ah({utils:a,formatKey:"fullTime",contextTranslation:r.openTimePickerDialogue,propsTranslation:l.localeText?.openTimePickerDialogue}),validator:Fb});return d()});uZ.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,enableAccessibleFieldDOMStructure:X.any,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:nh,label:X.node,localeText:X.object,maxTime:X.object,minTime:X.object,minutesStep:X.number,name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,open:X.bool,openTo:X.oneOf(["hours","minutes","seconds"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableTime:X.func,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["hours","minutes","seconds"]),viewRenderers:X.shape({hours:X.func,minutes:X.func,seconds:X.func}),views:X.arrayOf(X.oneOf(["hours","minutes","seconds"]).isRequired)};const d1e=["desktopModeMediaQuery"],f1e=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=SL}=r,i=Dt(r,d1e);return a1(a,{defaultMatches:!0})?y.jsx(cZ,he({ref:n},i)):y.jsx(uZ,he({ref:n},i))});function p1e(t){return Ln("MuiDateTimePickerTabs",t)}qn("MuiDateTimePickerTabs",["root"]);const h1e=t=>Lp(t)?"date":"time",m1e=t=>t==="date"?"day":"hours",g1e=t=>{const{classes:e}=t;return Nn({root:["root"]},p1e,e)},b1e=rt(i1,{name:"MuiDateTimePickerTabs",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({boxShadow:`0 -1px 0 0 inset ${(t.vars||t).palette.divider}`,"&:last-child":{boxShadow:`0 1px 0 0 inset ${(t.vars||t).palette.divider}`,[`& .${Gne.indicator}`]:{bottom:"auto",top:0}}})),y1e=function(e){const n=Wt({props:e,name:"MuiDateTimePickerTabs"}),{dateIcon:r=y.jsx(Bge,{}),onViewChange:a,timeIcon:i=y.jsx(jge,{}),view:s,hidden:o=typeof window>"u"||window.innerHeight<667,className:l,sx:d}=n,f=Jr(),h=g1e(n),m=(b,g)=>{a(m1e(g))};return o?null:y.jsxs(b1e,{ownerState:n,variant:"fullWidth",value:h1e(s),onChange:m,className:wn(l,h.root),sx:d,children:[y.jsx(Gg,{value:"date","aria-label":f.dateTableLabel,icon:y.jsx(N.Fragment,{children:r})}),y.jsx(Gg,{value:"time","aria-label":f.timeTableLabel,icon:y.jsx(N.Fragment,{children:i})})]})};function v1e(t){return Ln("MuiDateTimePickerToolbar",t)}const uA=qn("MuiDateTimePickerToolbar",["root","dateContainer","timeContainer","timeDigitsContainer","separator","timeLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),S1e=["ampm","ampmInClock","value","onChange","view","isLandscape","onViewChange","toolbarFormat","toolbarPlaceholder","views","disabled","readOnly","toolbarVariant","toolbarTitle","className"],E1e=t=>{const{classes:e,isLandscape:n,isRtl:r}=t;return Nn({root:["root"],dateContainer:["dateContainer"],timeContainer:["timeContainer",r&&"timeLabelReverse"],timeDigitsContainer:["timeDigitsContainer",r&&"timeLabelReverse"],separator:["separator"],ampmSelection:["ampmSelection",n&&"ampmLandscape"],ampmLabel:["ampmLabel"]},v1e,e)},_1e=rt(AL,{name:"MuiDateTimePickerToolbar",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>({paddingLeft:16,paddingRight:16,justifyContent:"space-around",position:"relative",variants:[{props:{toolbarVariant:"desktop"},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,[`& .${eSe.content} .${sM.selected}`]:{color:(t.vars||t).palette.primary.main,fontWeight:t.typography.fontWeightBold}}},{props:{toolbarVariant:"desktop",isLandscape:!0},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{paddingLeft:24,paddingRight:0}}]})),x1e=rt("div",{name:"MuiDateTimePickerToolbar",slot:"DateContainer",overridesResolver:(t,e)=>e.dateContainer})({display:"flex",flexDirection:"column",alignItems:"flex-start"}),w1e=rt("div",{name:"MuiDateTimePickerToolbar",slot:"TimeContainer",overridesResolver:(t,e)=>e.timeContainer})({display:"flex",flexDirection:"row",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop",isLandscape:!1},style:{gap:9,marginRight:4,alignSelf:"flex-end"}},{props:({isLandscape:t,toolbarVariant:e})=>t&&e!=="desktop",style:{flexDirection:"column"}},{props:({isLandscape:t,toolbarVariant:e,isRtl:n})=>t&&e!=="desktop"&&n,style:{flexDirection:"column-reverse"}}]}),T1e=rt("div",{name:"MuiDateTimePickerToolbar",slot:"TimeDigitsContainer",overridesResolver:(t,e)=>e.timeDigitsContainer})({display:"flex",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{toolbarVariant:"desktop"},style:{gap:1.5}}]}),MU=rt(DL,{name:"MuiDateTimePickerToolbar",slot:"Separator",overridesResolver:(t,e)=>e.separator})({margin:"0 4px 0 2px",cursor:"default",variants:[{props:{toolbarVariant:"desktop"},style:{margin:0}}]}),C1e=rt("div",{name:"MuiDateTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(t,e)=>[{[`.${uA.ampmLabel}`]:e.ampmLabel},{[`&.${uA.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${uA.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",width:"100%"}}]});function R1e(t){const e=Wt({props:t,name:"MuiDateTimePickerToolbar"}),{ampm:n,ampmInClock:r,value:a,onChange:i,view:s,isLandscape:o,onViewChange:l,toolbarFormat:d,toolbarPlaceholder:f="",views:h,disabled:m,readOnly:b,toolbarVariant:g="mobile",toolbarTitle:w,className:S}=e,T=Dt(e,S1e),x=us(),_=he({},e,{isRtl:x}),C=un(),{meridiemMode:R,handleMeridiemChange:A}=$1(a,n,i),I=!!(n&&!r),O=g==="desktop",M=Jr(),U=E1e(_),L=w??M.dateTimePickerToolbarTitle,z=H=>n?C.format(H,"hours12h"):C.format(H,"hours24h"),j=N.useMemo(()=>a?d?C.formatByString(a,d):C.format(a,"shortDate"):f,[a,d,f,C]);return y.jsxs(_1e,he({isLandscape:o,className:wn(U.root,S),toolbarTitle:L},T,{ownerState:_,children:[y.jsxs(x1e,{className:U.dateContainer,ownerState:_,children:[h.includes("year")&&y.jsx(as,{tabIndex:-1,variant:"subtitle1",onClick:()=>l("year"),selected:s==="year",value:a?C.format(a,"year"):""}),h.includes("day")&&y.jsx(as,{tabIndex:-1,variant:O?"h5":"h4",onClick:()=>l("day"),selected:s==="day",value:j})]}),y.jsxs(w1e,{className:U.timeContainer,ownerState:_,children:[y.jsxs(T1e,{className:U.timeDigitsContainer,ownerState:_,children:[h.includes("hours")&&y.jsxs(N.Fragment,{children:[y.jsx(as,{variant:O?"h5":"h3",width:O&&!o?wg:void 0,onClick:()=>l("hours"),selected:s==="hours",value:a?z(a):"--"}),y.jsx(MU,{variant:O?"h5":"h3",value:":",className:U.separator,ownerState:_}),y.jsx(as,{variant:O?"h5":"h3",width:O&&!o?wg:void 0,onClick:()=>l("minutes"),selected:s==="minutes"||!h.includes("minutes")&&s==="hours",value:a?C.format(a,"minutes"):"--",disabled:!h.includes("minutes")})]}),h.includes("seconds")&&y.jsxs(N.Fragment,{children:[y.jsx(MU,{variant:O?"h5":"h3",value:":",className:U.separator,ownerState:_}),y.jsx(as,{variant:O?"h5":"h3",width:O&&!o?wg:void 0,onClick:()=>l("seconds"),selected:s==="seconds",value:a?C.format(a,"seconds"):"--"})]})]}),I&&!O&&y.jsxs(C1e,{className:U.ampmSelection,ownerState:_,children:[y.jsx(as,{variant:"subtitle2",selected:R==="am",typographyClassName:U.ampmLabel,value:ho(C,"am"),onClick:b?void 0:()=>A("am"),disabled:m}),y.jsx(as,{variant:"subtitle2",selected:R==="pm",typographyClassName:U.ampmLabel,value:ho(C,"pm"),onClick:b?void 0:()=>A("pm"),disabled:m})]}),n&&O&&y.jsx(as,{variant:"h5",onClick:()=>l("meridiem"),selected:s==="meridiem",value:a&&R?ho(C,R):"--",width:wg})]})]}))}function dZ(t,e){const n=un(),r=Od(),a=Wt({props:t,name:e}),i=a.ampm??n.is12HourCycleInCurrentLocale(),s=N.useMemo(()=>a.localeText?.toolbarTitle==null?a.localeText:he({},a.localeText,{dateTimePickerToolbarTitle:a.localeText.toolbarTitle}),[a.localeText]);return he({},a,fL({views:a.views,openTo:a.openTo,defaultViews:["year","day","hours","minutes"],defaultOpenTo:"day"}),{ampm:i,localeText:s,orientation:a.orientation??"portrait",disableIgnoringDatePartForTimeValidation:a.disableIgnoringDatePartForTimeValidation??!!(a.minDateTime||a.maxDateTime||a.disablePast||a.disableFuture),disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:ni(n,a.minDateTime??a.minDate,r.minDate),maxDate:ni(n,a.maxDateTime??a.maxDate,r.maxDate),minTime:a.minDateTime??a.minTime,maxTime:a.maxDateTime??a.maxTime,slots:he({toolbar:R1e,tabs:y1e},a.slots),slotProps:he({},a.slotProps,{toolbar:he({ampm:i},a.slotProps?.toolbar)})})}const A1e=N.forwardRef(function(e,n){const r=us(),{toolbar:a,tabs:i,content:s,actionBar:o,shortcuts:l}=JX(e),{sx:d,className:f,isLandscape:h,classes:m}=e,b=o&&(o.props.actions?.length??0)>0,g=he({},e,{isRtl:r});return y.jsxs(eZ,{ref:n,className:wn(oo.root,m?.root,f),sx:[{[`& .${oo.tabs}`]:{gridRow:4,gridColumn:"1 / 4"},[`& .${oo.actionBar}`]:{gridRow:5}},...Array.isArray(d)?d:[d]],ownerState:g,children:[h?l:a,h?a:l,y.jsxs(tZ,{className:wn(oo.contentWrapper,m?.contentWrapper),sx:{display:"grid"},children:[s,i,b&&y.jsx(ul,{sx:{gridRow:3,gridColumn:"1 / 4"}})]}),o]})}),I1e=["openTo","focusedView","timeViewsCount"],k1e=function(e,n,r){const{openTo:a,focusedView:i,timeViewsCount:s}=r,o=Dt(r,I1e),l=he({},o,{autoFocus:!1,focusedView:null,sx:[{[`&.${RU.root}`]:{borderBottom:0},[`&.${RU.root}, .${uye.root}, &.${eye.root}`]:{maxHeight:V1}}]}),d=xg(n);return y.jsxs(N.Fragment,{children:[e[d?"day":n]?.(he({},r,{view:d?"day":n,focusedView:i&&Lp(i)?i:null,views:r.views.filter(Lp),sx:[{gridColumn:1},...l.sx]})),s>0&&y.jsxs(N.Fragment,{children:[y.jsx(ul,{orientation:"vertical",sx:{gridColumn:2}}),e[d?n:"hours"]?.(he({},l,{view:d?n:"hours",focusedView:i&&xg(i)?i:null,openTo:xg(a)?a:"hours",views:r.views.filter(xg),sx:[{gridColumn:3},...l.sx]}))]})]})},fZ=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=dZ(e,"MuiDesktopDateTimePicker"),{shouldRenderTimeInASingleColumn:s,thresholdToRenderTimeInASingleColumn:o,views:l,timeSteps:d}=lZ(i),f=s?sZ:KS,h=he({day:Os,month:Os,year:Os,hours:f,minutes:f,seconds:f,meridiem:f},i.viewRenderers),m=i.ampmInClock??!0,g=h.hours?.name===KS.name?l:l.filter(x=>x!=="meridiem"),w=s?[]:["accept"],S=he({},i,{viewRenderers:h,format:oZ(a,i),views:g,yearsPerRow:i.yearsPerRow??4,ampmInClock:m,timeSteps:d,thresholdToRenderTimeInASingleColumn:o,shouldRenderTimeInASingleColumn:s,slots:he({field:GX,layout:A1e,openPickerIcon:bX},i.slots),slotProps:he({},i.slotProps,{field:x=>he({},eu(i.slotProps?.field,x),oh(i),{ref:n}),toolbar:he({hidden:!0,ampmInClock:m,toolbarVariant:"desktop"},i.slotProps?.toolbar),tabs:he({hidden:!0},i.slotProps?.tabs),actionBar:x=>he({actions:w},eu(i.slotProps?.actionBar,x))})}),{renderPicker:T}=IL({props:S,valueManager:Or,valueType:"date-time",getOpenDialogAriaText:ah({utils:a,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:S.localeText?.openDatePickerDialogue}),validator:K1,rendererInterceptor:k1e});return T()});fZ.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:nh,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,maxDateTime:X.object,maxTime:X.object,minDate:X.object,minDateTime:X.object,minTime:X.object,minutesStep:X.number,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableTime:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,skipDisabled:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),thresholdToRenderTimeInASingleColumn:X.number,timeSteps:X.shape({hours:X.number,minutes:X.number,seconds:X.number}),timezone:X.string,value:X.object,view:X.oneOf(["day","hours","meridiem","minutes","month","seconds","year"]),viewRenderers:X.shape({day:X.func,hours:X.func,meridiem:X.func,minutes:X.func,month:X.func,seconds:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:X.oneOf(["asc","desc"]),yearsPerRow:X.oneOf([3,4])};const pZ=N.forwardRef(function(e,n){const r=Jr(),a=un(),i=dZ(e,"MuiMobileDateTimePicker"),s=he({day:Os,month:Os,year:Os,hours:Rp,minutes:Rp,seconds:Rp},i.viewRenderers),o=i.ampmInClock??!1,l=he({},i,{viewRenderers:s,format:oZ(a,i),ampmInClock:o,slots:he({field:GX},i.slots),slotProps:he({},i.slotProps,{field:f=>he({},eu(i.slotProps?.field,f),oh(i),{ref:n}),toolbar:he({hidden:!1,ampmInClock:o},i.slotProps?.toolbar),tabs:he({hidden:!1},i.slotProps?.tabs)})}),{renderPicker:d}=kL({props:l,valueManager:Or,valueType:"date-time",getOpenDialogAriaText:ah({utils:a,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:l.localeText?.openDatePickerDialogue}),validator:K1});return d()});pZ.propTypes={ampm:X.bool,ampmInClock:X.bool,autoFocus:X.bool,className:X.string,closeOnSelect:X.bool,dayOfWeekFormatter:X.func,defaultValue:X.object,disabled:X.bool,disableFuture:X.bool,disableHighlightToday:X.bool,disableIgnoringDatePartForTimeValidation:X.bool,disableOpenPicker:X.bool,disablePast:X.bool,displayWeekNumber:X.bool,enableAccessibleFieldDOMStructure:X.any,fixedWeekNumber:X.number,format:X.string,formatDensity:X.oneOf(["dense","spacious"]),inputRef:nh,label:X.node,loading:X.bool,localeText:X.object,maxDate:X.object,maxDateTime:X.object,maxTime:X.object,minDate:X.object,minDateTime:X.object,minTime:X.object,minutesStep:X.number,monthsPerRow:X.oneOf([3,4]),name:X.string,onAccept:X.func,onChange:X.func,onClose:X.func,onError:X.func,onMonthChange:X.func,onOpen:X.func,onSelectedSectionsChange:X.func,onViewChange:X.func,onYearChange:X.func,open:X.bool,openTo:X.oneOf(["day","hours","minutes","month","seconds","year"]),orientation:X.oneOf(["landscape","portrait"]),readOnly:X.bool,reduceAnimations:X.bool,referenceDate:X.object,renderLoading:X.func,selectedSections:X.oneOfType([X.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),X.number]),shouldDisableDate:X.func,shouldDisableMonth:X.func,shouldDisableTime:X.func,shouldDisableYear:X.func,showDaysOutsideCurrentMonth:X.bool,slotProps:X.object,slots:X.object,sx:X.oneOfType([X.arrayOf(X.oneOfType([X.func,X.object,X.bool])),X.func,X.object]),timezone:X.string,value:X.object,view:X.oneOf(["day","hours","minutes","month","seconds","year"]),viewRenderers:X.shape({day:X.func,hours:X.func,minutes:X.func,month:X.func,seconds:X.func,year:X.func}),views:X.arrayOf(X.oneOf(["day","hours","minutes","month","seconds","year"]).isRequired),yearsOrder:X.oneOf(["asc","desc"]),yearsPerRow:X.oneOf([3,4])};const D1e=["desktopModeMediaQuery"],O1e=N.forwardRef(function(e,n){const r=Wt({props:e,name:"MuiDateTimePicker"}),{desktopModeMediaQuery:a=SL}=r,i=Dt(r,D1e);return a1(a,{defaultMatches:!0})?y.jsx(fZ,he({ref:n},i)):y.jsx(pZ,he({ref:n},i))});var SS={exports:{}},N1e=SS.exports,PU;function M1e(){return PU||(PU=1,(function(t,e){(function(n,r){t.exports=r()})(N1e,(function(){var n="week",r="year";return function(a,i,s){var o=i.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var d=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=s(this).startOf(r).add(1,r).date(d),h=s(this).endOf(n);if(f.isBefore(h))return 1}var m=s(this).startOf(r).date(d).startOf(n).subtract(1,"millisecond"),b=this.diff(m,n,!0);return b<0?s(this).startOf("week").week():Math.ceil(b)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}}))})(SS)),SS.exports}var P1e=M1e();const L1e=Tn(P1e);var ES={exports:{}},F1e=ES.exports,LU;function B1e(){return LU||(LU=1,(function(t,e){(function(n,r){t.exports=r()})(F1e,(function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,i){var s=a.prototype,o=s.format;i.en.formats=n,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var d=this.$locale().formats,f=(function(h,m){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(b,g,w){var S=w&&w.toUpperCase();return g||m[w]||n[w]||m[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(T,x,_){return x||_.slice(1)}))}))})(l,d===void 0?{}:d);return o.call(this,f)}}}))})(ES)),ES.exports}var j1e=B1e();const U1e=Tn(j1e);var _S={exports:{}},z1e=_S.exports,FU;function q1e(){return FU||(FU=1,(function(t,e){(function(n,r){t.exports=r()})(z1e,(function(){return function(n,r,a){r.prototype.isBetween=function(i,s,o,l){var d=a(i),f=a(s),h=(l=l||"()")[0]==="(",m=l[1]===")";return(h?this.isAfter(d,o):!this.isBefore(d,o))&&(m?this.isBefore(f,o):!this.isAfter(f,o))||(h?this.isBefore(d,o):!this.isAfter(d,o))&&(m?this.isAfter(f,o):!this.isBefore(f,o))}}}))})(_S)),_S.exports}var $1e=q1e();const G1e=Tn($1e);var xS={exports:{}},H1e=xS.exports,BU;function V1e(){return BU||(BU=1,(function(t,e){(function(n,r){t.exports=r()})(H1e,(function(){return function(n,r,a){var i=r.prototype,s=i.format;a.en.ordinal=function(o){var l=["th","st","nd","rd"],d=o%100;return"["+o+(l[(d-20)%10]||l[d]||l[0])+"]"},i.format=function(o){var l=this,d=this.$locale();if(!this.isValid())return s.bind(this)(o);var f=this.$utils(),h=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(m){switch(m){case"Q":return Math.ceil((l.$M+1)/3);case"Do":return d.ordinal(l.$D);case"gggg":return l.weekYear();case"GGGG":return l.isoWeekYear();case"wo":return d.ordinal(l.week(),"W");case"w":case"ww":return f.s(l.week(),m==="w"?1:2,"0");case"W":case"WW":return f.s(l.isoWeek(),m==="W"?1:2,"0");case"k":case"kk":return f.s(String(l.$H===0?24:l.$H),m==="k"?1:2,"0");case"X":return Math.floor(l.$d.getTime()/1e3);case"x":return l.$d.getTime();case"z":return"["+l.offsetName()+"]";case"zzz":return"["+l.offsetName("long")+"]";default:return m}}));return s.bind(this)(h)}}}))})(xS)),xS.exports}var W1e=V1e();const Y1e=Tn(W1e);jr.extend(U1e);jr.extend(L1e);jr.extend(G1e);jr.extend(Y1e);const K1e={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},X1e={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},dA=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),jU=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Z1e=(t,e)=>e?(...n)=>t(...n).locale(e):t;class OL{constructor({locale:e,formats:n}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=K1e,this.setLocaleToValue=r=>{const a=this.getCurrentLocaleCode();return a===r.locale()?r:r.locale(a)},this.hasUTCPlugin=()=>typeof jr.utc<"u",this.hasTimezonePlugin=()=>typeof jr.tz<"u",this.isSame=(r,a,i)=>{const s=this.setTimezone(a,this.getTimezone(r));return r.format(i)===s.format(i)},this.cleanTimezone=r=>{switch(r){case"default":return;case"system":return jr.tz.guess();default:return r}},this.createSystemDate=r=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const a=jr.tz.guess();return a!=="UTC"?jr.tz(r,a):jr(r)}return jr(r)},this.createUTCDate=r=>{if(!this.hasUTCPlugin())throw new Error(dA);return jr.utc(r)},this.createTZDate=(r,a)=>{if(!this.hasUTCPlugin())throw new Error(dA);if(!this.hasTimezonePlugin())throw new Error(jU);const i=r!==void 0&&!r.endsWith("Z");return jr(r).tz(this.cleanTimezone(a),i)},this.getLocaleFormats=()=>{const r=jr.Ls,a=this.locale||"en";let i=r[a];return i===void 0&&(i=r.en),i.formats},this.adjustOffset=r=>{if(!this.hasTimezonePlugin())return r;const a=this.getTimezone(r);if(a!=="UTC"){const i=r.tz(this.cleanTimezone(a),!0);if(i.$offset===(r.$offset??0))return r;r.$offset=i.$offset}return r},this.date=(r,a="default")=>{if(r===null)return null;let i;return a==="UTC"?i=this.createUTCDate(r):a==="system"||a==="default"&&!this.hasTimezonePlugin()?i=this.createSystemDate(r):i=this.createTZDate(r,a),this.locale===void 0?i:i.locale(this.locale)},this.getInvalidDate=()=>jr(new Date("Invalid date")),this.getTimezone=r=>{if(this.hasTimezonePlugin()){const a=r.$x?.$timezone;if(a)return a}return this.hasUTCPlugin()&&r.isUTC()?"UTC":"system"},this.setTimezone=(r,a)=>{if(this.getTimezone(r)===a)return r;if(a==="UTC"){if(!this.hasUTCPlugin())throw new Error(dA);return r.utc()}if(a==="system")return r.local();if(!this.hasTimezonePlugin()){if(a==="default")return r;throw new Error(jU)}return jr.tz(r,this.cleanTimezone(a))},this.toJsDate=r=>r.toDate(),this.parse=(r,a)=>r===""?null:this.dayjs(r,a,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=r=>{const a=this.getLocaleFormats(),i=s=>s.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(o,l,d)=>l||d.slice(1));return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(s,o,l)=>{const d=l&&l.toUpperCase();return o||a[l]||i(a[d])})},this.isValid=r=>r==null?!1:r.isValid(),this.format=(r,a)=>this.formatByString(r,this.formats[a]),this.formatByString=(r,a)=>this.dayjs(r).format(a),this.formatNumber=r=>r,this.isEqual=(r,a)=>r===null&&a===null?!0:r===null||a===null?!1:r.toDate().getTime()===a.toDate().getTime(),this.isSameYear=(r,a)=>this.isSame(r,a,"YYYY"),this.isSameMonth=(r,a)=>this.isSame(r,a,"YYYY-MM"),this.isSameDay=(r,a)=>this.isSame(r,a,"YYYY-MM-DD"),this.isSameHour=(r,a)=>r.isSame(a,"hour"),this.isAfter=(r,a)=>r>a,this.isAfterYear=(r,a)=>this.hasUTCPlugin()?!this.isSameYear(r,a)&&r.utc()>a.utc():r.isAfter(a,"year"),this.isAfterDay=(r,a)=>this.hasUTCPlugin()?!this.isSameDay(r,a)&&r.utc()>a.utc():r.isAfter(a,"day"),this.isBefore=(r,a)=>r<a,this.isBeforeYear=(r,a)=>this.hasUTCPlugin()?!this.isSameYear(r,a)&&r.utc()<a.utc():r.isBefore(a,"year"),this.isBeforeDay=(r,a)=>this.hasUTCPlugin()?!this.isSameDay(r,a)&&r.utc()<a.utc():r.isBefore(a,"day"),this.isWithinRange=(r,[a,i])=>r>=a&&r<=i,this.startOfYear=r=>this.adjustOffset(r.startOf("year")),this.startOfMonth=r=>this.adjustOffset(r.startOf("month")),this.startOfWeek=r=>this.adjustOffset(this.setLocaleToValue(r).startOf("week")),this.startOfDay=r=>this.adjustOffset(r.startOf("day")),this.endOfYear=r=>this.adjustOffset(r.endOf("year")),this.endOfMonth=r=>this.adjustOffset(r.endOf("month")),this.endOfWeek=r=>this.adjustOffset(this.setLocaleToValue(r).endOf("week")),this.endOfDay=r=>this.adjustOffset(r.endOf("day")),this.addYears=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"year"):r.add(a,"year")),this.addMonths=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"month"):r.add(a,"month")),this.addWeeks=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"week"):r.add(a,"week")),this.addDays=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"day"):r.add(a,"day")),this.addHours=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"hour"):r.add(a,"hour")),this.addMinutes=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"minute"):r.add(a,"minute")),this.addSeconds=(r,a)=>this.adjustOffset(a<0?r.subtract(Math.abs(a),"second"):r.add(a,"second")),this.getYear=r=>r.year(),this.getMonth=r=>r.month(),this.getDate=r=>r.date(),this.getHours=r=>r.hour(),this.getMinutes=r=>r.minute(),this.getSeconds=r=>r.second(),this.getMilliseconds=r=>r.millisecond(),this.setYear=(r,a)=>this.adjustOffset(r.set("year",a)),this.setMonth=(r,a)=>this.adjustOffset(r.set("month",a)),this.setDate=(r,a)=>this.adjustOffset(r.set("date",a)),this.setHours=(r,a)=>this.adjustOffset(r.set("hour",a)),this.setMinutes=(r,a)=>this.adjustOffset(r.set("minute",a)),this.setSeconds=(r,a)=>this.adjustOffset(r.set("second",a)),this.setMilliseconds=(r,a)=>this.adjustOffset(r.set("millisecond",a)),this.getDaysInMonth=r=>r.daysInMonth(),this.getWeekArray=r=>{const a=this.startOfWeek(this.startOfMonth(r)),i=this.endOfWeek(this.endOfMonth(r));let s=0,o=a;const l=[];for(;o<i;){const d=Math.floor(s/7);l[d]=l[d]||[],l[d].push(o),o=this.addDays(o,1),s+=1}return l},this.getWeekNumber=r=>r.week(),this.getYearRange=([r,a])=>{const i=this.startOfYear(r),s=this.endOfYear(a),o=[];let l=i;for(;this.isBefore(l,s);)o.push(l),l=this.addYears(l,1);return o},this.dayjs=Z1e(jr,e),this.locale=e,this.formats=he({},X1e,n),jr.extend(hX)}getDayOfWeek(e){return e.day()+1}}const Q1e=({schema:t,rootSchema:e,visible:n,renderers:r,cells:a,path:i,uischemas:s,uischema:o})=>{const l=WK(s)(t,o.scope,i);if(!n)return null;if(l)return Q.createElement(il,{schema:t,uischema:l,path:i,renderers:r,cells:a});const d=cL(t.allOf,e,"allOf",o,i,s);return Q.createElement(Q.Fragment,null,d.map((f,h)=>Q.createElement(il,{key:h,schema:f.schema,uischema:f.uischema,path:i,renderers:r,cells:a})))},J1e=$t(3,dhe);var eEe=$me(Q1e);class hZ extends Q.Component{render(){const{schema:e,combinatorKeyword:n,path:r,rootSchema:a}=this.props,i=rge(e,n),s=Ed.uiSchema(i,"VerticalLayout",void 0,a);let o=!1;return s!==null&&MP(s)&&(o=s.elements.length>0),o?Q.createElement(il,{schema:i,path:r,uischema:s}):null}}const mZ=({open:t,handleClose:e,confirm:n,cancel:r,id:a})=>Q.createElement(yi,{open:t,onClose:e,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},Q.createElement(Ui,{id:"alert-dialog-title"},"Clear form?"),Q.createElement(vi,null,Q.createElement(s1,{id:"alert-dialog-description"},"Your data will be cleared if you navigate away from this tab. Do you want to proceed?")),Q.createElement(cs,null,Q.createElement(xt,{onClick:r,color:"primary"},"No"),Q.createElement(xt,{onClick:n,color:"primary",autoFocus:!0,id:`${a}-confirm-yes`},"Yes"))),tEe=({handleChange:t,schema:e,rootSchema:n,indexOfFittingSchema:r,visible:a,path:i,renderers:s,cells:o,uischema:l,uischemas:d,id:f,data:h})=>{const[m,b]=N.useState(r||0),[g,w]=N.useState(!1),[S,T]=N.useState(0),x=N.useCallback(()=>w(!1),[w]),_=N.useCallback((O,M)=>{Xt(h)||typeof h==typeof Jl(I[M].schema,n)?b(M):(T(M),w(!0))},[w,b,h]),C=O=>{t(i,Jl(I[O].schema,n)),b(O)},R=N.useCallback(()=>{C(S),w(!1)},[t,Jl,S]),A="anyOf",I=cL(e.anyOf,n,A,l,i,d);return a?Q.createElement(Q.Fragment,null,Q.createElement(hZ,{schema:e,combinatorKeyword:A,path:i,rootSchema:n}),Q.createElement(i1,{value:m,onChange:_},I.map(O=>Q.createElement(Gg,{key:O.label,label:O.label}))),I.map((O,M)=>m===M&&Q.createElement(il,{key:M,schema:O.schema,uischema:O.uischema,path:i,renderers:s,cells:o})),Q.createElement(mZ,{cancel:x,confirm:R,id:"anyOf-"+f,open:g,handleClose:x})):null},nEe=$t(3,fhe);var rEe=qme(tEe);const aEe=rt(_a)({borderBottom:"none"}),rb=({children:t,...e})=>Q.createElement(aEe,{...e},t),iEe=rt(BV)(({theme:t})=>({color:t.palette.error.main})),gZ=({errorMessages:t,id:e})=>Q.createElement(_t,{id:e,title:t},Q.createElement(iEe,{badgeContent:t.split(`
`).length},Q.createElement(Yne,{color:"inherit"}))),sEe={paddingLeft:0,paddingRight:0},oEe=Q.memo(function({numColumns:e,errors:n,label:r,description:a,path:i,addItem:s,schema:o,enabled:l,translations:d,rootSchema:f,disableAdd:h}){return Q.createElement(Qc,null,Q.createElement(rb,{colSpan:e},Q.createElement(Ja,null,Q.createElement(kn,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:2},Q.createElement(kn,{item:!0},Q.createElement(Ve,{variant:"h6"},r)),Q.createElement(kn,{item:!0},n.length!==0&&Q.createElement(kn,{item:!0},Q.createElement(gZ,{id:"tooltip-validation",errorMessages:n})))),a&&Q.createElement(zr,null,a))),l&&!h?Q.createElement(rb,{align:"right",style:sEe},Q.createElement(_t,{id:"tooltip-add",title:d.addTooltip,placement:"bottom"},Q.createElement(Ct,{"aria-label":d.addAriaLabel,onClick:s(i,Jl(o,f)),size:"large"},Q.createElement(bd,null)))):null)}),UU={fixedCell:{width:"150px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"},fixedCellSmall:{width:"50px",height:"50px",paddingLeft:0,paddingRight:0,textAlign:"center"}},bZ=(t,e,n,r,a)=>{if(e.type==="object")return yZ(e).map(i=>{const s=LP.compose(n,i),o={propName:i,schema:e,title:e.properties?.[i]?.title??iP(i),rowPath:n,cellPath:s,enabled:r,cells:a};return Q.createElement(t,{key:s,...o})});{const i={schema:e,rowPath:n,cellPath:n,enabled:r};return Q.createElement(t,{key:n,...i})}},yZ=t=>t.type==="object"&&typeof t.properties=="object"?Object.keys(t.properties).filter(e=>t.properties[e].type!=="array"):[""],lEe=({numColumns:t,translations:e})=>Q.createElement(Qc,null,Q.createElement(rb,{colSpan:t},Q.createElement(Ve,{align:"center"},e.noDataMessage))),cEe=Q.memo(function({title:e}){return Q.createElement(_a,null,e)}),uEe=(t,e)=>{const n=e.rowPath+(e.schema.type==="object"?"."+e.propName:""),r=DK(cge(KK(n,e.schema)(t.core).map(a=>a.message)));return{rowPath:e.rowPath,propName:e.propName,schema:e.schema,rootSchema:t.core.schema,errors:r,path:n,enabled:e.enabled,cells:e.cells||t.cells,renderers:e.renderers||t.renderers}},zU=t=>({type:"Control",scope:t,label:!1}),dEe=Q.memo(function({path:e,propName:n,schema:r,rootSchema:a,errors:i,enabled:s,renderers:o,cells:l,isValid:d}){return Q.createElement(rb,null,r.properties?Q.createElement(rU,{schema:ji.schema(r,`#/properties/${$S(n)}`,a),uischema:zU(`#/properties/${$S(n)}`),path:e,enabled:s,renderers:o,cells:l}):Q.createElement(rU,{schema:r,uischema:zU("#"),path:e,enabled:s,renderers:o,cells:l}),Q.createElement(zr,{error:!d},!d&&i))}),fEe=t=>{const e=U1(),n=uEe(e,t),r=Xt(n.errors);return Q.createElement(dEe,{...n,isValid:r})},pEe=({childPath:t,schema:e,rowIndex:n,openDeleteDialog:r,moveUpCreator:a,moveDownCreator:i,enableUp:s,enableDown:o,showSortButtons:l,enabled:d,cells:f,path:h,translations:m,disableRemove:b})=>{const g=N.useMemo(()=>a(h,n),[a,h,n]),w=N.useMemo(()=>i(h,n),[i,h,n]);return Q.createElement(Qc,{key:t,hover:!0},bZ(fEe,e,t,d,f),d?Q.createElement(rb,{style:l?UU.fixedCell:UU.fixedCellSmall},Q.createElement(kn,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center"},l?Q.createElement(N.Fragment,null,Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-up",title:m.up,placement:"bottom",open:s?void 0:!1},Q.createElement(Ct,{"aria-label":m.upAriaLabel,onClick:g,disabled:!s,size:"large"},Q.createElement(jV,null)))),Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-down",title:m.down,placement:"bottom",open:o?void 0:!1},Q.createElement(Ct,{"aria-label":m.downAriaLabel,onClick:w,disabled:!o,size:"large"},Q.createElement(UV,null))))):null,b?null:Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-remove",title:m.removeTooltip,placement:"bottom"},Q.createElement(Ct,{"aria-label":m.removeAriaLabel,onClick:()=>r(t,n),size:"large"},Q.createElement(rc,null)))))):null)},hEe=Q.memo(pEe),mEe=({data:t,path:e,schema:n,openDeleteDialog:r,moveUp:a,moveDown:i,uischema:s,config:o,enabled:l,cells:d,translations:f,disableRemove:h})=>{if(t===0)return Q.createElement(lEe,{numColumns:yZ(n).length+1,translations:f});const b=Pn({},o,s.options);return Q.createElement(Q.Fragment,null,_1(t).map(g=>{const w=LP.compose(e,`${g}`);return Q.createElement(hEe,{key:w,childPath:w,rowIndex:g,schema:n,openDeleteDialog:r,moveUpCreator:a,moveDownCreator:i,enableUp:g!==0,enableDown:g!==t-1,showSortButtons:b.showSortButtons||b.showArrayTableSortButtons,enabled:l,cells:d,path:e,translations:f,disableRemove:h})}))};class gEe extends Q.Component{constructor(){super(...arguments),this.addItem=(e,n)=>this.props.addItem(e,n)}render(){const{label:e,description:n,path:r,schema:a,rootSchema:i,uischema:s,errors:o,openDeleteDialog:l,visible:d,enabled:f,cells:h,translations:m,disableAdd:b,disableRemove:g,config:w}=this.props,S=Pn({},w,s.options),T=b||S.disableAdd,x=g||S.disableRemove,_=s,C=a.type==="object",R=C?bZ(cEe,a,r,f,h):void 0;return d?Q.createElement(DM,null,Q.createElement(OM,null,Q.createElement(oEe,{errors:o,label:e,description:n,addItem:this.addItem,numColumns:C?R.length:1,path:r,uischema:_,schema:a,rootSchema:i,enabled:f,translations:m,disableAdd:T}),C&&Q.createElement(Qc,null,R,f?Q.createElement(_a,null):null)),Q.createElement(NM,null,Q.createElement(mEe,{openDeleteDialog:l,translations:m,...this.props,disableRemove:x}))):null}}const bEe=Q.memo(function({open:e,onClose:n,onConfirm:r,onCancel:a,title:i,message:s,acceptText:o,declineText:l}){return Q.createElement(yi,{open:e,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-confirmdelete-title","aria-describedby":"alert-dialog-confirmdelete-description"},Q.createElement(Ui,{id:"alert-dialog-confirmdelete-title"},i),Q.createElement(vi,null,Q.createElement(s1,{id:"alert-dialog-confirmdelete-description"},s)),Q.createElement(cs,null,Q.createElement(xt,{onClick:a,color:"primary"},l),Q.createElement(xt,{onClick:r,color:"primary"},o)))}),yEe=t=>{const[e,n]=N.useState(!1),[r,a]=N.useState(void 0),[i,s]=N.useState(void 0),{removeItems:o,visible:l,translations:d}=t,f=N.useCallback((g,w)=>{n(!0),a(g),s(w)},[n,a,s]),h=N.useCallback(()=>n(!1),[n]),m=N.useCallback(()=>{const g=r.substring(0,r.lastIndexOf("."));o(g,[i])(),n(!1)},[n,r,i]),b=N.useCallback(()=>n(!1),[n]);return l?Q.createElement(Q.Fragment,null,Q.createElement(gEe,{...t,openDeleteDialog:f,translations:d}),Q.createElement(bEe,{open:e,onCancel:h,onConfirm:m,onClose:b,acceptText:d.deleteDialogAccept,declineText:d.deleteDialogDecline,title:d.deleteDialogTitle,message:d.deleteDialogMessage})):null},vEe=$t(3,Jp(mhe,bhe));var SEe=uL(sc(dL(yEe)));const qi=()=>{const[t,e]=N.useState(!1),n=N.useCallback(()=>e(!0),[]),r=N.useCallback(()=>e(!1),[]);return[t,n,r]},vZ=t=>{const{description:e,errors:n,visible:r,required:a,label:i,data:s,className:o,id:l,enabled:d,uischema:f,path:h,handleChange:m,options:b,config:g,getOptionLabel:w,renderOption:S,filterOptions:T,isValid:x}=t,_=Pn({},g,f.options),[C,R]=Q.useState(s??""),[A,I,O]=qi(),M=b.find(j=>j.value===s)??null,U=!ls(r,e,A,_.showUnfocusedDescription),L=U?e:x?null:n,z=U&&!x?n:null;return r?Q.createElement(Q.Fragment,null,Q.createElement(db,{className:o,id:l,disabled:!d,value:M,onChange:(j,H)=>{m(h,H?.value)},inputValue:C,onInputChange:(j,H)=>{R(H)},autoHighlight:!0,autoComplete:!0,fullWidth:!0,options:b,getOptionLabel:w||(j=>j?.label),freeSolo:!1,renderInput:j=>Q.createElement(jt,{label:i,type:"text",inputProps:j.inputProps,inputRef:j.InputProps.ref,autoFocus:_.focus,disabled:!d,...j,id:l,required:a&&!_.hideRequiredAsterisk,error:!x,fullWidth:!_.trim,InputLabelProps:s?{shrink:!0}:void 0,onFocus:I,onBlur:O,focused:A}),renderOption:S,filterOptions:T}),Q.createElement(zr,{error:!x&&!U},L),Q.createElement(zr,{error:!x},z)):null},NL=Q.memo(function(e){const{data:n,className:r,id:a,enabled:i,uischema:s,path:o,handleChange:l,config:d,inputProps:f}=e,h=Pn({},d,s.options),m=Pn({},f,{autoFocus:!!h.focus}),b=!!n;return Q.createElement(wp,{checked:b,onChange:(g,w)=>l(o,w),className:r,id:a,disabled:!i,inputProps:m})});jr.extend(hX);const ML=(t,e,n)=>r=>{if(!r)e(t,void 0);else if(r.toString()!=="Invalid Date"){const a=SZ(r,n);e(t,a)}},PL=(t,e,n,r,a,i)=>s=>{const o=jr(s.target.value,n),l=SZ(o,r);l.toString()==="Invalid Date"?(e(t,void 0),a()):e(t,l),i()},SZ=(t,e)=>{let n=t.format(e);const r=e.indexOf("YYYY");if(t.year()<1e3&&r!==-1){const a=n.slice(0,r),i=n.slice(r);t.year()>=100?n=[a,0,i].join(""):t.year()>=10?n=[a,0,0,i].join(""):t.year()>=1&&(n=[a,0,0,0,i].join(""))}return n},LL=(t,e)=>{if(!t)return null;const n=jr(t,e);return n.toString()==="Invalid Date"?null:n},EEe=(t,e,n,r,a,i)=>t.map((s,o)=>Q.createElement(kn,{item:!0,key:`${n}-${o}`,xs:!0},Q.createElement(il,{uischema:s,schema:e,path:n,enabled:r,renderers:a,cells:i}))),_Ee=({visible:t,elements:e,schema:n,path:r,enabled:a,direction:i,renderers:s,cells:o})=>Xt(e)||!t?null:Q.createElement(kn,{container:!0,direction:i,spacing:i==="row"?2:0},EEe(e,n,r,a,s,o)),Bb=Q.memo(_Ee),EZ=t=>function(n){const r=U1(),a=eh({jsonforms:{...r}});return Q.createElement(t,{...n,ajv:a})},qU={standard:Zne,filled:Xne,outlined:Kne},_Z="outlined";function xZ(){const{variant:t=_Z}=Wt({props:{},name:"MuiTextField"});return t}function Md(){const t=xZ();return qU[t]??qU[_Z]}const xEe=t=>t.target.value,Pd=(t,e,n,r,a=xEe,i=300,s=!1,o=!1)=>{const[l,d]=N.useState(n??e);N.useEffect(()=>{d(n??e)},[n]);const f=N.useCallback(oX(b=>t(r,b),i),[t,r,i]);N.useEffect(()=>{!o&&s&&f.flush()},[o,s,f]);const h=N.useCallback(b=>{const g=a(b);d(g??e),f(g)},[f,a]),m=N.useCallback(()=>{d(e),t(r,void 0)},[e,t,r]);return[l,h,m]},wEe={"enum.none":"None"},TEe=t=>t===""?void 0:parseInt(t,10),CEe=t=>TEe(t.target.value),wZ=Q.memo(function(e){const[n,r,a]=qi(),{data:i,className:s,id:o,enabled:l,uischema:d,isValid:f,path:h,handleChange:m,config:b,label:g}=e,w=Md(),S={step:"1"},T=Pn({},b,d.options),[x,_]=Pd(m,"",i,h,CEe,void 0,!0,n);return Q.createElement(w,{label:g,type:"number",value:x,onFocus:r,onBlur:a,onChange:_,className:s,id:o,disabled:!l,autoFocus:T.focus,inputProps:S,fullWidth:!0,error:!f})}),REe=t=>t===""?void 0:parseFloat(t),AEe=t=>REe(t.target.value),TZ=Q.memo(function(e){const[n,r,a]=qi(),{data:i,className:s,id:o,enabled:l,uischema:d,isValid:f,path:h,handleChange:m,config:b,label:g}=e,w=Md(),S={step:"0.1"},T=Pn({},b,d.options),[x,_]=Pd(m,"",i,h,AEe,void 0,!0,n);return Q.createElement(w,{type:"number",label:g,value:x,onChange:_,onFocus:r,onBlur:a,className:s,id:o,disabled:!l,autoFocus:T.focus,inputProps:S,fullWidth:!0,error:!f})}),IEe=Q.memo(function(e){const[n,r,a]=qi(),{className:i,id:s,enabled:o,uischema:l,isValid:d,path:f,handleChange:h,schema:m,config:b,label:g}=e,w=Md(),S=m.maxLength,T=Pn({},b,l.options);let x;T.restrict?x={maxLength:S}:x={};const _=e.toFormatted(e.data),C=N.useCallback(I=>e.fromFormatted(I.currentTarget.value),[e.fromFormatted]),[R,A]=Pd(h,"",_,f,C,void 0,!0,n);return Q.createElement(w,{type:"text",value:R,onChange:A,onFocus:r,onBlur:a,className:i,id:s,label:g,disabled:!o,autoFocus:T.focus,multiline:T.multi,fullWidth:!T.trim||S===void 0,inputProps:x,error:!d})}),kEe=t=>t.target.value===""?void 0:t.target.value,CZ=Q.memo(function(e){const[n,r,a]=qi(),[i,s]=N.useState(!1),{data:o,config:l,className:d,id:f,enabled:h,uischema:m,isValid:b,path:g,handleChange:w,schema:S,muiInputProps:T,label:x,inputComponent:_}=e,C=Md(),R=S.maxLength,A=Pn({},l,m.options);let I;A.restrict?I={maxLength:R}:I={},I=Pn(I,T),A.trim&&R!==void 0&&(I.size=R);const[O,M,U]=Pd(w,"",o,g,kEe,void 0,!0,n),L=()=>s(!0),z=()=>s(!1),j=yo(),H={background:j.jsonforms?.input?.delete?.background||j.palette.background.default,borderRadius:"50%"};return Q.createElement(C,{label:x,type:A.format==="password"?"password":"text",value:O,onChange:M,className:d,onBlur:a,onFocus:r,id:f,disabled:!h,autoFocus:A.focus,multiline:A.multi,fullWidth:!A.trim||R===void 0,inputProps:I,error:!b,onPointerEnter:L,onPointerLeave:z,endAdornment:Q.createElement(Ip,{position:"end",style:{display:!i||!h||o===void 0?"none":"flex",position:"absolute",right:0}},Q.createElement(Ct,{"aria-label":"Clear input field",onClick:U,size:"large"},Q.createElement(n1,{style:H}))),inputComponent:_})}),DEe=Q.memo(function(e){const{data:n,className:r,id:a,enabled:i,uischema:s,isValid:o,path:l,handleChange:d,config:f,label:h}=e,m=Md(),b=Pn({},f,s.options),[g,w]=Pd(d,"",n,l);return Q.createElement(m,{type:"time",value:g,onChange:w,className:r,id:a,label:h,disabled:!i,autoFocus:b.focus,fullWidth:!0,error:!o})}),Z1=Q.memo(function(e){const{data:n,className:r,id:a,enabled:i,schema:s,uischema:o,isValid:l,path:d,handleChange:f,options:h,config:m,label:b,t:g,multiple:w}=e,S=Pn({},m,o.options),T=N.useMemo(()=>g("enum.none",wEe["enum.none"],{schema:s,uischema:o,path:d}),[g,s,o,d]);return Q.createElement(nc,{className:r,id:a,label:b,disabled:!i,autoFocus:S.focus,value:n!==void 0?n:"",onChange:x=>f(d,x.target.value||void 0),fullWidth:!0,multiple:w||!1,error:!l},[Q.createElement(rr,{value:"",key:"jsonforms.enum.none"},Q.createElement("em",null,T))].concat(h.map(x=>Q.createElement(rr,{value:x.value,key:x.value},x.label))))}),RZ=Q.memo(function(e){const{data:n,className:r,id:a,enabled:i,uischema:s,path:o,handleChange:l,config:d,inputProps:f}=e,h=Pn({},d,s.options),m=Pn({},f,{autoFocus:!!h.focus}),b=!!n;return Q.createElement(FM,{checked:b,onChange:(g,w)=>l(o,w),className:r,id:a,disabled:!i,inputProps:m})}),OEe=({config:t,id:e,schema:n,visible:r,errors:a,description:i,label:s,required:o,path:l,options:d,data:f,addItem:h,removeItem:m,handleChange:b,...g})=>{const[w,S,T]=qi(),x=a.length===0,_=Pn({},t,g.uischema.options),C=!ls(r,i,w,_.showUnfocusedDescription);return r?Q.createElement(Fi,{component:"fieldset",fullWidth:!_.trim,onFocus:S,onBlur:T},Q.createElement(tl,{error:!x,component:"legend",required:Nb(o,_.hideRequiredAsterisk)},s),Q.createElement(tre,{row:!0},d.map((R,A)=>{const I=LP.compose(l,`${A}`),O=f?.includes(R.value)?R.value:void 0;return Q.createElement(mo,{id:e+"-label-"+R.value,key:R.value,control:Q.createElement(NL,{id:e+"-"+R.value,key:"checkbox-"+R.value,isValid:Xt(a),path:I,handleChange:(M,U)=>U?h(l,R.value):m(l,R.value),data:O,errors:a,schema:n,visible:r,...g}),label:R.label})})),Q.createElement(zr,{error:!x},x?C?i:null:a)):null},NEe=t=>t.oneOf!==void 0&&t.oneOf.length>0&&t.oneOf.every(e=>e.const!==void 0),MEe=t=>t.type==="string"&&t.enum!==void 0,PEe=$t(5,On(zn("Control"),On(hr(t=>wa(t,"array")&&!Array.isArray(t.items)&&t.uniqueItems===!0),tL("items",(t,e)=>{const n=t.$ref?Bi(e,t.$ref,e):t;return NEe(n)||MEe(n)}))));var LEe=Kme(OEe);const FEe=({renderers:t,cells:e,uischemas:n,schema:r,label:a,path:i,visible:s,enabled:o,uischema:l,rootSchema:d})=>{const f=N.useMemo(()=>F1(n,r,l.scope,i,()=>Xt(i)?Ed.uiSchema(r,"VerticalLayout",void 0,d):{...Ed.uiSchema(r,"Group",void 0,d),label:a},l,d),[n,r,l.scope,i,a,l,d]);return s?Q.createElement(il,{visible:s,enabled:o,schema:r,uischema:f,path:i,renderers:t,cells:e}):null},BEe=$t(2,uhe);var jEe=Gme(FEe);const UEe=({handleChange:t,schema:e,path:n,renderers:r,cells:a,rootSchema:i,id:s,visible:o,indexOfFittingSchema:l,uischema:d,uischemas:f,data:h})=>{const[m,b]=N.useState(!1),[g,w]=N.useState(l||0),[S,T]=N.useState(0),x=N.useCallback(()=>b(!1),[b]),_=N.useCallback(()=>{b(!1)},[b]),C=N.useMemo(()=>cL(e.oneOf,i,"oneOf",d,n,f),[e,i,d,n,f]),R=O=>{t(n,Jl(C[O].schema,i)),w(O)},A=N.useCallback(()=>{R(S),b(!1)},[t,Jl,S]),I=N.useCallback((O,M)=>{T(M),Xt(h)?R(M):b(!0)},[b,w,h]);return o?Q.createElement(Q.Fragment,null,Q.createElement(hZ,{schema:e,combinatorKeyword:"oneOf",path:n,rootSchema:i}),Q.createElement(i1,{value:g,onChange:I},C.map(O=>Q.createElement(Gg,{key:O.label,label:O.label}))),C.map((O,M)=>g===M&&Q.createElement(il,{key:M,schema:O.schema,uischema:O.uischema,path:n,renderers:r,cells:a})),Q.createElement(mZ,{cancel:_,confirm:A,id:"oneOf-"+s,open:m,handleClose:x})):null},zEe=$t(3,phe);var qEe=zme(UEe);const $Ee=$t(1,zn("Label")),GEe=({text:t,visible:e})=>e?Q.createElement(Ve,{variant:"h6"},t):null;var HEe=Xme(GEe);const AZ=Q.memo(function({label:e,description:n,errors:r,addItem:a,path:i,enabled:s,createDefault:o,translations:l,disableAdd:d}){return Q.createElement(IM,{disableGutters:!0},Q.createElement(Ja,null,Q.createElement(kn,{container:!0,alignItems:"center",justifyContent:"space-between"},Q.createElement(kn,{item:!0},Q.createElement(kn,{container:!0,justifyContent:"flex-start",alignItems:"center",spacing:2},Q.createElement(kn,{item:!0},Q.createElement(Ve,{variant:"h6"},e)),Q.createElement(kn,{item:!0},r.length!==0&&Q.createElement(kn,{item:!0},Q.createElement(gZ,{id:"tooltip-validation",errorMessages:r}))))),s&&!d&&Q.createElement(kn,{item:!0},Q.createElement(kn,{container:!0},Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-add",title:l.addTooltip,placement:"bottom"},Q.createElement(Ct,{"aria-label":l.addTooltip,onClick:a(i,o()),size:"large"},Q.createElement(bd,null))))))),n&&Q.createElement(zr,null,n)))}),VEe=({index:t,childLabel:e,selected:n,enabled:r,handleSelect:a,removeItem:i,path:s,translations:o,disableRemove:l})=>Q.createElement(Vc,{selected:n,onClick:a(t)},Q.createElement(nre,null,Q.createElement(zV,{"aria-label":"Index"},t+1)),Q.createElement(Ur,{primary:e}),r&&!l&&Q.createElement(rre,null,Q.createElement(_t,{id:"tooltip-remove",title:o.removeTooltip,placement:"bottom"},Q.createElement(Ct,{"aria-label":o.removeAriaLabel,onClick:i(s,t),size:"large"},Q.createElement(rc,null)))));var WEe=Hme(VEe);const YEe=({uischemas:t,schema:e,uischema:n,path:r,enabled:a,errors:i,visible:s,label:o,required:l,removeItems:d,addItem:f,data:h,renderers:m,cells:b,config:g,rootSchema:w,description:S,disableAdd:T,disableRemove:x,translations:_})=>{const[C,R]=N.useState(void 0),A=N.useCallback((j,H)=>()=>{d(j,[H])(),C===H?R(void 0):C>H&&R(C-1)},[d,R]),I=N.useCallback(j=>()=>R(j),[R]),O=N.useCallback(()=>Jl(e,w),[Jl]),M=N.useMemo(()=>F1(t,e,n.scope,r,void 0,n,w),[t,e,n.scope,r,n,w]),U=Pn({},g,n.options),L=T||U.disableAdd,z=x||U.disableRemove;return Q.useEffect(()=>{R(void 0)},[e]),s?Q.createElement(Q.Fragment,null,Q.createElement(AZ,{translations:_,label:nX(o,l,U.hideRequiredAsterisk),description:S,errors:i,path:r,enabled:a,addItem:f,createDefault:O,disableAdd:L}),Q.createElement(kn,{container:!0,direction:"row",spacing:2},Q.createElement(kn,{item:!0,xs:3},Q.createElement(ub,null,h>0?mX(_1(h),j=>Q.createElement(WEe,{index:j,path:r,schema:e,enabled:a,handleSelect:I,removeItem:A,selected:C===j,key:j,uischema:M,childLabelProp:U.elementLabelProp,translations:_,disableRemove:z})):Q.createElement("p",null,_.noDataMessage))),Q.createElement(kn,{item:!0,xs:!0},C!==void 0?Q.createElement(il,{renderers:m,cells:b,visible:s,schema:e,uischema:M,path:Zp(r,`${C}`)}):Q.createElement(Ve,{variant:"h6"},_.noSelection)))):null},KEe=$t(4,On(zn("ListWithDetail"),HK));var XEe=uL(sc(dL(YEe)));const lh=t=>{const[e,n,r]=qi(),{id:a,description:i,errors:s,label:o,uischema:l,visible:d,required:f,config:h,input:m}=t,b=xZ(),g=s.length===0,w=Pn({},h,l.options),S=!ls(d,i,e,w.showUnfocusedDescription),T=S?i:g?null:s,x=S&&!g?s:null,_=m;return d?Q.createElement(Fi,{fullWidth:!w.trim,onFocus:n,onBlur:r,variant:b,id:a},Q.createElement(tu,{htmlFor:a+"-input",error:!g,required:Nb(f,w.hideRequiredAsterisk)},o),Q.createElement(_,{...t,id:a+"-input",isValid:g,visible:d}),Q.createElement(zr,{error:!g&&!S},T),Q.createElement(zr,{error:!g},x)):null},IZ=t=>t.find(e=>e.enum!==void 0&&(e.type==="string"||e.type===void 0)),kZ=t=>t.find(e=>e.type==="string"&&e.enum===void 0),ZEe=t=>{const[e,n,r]=qi(),{data:a,config:i,className:s,id:o,enabled:l,uischema:d,isValid:f,path:h,handleChange:m,schema:b,label:g}=t,w=Md(),S=IZ(b.anyOf),x=kZ(b.anyOf).maxLength,_=N.useMemo(()=>Pn({},i,d.options),[i,d.options]),C=N.useMemo(()=>{let O={};return _.restrict&&(O={maxLength:x}),_.trim&&x!==void 0&&(O.size=x),O.list=t.id+"datalist",O},[_,t.id]),[R,A]=Pd(m,"",a,h,void 0,void 0,!0,e),I=Q.createElement("datalist",{id:t.id+"datalist"},S.enum.map(O=>Q.createElement("option",{value:O,key:O})));return Q.createElement(w,{type:"text",value:R,onChange:A,onFocus:n,onBlur:r,className:s,id:o,label:g,disabled:!l,autoFocus:_.focus,fullWidth:!_.trim||x===void 0,inputProps:C,error:!f,endAdornment:I})};class QEe extends tme{render(){return Q.createElement(lh,{...this.props,input:ZEe})}}const JEe=t=>{const e=IZ(t),n=kZ(t),a=t.filter(i=>i!==e||i!==n).find(i=>i.type&&i.type!=="string");return e&&n&&!a},e_e=On(zn("Control"),hr(t=>Object.prototype.hasOwnProperty.call(t,"anyOf")&&JEe(t.anyOf))),t_e=$t(5,e_e);var n_e=Nr(QEe);const r_e=({data:t,visible:e,label:n,id:r,enabled:a,uischema:i,schema:s,rootSchema:o,handleChange:l,errors:d,path:f,config:h,description:m})=>{const b=d.length===0,g=Pn({},h,i.options),w=!ls(e,m,!1,g.showUnfocusedDescription),S=!w&&!ls(e,m,!0,!0),T=w?m:b?null:d,x=w&&!b?d:null,_=[],C=`${r}-tip`,R=`${r}-help1`,A=`${r}-help2`;S&&_.push(C),T&&_.push(R),x&&_.push(A);const I=_.join(" ");return e?Q.createElement(Q.Fragment,null,Q.createElement(_t,{id:C,title:S?m:""},Q.createElement(mo,{label:n,id:r,control:Q.createElement(NL,{id:`${r}-input`,isValid:Xt(d),data:t,enabled:a,visible:e,path:f,uischema:i,schema:s,rootSchema:o,handleChange:l,errors:d,config:h,inputProps:{"aria-describedby":I}})})),Q.createElement(zr,{id:R,error:!b&&!w},T),Q.createElement(zr,{id:A,error:!b},x)):null},a_e=$t(2,L1);var i_e=Nr(r_e);const s_e=({data:t,visible:e,label:n,id:r,enabled:a,uischema:i,schema:s,rootSchema:o,handleChange:l,errors:d,path:f,config:h,description:m})=>{const b=d.length===0,g=Pn({},h,i.options),w=!ls(e,m,!1,g.showUnfocusedDescription),S=!w&&!ls(e,m,!0,!0),T=w?m:b?null:d,x=w&&!b?d:null,_=[],C=`${r}-tip`,R=`${r}-help1`,A=`${r}-help2`;S&&_.push(C),T&&_.push(R),x&&_.push(A);const I=_.join(" ");return e?Q.createElement(Q.Fragment,null,Q.createElement(_t,{id:C,title:S?m:""},Q.createElement(mo,{label:n,id:r,control:Q.createElement(RZ,{id:`${r}-input`,isValid:Xt(d),data:t,enabled:a,visible:e,path:f,uischema:i,schema:s,rootSchema:o,handleChange:l,errors:d,config:h,inputProps:{"aria-describedby":I}})})),Q.createElement(zr,{id:R,error:!b&&!w},T),Q.createElement(zr,{id:A,error:!b},x)):null},o_e=$t(3,On(L1,Eo("toggle",!0)));var l_e=Nr(s_e);const c_e=t=>{const[e,n,r]=qi(),{description:a,id:i,errors:s,label:o,uischema:l,visible:d,enabled:f,required:h,path:m,handleChange:b,data:g,config:w}=t,S=s.length===0,T=Pn({},w,l.options),x=!ls(d,a,e,T.showUnfocusedDescription),[_,C]=N.useState(0),[R,A]=N.useState(!1),I=T.dateFormat??"YYYY-MM-DD",O=T.dateSaveFormat??Epe,M=T.views??["year","day"],U=x?a:S?null:s,L=x&&!S?s:null,z=N.useCallback(()=>C(q=>q+1),[]),j=N.useMemo(()=>ML(m,b,O),[m,b,O]),H=N.useMemo(()=>PL(m,b,I,O,z,r),[m,b,I,O,z]),$=LL(g,O);return d?Q.createElement(q1,{dateAdapter:OL},Q.createElement(VSe,{open:R,onOpen:()=>A(!0),onClose:()=>A(!1),key:_,label:o,value:$,onAccept:j,format:I,views:M,disabled:!f,slotProps:{actionBar:({wrapperVariant:q})=>({actions:q==="desktop"?[]:["clear","cancel","accept"]}),textField:{id:i+"-input",required:h&&!T.hideRequiredAsterisk,autoFocus:T.focus,error:!S,fullWidth:!T.trim,inputProps:{type:"text"},InputLabelProps:g?{shrink:!0}:void 0,onFocus:n,onBlur:H}}}),Q.createElement(zr,{error:!S&&!x},U),Q.createElement(zr,{error:!S},L)):null},u_e=$t(4,iL);var d_e=Nr(c_e);const f_e=t=>{const[e,n,r]=qi(),{id:a,description:i,errors:s,label:o,uischema:l,visible:d,enabled:f,required:h,path:m,handleChange:b,data:g,config:w}=t,S=Pn({},w,l.options),T=s.length===0,x=!ls(d,i,e,S.showUnfocusedDescription),_=S.dateTimeFormat??"YYYY-MM-DD HH:mm",C=S.dateTimeSaveFormat??xpe,[R,A]=N.useState(0),[I,O]=N.useState(!1),M=S.views??["year","day","hours","minutes"],U=x?i:T?null:s,L=x&&!T?s:null,z=N.useCallback(()=>A(q=>q+1),[]),j=N.useMemo(()=>ML(m,b,C),[m,b,C]),H=N.useMemo(()=>PL(m,b,_,C,z,r),[m,b,_,C,z]),$=LL(g,C);return d?Q.createElement(q1,{dateAdapter:OL},Q.createElement(O1e,{open:I,onOpen:()=>O(!0),onClose:()=>O(!1),key:R,label:o,value:$,onAccept:j,format:_,ampm:!!S.ampm,views:M,disabled:!f,slotProps:{actionBar:({wrapperVariant:q})=>({actions:q==="desktop"?[]:["clear","cancel","accept"]}),textField:{id:a+"-input",required:h&&!S.hideRequiredAsterisk,autoFocus:S.focus,error:!T,fullWidth:!S.trim,inputProps:{type:"text"},InputLabelProps:g?{shrink:!0}:void 0,onFocus:n,onBlur:H}}}),Q.createElement(zr,{error:!T&&!x},U),Q.createElement(zr,{error:!T},L)):null},p_e=$t(2,hhe);var h_e=Nr(f_e);const m_e=t=>{const{config:e,uischema:n,errors:r}=t,a=Pn({},e,n.options),i=r.length===0;return a.autocomplete===!1?Q.createElement(lh,{...t,input:Z1}):Q.createElement(vZ,{...t,isValid:i})},g_e=$t(2,rL);var b_e=dX(sc(Q.memo(m_e)),!1);const y_e=t=>Q.createElement(lh,{...t,input:wZ}),v_e=$t(2,qK);var S_e=Nr(y_e);const E_e=t=>{const[e,n,r]=qi(),{id:a,errors:i,label:s,schema:o,description:l,enabled:d,visible:f,required:h,path:m,handleChange:b,data:g,config:w}=t,S=i.length===0,T=Pn({},w,t.uischema.options),[x,_]=Pd(b,"",g,m,void 0,void 0,!0,e),C=T.format??o.format,R=!ls(f,l,e,T.showUnfocusedDescription);return f?Q.createElement(jt,{required:Nb(h,T.hideRequiredAsterisk),id:a+"-input",label:s,type:C,error:!S,disabled:!d,fullWidth:!T.trim,onFocus:n,onBlur:r,helperText:S?R?l:null:i,InputLabelProps:{shrink:!0},value:x,onChange:_}):null},__e=$t(2,Jp(iL,sL));var x_e=Nr(E_e);const w_e=t=>Q.createElement(lh,{...t,input:TZ}),T_e=$t(2,$K);var C_e=Nr(w_e);const R_e=t=>{const{config:e,uischema:n,errors:r}=t,a=Pn({},e,n.options),i=r.length===0;return a.autocomplete===!1?Q.createElement(lh,{...t,input:Z1}):Q.createElement(vZ,{...t,isValid:i})},A_e=$t(5,aL);var I_e=fX(sc(Q.memo(R_e)),!1);const DZ=t=>{const[e,n,r]=qi(),{config:a,label:i,required:s,description:o,errors:l,data:d,visible:f,options:h,handleChange:m,path:b,enabled:g}=t,w=l.length===0,S=Pn({},a,t.uischema.options),T=!ls(f,o,e,S.showUnfocusedDescription);return f?Q.createElement(Fi,{component:"fieldset",fullWidth:!S.trim,onFocus:n,onBlur:r},Q.createElement(tl,{error:!w,component:"legend",required:Nb(s,S.hideRequiredAsterisk)},i),Q.createElement(DV,{value:t.data??"",row:!0},h.map(x=>Q.createElement(mo,{value:x.value,key:x.label,control:Q.createElement(nS,{checked:d===x.value,onChange:()=>m(b,x.value)}),label:x.label,disabled:!g}))),Q.createElement(zr,{error:!w},w?T?o:null:l)):null},k_e=t=>Q.createElement(DZ,{...t}),D_e=$t(20,On(aL,Eo("format","radio")));var O_e=fX(k_e);const N_e=t=>Q.createElement(DZ,{...t}),M_e=$t(20,On(rL,Eo("format","radio")));var P_e=dX(N_e);const L_e=t=>{const[e,n,r]=qi(),{id:a,data:i,description:s,enabled:o,errors:l,label:d,schema:f,handleChange:h,visible:m,path:b,required:g,config:w}=t,S=l.length===0,T=Pn({},w,t.uischema.options),x={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},_={display:"flex"},C={flexGrow:"1"},R={marginTop:"7px"},A=!ls(m,s,e,T.showUnfocusedDescription),I=N.useCallback((O,M)=>h(b,Number(M)),[b,h]);return m?Q.createElement(Fi,{fullWidth:!T.trim,onFocus:n,onBlur:r,id:a},Q.createElement(tl,{htmlFor:a,error:!S,component:"legend",required:Nb(g,T.hideRequiredAsterisk)},Q.createElement(Ve,{id:a+"-typo",style:x,variant:"caption"},d)),Q.createElement("div",{style:_},Q.createElement(Ve,{style:C,variant:"caption",align:"left"},f.minimum),Q.createElement(Ve,{style:C,variant:"caption",align:"right"},f.maximum)),Q.createElement(fb,{style:R,min:f.minimum,max:f.maximum,value:Number(i||f.default),onChange:I,id:a+"-input",disabled:!o,step:f.multipleOf||1}),Q.createElement(zr,{error:!S},S?A?s:null:l)):null},F_e=$t(4,yhe);var B_e=Nr(L_e);const j_e=t=>Q.createElement(lh,{...t,input:CZ}),U_e=$t(1,GK);var z_e=Nr(j_e);const q_e=t=>{const[e,n,r]=qi(),{id:a,description:i,errors:s,label:o,uischema:l,visible:d,enabled:f,required:h,path:m,handleChange:b,data:g,config:w}=t,S=Pn({},w,l.options),T=s.length===0,[x,_]=N.useState(0),[C,R]=N.useState(!1),A=!ls(d,i,e,S.showUnfocusedDescription),I=S.timeFormat??"HH:mm",O=S.timeSaveFormat??_pe,M=S.views??["hours","minutes"],U=A?i:T?null:s,L=A&&!T?s:null,z=N.useCallback(()=>_(q=>q+1),[]),j=N.useMemo(()=>ML(m,b,O),[m,b,O]),H=N.useMemo(()=>PL(m,b,I,O,z,r),[m,b,I,O,z]),$=LL(g,O);return d?Q.createElement(q1,{dateAdapter:OL},Q.createElement(f1e,{open:C,onOpen:()=>R(!0),onClose:()=>R(!1),key:x,label:o,value:$,onAccept:j,format:I,ampm:!!S.ampm,views:M,disabled:!f,slotProps:{actionBar:({wrapperVariant:q})=>({actions:q==="desktop"?[]:["clear","cancel","accept"]}),textField:{id:a+"-input",required:h&&!S.hideRequiredAsterisk,autoFocus:S.focus,error:!T,fullWidth:!S.trim,inputProps:{type:"text"},InputLabelProps:g?{shrink:!0}:void 0,onFocus:n,onBlur:H}}}),Q.createElement(zr,{error:!T&&!A},U),Q.createElement(zr,{error:!T},L)):null},$_e=$t(4,sL);var G_e=Nr(q_e);const fA={float:"right"},H_e=t=>{const[e]=N.useState(XN("expand-panel"));N.useEffect(()=>()=>{ZN(e)},[e]);const{enabled:n,childLabel:r,childPath:a,index:i,expanded:s,moveDown:o,moveUp:l,enableMoveDown:d,enableMoveUp:f,handleExpansion:h,removeItems:m,path:b,rootSchema:g,schema:w,uischema:S,uischemas:T,renderers:x,cells:_,config:C,translations:R,disableRemove:A}=t,I=N.useMemo(()=>F1(T,w,S.scope,b,void 0,S,g),[T,w,S.scope,b,S,g]),O=Pn({},C,S.options),M=O.showSortButtons||O.showArrayLayoutSortButtons;return Q.createElement(DS,{"aria-labelledby":e,expanded:s,onChange:h(a)},Q.createElement(OS,{expandIcon:Q.createElement(el,null)},Q.createElement(kn,{container:!0,alignItems:"center"},Q.createElement(kn,{item:!0,xs:7,md:9},Q.createElement(kn,{container:!0,alignItems:"center"},Q.createElement(kn,{item:!0,xs:2,md:1},Q.createElement(zV,{"aria-label":"Index"},i+1)),Q.createElement(kn,{item:!0,xs:10,md:11},Q.createElement("span",{id:e},r)))),Q.createElement(kn,{item:!0,xs:5,md:3},Q.createElement(kn,{container:!0,justifyContent:"flex-end"},Q.createElement(kn,{item:!0},Q.createElement(kn,{container:!0,direction:"row",justifyContent:"center",alignItems:"center"},M&&n?Q.createElement(N.Fragment,null,Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-up",title:R.up,placement:"bottom",open:f?void 0:!1},Q.createElement(Ct,{onClick:l(b,i),style:fA,disabled:!f,"aria-label":R.upAriaLabel,size:"large"},Q.createElement(jV,null)))),Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-down",title:R.down,placement:"bottom",open:d?void 0:!1},Q.createElement(Ct,{onClick:o(b,i),style:fA,disabled:!d,"aria-label":R.downAriaLabel,size:"large"},Q.createElement(UV,null))))):"",n&&!A&&Q.createElement(kn,{item:!0},Q.createElement(_t,{id:"tooltip-remove",title:R.removeTooltip,placement:"bottom"},Q.createElement(Ct,{onClick:m(b,[i]),style:fA,"aria-label":R.removeAriaLabel,size:"large"},Q.createElement(rc,null)))))))))),Q.createElement(NS,null,Q.createElement(il,{enabled:n,schema:w,uischema:I,path:a,key:a,renderers:x,cells:_})))},V_e=Q.memo(H_e),W_e=t=>({removeItems:N.useCallback((e,n)=>r=>{r.stopPropagation(),t(po(e,a=>(n.sort().reverse().forEach(i=>a.splice(i,1)),a),{type:"REMOVE",indices:n}))},[t]),moveUp:N.useCallback((e,n)=>r=>{r.stopPropagation(),t(po(e,a=>(eX(a,n),a),{type:"MOVE",moves:[{from:n,to:n-1}]}))},[t]),moveDown:N.useCallback((e,n)=>r=>{r.stopPropagation(),t(po(e,a=>(tX(a,n),a),{type:"MOVE",moves:[{from:n,to:n+1}]}))},[t])}),Y_e=t=>function({ctx:n,props:r}){const a=W_e(n.dispatch),{childLabelProp:i,schema:s,uischema:o,rootSchema:l,path:d,index:f,uischemas:h}=r,m=Zp(d,`${f}`),b=N.useMemo(()=>sX(n.core.data,m,i,s,l,n.i18n.translate,o),[n.core.data,m,i,s,l,n.i18n.translate,o]);return Q.createElement(t,{...r,...a,childLabel:b,childPath:m,uischemas:h})},K_e=t=>ma(Y_e(t));var X_e=K_e(V_e);const Z_e=$t(1,zn("Group")),Q_e={marginBottom:"10px"},J_e=Q.memo(function({visible:e,enabled:n,uischema:r,label:a,...i}){const s=r;return e?Q.createElement(Hne,{style:Q_e},!Xt(a)&&Q.createElement(Vne,{title:a}),Q.createElement(Wne,null,Q.createElement(Bb,{...i,visible:e,enabled:n,elements:s.elements}))):null}),exe=({uischema:t,schema:e,path:n,visible:r,enabled:a,renderers:i,cells:s,direction:o,label:l})=>{const d=t;return Q.createElement(J_e,{elements:d.elements,schema:e,path:n,direction:o,visible:r,enabled:a,uischema:t,renderers:i,cells:s,label:l})};var txe=Mb(exe);const nxe=che(1,Z_e),rxe=$t(2,zn("HorizontalLayout")),axe=({uischema:t,renderers:e,cells:n,schema:r,path:a,enabled:i,visible:s})=>{const l={elements:t.elements,schema:r,path:a,enabled:i,direction:"row",visible:s};return Q.createElement(Bb,{...l,renderers:e,cells:n})};var ixe=Mb(axe);const sxe=$t(1,zn("VerticalLayout")),oxe=({uischema:t,schema:e,path:n,enabled:r,visible:a,renderers:i,cells:s})=>{const l={elements:t.elements,schema:e,path:n,enabled:r,direction:"column",visible:a};return Q.createElement(Bb,{...l,renderers:i,cells:s})};var lxe=Mb(oxe);const cxe=On(zn("Categorization"),t=>{const e=t;return e.elements&&e.elements.reduce((n,r)=>n&&r.type==="Category",!0)}),uxe=$t(1,cxe),dxe=t=>{const{data:e,path:n,renderers:r,cells:a,schema:i,uischema:s,visible:o,enabled:l,selected:d,onChange:f,ajv:h,t:m}=t,b=s,[g,w]=N.useState(s),[S,T]=N.useState(d??0),x=N.useMemo(()=>b.elements.filter(I=>Qp(I,e,void 0,h)),[b,e,h]);b!==g&&(T(0),w(b));const _=S>=b.elements.length?0:S,C={elements:x[_]?x[_].elements:[],schema:i,path:n,direction:"column",enabled:l,visible:o,renderers:r,cells:a},R=(I,O)=>{f&&f(O,_),T(O)},A=N.useMemo(()=>x.map(I=>JP(I,m)),[x,m]);return o?Q.createElement(Q.Fragment,null,Q.createElement(AM,{position:"static"},Q.createElement(i1,{value:_,onChange:R,textColor:"inherit",indicatorColor:"secondary",variant:"scrollable"},x.map((I,O)=>Q.createElement(Gg,{key:O,label:A[O]})))),Q.createElement("div",{style:{marginTop:"0.5em"}},Q.createElement(Bb,{...C,key:_}))):null};var fxe=EZ(sc(Mb(dxe)));const pxe=t=>{const[e,n]=N.useState(!1),r=N.useCallback(()=>Jl(t.schema,t.rootSchema),[t.schema]),a=N.useCallback(L=>(z,j)=>{n(j?L:!1)},[]),i=L=>e===Zp(t.path,`${L}`),{enabled:s,data:o,path:l,schema:d,uischema:f,errors:h,addItem:m,renderers:b,cells:g,label:w,required:S,rootSchema:T,config:x,uischemas:_,description:C,disableAdd:R,disableRemove:A,translations:I}=t,O=Pn({},x,t.uischema.options),M=R||O.disableAdd,U=A||O.disableRemove;return Q.createElement("div",null,Q.createElement(AZ,{translations:I,label:nX(w,S,O.hideRequiredAsterisk),description:C,errors:h,path:l,enabled:s,addItem:m,createDefault:r,disableAdd:M}),Q.createElement("div",null,o>0?mX(_1(o),L=>Q.createElement(X_e,{enabled:s,index:L,expanded:i(L),schema:d,path:l,handleExpansion:a,uischema:f,renderers:b,cells:g,key:L,rootSchema:T,enableMoveUp:L!=0,enableMoveDown:L<o-1,config:x,childLabelProp:O.elementLabelProp,uischemas:_,translations:I,disableRemove:U})):Q.createElement("p",null,I.noDataMessage)))},hxe=Q.memo(pxe),mxe=({visible:t,addItem:e,translations:n,...r})=>{const a=N.useCallback((i,s)=>e(i,s),[e]);return t?Q.createElement(hxe,{translations:n,visible:t,addItem:a,...r}):null},gxe=$t(4,ghe);var bxe=uL(sc(dL(mxe)));const yxe=t=>Q.createElement(NL,{...t}),vxe=$t(2,L1);var Sxe=ou(yxe);const Exe=t=>Q.createElement(RZ,{...t}),_xe=$t(3,On(L1,Eo("toggle",!0)));var xxe=ou(Exe);const wxe=t=>{const{data:e,className:n,id:r,enabled:a,uischema:i,path:s,handleChange:o,config:l,label:d}=t,f=Md(),h=Pn({},l,i.options);return Q.createElement(f,{type:"date",value:e||"",onChange:m=>o(s,m.target.value),className:n,id:r,label:d,disabled:!a,autoFocus:h.focus,fullWidth:!0})},Txe=$t(2,iL);var Cxe=ou(wxe);const Rxe=t=>Q.createElement(Z1,{...t}),Axe=$t(2,rL);var Ixe=Wme(sc(Q.memo(Rxe)),!1);const kxe=t=>Q.createElement(wZ,{...t}),Dxe=$t(2,qK);var Oxe=ou(kxe);const Nxe=t=>Q.createElement(TZ,{...t}),Mxe=$t(2,$K);var Pxe=ou(Nxe);const Lxe=t=>Q.createElement(IEe,{...t}),Fxe=$t(4,vhe);var Bxe=ou(Lxe);const jxe=t=>Q.createElement(Z1,{...t}),Uxe=$t(2,aL);var zxe=Yme(sc(Q.memo(jxe)),!1);const qxe=t=>Q.createElement(CZ,{...t}),$xe=$t(1,GK);var Gxe=ou(qxe);const Hxe=t=>Q.createElement(DEe,{...t}),Vxe=$t(2,sL);var Wxe=ou(Hxe);const Yxe=$t(2,On(zn("Categorization"),_he,Eo("variant","stepper"))),Kxe=t=>{const[e,n]=N.useState(0),r=A=>{n(A)},{data:a,path:i,renderers:s,schema:o,uischema:l,visible:d,cells:f,config:h,ajv:m,t:b}=t,g=l,w=Pn({},h,l.options),S={textAlign:"right",width:"100%",margin:"1em auto"},T={float:"right"},x={marginRight:"1em"},_=N.useMemo(()=>g.elements.filter(A=>Qp(A,a,void 0,m)),[g,a,m]),C={elements:_[e].elements,schema:o,path:i,direction:"column",visible:d,renderers:s,cells:f},R=N.useMemo(()=>_.map(A=>JP(A,b)),[_,b]);return d?Q.createElement(Q.Fragment,null,Q.createElement(Qne,{activeStep:e,nonLinear:!0},_.map((A,I)=>Q.createElement(Jne,{key:R[I]},Q.createElement(ere,{onClick:()=>r(I)},R[I])))),Q.createElement("div",null,Q.createElement(Bb,{...C})),w.showNavButtons?Q.createElement("div",{style:S},Q.createElement(xt,{style:T,variant:"contained",color:"primary",disabled:e>=_.length-1,onClick:()=>r(e+1)},"Next"),Q.createElement(xt,{style:x,color:"secondary",variant:"contained",disabled:e<=0,onClick:()=>r(e-1)},"Previous")):Q.createElement(Q.Fragment,null)):null};var Xxe=EZ(sc(Mb(Kxe)));const Zxe=[{tester:vEe,renderer:SEe},{tester:a_e,renderer:i_e},{tester:o_e,renderer:l_e},{tester:__e,renderer:x_e},{tester:g_e,renderer:b_e},{tester:v_e,renderer:S_e},{tester:T_e,renderer:C_e},{tester:U_e,renderer:z_e},{tester:p_e,renderer:h_e},{tester:u_e,renderer:d_e},{tester:$_e,renderer:G_e},{tester:F_e,renderer:B_e},{tester:BEe,renderer:jEe},{tester:J1e,renderer:eEe},{tester:nEe,renderer:rEe},{tester:zEe,renderer:qEe},{tester:M_e,renderer:P_e},{tester:D_e,renderer:O_e},{tester:A_e,renderer:I_e},{tester:nxe,renderer:txe},{tester:rxe,renderer:ixe},{tester:sxe,renderer:lxe},{tester:uxe,renderer:fxe},{tester:Yxe,renderer:Xxe},{tester:gxe,renderer:bxe},{tester:$Ee,renderer:HEe},{tester:KEe,renderer:XEe},{tester:t_e,renderer:n_e},{tester:PEe,renderer:LEe}],Q1=[{tester:vxe,cell:Sxe},{tester:_xe,cell:xxe},{tester:Txe,cell:Cxe},{tester:Axe,cell:Ixe},{tester:Dxe,cell:Oxe},{tester:Mxe,cell:Pxe},{tester:Fxe,cell:Bxe},{tester:Uxe,cell:zxe},{tester:$xe,cell:Gxe},{tester:Vxe,cell:Wxe}],FL=t=>{const e=t.split(":");if(e.length!==3)return null;const n=e[0];let r;return n==="@global"?r="public":n==="@internal"?r="internal":r="private",{scope:n,displayScope:r,category:e[1],name:e[2]}},OZ=t=>{const e=t.properties;if(!e)return{};const n={};for(const[r,a]of Object.entries(e))a.default!==void 0&&(n[r]=a.default);return n},Qxe=t=>{const e=oa(),n=Zt({queryKey:["jobs",t],queryFn:()=>Ase(t),enabled:!!t,staleTime:1e3*60*5});return N.useEffect(()=>{if(!t)return;const r=()=>{e.invalidateQueries({queryKey:["jobs",t]}),e.invalidateQueries({queryKey:["jobSchema",t]}),e.invalidateQueries({queryKey:["tasks",t]})};return bt.on("jobs_invalidate",r),()=>{bt.off("jobs_invalidate",r)}},[t,e]),n},NZ=(t,e)=>{const{data:n,isLoading:r,isError:a}=Qxe(t);return{data:N.useMemo(()=>n?n.items.filter(s=>FL(s.full_name)?.category===e):[],[n,e]),isLoading:r,isError:a}},MZ=(t,e)=>Zt({queryKey:["jobSchema",t,e],queryFn:async()=>{if(!e)throw new Error("jobName is required");return Ise(t,e)},enabled:!!t&&!!e,staleTime:1e3*60*5}),PZ=(t,e,n)=>{const r=oa(),a=n?.status,i=n?.limit??10,s=n?.offset??0,o=Zt({queryKey:["tasks",t,e,{status:a,limit:i,offset:s}],queryFn:()=>Dse(t,e,{status:a,limit:i,offset:s}),enabled:!!t&&!!e,staleTime:1e3*30,placeholderData:Dn});return N.useEffect(()=>{if(!t||!e)return;const l=d=>{d.room_id===t&&d.name===e&&r.invalidateQueries({queryKey:["tasks",t,e]})};return bt.on("task_status_event",l),()=>{bt.off("task_status_event",l)}},[t,e,r]),o},dl=(t,e=0,n=!0)=>Zt({queryKey:["metadata",t,e],queryFn:()=>IW(t,e),enabled:!!t&&n,staleTime:1e3*60*5}),Jxe="zndraw:form",ewe=10080*60*1e3,wS=(t,e,n)=>`${Jxe}:${t}:${e}:${n}`,LZ=(t,e,n,r)=>{const a={data:r,timestamp:Date.now()};localStorage.setItem(wS(t,e,n),JSON.stringify(a))},FZ=(t,e,n)=>{const r=localStorage.getItem(wS(t,e,n));if(!r)return null;try{const a=JSON.parse(r);return Date.now()-a.timestamp>ewe?(localStorage.removeItem(wS(t,e,n)),null):a.data}catch{return localStorage.removeItem(wS(t,e,n)),null}},twe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i})=>{const s=t??a.default??"#000000";return y.jsxs(Re,{sx:{marginBottom:2},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(tl,{required:i,children:r}),a.description&&y.jsx(_t,{title:a.description,placement:"top",children:y.jsx(Ct,{size:"small",sx:{padding:.5},children:y.jsx(pb,{fontSize:"small"})})})]}),y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:2,marginTop:1},children:[y.jsx("input",{type:"color",value:s,onChange:o=>e(n,o.target.value),style:{width:"40px",height:"40px",border:"none",background:"none",cursor:"pointer",borderRadius:"4px"}}),y.jsx("code",{children:s})]})]})},nwe=$t(5,hr(t=>t?.format==="color"&&t.type==="string")),rwe=Nr(twe),awe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i,errors:s})=>{const o=a.enum||[],l=t??a.default??"",f=typeof l=="string"&&l.startsWith("#")&&l.length===7?l:"#000000";return y.jsx(Re,{sx:{marginBottom:2},children:y.jsxs(Re,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[y.jsx(db,{freeSolo:!0,options:o,value:l,inputValue:l,onChange:(h,m)=>{e(n,m||"")},onInputChange:(h,m,b)=>{b==="input"&&e(n,m)},renderInput:h=>y.jsx(jt,{...h,label:r,required:i,error:!!s,helperText:s}),fullWidth:!0}),y.jsx("input",{type:"color",value:f,onChange:h=>e(n,h.target.value),style:{width:"50px",height:"40px",marginTop:"8px",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",cursor:"pointer"},title:"Pick color"})]})})},iwe=$t(10,On(hr(t=>t?.hasOwnProperty("x-dynamic-enum")),hr(t=>t?.["x-color-picker"]===!0))),swe=Nr(awe),owe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i})=>{const s=Number(t??a.default??a.minimum??0),o=a.step||.1;return y.jsxs(Re,{sx:{marginBottom:2},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(tl,{required:i,children:r}),a.description&&y.jsx(_t,{title:a.description,placement:"top",children:y.jsx(Ct,{size:"small",sx:{padding:.5},children:y.jsx(pb,{fontSize:"small"})})})]}),y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:2,paddingX:1},children:[y.jsx(fb,{value:s,onChange:(l,d)=>e(n,d),min:a.minimum,max:a.maximum,step:o,"aria-labelledby":"input-slider"}),y.jsx(Ve,{sx:{minWidth:35},children:s})]})]})},lwe=$t(5,hr(t=>t?.format==="range"&&(t.type==="number"||t.type==="integer"))),cwe=Nr(owe),BZ=({label:t,required:e=!1,helpText:n})=>y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(tl,{required:e,children:t}),n&&y.jsx(_t,{title:n,placement:"top",children:y.jsx(Ct,{size:"small",sx:{padding:.5},children:y.jsx(pb,{fontSize:"small"})})})]}),uwe=(t,e=0)=>{const[n,r]=N.useState(t),{mode:a,systemMode:i}=zp(),s=a==="dark"||a==="system"&&i==="dark";N.useEffect(()=>{if(e>0){const h=setTimeout(()=>{r(t)},e);return()=>clearTimeout(h)}else r(t)},[t,e]);const{data:o,isLoading:l,error:d}=Zt({queryKey:["molecule-image",n,s],queryFn:async()=>!n||n.trim()===""?null:(await Mse({type:"smiles",data:n,dark:s})).image,enabled:!!(n&&n.trim()!==""),staleTime:Number.POSITIVE_INFINITY,gcTime:1e3*60*30,retry:1}),f=d?d?.response?.data?.error||"Failed to generate image":null;return{image:o||null,loading:l,error:f}},dwe={small:{height:60,spinnerSize:24},medium:{height:150,spinnerSize:40},large:{height:300,spinnerSize:60}},jZ=({smiles:t,onClick:e,size:n="medium",alt:r="Molecule structure",errorAsTooltip:a=!1,throttleMs:i=0})=>{const{image:s,loading:o,error:l}=uwe(t,i),d=dwe[n];return!t||t.trim()===""?null:o?y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:d.height},children:y.jsx(Ca,{size:d.spinnerSize})}):l?a?y.jsx(_t,{title:l,children:y.jsx(Ve,{variant:"caption",color:"error",children:"Error"})}):y.jsx(ha,{severity:"error",sx:{width:"100%"},children:l}):s?y.jsx(Re,{component:"img",src:s,alt:r,onClick:e,sx:{width:"100%",height:d.height,objectFit:"contain",backgroundColor:"background.paper",cursor:e?"pointer":"default",...e&&{"&:hover":{opacity:.8}}}}):null},fwe=N.lazy(()=>JS(()=>import("./SmilesEditDialog-CUTllpY1.js").then(t=>t.bB),__vite__mapDeps([0,1,2,3,4,5]))),pwe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i})=>{const[s,o]=N.useState(!1),[l,d]=N.useState(t??"");N.useEffect(()=>{d(t??"")},[t]);const f=()=>{o(!0)},h=b=>{d(b),e(n,b),o(!1)},m=b=>{const g=b.target.value;d(g),e(n,g)};return y.jsxs(Re,{sx:{marginBottom:2},children:[y.jsx(BZ,{label:r,required:i,helpText:a.description}),y.jsxs(Re,{sx:{display:"flex",gap:1,marginTop:1},children:[y.jsx(jt,{value:l,onChange:m,placeholder:"Enter SMILES notation",fullWidth:!0,size:"small",variant:"outlined"}),y.jsx(xt,{variant:"outlined",onClick:f,children:"Draw"})]}),l&&y.jsx(Re,{sx:{marginTop:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:100,"& img":{border:"1px solid #e0e0e0",borderRadius:1,padding:1,maxWidth:`calc(100vw - ${Ta.PRIMARY_DRAWER_WIDTH}px - 48px)`}},children:y.jsx(jZ,{smiles:l,size:"large",alt:"Molecule structure",throttleMs:500})}),s&&y.jsx(N.Suspense,{fallback:y.jsx(Re,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999},children:y.jsx(Ca,{})}),children:y.jsx(fwe,{open:s,initialSmiles:l,title:"Molecular Structure Editor",onSave:h,onCancel:()=>o(!1)})})]})},hwe=$t(5,hr(t=>t?.["x-custom-type"]==="smiles"&&t.type==="string")),mwe=Nr(pwe),gwe=N.lazy(()=>JS(()=>import("./SmilesEditDialog-CUTllpY1.js").then(t=>t.bB),__vite__mapDeps([0,1,2,3,4,5]))),bwe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i})=>{const[s,o]=N.useState(()=>!t||!Array.isArray(t)?[]:t.map((_,C)=>({id:C,smiles:_?.smiles||"",count:_?.count||1}))),[l,d]=N.useState(!1),[f,h]=N.useState(null);N.useEffect(()=>{if(!t||!Array.isArray(t)){o([]);return}const _=t.map((C,R)=>({id:R,smiles:C?.smiles||"",count:C?.count||1}));o(_)},[t]);const m=N.useCallback(_=>{const C=_.map(R=>({smiles:R.smiles,count:R.count}));e(n,C)},[e,n]),b=N.useCallback(()=>{const _=s.length>0?Math.max(...s.map(R=>R.id))+1:0,C=[...s,{id:_,smiles:"",count:1}];o(C),m(C)},[s,m]),g=N.useCallback(_=>{h(_),d(!0)},[]),w=N.useCallback(_=>{if(!f)return;const C=s.map(R=>R.id===f.id?{...R,smiles:_}:R);o(C),m(C),d(!1),h(null)},[f,s,m]),S=N.useCallback(_=>{const C=s.map(R=>R.id===_.id?{...R,smiles:_.smiles,count:Number(_.count)||1}:R);return o(C),m(C),_},[s,m]);N.useMemo(()=>{const _=[];return s.forEach((C,R)=>{(!C.smiles||C.smiles.trim()==="")&&_.push(`Row ${R+1}: SMILES is required`),C.count<1&&_.push(`Row ${R+1}: Count must be at least 1`)}),_},[s]);const T=N.useMemo(()=>[{field:"count",headerName:"Count",width:80,editable:!0,type:"number"},{field:"smiles",headerName:"SMILES",flex:1,minWidth:150,editable:!0,type:"string",renderCell:_=>!_.value||_.value.trim()===""?y.jsx(Ve,{variant:"body2",sx:{color:"text.disabled",fontStyle:"italic"},children:"Click to enter SMILES"}):_.value},{field:"preview",headerName:"Preview",width:120,sortable:!1,filterable:!1,editable:!1,renderCell:_=>y.jsx(jZ,{smiles:_.row.smiles,size:"small",onClick:()=>g(_.row),errorAsTooltip:!0})},{field:"actions",headerName:"Actions",width:120,sortable:!1,filterable:!1,editable:!1,renderCell:_=>y.jsxs(Re,{sx:{display:"flex",gap:.5},children:[y.jsx(_t,{title:"Open molecular editor",children:y.jsx(Ct,{size:"small",onClick:()=>g(_.row),color:"primary",children:y.jsx(hb,{fontSize:"small"})})}),y.jsx(_t,{title:"Delete molecule",children:y.jsx(Ct,{size:"small",onClick:()=>{const C=s.filter(R=>R.id!==_.row.id);o(C),m(C)},color:"error",children:y.jsx(rc,{fontSize:"small"})})})]})}],[s,g,m]),x=s;return y.jsxs(Re,{sx:{marginBottom:2},children:[y.jsx(BZ,{label:r,required:i,helpText:a.description}),y.jsxs(pa,{sx:{mb:2},children:[y.jsx(mb,{rows:x,columns:T,processRowUpdate:S,onProcessRowUpdateError:_=>{console.error("Row update error:",_)},getRowHeight:()=>80,getCellClassName:_=>{if(_.field==="smiles"){const C=_.value;if(!C||C.trim()==="")return"invalid-cell"}if(_.field==="count"){const C=_.value;if(C===void 0||C<1)return"invalid-cell"}return""},hideFooter:!0,slots:{noRowsOverlay:()=>y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:2},children:[y.jsx(Ve,{variant:"body2",color:"text.secondary",children:"No molecules added yet"}),y.jsx(xt,{size:"small",variant:"outlined",startIcon:y.jsx(bd,{}),onClick:b,children:"Add Molecule"})]})},sx:{"& .MuiDataGrid-cell:focus":{outline:"none"},"& .MuiDataGrid-cell:focus-within":{outline:"2px solid #1976d2"},"& .MuiDataGrid-cell":{display:"flex",alignItems:"center"},"& .invalid-cell":{border:"1px solid #d32f2f",backgroundColor:"rgba(211, 47, 47, 0.05)"}}}),s.length>0&&y.jsx(Re,{sx:{borderTop:"1px solid",borderColor:"divider",p:1.5,display:"flex",justifyContent:"center"},children:y.jsx(xt,{size:"small",startIcon:y.jsx(bd,{}),onClick:b,variant:"outlined",children:"Add Molecule"})})]}),l&&y.jsx(N.Suspense,{fallback:y.jsx(Re,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999},children:y.jsx(Ca,{})}),children:y.jsx(gwe,{open:l,initialSmiles:f?.smiles||"",title:`Edit Molecule ${f?s.findIndex(_=>_.id===f.id)+1:""}`,onSave:w,onCancel:()=>{d(!1),h(null)}})})]})},ywe=$t(6,hr(t=>t?.["x-custom-type"]==="smiles-pack-array"&&t.type==="array")),vwe=Nr(bwe),Swe=t=>typeof t!="string"?!1:/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}$/.test(t),Dr=t=>typeof t!="string"?!1:!Swe(t);function Ep(t){return typeof t=="object"&&t!==null&&"type"in t&&typeof t.type=="string"&&t.type==="in_array"}function Ewe(t,e){const n=e.split(".");let r=t;for(const a of n){if(r==null)return;if(/^\d+$/.test(a)){const i=Number.parseInt(a,10);if(Array.isArray(r)&&i>=0&&i<r.length)r=r[i];else return}else if(typeof r=="object"&&a in r)r=r[a];else return}return r}function $U(t,e){if(t.type!=="in_array")return console.error(`[transformProcessor] Unknown transform type: ${t.type}`),null;const n=e[t.source];if(!n)return new Float32Array(0);const r=Ewe(n,t.path);if(!Array.isArray(r))return new Float32Array(0);if(r.length===0)return new Float32Array(0);const a=e[t.filter];if(!a)return new Float32Array(0);let i;if(a instanceof Float32Array)i=a;else if(a instanceof Float64Array||a instanceof Int32Array||a instanceof Uint32Array||a instanceof Int16Array||a instanceof Uint16Array||a instanceof Int8Array||a instanceof Uint8Array)i=new Float32Array(a);else if(Array.isArray(a)){const d=a.flat(Number.POSITIVE_INFINITY);i=new Float32Array(d)}else return console.error(`[transformProcessor] Filter data for "${t.filter}" is not an array or Float32Array`),null;let s;t.filter.includes("position")?s=3:t.filter.includes("radii")||t.filter.includes("radius")?s=1:t.filter.includes("color")?s=3:s=1;const o=i.length/s,l=[];for(const d of r){if(typeof d!="number"||d<0||d>=o){console.warn(`[transformProcessor] Invalid index ${d} (valid range: 0-${o-1}). Skipping.`);continue}const f=d*s;for(let h=0;h<s;h++)l.push(i[f+h])}return new Float32Array(l)}function _0(t){return t.type==="in_array"?[t.source,t.filter]:[]}function _we(t){const e=t?.["x-features"]||[];return Array.isArray(e)&&e.includes("color-picker")}function Ld(t){if(!t)return null;const e=t.anyOf?.find(r=>r.type==="array"&&r.items);if(!e)return null;const n=e.items;if(!n)return null;if(n.prefixItems&&n.prefixItems.length>0){const r=n.prefixItems[0];return{dimensions:n.prefixItems.length,isStringType:r?.type==="string",itemMinimum:r?.minimum,itemMaximum:r?.maximum}}return n.minItems!==void 0&&n.minItems>1?{dimensions:n.minItems,isStringType:!1,itemMinimum:void 0,itemMaximum:void 0}:{dimensions:1,isStringType:n.type==="string",itemMinimum:n.minimum,itemMaximum:n.maximum}}function UZ(t){return t===1?["Value"]:t===2?["X","Y"]:t===3?["X","Y","Z"]:Array.from({length:t},(e,n)=>`Col ${n+1}`)}function og(t,e){const n=Ld(e);if(!n)return t===void 0?[]:Array.isArray(t)&&Array.isArray(t[0])?t:Array.isArray(t)?[t]:[[t]];const{dimensions:r,isStringType:a}=n;if(t===void 0)return[];if(a)return Array.isArray(t)&&Array.isArray(t[0])?t:Array.isArray(t)?t.map(i=>[i]):typeof t=="string"?[[t]]:[];if(Array.isArray(t)&&Array.isArray(t[0]))return t;if(Array.isArray(t)){const i=t;if(i.length===r)return[i];const s=[];for(let o=0;o<i.length;o+=r)s.push(i.slice(o,o+r));return s}return typeof t=="number"?[Array(r).fill(t)]:[]}function xwe(t,e){const n=Ld(e);return t.length===0?[]:n?.isStringType?t.map(r=>r[0]):n?.dimensions===1?t.map(r=>r[0]):t}function GU(t,e){const n=[],r=Ld(e);if(!r)return{valid:!0,errors:[]};const{dimensions:a,isStringType:i,itemMinimum:s,itemMaximum:o}=r,l=UZ(a);return t.forEach((d,f)=>{d.length!==a&&n.push(`Row ${f+1} has ${d.length} values, expected ${a}`),i&&_we(e)&&d.forEach((h,m)=>{typeof h!="string"?n.push(`Row ${f+1}, ${l[m]}: expected string, got ${typeof h}`):wwe(h)||n.push(`Row ${f+1}, ${l[m]}: invalid hex color "${h}"`)}),!i&&(s!==void 0||o!==void 0)&&d.forEach((h,m)=>{const b=h;s!==void 0&&b<s&&n.push(`Row ${f+1}, ${l[m]}: value ${b} below minimum ${s}`),o!==void 0&&b>o&&n.push(`Row ${f+1}, ${l[m]}: value ${b} above maximum ${o}`)})}),{valid:n.length===0,errors:n}}function wwe(t){return/^#[0-9A-Fa-f]{6}$/.test(t)}function HU(t,e){if(e&&e.length>0)return[...e[e.length-1]];if(t?.default&&Array.isArray(t.default)){const r=t.default;return Array.isArray(r[0])?[...r[0]]:[...r]}const n=Ld(t);if(n){const{dimensions:r,isStringType:a}=n;return a?Array(r).fill("#000000"):Array(r).fill(0)}return[0]}function Twe(t){try{const e=JSON.parse(t);if(Array.isArray(e))return e}catch{const e=t.trim().split(`
`),n=[];for(const r of e){const i=(r.includes("	")?r.split("	"):r.split(",")).map(s=>Number.parseFloat(s.trim())).filter(s=>!isNaN(s));i.length>0&&n.push(i)}if(n.length>0)return n}return null}function Cwe(t,e){const n=Ld(e);let r;if(Array.isArray(t[0]))r=t;else{const s=t,o=n?.dimensions??1;r=[];for(let l=0;l<s.length;l+=o)r.push(s.slice(l,l+o))}const a=r.length;return`${a} ${a===1?"row":"rows"}`}function Rwe(t,e=2){if(Array.isArray(t[0])){const n=t,r=n.slice(0,e).map(a=>`[${a.map(i=>typeof i=="number"?i.toFixed(2):i).join(", ")}]`).join(", ");return n.length>e?`${r}, ...`:r}else{const n=t,r=e*3,a=n.slice(0,r).map(i=>typeof i=="number"?i.toFixed(2):i).join(", ");return n.length>r?`${a}, ...`:a}}function VU({open:t,value:e,schema:n,fieldLabel:r,enumOptions:a,onSave:i,onCancel:s,onFetchFromServer:o}){const l=N.useMemo(()=>Ld(n),[n]),d=l?.dimensions??1,f=l?.isStringType??!1,h=N.useMemo(()=>UZ(d),[d]),[m,b]=N.useState(()=>typeof e=="string"?e:null),[g,w]=N.useState(()=>og(typeof e=="string"?n?.default:e,n)),[S,T]=N.useState({type:"include",ids:new Set}),[x,_]=N.useState(!1),[C,R]=N.useState(""),[A,I]=N.useState([]),[O,M]=N.useState(!1);N.useEffect(()=>{if(t){b(typeof e=="string"?e:null);const re=og(typeof e=="string"?n?.default:e,n);w(re),T({type:"include",ids:new Set}),_(!1),R(""),I([]),M(!1)}},[t,e,n]),N.useEffect(()=>{const re=GU(g,n);I(re.errors)},[g,n]);const U=N.useMemo(()=>g.map((re,ee)=>{const Y={id:ee};return re.forEach((ne,te)=>{Y[`col${te}`]=ne}),Y}),[g]),L=N.useMemo(()=>{const re=[{field:"id",headerName:"#",width:60,editable:!1,valueGetter:(ee,Y)=>Y.id+1}];for(let ee=0;ee<d;ee++){const Y=h[ee]||`Col ${ee+1}`,ne={field:`col${ee}`,headerName:Y,width:f?200:120,editable:!0,type:f?"string":"number",valueGetter:(te,G)=>G[`col${ee}`]};f&&(ne.renderCell=te=>{const G=te.value;return y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[y.jsx("input",{type:"color",value:G||"#000000",onChange:W=>{const ue=W.target.value,Ee=te.row.id,ge=[...g];ge[Ee]=[ue],w(ge)},style:{width:"32px",height:"32px",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",cursor:"pointer"}}),y.jsx(Ve,{variant:"body2",sx:{fontFamily:"monospace"},children:G})]})},ne.editable=!1),re.push(ne)}return re},[d,h,f,g]),z=N.useCallback(re=>{const ee=re.id,Y=[...g],ne=[];for(let te=0;te<d;te++){const G=re[`col${te}`];f?ne.push(typeof G=="string"?G:""):ne.push(typeof G=="number"?G:0)}return Y[ee]=ne,w(Y),re},[g,d,f]),j=N.useCallback(()=>{const re=HU(n,g);w([...g,re])},[g,n]),H=N.useCallback(()=>{if(S.ids.size===0)return;const re=g.filter((ee,Y)=>!S.ids.has(Y));re.length===0&&re.push(HU(n)),w(re),T({type:"include",ids:new Set})},[g,S,n]),$=N.useCallback(async()=>{try{const re=await navigator.clipboard.readText(),ee=Twe(re);if(!ee){I(["Could not parse clipboard data. Expected CSV, TSV, or JSON format."]);return}if(ee.filter(ne=>ne.length!==d).length>0){I([`Pasted data has invalid dimensions. Expected ${d} columns per row.`]);return}w(ee),I([])}catch{I(["Failed to read clipboard. Please check browser permissions."])}},[d]),q=N.useCallback(()=>{const re=GU(g,n);if(!re.valid){I(re.errors);return}const ee=xwe(g,n);i(ee)},[g,n,i]),K=N.useCallback(()=>{C&&i(C)},[C,i]),V=N.useCallback(async()=>{if(!(!m||!o)){M(!0),I([]);try{const re=await o(m),ee=og(re,n);w(ee)}catch(re){I([`Failed to load data from server: ${re instanceof Error?re.message:"Unknown error"}`])}finally{M(!1)}}},[m,o,n]);return y.jsxs(yi,{open:t,onClose:s,maxWidth:"md",fullWidth:!0,slotProps:{paper:{sx:{height:"80vh"}}},children:[y.jsx(Ui,{children:y.jsxs(Re,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:2},children:[y.jsxs(Ve,{variant:"h6",children:["Edit ",r]}),y.jsxs(Re,{sx:{display:"flex",gap:1},children:[m&&o&&!x&&y.jsx(xt,{size:"small",variant:"outlined",onClick:V,disabled:O,startIcon:O?y.jsx(Ca,{size:16}):void 0,children:O?"Loading...":`Load "${m}"`}),y.jsx(xt,{size:"small",onClick:()=>_(!x),children:x?"Edit Table":"Switch to Dropdown"})]})]})}),y.jsxs(vi,{dividers:!0,children:[A.length>0&&y.jsx(ha,{severity:"error",sx:{mb:2},onClose:()=>I([]),children:A.map((re,ee)=>y.jsx("div",{children:re},ee))}),x?y.jsxs(Re,{sx:{p:2},children:[y.jsx(Ve,{variant:"body2",sx:{mb:2},children:"Select a dynamic value from the dropdown to replace the current array data:"}),y.jsx(db,{options:a,value:C,onChange:(re,ee)=>R(ee||""),renderInput:re=>y.jsx(jt,{...re,label:"Select Value",placeholder:"e.g., arrays.positions"}),freeSolo:!0,fullWidth:!0})]}):y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:2,height:"calc(80vh - 200px)"},children:[y.jsx(Re,{sx:{flex:1,minHeight:0},children:y.jsx(mb,{rows:U,columns:L,processRowUpdate:z,onProcessRowUpdateError:re=>{console.error("Row update error:",re),I(["Failed to update row. Please check your input."])},checkboxSelection:!0,rowSelectionModel:S,onRowSelectionModelChange:re=>{T(re)},sx:{"& .MuiDataGrid-cell:focus":{outline:"none"},"& .MuiDataGrid-cell:focus-within":{outline:"2px solid #1976d2"}}},g.length)}),y.jsxs(Re,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap"},children:[y.jsx(xt,{size:"small",startIcon:y.jsx(bd,{}),onClick:j,variant:"outlined",children:"Add Row"}),S.ids.size>0&&y.jsxs(xt,{size:"small",startIcon:y.jsx(rc,{}),onClick:H,color:"error",variant:"outlined",children:["Delete Selected (",S.ids.size,")"]}),y.jsx(_t,{title:"Paste data from clipboard (CSV, TSV, or JSON)",children:y.jsx(xt,{size:"small",startIcon:y.jsx(are,{}),onClick:$,variant:"outlined",children:"Paste"})})]})]})]}),y.jsxs(cs,{sx:{p:2},children:[y.jsx(xt,{onClick:s,children:"Cancel"}),x?y.jsx(xt,{onClick:K,variant:"contained",disabled:!C,children:"Switch to Dropdown"}):y.jsxs(xt,{onClick:q,variant:"contained",disabled:A.length>0,children:["Save (",g.length," ",g.length===1?"row":"rows",")"]})]})]})}function oM({valueType:t,supportsArrayEdit:e=!0,onEditArray:n,onClear:r}){return y.jsxs(Re,{sx:{display:"flex",gap:.5,alignItems:"center",ml:1},children:[e&&n&&y.jsx(_t,{title:t==="string"?"Edit as table":"Edit in table",children:y.jsx(Ct,{size:"small",onClick:n,color:"primary",children:y.jsx(ire,{fontSize:"small"})})}),(t==="array"||t==="number")&&r&&y.jsx(_t,{title:"Clear and switch back to dropdown",children:y.jsx(Ct,{size:"small",onClick:r,color:"error",children:y.jsx(o1,{fontSize:"small"})})})]})}function Awe({value:t,schema:e,onEdit:n,onDelete:r}){const a=Cwe(t,e),i=Rwe(t,2);return y.jsx(_t,{title:i,arrow:!0,children:y.jsx(pr,{icon:y.jsx(sre,{}),label:a,onClick:n,onDelete:r,color:"primary",variant:"outlined",sx:{cursor:"pointer",fontSize:"0.875rem",height:"32px","&:hover":{backgroundColor:"primary.light",boxShadow:1}}})})}function Iwe({value:t,label:e,required:n,errors:r,onEdit:a,onClear:i,schema:s,onChange:o}){const d=(s?Ld(s):null)?.isStringType??!1;if(typeof t=="number")return y.jsxs(Re,{sx:{display:"flex",alignItems:"flex-start",gap:1,marginBottom:2},children:[y.jsx(jt,{fullWidth:!0,type:"number",label:e,value:t,onChange:h=>o?.(Number.parseFloat(h.target.value)||0),required:n,error:!!r,helperText:r}),y.jsx(oM,{valueType:"number",onEditArray:a,onClear:i})]});if(d&&Array.isArray(t)&&t.length===1&&typeof t[0]=="string"&&/^#[0-9A-Fa-f]{6}$/.test(t[0])){const h=t[0];return y.jsxs(Re,{sx:{display:"flex",alignItems:"flex-start",gap:1,marginBottom:2},children:[y.jsxs(Re,{sx:{flex:1},children:[y.jsxs(Ve,{variant:"caption",sx:{display:"block",mb:.5,color:"text.secondary"},children:[e,n&&" *"]}),y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx("input",{type:"color",value:h,onChange:m=>o?.([m.target.value]),style:{width:"40px",height:"40px",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",cursor:"pointer"},title:"Pick color"}),y.jsx(Ve,{variant:"body2",sx:{fontFamily:"monospace"},children:h})]}),r&&y.jsx(Ve,{variant:"caption",color:"error",sx:{display:"block",mt:.5},children:r})]}),y.jsx(oM,{valueType:"array",onEditArray:a,onClear:i})]})}return Array.isArray(t)&&s?y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:1,marginBottom:2},children:[y.jsxs(Ve,{variant:"caption",sx:{color:"text.secondary"},children:[e,n&&" *"]}),y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(Awe,{value:t,schema:s,onEdit:a,onDelete:i}),r&&y.jsx(Ve,{variant:"caption",color:"error",children:r})]})]}):null}function kwe({value:t,label:e,required:n,errors:r,options:a,hasFreeSolo:i,hasColorPicker:s,hasEditableArray:o,hasTransform:l,onChange:d,onOpenArrayEditor:f,onCreateTransform:h}){const b=typeof t=="string"&&t.startsWith("#")&&t.length===7?t:"#000000";return y.jsx(Re,{sx:{marginBottom:2},children:y.jsxs(Re,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[y.jsx(db,{freeSolo:i,options:a,value:t,inputValue:typeof t=="string"?t:"",getOptionLabel:g=>typeof g=="string"?g:Array.isArray(g)?JSON.stringify(g):String(g),onChange:(g,w)=>{d(w||"")},onInputChange:(g,w,S)=>{S==="input"&&i&&d(w)},renderInput:g=>y.jsx(jt,{...g,label:e,required:n,error:!!r,helperText:r}),fullWidth:!0}),s&&y.jsx("input",{type:"color",value:b,onChange:g=>d(g.target.value),style:{width:"50px",height:"40px",marginTop:"8px",border:"1px solid rgba(0, 0, 0, 0.23)",borderRadius:"4px",cursor:"pointer"},title:"Pick color"}),o&&y.jsx(Re,{sx:{marginTop:"8px"},children:y.jsx(oM,{valueType:"string",onEditArray:f})}),l&&y.jsx(_t,{title:"Enable transform mode to filter data based on frame data",children:y.jsx(Ct,{size:"small",onClick:h,sx:{marginTop:"8px"},color:"primary",children:y.jsx(qV,{})})})]})})}function Dwe({value:t,label:e,required:n,onChange:r,onClear:a}){const i=t||{type:"in_array",source:"",path:"",filter:""},s=(o,l)=>{r({...i,[o]:l})};return y.jsxs(Re,{sx:{marginBottom:2},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:1},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(qV,{fontSize:"small",color:"primary"}),y.jsxs(Ve,{variant:"subtitle2",color:"primary",children:[e,n&&" *"," (Transform)"]})]}),y.jsx(_t,{title:"Remove transform and use simple key",children:y.jsx(Ct,{size:"small",onClick:a,children:y.jsx(n1,{fontSize:"small"})})})]}),y.jsx(pa,{elevation:1,sx:{padding:2,backgroundColor:"#f9f9f9"},children:y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[y.jsx(jt,{fullWidth:!0,size:"small",label:"Source",value:i.source||"",onChange:o=>s("source",o.target.value),placeholder:"e.g., constraints",helperText:"Frame data key containing indices"}),y.jsx(jt,{fullWidth:!0,size:"small",label:"Path",value:i.path||"",onChange:o=>s("path",o.target.value),placeholder:"e.g., 0.kwargs.indices",helperText:"Dot-separated path to extract indices"}),y.jsx(jt,{fullWidth:!0,size:"small",label:"Filter",value:i.filter||"",onChange:o=>s("filter",o.target.value),placeholder:"e.g., arrays.positions",helperText:"Frame data key to filter"})]})})]})}const Owe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i,errors:s,visible:o})=>{const l=a["x-features"]||[],d=l.includes("color-picker"),f=l.includes("free-solo"),h=l.includes("editable-array"),m=l.includes("transform"),b=a.enum||[],g=Ep(t),w=Array.isArray(t)||typeof t=="number",[S,T]=N.useState(!1),x=J(j=>j.roomId),_=J(j=>j.currentFrame),C=typeof t=="string"&&Dr(t),{refetch:R}=Zt({queryKey:["frame",x,_,t],queryFn:({signal:j})=>HM(x,_,[t],j),enabled:!1,placeholderData:Dn}),A=N.useCallback(()=>{T(!0)},[]),I=N.useCallback(j=>{e(n,j),T(!1)},[e,n]),O=N.useCallback(()=>{e(n,"")},[e,n]),M=N.useCallback(()=>{e(n,{type:"in_array",source:"",path:"",filter:""})},[e,n]),U=N.useCallback(()=>{e(n,"")},[e,n]),L=N.useCallback(async()=>{const j=await R();if(j.data&&typeof t=="string"){const H=j.data[t];if(H)return Array.from(H)}throw new Error("No data returned from server")},[R,t]);if(!o)return null;if(g&&m)return y.jsx(Dwe,{value:t,label:r||"",required:i,onChange:j=>e(n,j),onClear:U});if(w)return y.jsxs(y.Fragment,{children:[y.jsx(Iwe,{value:t,label:r||"",required:i,errors:s,onEdit:A,onClear:O,schema:a,onChange:j=>e(n,j)}),y.jsx(VU,{open:S,value:t,schema:a,fieldLabel:r||n,enumOptions:b,onSave:I,onCancel:()=>T(!1),onFetchFromServer:C?L:void 0})]});const z=t??a.default??"";return y.jsxs(y.Fragment,{children:[y.jsx(kwe,{value:z,label:r||"",required:i,errors:s,options:b,hasFreeSolo:f,hasColorPicker:d,hasEditableArray:h,hasTransform:m,onChange:j=>e(n,j),onOpenArrayEditor:A,onCreateTransform:M}),h&&y.jsx(VU,{open:S,value:t,schema:a,fieldLabel:r||n,enumOptions:b,onSave:I,onCancel:()=>T(!1),onFetchFromServer:C?L:void 0})]})},Nwe=$t(10,On(hr(t=>t["x-custom-type"]==="dynamic-enum"),zn("Control"))),Mwe=Nr(Owe),Pwe=["MeshPhysicalMaterial_matt","MeshPhysicalMaterial_semi-gloss","MeshPhysicalMaterial_shiny","MeshPhysicalMaterial_transparent","MeshPhysicalMaterial_glass","MeshStandardMaterial_matt","MeshStandardMaterial_metallic","MeshBasicMaterial","MeshToonMaterial","MeshLambertMaterial","MeshPhongMaterial"],Lwe=[{value:"MeshBasicMaterial",label:"Basic (Unlit)"},{value:"MeshStandardMaterial",label:"Standard (PBR)"},{value:"MeshPhysicalMaterial",label:"Physical (Advanced PBR)"},{value:"MeshToonMaterial",label:"Toon (Cel-Shaded)"},{value:"MeshLambertMaterial",label:"Lambert (Diffuse)"},{value:"MeshPhongMaterial",label:"Phong (Specular)"}];function WU(t){return typeof t=="string"}function pA(t){return typeof t=="object"&&t!==null&&"material_type"in t}function YU(t){const e={wireframe:!1,flatShading:!1,transparent:!1,polygonOffset:!1,polygonOffsetFactor:0};switch(t){case"MeshBasicMaterial":return{...e,material_type:"MeshBasicMaterial",toneMapped:!0};case"MeshStandardMaterial":return{...e,material_type:"MeshStandardMaterial",roughness:1,metalness:0,emissive:"#000000",emissiveIntensity:1};case"MeshPhysicalMaterial":return{...e,material_type:"MeshPhysicalMaterial",roughness:1,metalness:0,emissive:"#000000",emissiveIntensity:1,transmission:0,thickness:0,ior:1.5,reflectivity:.5,clearcoat:0,clearcoatRoughness:0,sheen:0,sheenRoughness:1,sheenColor:"#000000",specularIntensity:1,specularColor:"#ffffff",envMapIntensity:1};case"MeshToonMaterial":return{...e,material_type:"MeshToonMaterial"};case"MeshLambertMaterial":return{...e,material_type:"MeshLambertMaterial",emissive:"#000000",emissiveIntensity:1};case"MeshPhongMaterial":return{...e,material_type:"MeshPhongMaterial",emissive:"#000000",emissiveIntensity:1,specular:"#111111",shininess:30}}}const Fwe=({data:t,handleChange:e,path:n,label:r,errors:a})=>{const[i,s]=N.useState(!1),o=WU(t),l=pA(t),d=()=>{if(WU(t)){const b=YU("MeshPhysicalMaterial");e(n,b),s(!0)}},f=()=>{e(n,"MeshPhysicalMaterial_matt"),s(!1)},h=(b,g)=>{pA(t)&&e(n,{...t,[b]:g})},m=b=>{const g=YU(b);pA(t)&&(g.wireframe=t.wireframe,g.flatShading=t.flatShading,g.transparent=t.transparent,g.polygonOffset=t.polygonOffset,g.polygonOffsetFactor=t.polygonOffsetFactor),e(n,g)};return y.jsx(Re,{sx:{mb:2},children:y.jsxs(Fi,{fullWidth:!0,error:!!a,children:[y.jsxs(tl,{sx:{mb:1},children:[r||"Material",l&&y.jsx(pr,{label:t.material_type,size:"small",sx:{ml:1},color:"primary",variant:"outlined"})]}),o&&y.jsxs(Ja,{direction:"row",spacing:1,alignItems:"center",children:[y.jsx(nc,{value:t||"MeshPhysicalMaterial_matt",onChange:b=>e(n,b.target.value),fullWidth:!0,size:"small",children:Pwe.map(b=>y.jsx(rr,{value:b,children:b.replace(/_/g," ")},b))}),y.jsx(xt,{variant:"outlined",startIcon:y.jsx(hb,{}),onClick:d,size:"small",children:"Edit"})]}),l&&y.jsxs(Re,{children:[y.jsx(Re,{sx:{mb:2},children:y.jsxs(Fi,{fullWidth:!0,size:"small",children:[y.jsx(tl,{sx:{mb:.5,fontSize:"0.875rem"},children:"Material Type"}),y.jsx(nc,{value:t.material_type,onChange:b=>m(b.target.value),size:"small",children:Lwe.map(b=>y.jsx(rr,{value:b.value,children:b.label},b.value))})]})}),y.jsxs(DS,{expanded:i,onChange:()=>s(!i),children:[y.jsx(OS,{expandIcon:y.jsx(el,{}),children:y.jsx(Ve,{variant:"body2",children:"Material Properties"})}),y.jsx(NS,{children:y.jsxs(Ja,{spacing:2,children:[y.jsxs(Re,{children:[y.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Common"}),y.jsxs(Ja,{spacing:1,children:[y.jsx(mo,{control:y.jsx(wp,{checked:t.wireframe||!1,onChange:b=>h("wireframe",b.target.checked),size:"small"}),label:"Wireframe"}),y.jsx(mo,{control:y.jsx(wp,{checked:t.flatShading||!1,onChange:b=>h("flatShading",b.target.checked),size:"small"}),label:"Flat Shading"}),y.jsx(mo,{control:y.jsx(wp,{checked:t.transparent||!1,onChange:b=>h("transparent",b.target.checked),size:"small"}),label:"Transparent"})]})]}),t.material_type==="MeshStandardMaterial"&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Standard Material"}),y.jsxs(Ja,{spacing:1.5,children:[y.jsx(jt,{label:"Roughness",type:"number",value:t.roughness??1,onChange:b=>h("roughness",Number.parseFloat(b.target.value)),inputProps:{min:0,max:1,step:.1},size:"small",fullWidth:!0}),y.jsx(jt,{label:"Metalness",type:"number",value:t.metalness??0,onChange:b=>h("metalness",Number.parseFloat(b.target.value)),inputProps:{min:0,max:1,step:.1},size:"small",fullWidth:!0})]})]}),t.material_type==="MeshPhysicalMaterial"&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Physical Material"}),y.jsxs(Ja,{spacing:1.5,children:[y.jsx(jt,{label:"Roughness",type:"number",value:t.roughness??1,onChange:b=>h("roughness",Number.parseFloat(b.target.value)),inputProps:{min:0,max:1,step:.1},size:"small",fullWidth:!0}),y.jsx(jt,{label:"Metalness",type:"number",value:t.metalness??0,onChange:b=>h("metalness",Number.parseFloat(b.target.value)),inputProps:{min:0,max:1,step:.1},size:"small",fullWidth:!0}),y.jsx(jt,{label:"Transmission",type:"number",value:t.transmission??0,onChange:b=>h("transmission",Number.parseFloat(b.target.value)),inputProps:{min:0,max:1,step:.1},size:"small",fullWidth:!0}),y.jsx(jt,{label:"IOR (Index of Refraction)",type:"number",value:t.ior??1.5,onChange:b=>h("ior",Number.parseFloat(b.target.value)),inputProps:{min:1,max:2.333,step:.1},size:"small",fullWidth:!0}),y.jsx(jt,{label:"Clearcoat",type:"number",value:t.clearcoat??0,onChange:b=>h("clearcoat",Number.parseFloat(b.target.value)),inputProps:{min:0,max:1,step:.1},size:"small",fullWidth:!0})]})]}),t.material_type==="MeshPhongMaterial"&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"subtitle2",sx:{mb:1},children:"Phong Material"}),y.jsxs(Ja,{spacing:1.5,children:[y.jsx(jt,{label:"Shininess",type:"number",value:t.shininess??30,onChange:b=>h("shininess",Number.parseFloat(b.target.value)),inputProps:{min:0,step:1},size:"small",fullWidth:!0}),y.jsx(jt,{label:"Specular Color",type:"text",value:t.specular??"#111111",onChange:b=>h("specular",b.target.value),size:"small",fullWidth:!0})]})]})]})})]}),y.jsx(Re,{sx:{mt:2},children:y.jsx(xt,{variant:"outlined",startIcon:y.jsx(ore,{}),onClick:f,size:"small",fullWidth:!0,children:"Reset to Preset"})})]}),a&&y.jsx(Ve,{variant:"caption",color:"error",sx:{mt:.5},children:a})]})})},Bwe=$t(10,On(hr(t=>t["x-custom-type"]==="three-material"),zn("Control"))),jwe=Nr(Fwe),Uwe=({data:t,handleChange:e,path:n,label:r})=>{const a=J(h=>h.user?.id??null),i=J(h=>h.user?.is_superuser??!1),s=t!=null&&t!=="",o=s&&t===a,l=s&&t!==a,d=()=>{a&&e(n,a)},f=()=>{e(n,null)};return y.jsxs(Re,{sx:{mb:2},children:[y.jsx(tl,{children:r}),y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:[!s&&y.jsx(xt,{variant:"outlined",size:"small",startIcon:y.jsx(Og,{}),onClick:d,disabled:!a,children:"Claim ownership"}),o&&y.jsx(xt,{variant:"outlined",size:"small",color:"warning",startIcon:y.jsx(Og,{}),onClick:f,children:"Release ownership"}),l&&!i&&y.jsxs(Ve,{variant:"body2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:.5},children:[y.jsx($g,{fontSize:"small"}),"Owned by another user"]}),l&&i&&y.jsxs(y.Fragment,{children:[y.jsx(xt,{variant:"outlined",size:"small",startIcon:y.jsx(Og,{}),onClick:d,children:"Claim ownership"}),y.jsx(xt,{variant:"outlined",size:"small",color:"warning",startIcon:y.jsx(MM,{}),onClick:f,children:"Release ownership"})]})]})]})},zwe=$t(10,hr(t=>t?.["x-custom-type"]==="ownership-toggle")),qwe=Nr(Uwe);function Oi(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="curve_attachment"}function $we(t,e){if(t.length===0)return[0,0,0];if(t.length===1)return t[0];const n=Math.max(0,Math.min(1,e)),r=t.length-1,a=n*r,i=Math.min(Math.floor(a),r-1),s=a-i,o=t[i],l=t[i+1];return[o[0]+(l[0]-o[0])*s,o[1]+(l[1]-o[1])*s,o[2]+(l[2]-o[2])*s]}function TS(t,e){if(Oi(t)){const n=e[t.geometry_key];if(!n||n.type!=="Curve")return console.warn(`CurveAttachment references missing/invalid curve: ${t.geometry_key}`),[0,0,0];const r=n.data?.position;return!r||r.length===0?[0,0,0]:$we(r,t.progress)}return Array.isArray(t)&&t.length>=3?[t[0],t[1],t[2]]:(console.warn("Invalid position type:",t),[0,0,0])}function KU(t){return Array.isArray(t)&&t.length===3&&t.every(e=>typeof e=="number")}function XU(t){return Oi(t)?"curve":"coordinates"}const Gwe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i,errors:s,visible:o})=>{const l=a.enum||[],[d,f]=N.useState(()=>XU(t)),[h,m]=N.useState(()=>KU(t)?[String(t[0]),String(t[1]),String(t[2])]:["0","0","0"]),[b,g]=N.useState(()=>Oi(t)?t.geometry_key:l[0]||""),[w,S]=N.useState(()=>Oi(t)?t.progress*100:0);N.useEffect(()=>{const R=XU(t);f(R),KU(t)?m([String(t[0]),String(t[1]),String(t[2])]):Oi(t)&&(g(t.geometry_key),S(t.progress*100))},[t]),N.useEffect(()=>{!b&&l.length>0&&g(l[0])},[l,b]);const T=N.useCallback((R,A)=>{if(A!==null)if(f(A),A==="coordinates"){const I=Number.parseFloat(h[0])||0,O=Number.parseFloat(h[1])||0,M=Number.parseFloat(h[2])||0;e(n,[I,O,M])}else{const I={type:"curve_attachment",geometry_key:b||l[0]||"",progress:w/100};e(n,I)}},[h,b,w,l,e,n]),x=N.useCallback((R,A)=>{const I=[...h];I[R]=A,m(I);const O=Number.parseFloat(I[0]),M=Number.parseFloat(I[1]),U=Number.parseFloat(I[2]);!isNaN(O)&&!isNaN(M)&&!isNaN(U)&&e(n,[O,M,U])},[h,e,n]),_=N.useCallback(R=>{const A=R.target.value;g(A);const I={type:"curve_attachment",geometry_key:A,progress:w/100};e(n,I)},[w,e,n]),C=N.useCallback((R,A)=>{const I=A;S(I);const O={type:"curve_attachment",geometry_key:b,progress:I/100};e(n,O)},[b,e,n]);return o?y.jsxs(Re,{sx:{marginBottom:2},children:[y.jsxs(Ve,{variant:"subtitle2",sx:{marginBottom:1,color:"text.secondary"},children:[r,i&&" *"]}),y.jsxs(lre,{value:d,exclusive:!0,onChange:T,size:"small",sx:{marginBottom:1.5},children:[y.jsxs(O3,{value:"coordinates",children:[y.jsx(cre,{sx:{mr:.5},fontSize:"small"}),"Coordinates"]}),y.jsxs(O3,{value:"curve",disabled:l.length===0,children:[y.jsx(ure,{sx:{mr:.5},fontSize:"small"}),"Curve"]})]}),y.jsx(pa,{elevation:1,sx:{padding:2},children:d==="coordinates"?y.jsxs(Re,{sx:{display:"flex",gap:1},children:[y.jsx(jt,{label:"X",type:"number",size:"small",value:h[0],onChange:R=>x(0,R.target.value),error:!!s,inputProps:{step:"any"},sx:{flex:1}}),y.jsx(jt,{label:"Y",type:"number",size:"small",value:h[1],onChange:R=>x(1,R.target.value),error:!!s,inputProps:{step:"any"},sx:{flex:1}}),y.jsx(jt,{label:"Z",type:"number",size:"small",value:h[2],onChange:R=>x(2,R.target.value),error:!!s,inputProps:{step:"any"},sx:{flex:1}})]}):y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:2},children:[y.jsxs(Fi,{fullWidth:!0,size:"small",children:[y.jsx(tu,{children:"Curve Geometry"}),y.jsx(nc,{value:b,label:"Curve Geometry",onChange:_,children:l.length===0?y.jsx(rr,{disabled:!0,value:"",children:"No Curve geometries available"}):l.map(R=>y.jsx(rr,{value:R,children:R},R))})]}),y.jsxs(Re,{children:[y.jsxs(Ve,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Progress: ",w.toFixed(0),"%"]}),y.jsx(fb,{value:w,onChange:C,min:0,max:100,step:1,valueLabelDisplay:"auto",valueLabelFormat:R=>`${R}%`})]})]})}),s&&y.jsx(Ve,{variant:"caption",color:"error",sx:{mt:.5},children:s})]}):null},Hwe=$t(10,On(hr(t=>t["x-custom-type"]==="position-attachment"),zn("Control"))),Vwe=Nr(Gwe),ZU=15,x0=new Map;function Wwe(t){if(t?.response?.status!==404)return null;const e=t.response.headers?.["retry-after"];if(!e)return null;const n=Number.parseInt(e,10);return Number.isFinite(n)?n*1e3:2e3}function Ywe(t,e){return new Promise((n,r)=>{if(e.aborted){r(new DOMException("Aborted","AbortError"));return}const a=()=>{clearTimeout(i),r(new DOMException("Aborted","AbortError"))},i=setTimeout(()=>{e.removeEventListener("abort",a),n()},t);e.addEventListener("abort",a,{once:!0})})}async function Kwe(t,e,n,r){for(let a=0;a<=ZU;a++)try{return await HM(t,e,n,r)}catch(i){const s=Wwe(i);if(s===null||a===ZU)throw i;await Ywe(s,r)}return null}function Wn(t,e,n,r){const a=`${t}:${e}`,i=`${t}:`;for(const[o,l]of x0)o.startsWith(i)&&o!==a&&l.controller.abort();let s=x0.get(a);if(!s){const o=new Set,l=new AbortController,d=new Promise((f,h)=>{setTimeout(()=>{x0.delete(a);const m=[...o];Kwe(t,e,m,l.signal).then(b=>{for(const g of m)r.setQueryData(["frame",t,e,g],b?.[g]!==void 0?{[g]:b[g]}:null);f(b)}).catch(b=>{h(b)})},0)});s={keys:o,promise:d,controller:l},x0.set(a,s)}return s.keys.add(n),s.promise.then(o=>o?.[n]!==void 0?{[n]:o[n]}:null)}async function Xwe(t,e,n,r,a){const i=n.filter(s=>r.getQueryData(["frame",t,e,s])===void 0);if(i.length!==0)try{const s=await HM(t,e,i,a);for(const o of i)r.setQueryData(["frame",t,e,o],s?.[o]!==void 0?{[o]:s[o]}:null)}catch{}}const zZ=(t,e,n,r=!0)=>Zt({queryKey:["properties","available",t,e],queryFn:async()=>{if(!t)throw new Error("Room ID is required");const a=await IW(t,e);return Pse(a,n)},enabled:r&&!!t&&n>0,staleTime:300*1e3,placeholderData:Dn}),Zwe=(t,e,n,r=!0)=>{const a=oa();return kV({queries:n.map(i=>({queryKey:["frame",t,e,i],queryFn:()=>Wn(t,e,i,a),select:s=>({key:i,value:s?.[i]}),enabled:r&&!!t&&n.length>0,placeholderData:Dn}))})};function Qwe({perParticleProps:t,globalProps:e,selectedKeys:n,onToggle:r,onClearAll:a}){const[i,s]=N.useState(""),[o,l]=N.useState(!0),[d,f]=N.useState(!0),h=N.useMemo(()=>{if(!i)return t;const b=i.toLowerCase();return t.filter(g=>g.key.toLowerCase().includes(b))},[t,i]),m=N.useMemo(()=>{if(!i)return e;const b=i.toLowerCase();return e.filter(g=>g.key.toLowerCase().includes(b))},[e,i]);return y.jsxs(Re,{sx:{p:1},children:[y.jsx(jt,{fullWidth:!0,size:"small",placeholder:"Search properties...",value:i,onChange:b=>s(b.target.value),slotProps:{input:{startAdornment:y.jsx(kM,{sx:{mr:1,color:"text.secondary"}})}},sx:{mb:1}}),y.jsxs(Re,{sx:{mb:1,display:"flex",gap:1,flexWrap:"wrap"},children:[y.jsx(pr,{label:`${n.length} selected`,size:"small",color:"primary"}),y.jsx(pr,{label:`${t.length} per-particle`,size:"small"}),y.jsx(pr,{label:`${e.length} global`,size:"small"}),n.length>0&&y.jsx(pr,{label:"Clear all",size:"small",onDelete:a,deleteIcon:y.jsx(o1,{})})]}),y.jsxs(ub,{dense:!0,children:[y.jsx(Zl,{children:y.jsxs(Vc,{onClick:()=>l(!o),children:[y.jsx(Ur,{primary:y.jsx(Ve,{variant:"subtitle2",children:"Per-Particle Properties"})}),o?y.jsx(Hg,{}):y.jsx(el,{})]})}),y.jsx(Vg,{in:o,timeout:"auto",unmountOnExit:!0,children:h.map(b=>y.jsx(Zl,{dense:!0,children:y.jsxs(Vc,{onClick:()=>r(b.key),children:[y.jsx(xa,{children:y.jsx(wp,{edge:"start",checked:n.includes(b.key),tabIndex:-1,disableRipple:!0})}),y.jsx(Ur,{primary:b.key,secondary:`${b.metadata.dtype} [${b.metadata.shape?.join("  ")??"scalar"}]`,slotProps:{primary:{sx:{fontFamily:"monospace",fontSize:"0.85rem"}}}})]})},b.key))}),y.jsx(Zl,{children:y.jsxs(Vc,{onClick:()=>f(!d),children:[y.jsx(Ur,{primary:y.jsx(Ve,{variant:"subtitle2",children:"Global Properties"})}),d?y.jsx(Hg,{}):y.jsx(el,{})]})}),y.jsx(Vg,{in:d,timeout:"auto",unmountOnExit:!0,children:m.map(b=>y.jsx(Zl,{dense:!0,children:y.jsxs(Vc,{onClick:()=>r(b.key),children:[y.jsx(xa,{children:y.jsx(wp,{edge:"start",checked:n.includes(b.key),tabIndex:-1,disableRipple:!0})}),y.jsx(Ur,{primary:b.key,secondary:`${b.metadata.dtype} [${b.metadata.shape?.join("  ")??"scalar"}]`,slotProps:{primary:{sx:{fontFamily:"monospace",fontSize:"0.85rem"}}}})]})},b.key))})]})]})}const Jwe=({data:t,handleChange:e,path:n,label:r,errors:a})=>{const i=J(g=>g.roomId),s=J(g=>g.particleCount),o=J(g=>g.currentFrame),{data:l,isLoading:d,isError:f}=zZ(i||void 0,o,s),h=N.useMemo(()=>t||[],[t]),m=N.useCallback(g=>{const w=new Set(h);w.has(g)?w.delete(g):w.add(g),e(n,Array.from(w))},[h,e,n]),b=N.useCallback(()=>{e(n,[])},[e,n]);return i?!l&&d?y.jsx(pa,{variant:"outlined",sx:{mb:2,p:2},children:y.jsxs(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",gap:2},children:[y.jsx(Ca,{size:24}),y.jsx(Ve,{children:"Loading properties..."})]})}):f?y.jsx(pa,{variant:"outlined",sx:{mb:2,p:2},children:y.jsx(ha,{severity:"error",children:"Failed to load property metadata"})}):y.jsxs(pa,{variant:"outlined",sx:{mb:2,overflow:"hidden"},children:[y.jsxs(Re,{sx:{p:2,bgcolor:"action.hover"},children:[y.jsx(Ve,{variant:"subtitle2",fontWeight:"bold",children:r||"Property Inspector"}),y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Select properties to display in InfoBoxes (press 'i' to toggle)"})]}),y.jsx(ul,{}),y.jsx(Re,{sx:{maxHeight:400,overflow:"auto"},children:y.jsx(Qwe,{perParticleProps:l?.perParticle||[],globalProps:l?.global||[],selectedKeys:h,onToggle:m,onClearAll:b})}),a&&y.jsx(ha,{severity:"error",sx:{m:1},children:a})]}):y.jsx(pa,{variant:"outlined",sx:{mb:2,p:2},children:y.jsx(ha,{severity:"info",children:"Property Inspector requires an active room connection"})})},eTe=$t(10,On(hr(t=>t["x-custom-type"]==="property-inspector"),zn("Control"))),tTe=Nr(Jwe),nTe=Math.PI/180;function rTe(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},ut={_global:fd,version:"10.0.12",isBrowser:rTe(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return ut.angleDeg?t*nTe:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ut.DD.isDragging},isTransforming(){var t,e;return(e=(t=ut.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!ut.DD.node},releaseCanvasOnDestroy:!0,document:fd.document,_injectGlobal(t){typeof fd.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),fd.Konva=t}},Er=t=>{ut[t.prototype.getClassName()]=t};ut._injectGlobal(ut);const aTe=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,QU=()=>{if(typeof document>"u")throw new Error(aTe)};class is{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new is(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const n=this.m;return{x:n[0]*e.x+n[2]*e.y+n[4],y:n[1]*e.x+n[3]*e.y+n[5]}}translate(e,n){return this.m[4]+=this.m[0]*e+this.m[2]*n,this.m[5]+=this.m[1]*e+this.m[3]*n,this}scale(e,n){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=n,this.m[3]*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),a=this.m[0]*n+this.m[2]*r,i=this.m[1]*n+this.m[3]*r,s=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=a,this.m[1]=i,this.m[2]=s,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,n){const r=this.m[0]+this.m[2]*n,a=this.m[1]+this.m[3]*n,i=this.m[2]+this.m[0]*e,s=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=a,this.m[2]=i,this.m[3]=s,this}multiply(e){const n=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],a=this.m[0]*e.m[2]+this.m[2]*e.m[3],i=this.m[1]*e.m[2]+this.m[3]*e.m[3],s=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=s,this.m[5]=o,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*e,r=-this.m[1]*e,a=-this.m[2]*e,i=this.m[0]*e,s=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=a,this.m[3]=i,this.m[4]=s,this.m[5]=o,this}getMatrix(){return this.m}decompose(){const e=this.m[0],n=this.m[1],r=this.m[2],a=this.m[3],i=this.m[4],s=this.m[5],o=e*a-n*r,l={x:i,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||n!=0){const d=Math.sqrt(e*e+n*n);l.rotation=n>0?Math.acos(e/d):-Math.acos(e/d),l.scaleX=d,l.scaleY=o/d,l.skewX=(e*r+n*a)/o,l.skewY=0}else if(r!=0||a!=0){const d=Math.sqrt(r*r+a*a);l.rotation=Math.PI/2-(a>0?Math.acos(-r/d):-Math.acos(r/d)),l.scaleX=o/d,l.scaleY=d,l.skewX=0,l.skewY=(e*r+n*a)/o}return l.rotation=Ne._getRotation(l.rotation),l}}const iTe="[object Array]",sTe="[object Number]",oTe="[object String]",lTe="[object Boolean]",cTe=Math.PI/180,uTe=180/Math.PI,lg="#",dTe="",fTe="0",pTe="Konva warning: ",JU="Konva error: ",hTe="rgb(",hA={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},mTe=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let w0=[],cg=null;const gTe=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},Ne={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===iTe},_isNumber(t){return Object.prototype.toString.call(t)===sTe&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===oTe},_isBoolean(t){return Object.prototype.toString.call(t)===lTe},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){w0.push(t),w0.length===1&&gTe(function(){const e=w0;w0=[],e.forEach(function(n){n()})})},createCanvasElement(){QU();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return QU(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const n=Ne.createImageElement();n.onload=function(){e(n)},n.src=t},_rgbToHex(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb(t){t=t.replace(lg,dTe);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=fTe+t;return lg+t},isCanvasFarblingActive(){if(cg!==null)return cg;if(typeof document>"u")return cg=!1,!1;const t=this.createCanvasElement();t.width=10,t.height=10;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let a=0;a<100;a++)if(n[a*4]!==40||n[a*4+1]!==40||n[a*4+2]!==40||n[a*4+3]!==255){r=!0;break}return cg=r,this.releaseCanvas(t),cg},getHitColor(){const t=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(t):t},getHitColorKey(t,e,n){return this.isCanvasFarblingActive()&&(t=Math.round(t/5)*5,e=Math.round(e/5)*5,n=Math.round(n/5)*5),lg+this._rgbToHex(t,e,n)},getSnappedHexColor(t){const e=this._hexToRgb(t);return lg+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(t){let e;return t in hA?(e=hA[t],{r:e[0],g:e[1],b:e[2]}):t[0]===lg?this._hexToRgb(t.substring(1)):t.substr(0,4)===hTe?(e=mTe.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",Ne._namedColorToRBA(t)||Ne._hex3ColorToRGBA(t)||Ne._hex4ColorToRGBA(t)||Ne._hex6ColorToRGBA(t)||Ne._hex8ColorToRGBA(t)||Ne._rgbColorToRGBA(t)||Ne._rgbaColorToRGBA(t)||Ne._hslColorToRGBA(t)},_namedColorToRBA(t){const e=hA[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),r=Number(n[0])/360,a=Number(n[1])/100,i=Number(n[2])/100;let s,o,l;if(a===0)return l=i*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};i<.5?s=i*(1+a):s=i+a-i*a;const d=2*i-s,f=[0,0,0];for(let h=0;h<3;h++)o=r+1/3*-(h-1),o<0&&o++,o>1&&o--,6*o<1?l=d+(s-d)*6*o:2*o<1?l=s:3*o<2?l=d+(s-d)*(2/3-o)*6:l=d,f[h]=l*255;return{r:Math.round(f[0]),g:Math.round(f[1]),b:Math.round(f[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*cTe},radToDeg(t){return t*uTe},_degToRad(t){return Ne.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),Ne.degToRad(t)},_radToDeg(t){return Ne.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),Ne.radToDeg(t)},_getRotation(t){return ut.angleDeg?Ne.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(JU+t)},error(t){console.error(JU+t)},warn(t){ut.showWarnings&&console.warn(pTe+t)},each(t,e){for(const n in t)e(n,t[n])},_inRange(t,e,n){return e<=t&&t<n},_getProjectionToSegment(t,e,n,r,a,i){let s,o,l;const d=(t-n)*(t-n)+(e-r)*(e-r);if(d==0)s=t,o=e,l=(a-n)*(a-n)+(i-r)*(i-r);else{const f=((a-t)*(n-t)+(i-e)*(r-e))/d;f<0?(s=t,o=e,l=(t-a)*(t-a)+(e-i)*(e-i)):f>1?(s=n,o=r,l=(n-a)*(n-a)+(r-i)*(r-i)):(s=t+f*(n-t),o=e+f*(r-e),l=(s-a)*(s-a)+(o-i)*(o-i))}return[s,o,l]},_getProjectionToLine(t,e,n){const r=Ne.cloneObject(t);let a=Number.MAX_VALUE;return e.forEach(function(i,s){if(!n&&s===e.length-1)return;const o=e[(s+1)%e.length],l=Ne._getProjectionToSegment(i.x,i.y,o.x,o.y,t.x,t.y),d=l[0],f=l[1],h=l[2];h<a&&(r.x=d,r.y=f,a=h)}),r},_prepareArrayForTween(t,e,n){const r=[],a=[];if(t.length>e.length){const s=e;e=t,t=s}for(let s=0;s<t.length;s+=2)r.push({x:t[s],y:t[s+1]});for(let s=0;s<e.length;s+=2)a.push({x:e[s],y:e[s+1]});const i=[];return a.forEach(function(s){const o=Ne._getProjectionToLine(s,r,n);i.push(o.x),i.push(o.y)}),i},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const n in t)if(t.hasOwnProperty(n)&&t[n]&&typeof t[n]=="object"){if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||Ne._isElement(t[n]))if(e.configurable)delete t[n];else return null;else if(Ne._prepareToStringify(t[n])===null)if(e.configurable)delete t[n];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const n in e)t[n]=e[n];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){ut.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,n,r){let a=e<0?e:0,i=n<0?n:0;e=Math.abs(e),n=Math.abs(n);let s=0,o=0,l=0,d=0;typeof r=="number"?s=o=l=d=Math.min(r,e/2,n/2):(s=Math.min(r[0]||0,e/2,n/2),o=Math.min(r[1]||0,e/2,n/2),d=Math.min(r[2]||0,e/2,n/2),l=Math.min(r[3]||0,e/2,n/2)),t.moveTo(a+s,i),t.lineTo(a+e-o,i),t.arc(a+e-o,i+o,o,Math.PI*3/2,0,!1),t.lineTo(a+e,i+n-d),t.arc(a+e-d,i+n-d,d,0,Math.PI/2,!1),t.lineTo(a+l,i+n),t.arc(a+l,i+n-l,l,Math.PI/2,Math.PI,!1),t.lineTo(a,i+s),t.arc(a+s,i+s,s,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,n,r,a){r=Math.abs(r);for(let i=0;i<n;i++){const s=e[(i-1+n)%n],o=e[i],l=e[(i+1)%n],d={x:o.x-s.x,y:o.y-s.y},f={x:l.x-o.x,y:l.y-o.y},h=Math.hypot(d.x,d.y),m=Math.hypot(f.x,f.y);let b;typeof a=="number"?b=a:b=i<a.length?a[i]:0,b=r*Math.cos(Math.PI/n)*Math.min(1,b/r*2);const w={x:d.x/h,y:d.y/h},S={x:f.x/m,y:f.y/m},T={x:o.x-w.x*b,y:o.y-w.y*b},x={x:o.x+S.x*b,y:o.y+S.y*b};i===0?t.moveTo(T.x,T.y):t.lineTo(T.x,T.y),t.arcTo(o.x,o.y,x.x,x.y,b)}}};function bTe(t){const e=[],n=t.length,r=Ne;for(let a=0;a<n;a++){let i=t[a];r._isNumber(i)?i=Math.round(i*1e3)/1e3:r._isString(i)||(i=i+""),e.push(i)}return e}const e9=",",yTe="(",vTe=")",STe="([",ETe="])",_Te=";",xTe="()",wTe="=",t9=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],TTe=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],CTe=100;let T0=null;function n9(){if(T0!==null)return T0;try{const e=Ne.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(T0=!1,!1)}catch{return T0=!1,!1}}class J1{constructor(e){this.canvas=e,ut.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,a=r.length,i="",s,o,l,d;for(s=0;s<a;s++)o=r[s],l=o.method,l?(d=o.args,i+=l,e?i+=xTe:Ne._isArray(d[0])?i+=STe+d.join(e9)+ETe:(n&&(d=d.map(f=>typeof f=="number"?Math.floor(f):f)),i+=yTe+d.join(e9)+vTe)):(i+=o.property,e||(i+=wTe+o.val)),i+=_Te;return i}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=CTe&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}_applyMiterLimit(e){const n=e.attrs.miterLimit;n!=null&&this.setAttr("miterLimit",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,a,i,s){this._context.arc(e,n,r,a,i,s)}arcTo(e,n,r,a,i){this._context.arcTo(e,n,r,a,i)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,a,i,s){this._context.bezierCurveTo(e,n,r,a,i,s)}clearRect(e,n,r,a){this._context.clearRect(e,n,r,a)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,a){return this._context.createLinearGradient(e,n,r,a)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,a,i,s){return this._context.createRadialGradient(e,n,r,a,i,s)}drawImage(e,n,r,a,i,s,o,l,d){const f=arguments,h=this._context;f.length===3?h.drawImage(e,n,r):f.length===5?h.drawImage(e,n,r,a,i):f.length===9&&h.drawImage(e,n,r,a,i,s,o,l,d)}ellipse(e,n,r,a,i,s,o,l){this._context.ellipse(e,n,r,a,i,s,o,l)}isPointInPath(e,n,r,a){return r?this._context.isPointInPath(r,e,n,a):this._context.isPointInPath(e,n,a)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,a){this._context.fillRect(e,n,r,a)}strokeRect(e,n,r,a){this._context.strokeRect(e,n,r,a)}fillText(e,n,r,a){a?this._context.fillText(e,n,r,a):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,a){return this._context.getImageData(e,n,r,a)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,a){this._context.rect(e,n,r,a)}roundRect(e,n,r,a,i){this._context.roundRect(e,n,r,a,i)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,a){this._context.quadraticCurveTo(e,n,r,a)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,a,i,s){this._context.setTransform(e,n,r,a,i,s)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,a){this._context.strokeText(e,n,r,a)}transform(e,n,r,a,i,s){this._context.transform(e,n,r,a,i,s)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=t9.length,r=this.setAttr,a,i;const s=function(o){let l=e[o],d;e[o]=function(){return i=bTe(Array.prototype.slice.call(arguments,0)),d=l.apply(e,arguments),e._trace({method:o,args:i}),d}};for(a=0;a<n;a++)s(t9[a]);e.setAttr=function(){r.apply(e,arguments);const o=arguments[0];let l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:o,val:l})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}TTe.forEach(function(t){Object.defineProperty(J1.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class RTe extends J1{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const a=e.getFillPatternImage();if(a&&r==="pattern"){this._fillPattern(e);return}const i=e.getFillLinearGradientColorStops();if(i&&r==="linear-gradient"){this._fillLinearGradient(e);return}const s=e.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):a?this._fillPattern(e):i?this._fillLinearGradient(e):s&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),a=e.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(n.x,n.y,r.x,r.y);if(a){for(let s=0;s<a.length;s+=2)i.addColorStop(a[s],a[s+1]);this.setAttr("strokeStyle",i)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,a;const i=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,o=(a=e.getShadowOffset())!==null&&a!==void 0?a:{x:0,y:0},l=e.getAbsoluteScale(),d=this.canvas.getPixelRatio(),f=l.x*d,h=l.y*d;this.setAttr("shadowColor",i),this.setAttr("shadowBlur",s*Math.min(Math.abs(f),Math.abs(h))),this.setAttr("shadowOffsetX",o.x*f),this.setAttr("shadowOffsetY",o.y*h)}}class ATe extends J1{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),a=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",a),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}let C0;function ITe(){if(C0)return C0;const t=Ne.createCanvasElement(),e=t.getContext("2d");return C0=(function(){const n=ut._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r})(),Ne.releaseCanvas(t),C0}class BL{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||ut.pixelRatio||ITe();this.pixelRatio=r,this._canvas=Ne.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(a){return Ne.error("Unable to get data URL. "+a.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Hc extends BL{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new RTe(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class jL extends BL{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new ATe(this),this.setSize(e.width,e.height)}}const Vn={get isDragging(){let t=!1;return Vn._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return Vn._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];Vn._dragElements.forEach((n,r)=>{const{node:a}=n,i=a.getStage();i.setPointersPositions(t),n.pointerId===void 0&&(n.pointerId=Ne._getFirstPointerId(t));const s=i._changedPointerPositions.find(o=>o.id===n.pointerId);if(s){if(n.dragStatus!=="dragging"){const o=a.dragDistance();if(Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y))<o||(a.startDrag({evt:t}),!a.isDragging()))return}a._setDragPosition(t,n),e.push(a)}}),e.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)})},_endDragBefore(t){const e=[];Vn._dragElements.forEach(n=>{const{node:r}=n,a=r.getStage();if(t&&a.setPointersPositions(t),!a._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Vn.justDragged=!0,ut._mouseListenClick=!1,ut._touchListenClick=!1,ut._pointerListenClick=!1,n.dragStatus="stopped");const s=n.node.getLayer()||n.node instanceof ut.Stage&&n.node;s&&e.indexOf(s)===-1&&e.push(s)}),e.forEach(n=>{n.draw()})},_endDragAfter(t){Vn._dragElements.forEach((e,n)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&Vn._dragElements.delete(n)})}};ut.isBrowser&&(window.addEventListener("mouseup",Vn._endDragBefore,!0),window.addEventListener("touchend",Vn._endDragBefore,!0),window.addEventListener("touchcancel",Vn._endDragBefore,!0),window.addEventListener("mousemove",Vn._drag),window.addEventListener("touchmove",Vn._drag),window.addEventListener("mouseup",Vn._endDragAfter,!1),window.addEventListener("touchend",Vn._endDragAfter,!1),window.addEventListener("touchcancel",Vn._endDragAfter,!1));function lu(t){return Ne._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||Ne._isBoolean(t)?t:Object.prototype.toString.call(t)}function qZ(t){return t>255?255:t<0?0:Math.round(t)}function ct(){if(ut.isUnminified)return function(t,e){return Ne._isNumber(t)||Ne.warn(lu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function eE(t){if(ut.isUnminified)return function(e,n){let r=Ne._isNumber(e),a=Ne._isArray(e)&&e.length==t;return!r&&!a&&Ne.warn(lu(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function UL(){if(ut.isUnminified)return function(t,e){return Ne._isNumber(t)||t==="auto"||Ne.warn(lu(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function Fd(){if(ut.isUnminified)return function(t,e){return Ne._isString(t)||Ne.warn(lu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function $Z(){if(ut.isUnminified)return function(t,e){const n=Ne._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||Ne.warn(lu(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function kTe(){if(ut.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(Ne._isArray(t)?t.forEach(function(r){Ne._isNumber(r)||Ne.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):Ne.warn(lu(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function _o(){if(ut.isUnminified)return function(t,e){return t===!0||t===!1||Ne.warn(lu(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function DTe(t){if(ut.isUnminified)return function(e,n){return e==null||Ne.isObject(e)||Ne.warn(lu(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}const ug="get",dg="set",ye={addGetterSetter(t,e,n,r,a){ye.addGetter(t,e,n),ye.addSetter(t,e,r,a),ye.addOverloadedGetterSetter(t,e)},addGetter(t,e,n){const r=ug+Ne._capitalize(e);t.prototype[r]=t.prototype[r]||function(){const a=this.attrs[e];return a===void 0?n:a}},addSetter(t,e,n,r){const a=dg+Ne._capitalize(e);t.prototype[a]||ye.overWriteSetter(t,e,n,r)},overWriteSetter(t,e,n,r){const a=dg+Ne._capitalize(e);t.prototype[a]=function(i){return n&&i!==void 0&&i!==null&&(i=n.call(this,i,e)),this._setAttr(e,i),r&&r.call(this),this}},addComponentsGetterSetter(t,e,n,r,a){const i=n.length,s=Ne._capitalize,o=ug+s(e),l=dg+s(e);t.prototype[o]=function(){const f={};for(let h=0;h<i;h++){const m=n[h];f[m]=this.getAttr(e+s(m))}return f};const d=DTe(n);t.prototype[l]=function(f){const h=this.attrs[e];r&&(f=r.call(this,f,e)),d&&d.call(this,f,e);for(const m in f)f.hasOwnProperty(m)&&this._setAttr(e+s(m),f[m]);return f||n.forEach(m=>{this._setAttr(e+s(m),void 0)}),this._fireChangeEvent(e,h,f),a&&a.call(this),this},ye.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const n=Ne._capitalize(e),r=dg+n,a=ug+n;t.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter(t,e,n,r){Ne.error("Adding deprecated "+e);const a=ug+Ne._capitalize(e),i=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[a]=function(){Ne.error(i);const s=this.attrs[e];return s===void 0?n:s},ye.addSetter(t,e,r,function(){Ne.error(i)}),ye.addOverloadedGetterSetter(t,e)},backCompat(t,e){Ne.each(e,function(n,r){const a=t.prototype[r],i=ug+Ne._capitalize(n),s=dg+Ne._capitalize(n);function o(){a.apply(this,arguments),Ne.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}t.prototype[n]=o,t.prototype[i]=o,t.prototype[s]=o})},afterSetFilter(){this._filterUpToDate=!1}};function OTe(t){const e=/(\w+)\(([^)]+)\)/g;let n;for(;(n=e.exec(t))!==null;){const[,r,a]=n;switch(r){case"blur":{const i=parseFloat(a.replace("px",""));return function(s){this.blurRadius(i*.5);const o=ut.Filters;o&&o.Blur&&o.Blur.call(this,s)}}case"brightness":{const i=a.includes("%")?parseFloat(a)/100:parseFloat(a);return function(s){this.brightness(i);const o=ut.Filters;o&&o.Brightness&&o.Brightness.call(this,s)}}case"contrast":{const i=parseFloat(a);return function(s){const o=100*(Math.sqrt(i)-1);this.contrast(o);const l=ut.Filters;l&&l.Contrast&&l.Contrast.call(this,s)}}case"grayscale":return function(i){const s=ut.Filters;s&&s.Grayscale&&s.Grayscale.call(this,i)};case"sepia":return function(i){const s=ut.Filters;s&&s.Sepia&&s.Sepia.call(this,i)};case"invert":return function(i){const s=ut.Filters;s&&s.Invert&&s.Invert.call(this,i)};default:Ne.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const CS="absoluteOpacity",R0="allEventListeners",Kl="absoluteTransform",r9="absoluteScale",id="canvas",NTe="Change",MTe="children",PTe="konva",lM="listening",LTe="mouseenter",FTe="mouseleave",BTe="pointerenter",jTe="pointerleave",UTe="touchenter",zTe="touchleave",a9="set",i9="Shape",RS=" ",s9="stage",$c="transform",qTe="Stage",cM="visible",$Te=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(RS);let GTe=1;class lt{constructor(e){this._id=GTe++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===$c||e===Kl)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===$c||e===Kl)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const a=n.map(i=>i+"Change.konva").join(RS);this.on(a,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(id)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===Kl&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(id)){const{scene:e,filter:n,hit:r,buffer:a}=this._cache.get(id);Ne.releaseCanvas(e,n,r,a),this._cache.delete(id)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let a=Math.ceil(n.width||r.width),i=Math.ceil(n.height||r.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,d=n.offset||0,f=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!a||!i){Ne.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const m=Math.abs(Math.round(r.x)-o)>.5?1:0,b=Math.abs(Math.round(r.y)-l)>.5?1:0;a+=d*2+m,i+=d*2+b,o-=d,l-=d;const g=new Hc({pixelRatio:s,width:a,height:i}),w=new Hc({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),S=new jL({pixelRatio:h,width:a,height:i}),T=g.getContext(),x=S.getContext(),_=new Hc({width:g.width/g.pixelRatio+Math.abs(o),height:g.height/g.pixelRatio+Math.abs(l),pixelRatio:g.pixelRatio}),C=_.getContext();return S.isCache=!0,g.isCache=!0,this._cache.delete(id),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(g.getContext()._context.imageSmoothingEnabled=!1,w.getContext()._context.imageSmoothingEnabled=!1),T.save(),x.save(),C.save(),T.translate(-o,-l),x.translate(-o,-l),C.translate(-o,-l),_.x=o,_.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(CS),this._clearSelfAndDescendantCache(r9),this.drawScene(g,this,_),this.drawHit(S,this),this._isUnderCache=!1,T.restore(),x.restore(),f&&(T.save(),T.beginPath(),T.rect(0,0,a,i),T.closePath(),T.setAttr("strokeStyle","red"),T.setAttr("lineWidth",5),T.stroke(),T.restore()),this._cache.set(id,{scene:g,filter:w,hit:S,buffer:_,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(id)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let a=1/0,i=1/0,s=-1/0,o=-1/0;const l=this.getAbsoluteTransform(n);return r.forEach(function(d){const f=l.point(d);a===void 0&&(a=s=f.x,i=o=f.y),a=Math.min(a,f.x),i=Math.min(i,f.y),s=Math.max(s,f.x),o=Math.max(o,f.y)}),{x:a,y:i,width:s-a,height:o-i}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),a=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/a,r.height/a),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,a=n.filter,i=a.getContext(),s,o,l,d;if(!e||e.length===0)return r;if(this._filterUpToDate)return a;let f=!0;for(let m=0;m<e.length;m++)if(typeof e[m]=="string"&&n9(),typeof e[m]!="string"||!n9()){f=!1;break}const h=r.pixelRatio;if(a.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),f){const m=e.join(" ");return i.save(),i.setAttr("filter",m),i.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),i.restore(),this._filterUpToDate=!0,a}try{for(s=e.length,i.clear(),i.drawImage(r._canvas,0,0,r.getWidth()/h,r.getHeight()/h),o=i.getImageData(0,0,a.getWidth(),a.getHeight()),l=0;l<s;l++)d=e[l],typeof d=="string"&&(d=OTe(d)),d.call(this,o),i.putImageData(o,0,0)}catch(m){Ne.error("Unable to apply filter. "+m.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,a}on(e,n){if(this._cache&&this._cache.delete(R0),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(RS);for(let a=0;a<r.length;a++){const s=r[a].split("."),o=s[0],l=s[1]||"";this.eventListeners[o]||(this.eventListeners[o]=[]),this.eventListeners[o].push({name:l,handler:n})}return this}off(e,n){let r=(e||"").split(RS),a=r.length,i,s,o,l,d,f;if(this._cache&&this._cache.delete(R0),!e)for(s in this.eventListeners)this._off(s);for(i=0;i<a;i++)if(o=r[i],l=o.split("."),d=l[0],f=l[1],d)this.eventListeners[d]&&this._off(d,f,n);else for(s in this.eventListeners)this._off(s,f,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const a=this;this.on(e,function(i){const s=i.target.findAncestors(n,!0,a);for(let o=0;o<s.length;o++)i=Ne.cloneObject(i),i.currentTarget=s[o],r.call(s[o],i)})}remove(){return this.isDragging()&&this.stopDrag(),Vn._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Kl),this._clearSelfAndDescendantCache(CS),this._clearSelfAndDescendantCache(r9),this._clearSelfAndDescendantCache(s9),this._clearSelfAndDescendantCache(cM),this._clearSelfAndDescendantCache(lM)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+Ne._capitalize(e);return Ne._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==MTe&&(r=a9+Ne._capitalize(n),Ne._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(lM,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(cM,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let a=!1;Vn._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(a=!0)});const i=!n&&!ut.hitOnDragEnabled&&(a||ut.isTransforming());return this.isListening()&&this.isVisible()&&!i}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,a,i,s,o;function l(f){for(a=[],i=f.length,s=0;s<i;s++)o=f[s],r++,o.nodeType!==i9&&(a=a.concat(o.getChildren().slice())),o._id===n._id&&(s=i);a.length>0&&a[0].getDepth()<=e&&l(a)}const d=this.getStage();return n.nodeType!==qTe&&d&&l(d.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache($c),this._clearSelfAndDescendantCache(Kl)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const a=this.getAbsoluteTransform(e).getMatrix(),i=new is,s=this.offset();return i.m=a.slice(),i.translate(s.x,s.y),i.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...a}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache($c);const i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(e.x,e.y),e={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(a),this.setPosition({x:e.x,y:e.y}),this._clearCache($c),this._clearSelfAndDescendantCache(Kl),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,a=this.x(),i=this.y();return n!==void 0&&(a+=n),r!==void 0&&(i+=r),this.setPosition({x:a,y:i}),this}_eachAncestorReverse(e,n){let r=[],a=this.getParent(),i,s;if(!(n&&n._id===this._id)){for(r.unshift(this);a&&(!n||a._id!==n._id);)r.unshift(a),a=a.parent;for(i=r.length,s=0;s<i;s++)e(r[s])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Ne.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Ne.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Ne.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Ne.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Ne.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Ne.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(CS,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,a,i,s;const o={attrs:{},className:this.getClassName()};for(n in e)r=e[n],s=Ne.isObject(r)&&!Ne._isPlainObject(r)&&!Ne._isArray(r),!s&&(a=typeof this[n]=="function"&&this[n],delete e[n],i=a?a.call(this):null,e[n]=r,i!==r&&(o.attrs[n]=r));return Ne._prepareToStringify(o)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const a=[];n&&this._isMatch(e)&&a.push(this);let i=this.parent;for(;i;){if(i===r)return a;i._isMatch(e)&&a.push(i),i=i.parent}return a}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,a,i;for(a=0;a<r;a++)if(i=n[a],Ne.isValidSelector(i)||(Ne.warn('Selector "'+i+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Ne.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Ne.warn("Konva is awesome, right?")),i.charAt(0)==="#"){if(this.id()===i.slice(1))return!0}else if(i.charAt(0)==="."){if(this.hasName(i.slice(1)))return!0}else if(this.className===i||this.nodeType===i)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(s9,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(Kl,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new is,this._eachAncestorReverse(function(r){const a=r.transformsEnabled();a==="all"?n.multiply(r.getTransform()):a==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(Kl)||new is,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const a=this.attrs.x||0,i=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(a-s,i-o)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const a=this.getAbsoluteTransform(e).decompose();return{x:a.scaleX,y:a.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache($c,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get($c)||new is;r.reset();const a=this.x(),i=this.y(),s=ut.getAngle(this.rotation()),o=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,d=this.attrs.skewX||0,f=this.attrs.skewY||0,h=this.attrs.offsetX||0,m=this.attrs.offsetY||0;return(a!==0||i!==0)&&r.translate(a,i),s!==0&&r.rotate(s),(d!==0||f!==0)&&r.skew(d,f),(o!==1||l!==1)&&r.scale(o,l),(h!==0||m!==0)&&r.translate(-1*h,-1*m),r.dirty=!1,r}clone(e){let n=Ne.cloneObject(this.attrs),r,a,i,s,o;for(r in e)n[r]=e[r];const l=new this.constructor(n);for(r in this.eventListeners)for(a=this.eventListeners[r],i=a.length,s=0;s<i;s++)o=a[s],o.name.indexOf(PTe)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),a=e.x!==void 0?e.x:Math.floor(n.x),i=e.y!==void 0?e.y:Math.floor(n.y),s=e.pixelRatio||1,o=new Hc({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext(),d=new Hc({width:o.width/o.pixelRatio+Math.abs(a),height:o.height/o.pixelRatio+Math.abs(i),pixelRatio:o.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(a||i)&&l.translate(-1*a,-1*i),this.drawScene(o,void 0,d),l.restore(),o}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,a=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(a),a}toImage(e){return new Promise((n,r)=>{try{const a=e?.callback;a&&delete e.callback,Ne._urlToImage(this.toDataURL(e),function(i){n(i),a?.(i)})}catch(a){r(a)}})}toBlob(e){return new Promise((n,r)=>{try{const a=e?.callback;a&&delete e.callback,this.toCanvas(e).toBlob(i=>{n(i),a?.(i)},e?.mimeType,e?.quality)}catch(a){r(a)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ut.dragDistance}_off(e,n,r){let a=this.eventListeners[e],i,s,o;for(i=0;i<a.length;i++)if(s=a[i].name,o=a[i].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===o)){if(a.splice(i,1),a.length===0){delete this.eventListeners[e];break}i--}}_fireChangeEvent(e,n,r){this._fire(e+NTe,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[a9+Ne._capitalize(e)];return Ne._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(ut.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!Ne.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let a;r!==void 0&&(a=this.attrs[e],a||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,a,r))}_fireAndBubble(e,n,r){n&&this.nodeType===i9&&(n.target=this);const a=[LTe,FTe,BTe,jTe,UTe,zTe];if(!(a.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const s=a.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!s&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,a;const i=(n=this._cache.get(R0))!==null&&n!==void 0?n:{};let s=i?.[e];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(a=(r=o.eventListeners)===null||r===void 0?void 0:r[e])!==null&&a!==void 0?a:[];s.push(...l),o=Object.getPrototypeOf(o)}i[e]=s,this._cache.set(R0,i)}return s}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let i=0;i<r.length;i++)r[i].handler.call(this,n);const a=this.eventListeners[e];if(a)for(let i=0;i<a.length;i++)a[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),a=this.getAbsolutePosition();if(!r)return;const i=r._getPointerById(n)||r._changedPointerPositions[0]||a;Vn._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-a.x,y:i.y-a.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){Vn._dragElements.has(this._id)||this._createDragElement(e);const r=Vn._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let a={x:r.x-n.offset.x,y:r.y-n.offset.y};const i=this.dragBoundFunc();if(i!==void 0){const s=i.call(this,a,e);s?a=s:Ne.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==a.x||this._lastPos.y!==a.y)&&(this.setAbsolutePosition(a),this._requestDraw()),this._lastPos=a}stopDrag(e){const n=Vn._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Vn._endDragBefore(e),Vn._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Vn._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||ut.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let a=!1;Vn._dragElements.forEach(i=>{this.isAncestorOf(i.node)&&(a=!0)}),a||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=Vn._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",a=n&&n.dragStatus==="ready";r?this.stopDrag():a&&Vn._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return Ne.haveIntersection(r,this.getClientRect())}static create(e,n){return Ne._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=lt.prototype.getClassName.call(e),a=e.children,i,s,o;n&&(e.attrs.container=n),ut[r]||(Ne.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=ut[r];if(i=new l(e.attrs),a)for(s=a.length,o=0;o<s;o++)i.add(lt._createNode(a[o]));return i}}lt.prototype.nodeType="Node";lt.prototype._attrsAffectingSize=[];lt.prototype.eventListeners={};lt.prototype.on.call(lt.prototype,$Te,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache($c),this._clearSelfAndDescendantCache(Kl)});lt.prototype.on.call(lt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(cM)});lt.prototype.on.call(lt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(lM)});lt.prototype.on.call(lt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(CS)});const ar=ye.addGetterSetter;ar(lt,"zIndex");ar(lt,"absolutePosition");ar(lt,"position");ar(lt,"x",0,ct());ar(lt,"y",0,ct());ar(lt,"globalCompositeOperation","source-over",Fd());ar(lt,"opacity",1,ct());ar(lt,"name","",Fd());ar(lt,"id","",Fd());ar(lt,"rotation",0,ct());ye.addComponentsGetterSetter(lt,"scale",["x","y"]);ar(lt,"scaleX",1,ct());ar(lt,"scaleY",1,ct());ye.addComponentsGetterSetter(lt,"skew",["x","y"]);ar(lt,"skewX",0,ct());ar(lt,"skewY",0,ct());ye.addComponentsGetterSetter(lt,"offset",["x","y"]);ar(lt,"offsetX",0,ct());ar(lt,"offsetY",0,ct());ar(lt,"dragDistance",void 0,ct());ar(lt,"width",0,ct());ar(lt,"height",0,ct());ar(lt,"listening",!0,_o());ar(lt,"preventDefault",!0,_o());ar(lt,"filters",void 0,function(t){return this._filterUpToDate=!1,t});ar(lt,"visible",!0,_o());ar(lt,"transformsEnabled","all",Fd());ar(lt,"size");ar(lt,"dragBoundFunc");ar(lt,"draggable",!1,_o());ye.backCompat(lt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class ss extends lt{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(a=>{const i=a._isMatch(e);return i&&r.push(a),!!(i&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const a of r){if(n=e(a),n)return!0;if(a.hasChildren()&&(n=a._descendants(e),n))return!0}return!1}toObject(){const e=lt.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=lt.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const a=this.getLayer(),i=e||a&&a.getCanvas(),s=i&&i.getContext(),o=this._getCanvasCache(),l=o&&o.scene,d=i&&i.isCache;if(!this.isVisible()&&!d)return this;if(l){s.save();const f=this.getAbsoluteTransform(n).getMatrix();s.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(s),s.restore()}else this._drawChildren("drawScene",i,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),a=e||r&&r.hitCanvas,i=a&&a.getContext(),s=this._getCanvasCache();if(s&&s.hit){i.save();const l=this.getAbsoluteTransform(n).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",a,n);return this}_drawChildren(e,n,r,a){var i;const s=n&&n.getContext(),o=this.clipWidth(),l=this.clipHeight(),d=this.clipFunc(),f=typeof o=="number"&&typeof l=="number"||d,h=r===this;if(f){s.save();const b=this.getAbsoluteTransform(r);let g=b.getMatrix();s.transform(g[0],g[1],g[2],g[3],g[4],g[5]),s.beginPath();let w;if(d)w=d.call(this,s,this);else{const S=this.clipX(),T=this.clipY();s.rect(S||0,T||0,o,l)}s.clip.apply(s,w),g=b.copy().invert().getMatrix(),s.transform(g[0],g[1],g[2],g[3],g[4],g[5])}const m=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";m&&(s.save(),s._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(b){b[e](n,r,a)}),m&&s.restore(),f&&s.restore()}getClientRect(e={}){var n;const r=e.skipTransform,a=e.relativeTo;let i,s,o,l,d={x:1/0,y:1/0,width:0,height:0};const f=this;(n=this.children)===null||n===void 0||n.forEach(function(b){if(!b.visible())return;const g=b.getClientRect({relativeTo:f,skipShadow:e.skipShadow,skipStroke:e.skipStroke});g.width===0&&g.height===0||(i===void 0?(i=g.x,s=g.y,o=g.x+g.width,l=g.y+g.height):(i=Math.min(i,g.x),s=Math.min(s,g.y),o=Math.max(o,g.x+g.width),l=Math.max(l,g.y+g.height)))});const h=this.find("Shape");let m=!1;for(let b=0;b<h.length;b++)if(h[b]._isVisible(this)){m=!0;break}return m&&i!==void 0?d={x:i,y:s,width:o-i,height:l-s}:d={x:0,y:0,width:0,height:0},r?d:this._transformedRect(d,a)}}ye.addComponentsGetterSetter(ss,"clip",["x","y","width","height"]);ye.addGetterSetter(ss,"clipX",void 0,ct());ye.addGetterSetter(ss,"clipY",void 0,ct());ye.addGetterSetter(ss,"clipWidth",void 0,ct());ye.addGetterSetter(ss,"clipHeight",void 0,ct());ye.addGetterSetter(ss,"clipFunc");const ab=new Map,GZ=ut._global.PointerEvent!==void 0;function mA(t){return ab.get(t)}function zL(t){return{evt:t,pointerId:t.pointerId}}function HZ(t,e){return ab.get(t)===e}function VZ(t,e){Bg(t),e.getStage()&&(ab.set(t,e),GZ&&e._fire("gotpointercapture",zL(new PointerEvent("gotpointercapture"))))}function Bg(t,e){const n=ab.get(t);if(!n)return;const r=n.getStage();r&&r.content,ab.delete(t),GZ&&n._fire("lostpointercapture",zL(new PointerEvent("lostpointercapture")))}const HTe="Stage",VTe="string",o9="px",WTe="mouseout",WZ="mouseleave",YZ="mouseover",KZ="mouseenter",XZ="mousemove",ZZ="mousedown",QZ="mouseup",Tg="pointermove",Cg="pointerdown",_p="pointerup",Rg="pointercancel",YTe="lostpointercapture",A0="pointerout",Ag="pointerleave",I0="pointerover",k0="pointerenter",uM="contextmenu",JZ="touchstart",eQ="touchend",tQ="touchmove",nQ="touchcancel",dM="wheel",KTe=5,XTe=[[KZ,"_pointerenter"],[ZZ,"_pointerdown"],[XZ,"_pointermove"],[QZ,"_pointerup"],[WZ,"_pointerleave"],[JZ,"_pointerdown"],[tQ,"_pointermove"],[eQ,"_pointerup"],[nQ,"_pointercancel"],[YZ,"_pointerover"],[dM,"_wheel"],[uM,"_contextmenu"],[Cg,"_pointerdown"],[Tg,"_pointermove"],[_p,"_pointerup"],[Rg,"_pointercancel"],[Ag,"_pointerleave"],[YTe,"_lostpointercapture"]],gA={mouse:{[A0]:WTe,[Ag]:WZ,[I0]:YZ,[k0]:KZ,[Tg]:XZ,[Cg]:ZZ,[_p]:QZ,[Rg]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[A0]:"touchout",[Ag]:"touchleave",[I0]:"touchover",[k0]:"touchenter",[Tg]:tQ,[Cg]:JZ,[_p]:eQ,[Rg]:nQ,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[A0]:A0,[Ag]:Ag,[I0]:I0,[k0]:k0,[Tg]:Tg,[Cg]:Cg,[_p]:_p,[Rg]:Rg,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Ig=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",cp=t=>{const e=Ig(t);if(e==="pointer")return ut.pointerEventsEnabled&&gA.pointer;if(e==="touch")return gA.touch;if(e==="mouse")return gA.mouse};function l9(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&Ne.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const ZTe="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",jg=[];let tE=class extends ss{constructor(e){super(l9(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),jg.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{l9(this.attrs)}),this._checkVisibility()}_validateAdd(e){const n=e.getType()==="Layer",r=e.getType()==="FastLayer";n||r||Ne.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===VTe){let n;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?n=e:n=e.slice(1),e=document.getElementById(n);if(!e)throw"Can not find container in document with id "+n}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,n=e.length;for(let r=0;r<n;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),ss.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&Ne._isInDocument(e)&&this.container().removeChild(e);const n=jg.indexOf(this);return n>-1&&jg.splice(n,1),Ne.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(Ne.warn(ZTe),null)}_getPointerById(e){return this._pointerPositions.find(n=>n.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const n=new Hc({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=n.getContext()._context,a=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),a.forEach(function(i){if(!i.isVisible())return;const s=i._toKonvaCanvas(e);r.drawImage(s._canvas,e.x,e.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}),n}getIntersection(e){if(!e)return null;const n=this.children,r=n.length,a=r-1;for(let i=a;i>=0;i--){const s=n[i].getIntersection(e);if(s)return s}return null}_resizeDOM(){const e=this.width(),n=this.height();this.content&&(this.content.style.width=e+o9,this.content.style.height=n+o9),this.bufferCanvas.setSize(e,n),this.bufferHitCanvas.setSize(e,n),this.children.forEach(r=>{r.setSize({width:e,height:n}),r.draw()})}add(e,...n){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.add(arguments[a]);return this}super.add(e);const r=this.children.length;return r>KTe&&Ne.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ut.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return HZ(e,this)}setPointerCapture(e){VZ(e,this)}releaseCapture(e){Bg(e)}getLayers(){return this.children}_bindContentEvents(){ut.isBrowser&&XTe.forEach(([e,n])=>{this.content.addEventListener(e,r=>{this[n](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const n=cp(e.type);n&&this._fire(n.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const n=cp(e.type);n&&this._fire(n.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let n=this[e+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(e){const n=cp(e.type),r=Ig(e.type);if(!n)return;this.setPointersPositions(e);const a=this._getTargetShape(r),i=!(ut.isDragging()||ut.isTransforming())||ut.hitOnDragEnabled;a&&i?(a._fireAndBubble(n.pointerout,{evt:e}),a._fireAndBubble(n.pointerleave,{evt:e}),this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):i&&(this._fire(n.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const n=cp(e.type),r=Ig(e.type);if(!n)return;this.setPointersPositions(e);let a=!1;this._changedPointerPositions.forEach(i=>{const s=this.getIntersection(i);if(Vn.justDragged=!1,ut["_"+r+"ListenClick"]=!0,!s||!s.isListening()){this[r+"ClickStartShape"]=void 0;return}ut.capturePointerEventsEnabled&&s.setPointerCapture(i.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(n.pointerdown,{evt:e,pointerId:i.id}),a=!0;const o=e.type.indexOf("touch")>=0;s.preventDefault()&&e.cancelable&&o&&e.preventDefault()}),a||this._fire(n.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const n=cp(e.type),r=Ig(e.type);if(!n)return;const a=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(ut.isDragging()&&Vn.node.preventDefault()&&e.cancelable&&a&&e.preventDefault(),this.setPointersPositions(e),!(!(ut.isDragging()||ut.isTransforming())||ut.hitOnDragEnabled))return;const s={};let o=!1;const l=this._getTargetShape(r);this._changedPointerPositions.forEach(d=>{const f=mA(d.id)||this.getIntersection(d),h=d.id,m={evt:e,pointerId:h},b=l!==f;if(b&&l&&(l._fireAndBubble(n.pointerout,{...m},f),l._fireAndBubble(n.pointerleave,{...m},f)),f){if(s[f._id])return;s[f._id]=!0}f&&f.isListening()?(o=!0,b&&(f._fireAndBubble(n.pointerover,{...m},l),f._fireAndBubble(n.pointerenter,{...m},l),this[r+"targetShape"]=f),f._fireAndBubble(n.pointermove,{...m})):l&&(this._fire(n.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[r+"targetShape"]=null)}),o||this._fire(n.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const n=cp(e.type),r=Ig(e.type);if(!n)return;this.setPointersPositions(e);const a=this[r+"ClickStartShape"],i=this[r+"ClickEndShape"],s={};let o=!1;this._changedPointerPositions.forEach(l=>{const d=mA(l.id)||this.getIntersection(l);if(d){if(d.releaseCapture(l.id),s[d._id])return;s[d._id]=!0}const f=l.id,h={evt:e,pointerId:f};let m=!1;ut["_"+r+"InDblClickWindow"]?(m=!0,clearTimeout(this[r+"DblTimeout"])):Vn.justDragged||(ut["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){ut["_"+r+"InDblClickWindow"]=!1},ut.dblClickWindow),d&&d.isListening()?(o=!0,this[r+"ClickEndShape"]=d,d._fireAndBubble(n.pointerup,{...h}),ut["_"+r+"ListenClick"]&&a&&a===d&&(d._fireAndBubble(n.pointerclick,{...h}),m&&i&&i===d&&d._fireAndBubble(n.pointerdblclick,{...h}))):(this[r+"ClickEndShape"]=null,o||(this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),o=!0),ut["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:f}),m&&this._fire(n.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:f}))}),o||this._fire(n.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ut["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(uM,{evt:e}):this._fire(uM,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(dM,{evt:e}):this._fire(dM,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const n=mA(e.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(_p,zL(e)),Bg(e.pointerId)}_lostpointercapture(e){Bg(e.pointerId)}setPointersPositions(e){const n=this._getContentPosition();let r=null,a=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,i=>{this._pointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,i=>{this._changedPointerPositions.push({id:i.identifier,x:(i.clientX-n.left)/n.scaleX,y:(i.clientY-n.top)/n.scaleY})})):(r=(e.clientX-n.left)/n.scaleX,a=(e.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:a},this._pointerPositions=[{x:r,y:a,id:Ne._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:a,id:Ne._getFirstPointerId(e)}])}_setPointerPosition(e){Ne.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Hc({width:this.width(),height:this.height()}),this.bufferHitCanvas=new jL({pixelRatio:1,width:this.width(),height:this.height()}),!ut.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return Ne.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};tE.prototype.nodeType=HTe;Er(tE);ye.addGetterSetter(tE,"container");ut.isBrowser&&document.addEventListener("visibilitychange",()=>{jg.forEach(t=>{t.batchDraw()})});const rQ="hasShadow",aQ="shadowRGBA",iQ="patternImage",sQ="linearGradient",oQ="radialGradient";let D0;function bA(){return D0||(D0=Ne.createCanvasElement().getContext("2d"),D0)}const Ug={};function QTe(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function JTe(t){t.stroke()}function eCe(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function tCe(t){t.stroke()}function nCe(){this._clearCache(rQ)}function rCe(){this._clearCache(aQ)}function aCe(){this._clearCache(iQ)}function iCe(){this._clearCache(sQ)}function sCe(){this._clearCache(oQ)}let tt=class extends lt{constructor(e){super(e);let n,r=0;for(;n=Ne.getHitColor(),!(n&&!(n in Ug));)if(r++,r>=1e4){Ne.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),n=Ne.getRandomColor();break}this.colorKey=n,Ug[n]=this}getContext(){return Ne.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return Ne.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(rQ,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(iQ,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const n=bA().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new is;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(ut.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const a=r.getMatrix(),i=typeof DOMMatrix>"u"?{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}:new DOMMatrix(a);n.setTransform(i)}return n}}_getLinearGradient(){return this._getCache(sQ,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const n=bA(),r=this.fillLinearGradientStartPoint(),a=this.fillLinearGradientEndPoint(),i=n.createLinearGradient(r.x,r.y,a.x,a.y);for(let s=0;s<e.length;s+=2)i.addColorStop(e[s],e[s+1]);return i}}_getRadialGradient(){return this._getCache(oQ,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const n=bA(),r=this.fillRadialGradientStartPoint(),a=this.fillRadialGradientEndPoint(),i=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),a.x,a.y,this.fillRadialGradientEndRadius());for(let s=0;s<e.length;s+=2)i.addColorStop(e[s],e[s+1]);return i}}getShadowRGBA(){return this._getCache(aQ,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=Ne.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const n=this.getStage();if(!n)return!1;const r=n.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return lt.prototype.destroy.call(this),delete Ug[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var n;if(!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const a=e||this.hasFill(),i=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(a&&i&&s)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(a&&i&&o&&l)}setStrokeHitEnabled(e){Ne.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let n=!1,r=this.getParent();for(;r;){if(r.isCached()){n=!0;break}r=r.getParent()}const a=e.skipTransform,i=e.relativeTo||n&&this.getStage()||void 0,s=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,d=s.width+l,f=s.height+l,h=!e.skipShadow&&this.hasShadow(),m=h?this.shadowOffsetX():0,b=h?this.shadowOffsetY():0,g=d+Math.abs(m),w=f+Math.abs(b),S=h&&this.shadowBlur()||0,T=g+S*2,x=w+S*2,_={width:T,height:x,x:-(l/2+S)+Math.min(m,0)+s.x,y:-(l/2+S)+Math.min(b,0)+s.y};return a?_:this._transformedRect(_,i)}drawScene(e,n,r){const a=this.getLayer(),i=e||a.getCanvas(),s=i.getContext(),o=this._getCanvasCache(),l=this.getSceneFunc(),d=this.hasShadow();let f;const h=n===this;if(!this.isVisible()&&!h)return this;if(o){s.save();const m=this.getAbsoluteTransform(n).getMatrix();return s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._drawCachedSceneCanvas(s),s.restore(),this}if(!l)return this;if(s.save(),this._useBufferCanvas()){f=this.getStage();const m=r||f.bufferCanvas,b=m.getContext();b.clear(),b.save(),b._applyLineJoin(this),b._applyMiterLimit(this);const g=this.getAbsoluteTransform(n).getMatrix();b.transform(g[0],g[1],g[2],g[3],g[4],g[5]),l.call(this,b,this),b.restore();const w=m.pixelRatio;d&&s._applyShadow(this),h||(s._applyOpacity(this),s._applyGlobalCompositeOperation(this)),s.drawImage(m._canvas,m.x||0,m.y||0,m.width/w,m.height/w)}else{if(s._applyLineJoin(this),s._applyMiterLimit(this),!h){const m=this.getAbsoluteTransform(n).getMatrix();s.transform(m[0],m[1],m[2],m[3],m[4],m[5]),s._applyOpacity(this),s._applyGlobalCompositeOperation(this)}d&&s._applyShadow(this),l.call(this,s,this)}return s.restore(),this}drawHit(e,n,r=!1){if(!this.shouldDrawHit(n,r))return this;const a=this.getLayer(),i=e||a.hitCanvas,s=i&&i.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),d=l&&l.hit;if(this.colorKey||Ne.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),d){s.save();const h=this.getAbsoluteTransform(n).getMatrix();return s.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),s._applyLineJoin(this),s._applyMiterLimit(this),!(this===n)){const h=this.getAbsoluteTransform(n).getMatrix();s.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return o.call(this,s,this),s.restore(),this}drawHitFromCache(e=0){const n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),a=n.hit,i=a.getContext(),s=a.getWidth(),o=a.getHeight();i.clear(),i.drawImage(r._canvas,0,0,s,o);try{const l=i.getImageData(0,0,s,o),d=l.data,f=d.length,h=Ne._hexToRgb(this.colorKey);for(let m=0;m<f;m+=4)d[m+3]>e?(d[m]=h.r,d[m+1]=h.g,d[m+2]=h.b,d[m+3]=255):d[m+3]=0;i.putImageData(l,0,0)}catch(l){Ne.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return HZ(e,this)}setPointerCapture(e){VZ(e,this)}releaseCapture(e){Bg(e)}};tt.prototype._fillFunc=QTe;tt.prototype._strokeFunc=JTe;tt.prototype._fillFuncHit=eCe;tt.prototype._strokeFuncHit=tCe;tt.prototype._centroid=!1;tt.prototype.nodeType="Shape";Er(tt);tt.prototype.eventListeners={};tt.prototype.on.call(tt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",nCe);tt.prototype.on.call(tt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",rCe);tt.prototype.on.call(tt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",aCe);tt.prototype.on.call(tt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",iCe);tt.prototype.on.call(tt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",sCe);ye.addGetterSetter(tt,"stroke",void 0,$Z());ye.addGetterSetter(tt,"strokeWidth",2,ct());ye.addGetterSetter(tt,"fillAfterStrokeEnabled",!1);ye.addGetterSetter(tt,"hitStrokeWidth","auto",UL());ye.addGetterSetter(tt,"strokeHitEnabled",!0,_o());ye.addGetterSetter(tt,"perfectDrawEnabled",!0,_o());ye.addGetterSetter(tt,"shadowForStrokeEnabled",!0,_o());ye.addGetterSetter(tt,"lineJoin");ye.addGetterSetter(tt,"lineCap");ye.addGetterSetter(tt,"miterLimit");ye.addGetterSetter(tt,"sceneFunc");ye.addGetterSetter(tt,"hitFunc");ye.addGetterSetter(tt,"dash");ye.addGetterSetter(tt,"dashOffset",0,ct());ye.addGetterSetter(tt,"shadowColor",void 0,Fd());ye.addGetterSetter(tt,"shadowBlur",0,ct());ye.addGetterSetter(tt,"shadowOpacity",1,ct());ye.addComponentsGetterSetter(tt,"shadowOffset",["x","y"]);ye.addGetterSetter(tt,"shadowOffsetX",0,ct());ye.addGetterSetter(tt,"shadowOffsetY",0,ct());ye.addGetterSetter(tt,"fillPatternImage");ye.addGetterSetter(tt,"fill",void 0,$Z());ye.addGetterSetter(tt,"fillPatternX",0,ct());ye.addGetterSetter(tt,"fillPatternY",0,ct());ye.addGetterSetter(tt,"fillLinearGradientColorStops");ye.addGetterSetter(tt,"strokeLinearGradientColorStops");ye.addGetterSetter(tt,"fillRadialGradientStartRadius",0);ye.addGetterSetter(tt,"fillRadialGradientEndRadius",0);ye.addGetterSetter(tt,"fillRadialGradientColorStops");ye.addGetterSetter(tt,"fillPatternRepeat","repeat");ye.addGetterSetter(tt,"fillEnabled",!0);ye.addGetterSetter(tt,"strokeEnabled",!0);ye.addGetterSetter(tt,"shadowEnabled",!0);ye.addGetterSetter(tt,"dashEnabled",!0);ye.addGetterSetter(tt,"strokeScaleEnabled",!0);ye.addGetterSetter(tt,"fillPriority","color");ye.addComponentsGetterSetter(tt,"fillPatternOffset",["x","y"]);ye.addGetterSetter(tt,"fillPatternOffsetX",0,ct());ye.addGetterSetter(tt,"fillPatternOffsetY",0,ct());ye.addComponentsGetterSetter(tt,"fillPatternScale",["x","y"]);ye.addGetterSetter(tt,"fillPatternScaleX",1,ct());ye.addGetterSetter(tt,"fillPatternScaleY",1,ct());ye.addComponentsGetterSetter(tt,"fillLinearGradientStartPoint",["x","y"]);ye.addComponentsGetterSetter(tt,"strokeLinearGradientStartPoint",["x","y"]);ye.addGetterSetter(tt,"fillLinearGradientStartPointX",0);ye.addGetterSetter(tt,"strokeLinearGradientStartPointX",0);ye.addGetterSetter(tt,"fillLinearGradientStartPointY",0);ye.addGetterSetter(tt,"strokeLinearGradientStartPointY",0);ye.addComponentsGetterSetter(tt,"fillLinearGradientEndPoint",["x","y"]);ye.addComponentsGetterSetter(tt,"strokeLinearGradientEndPoint",["x","y"]);ye.addGetterSetter(tt,"fillLinearGradientEndPointX",0);ye.addGetterSetter(tt,"strokeLinearGradientEndPointX",0);ye.addGetterSetter(tt,"fillLinearGradientEndPointY",0);ye.addGetterSetter(tt,"strokeLinearGradientEndPointY",0);ye.addComponentsGetterSetter(tt,"fillRadialGradientStartPoint",["x","y"]);ye.addGetterSetter(tt,"fillRadialGradientStartPointX",0);ye.addGetterSetter(tt,"fillRadialGradientStartPointY",0);ye.addComponentsGetterSetter(tt,"fillRadialGradientEndPoint",["x","y"]);ye.addGetterSetter(tt,"fillRadialGradientEndPointX",0);ye.addGetterSetter(tt,"fillRadialGradientEndPointY",0);ye.addGetterSetter(tt,"fillPatternRotation",0);ye.addGetterSetter(tt,"fillRule",void 0,Fd());ye.backCompat(tt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const oCe="beforeDraw",lCe="draw",lQ=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],cCe=lQ.length;let Bd=class extends ss{constructor(e){super(e),this.canvas=new Hc,this.hitCanvas=new jL({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){lt.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!lt.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(lt.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(lt.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return lt.prototype.remove.call(this),e&&e.parentNode&&Ne._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Ne.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),lt.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Ne.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Ne.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Ne.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let a=0;a<cCe;a++){const i=lQ[a],s=this._getIntersection({x:e.x+i.x*n,y:e.y+i.y*n}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,a=r[3];if(a===255){const i=Ne.getHitColorKey(r[0],r[1],r[2]),s=Ug[i];return s?{shape:s}:{antialiased:!0}}else if(a>0)return{antialiased:!0};return{}}drawScene(e,n,r){const a=this.getLayer(),i=e||a&&a.getCanvas();return this._fire(oCe,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),ss.prototype.drawScene.call(this,i,n,r),this._fire(lCe,{node:this}),this}drawHit(e,n){const r=this.getLayer(),a=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),ss.prototype.drawHit.call(this,a,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Ne.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return Ne.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};Bd.prototype.nodeType="Layer";Er(Bd);ye.addGetterSetter(Bd,"imageSmoothingEnabled",!0);ye.addGetterSetter(Bd,"clearBeforeDraw",!0);ye.addGetterSetter(Bd,"hitGraphEnabled",!0,_o());class qL extends Bd{constructor(e){super(e),this.listening(!1),Ne.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}qL.prototype.nodeType="FastLayer";Er(qL);let Fp=class extends ss{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Ne.throw("You may only add groups and shapes to groups.")}};Fp.prototype.nodeType="Group";Er(Fp);const yA=(function(){return fd.performance&&fd.performance.now?function(){return fd.performance.now()}:function(){return new Date().getTime()}})();class Is{constructor(e,n){this.id=Is.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:yA(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let a=0;a<r;a++)if(n[a]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=Is.animations,r=n.length;for(let a=0;a<r;a++)if(n[a].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=yA(),Is._addAnimation(this),this}stop(){return Is._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,a=r.length;for(let i=0;i<a;i++)if(r[i].id===n){this.animations.splice(i,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const a=n[r],i=a.layers,s=a.func;a._updateFrameObject(yA());const o=i.length;let l;if(s?l=s.call(a,a.frame)!==!1:l=!0,!!l)for(let d=0;d<o;d++){const f=i[d];f._id!==void 0&&(e[f._id]=f)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=Is;e.animations.length?(e._runFrames(),Ne.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Ne.requestAnimFrame(this._animationLoop))}}Is.animations=[];Is.animIdCounter=0;Is.animRunning=!1;const uCe={node:1,duration:1,easing:1,onFinish:1,yoyo:1},dCe=1,c9=2,u9=3,d9=["fill","stroke","shadowColor"];let fCe=0;class pCe{constructor(e,n,r,a,i,s,o){this.prop=e,this.propFunc=n,this.begin=a,this._pos=a,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=i-this.begin,this.pause()}fire(e){const n=this[e];n&&n()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=c9,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=u9,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===c9?this.setTime(e):this.state===u9&&this.setTime(this.duration-e)}pause(){this.state=dCe,this.fire("onPause")}getTimer(){return new Date().getTime()}}class sr{constructor(e){const n=this,r=e.node,a=r._id,i=e.easing||zg.Linear,s=!!e.yoyo;let o,l;typeof e.duration>"u"?o=.3:e.duration===0?o=.001:o=e.duration,this.node=r,this._id=fCe++;const d=r.getLayer()||(r instanceof ut.Stage?r.getLayers():null);d||Ne.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Is(function(){n.tween.onEnterFrame()},d),this.tween=new pCe(l,function(f){n._tweenFunc(f)},i,0,1,o*1e3,s),this._addListeners(),sr.attrs[a]||(sr.attrs[a]={}),sr.attrs[a][this._id]||(sr.attrs[a][this._id]={}),sr.tweens[a]||(sr.tweens[a]={});for(l in e)uCe[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,n){const r=this.node,a=r._id;let i,s,o,l,d;const f=sr.tweens[a][e];f&&delete sr.attrs[a][f][e];let h=r.getAttr(e);if(Ne._isArray(n))if(i=[],s=Math.max(n.length,h.length),e==="points"&&n.length!==h.length&&(n.length>h.length?(l=h,h=Ne._prepareArrayForTween(h,n,r.closed())):(o=n,n=Ne._prepareArrayForTween(n,h,r.closed()))),e.indexOf("fill")===0)for(let m=0;m<s;m++)if(m%2===0)i.push(n[m]-h[m]);else{const b=Ne.colorToRGBA(h[m]);d=Ne.colorToRGBA(n[m]),h[m]=b,i.push({r:d.r-b.r,g:d.g-b.g,b:d.b-b.b,a:d.a-b.a})}else for(let m=0;m<s;m++)i.push(n[m]-h[m]);else d9.indexOf(e)!==-1?(h=Ne.colorToRGBA(h),d=Ne.colorToRGBA(n),i={r:d.r-h.r,g:d.g-h.g,b:d.b-h.b,a:d.a-h.a}):i=n-h;sr.attrs[a][this._id][e]={start:h,diff:i,end:n,trueEnd:o,trueStart:l},sr.tweens[a][e]=this._id}_tweenFunc(e){const n=this.node,r=sr.attrs[n._id][this._id];let a,i,s,o,l,d,f,h;for(a in r){if(i=r[a],s=i.start,o=i.diff,h=i.end,Ne._isArray(s))if(l=[],f=Math.max(s.length,h.length),a.indexOf("fill")===0)for(d=0;d<f;d++)d%2===0?l.push((s[d]||0)+o[d]*e):l.push("rgba("+Math.round(s[d].r+o[d].r*e)+","+Math.round(s[d].g+o[d].g*e)+","+Math.round(s[d].b+o[d].b*e)+","+(s[d].a+o[d].a*e)+")");else for(d=0;d<f;d++)l.push((s[d]||0)+o[d]*e);else d9.indexOf(a)!==-1?l="rgba("+Math.round(s.r+o.r*e)+","+Math.round(s.g+o.g*e)+","+Math.round(s.b+o.b*e)+","+(s.a+o.a*e)+")":l=s+o*e;n.setAttr(a,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,n=sr.attrs[e._id][this._id];n.points&&n.points.trueEnd&&e.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,n=sr.attrs[e._id][this._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,n=this._id,r=sr.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const a in r)delete sr.tweens[e][a];delete sr.attrs[e][n],sr.tweens[e]&&(Object.keys(sr.tweens[e]).length===0&&delete sr.tweens[e],Object.keys(sr.attrs[e]).length===0&&delete sr.attrs[e])}}sr.attrs={};sr.tweens={};lt.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new sr(t).play()};const zg={BackEaseIn(t,e,n,r){return n*(t/=r)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,n,r){return n*((t=t/r-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,n,r){let a=1.70158;return(t/=r/2)<1?n/2*(t*t*(((a*=1.525)+1)*t-a))+e:n/2*((t-=2)*t*(((a*=1.525)+1)*t+a)+2)+e},ElasticEaseIn(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),-(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+e)},ElasticEaseOut(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r)===1?e+n:(i||(i=r*.3),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-s)*(2*Math.PI)/i)+n+e)},ElasticEaseInOut(t,e,n,r,a,i){let s=0;return t===0?e:(t/=r/2)===2?e+n:(i||(i=r*(.3*1.5)),!a||a<Math.abs(n)?(a=n,s=i/4):s=i/(2*Math.PI)*Math.asin(n/a),t<1?-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i))+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-s)*(2*Math.PI)/i)*.5+n+e)},BounceEaseOut(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,n,r){return n-zg.BounceEaseOut(r-t,0,n,r)+e},BounceEaseInOut(t,e,n,r){return t<r/2?zg.BounceEaseIn(t*2,0,n,r)*.5+e:zg.BounceEaseOut(t*2-r,0,n,r)*.5+n*.5+e},EaseIn(t,e,n,r){return n*(t/=r)*t+e},EaseOut(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,n,r){return n*t/r+e}},Bp=Ne._assign(ut,{Util:Ne,Transform:is,Node:lt,Container:ss,Stage:tE,stages:jg,Layer:Bd,FastLayer:qL,Group:Fp,DD:Vn,Shape:tt,shapes:Ug,Animation:Is,Tween:sr,Easings:zg,Context:J1,Canvas:BL});class oc extends tt{_sceneFunc(e){const n=ut.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),a=ut.getAngle(r?360-this.angle():this.angle()),i=Math.cos(Math.min(a,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,a),3*Math.PI/2)),l=Math.sin(Math.min(a,Math.PI/2)),d=i*(i>0?e:n),f=s*n,h=o*(o>0?e:n),m=l*(l>0?n:e);return{x:d,y:r?-1*m:h,width:f-d,height:m-h}}}oc.prototype._centroid=!0;oc.prototype.className="Arc";oc.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Er(oc);ye.addGetterSetter(oc,"innerRadius",0,ct());ye.addGetterSetter(oc,"outerRadius",0,ct());ye.addGetterSetter(oc,"angle",0,ct());ye.addGetterSetter(oc,"clockwise",!1,_o());function fM(t,e,n,r,a,i,s){const o=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(a-n,2)+Math.pow(i-r,2)),d=s*o/(o+l),f=s*l/(o+l),h=n-d*(a-t),m=r-d*(i-e),b=n+f*(a-t),g=r+f*(i-e);return[h,m,b,g]}function f9(t,e){const n=t.length,r=[];for(let a=2;a<n-2;a+=2){const i=fM(t[a-2],t[a-1],t[a],t[a+1],t[a+2],t[a+3],e);isNaN(i[0])||(r.push(i[0]),r.push(i[1]),r.push(t[a]),r.push(t[a+1]),r.push(i[2]),r.push(i[3]))}return r}let lc=class extends tt{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,a=this.tension(),i=this.closed(),s=this.bezier();if(!r)return;let o=0;if(e.beginPath(),e.moveTo(n[0],n[1]),a!==0&&r>4){const l=this.getTensionPoints(),d=l.length;for(o=i?0:4,i||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);o<d-2;)e.bezierCurveTo(l[o++],l[o++],l[o++],l[o++],l[o++],l[o++]);i||e.quadraticCurveTo(l[d-2],l[d-1],n[r-2],n[r-1])}else if(s)for(o=2;o<r;)e.bezierCurveTo(n[o++],n[o++],n[o++],n[o++],n[o++],n[o++]);else for(o=2;o<r;o+=2)e.lineTo(n[o],n[o+1]);i?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():f9(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),a=fM(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),i=fM(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),s=f9(e,r);return[a[2],a[3]].concat(s).concat([i[0],i[1],e[n-2],e[n-1],i[2],i[3],a[0],a[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],a=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],n=Math.min(n,s),r=Math.max(r,s),a=Math.min(a,o),i=Math.max(i,o);return{x:n,y:a,width:r-n,height:i-a}}};lc.prototype.className="Line";lc.prototype._attrsAffectingSize=["points","bezier","tension"];Er(lc);ye.addGetterSetter(lc,"closed",!1);ye.addGetterSetter(lc,"bezier",!1);ye.addGetterSetter(lc,"tension",0,ct());ye.addGetterSetter(lc,"points",[],kTe());const hCe=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],mCe=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],gCe=[[1],[1,1],[1,2,1],[1,3,3,1]],p9=(t,e,n)=>{let r,a;const s=n/2;r=0;for(let o=0;o<20;o++)a=s*hCe[20][o]+s,r+=mCe[20][o]*bCe(t,e,a);return s*r},h9=(t,e,n)=>{n===void 0&&(n=1);const r=t[0]-2*t[1]+t[2],a=e[0]-2*e[1]+e[2],i=2*t[1]-2*t[0],s=2*e[1]-2*e[0],o=4*(r*r+a*a),l=4*(r*i+a*s),d=i*i+s*s;if(o===0)return n*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const f=l/(2*o),h=d/o,m=n+f,b=h-f*f,g=m*m+b>0?Math.sqrt(m*m+b):0,w=f*f+b>0?Math.sqrt(f*f+b):0,S=f+Math.sqrt(f*f+b)!==0?b*Math.log(Math.abs((m+g)/(f+w))):0;return Math.sqrt(o)/2*(m*g-f*w+S)};function bCe(t,e,n){const r=pM(1,n,t),a=pM(1,n,e),i=r*r+a*a;return Math.sqrt(i)}const pM=(t,e,n)=>{const r=n.length-1;let a,i;if(r===0)return 0;if(t===0){i=0;for(let s=0;s<=r;s++)i+=gCe[r][s]*Math.pow(1-e,r-s)*Math.pow(e,s)*n[s];return i}else{a=new Array(r);for(let s=0;s<r;s++)a[s]=r*(n[s+1]-n[s]);return pM(t-1,e,a)}},m9=(t,e,n)=>{let r=1,a=t/e,i=(t-n(a))/e,s=0;for(;r>.001;){const o=n(a+i),l=Math.abs(t-o)/e;if(l<r)r=l,a+=i;else{const d=n(a-i),f=Math.abs(t-d)/e;f<r?(r=f,a-=i):i/=2}if(s++,s>500)break}return a};class or extends tt{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=or.parsePathData(this.data()),this.pathLength=or.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let a=0;a<n.length;a++){const i=n[a].command,s=n[a].points;switch(i){case"L":e.lineTo(s[0],s[1]);break;case"M":e.moveTo(s[0],s[1]);break;case"C":e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":e.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":const o=s[0],l=s[1],d=s[2],f=s[3],h=s[4],m=s[5],b=s[6],g=s[7],w=d>f?d:f,S=d>f?1:d/f,T=d>f?f/d:1;e.translate(o,l),e.rotate(b),e.scale(S,T),e.arc(0,0,w,h,h+m,1-g),e.scale(1/S,1/T),e.rotate(-b),e.translate(-o,-l);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const d=l.points[4],f=l.points[5],h=l.points[4]+f;let m=Math.PI/180;if(Math.abs(d-h)<m&&(m=Math.abs(d-h)),f<0)for(let b=d-m;b>h;b-=m){const g=or.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],b,0);e.push(g.x,g.y)}else for(let b=d+m;b<h;b+=m){const g=or.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],b,0);e.push(g.x,g.y)}}else if(l.command==="C")for(let d=0;d<=1;d+=.01){const f=or.getPointOnCubicBezier(d,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(f.x,f.y)}else e=e.concat(l.points)});let n=e[0],r=e[0],a=e[1],i=e[1],s,o;for(let l=0;l<e.length/2;l++)s=e[l*2],o=e[l*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(o)||(a=Math.min(a,o),i=Math.max(i,o));return{x:n,y:a,width:r-n,height:i-a}}getLength(){return this.pathLength}getPointAtLength(e){return or.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,a){return Math.sqrt((r-e)*(r-e)+(a-n)*(a-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,a=0,i=n.length;if(!i)return null;for(;a<i&&e>n[a].pathLength;)e-=n[a].pathLength,++a;if(a===i)return r=n[a-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[a].command==="M"?(r=n[a].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[a].start.x,y:n[a].start.y};const s=n[a],o=s.points;switch(s.command){case"L":return or.getPointOnLine(e,s.start.x,s.start.y,o[0],o[1]);case"C":return or.getPointOnCubicBezier(m9(e,or.getPathLength(n),w=>p9([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],w)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return or.getPointOnQuadraticBezier(m9(e,or.getPathLength(n),w=>h9([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],w)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":const l=o[0],d=o[1],f=o[2],h=o[3],m=o[5],b=o[6];let g=o[4];return g+=m*e/s.pathLength,or.getPointOnEllipticalArc(l,d,f,h,g,b)}return null}static getPointOnLine(e,n,r,a,i,s,o){s=s??n,o=o??r;const l=this.getLineLength(n,r,a,i);if(l<1e-10)return{x:n,y:r};if(a===n)return{x:s,y:o+(i>r?e:-e)};const d=(i-r)/(a-n),f=Math.sqrt(e*e/(1+d*d))*(a<n?-1:1),h=d*f;if(Math.abs(o-r-d*(s-n))<1e-10)return{x:s+f,y:o+h};const m=((s-n)*(a-n)+(o-r)*(i-r))/(l*l),b=n+m*(a-n),g=r+m*(i-r),w=this.getLineLength(s,o,b,g),S=Math.sqrt(e*e-w*w),T=Math.sqrt(S*S/(1+d*d))*(a<n?-1:1),x=d*T;return{x:b+T,y:g+x}}static getPointOnCubicBezier(e,n,r,a,i,s,o,l,d){function f(S){return S*S*S}function h(S){return 3*S*S*(1-S)}function m(S){return 3*S*(1-S)*(1-S)}function b(S){return(1-S)*(1-S)*(1-S)}const g=l*f(e)+s*h(e)+a*m(e)+n*b(e),w=d*f(e)+o*h(e)+i*m(e)+r*b(e);return{x:g,y:w}}static getPointOnQuadraticBezier(e,n,r,a,i,s,o){function l(b){return b*b}function d(b){return 2*b*(1-b)}function f(b){return(1-b)*(1-b)}const h=s*l(e)+a*d(e)+n*f(e),m=o*l(e)+i*d(e)+r*f(e);return{x:h,y:m}}static getPointOnEllipticalArc(e,n,r,a,i,s){const o=Math.cos(s),l=Math.sin(s),d={x:r*Math.cos(i),y:a*Math.sin(i)};return{x:e+(d.x*o-d.y*l),y:n+(d.x*l+d.y*o)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let h=0;h<r.length;h++)n=n.replace(new RegExp(r[h],"g"),"|"+r[h]);const a=n.split("|"),i=[],s=[];let o=0,l=0;const d=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let f;for(let h=1;h<a.length;h++){let m=a[h],b=m.charAt(0);for(m=m.slice(1),s.length=0;f=d.exec(m);)s.push(f[0]);let g=[],w=b==="A"||b==="a"?0:-1;for(let S=0,T=s.length;S<T;S++){const x=s[S];if(x==="00"){g.push(0,0),w>=0&&(w+=2,w>=7&&(w-=7));continue}if(w>=0){if(w===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(x)){g.push(parseInt(x[0],10)),g.push(parseInt(x[1],10)),g.push(parseFloat(x.slice(2))),w+=3,w>=7&&(w-=7);continue}if(x==="11"||x==="10"||x==="01"){g.push(parseInt(x[0],10)),g.push(parseInt(x[1],10)),w+=2,w>=7&&(w-=7);continue}if(x==="0"||x==="1"){g.push(parseInt(x,10)),w+=1,w>=7&&(w-=7);continue}}else if(w===4){if(/^[01]\d+(?:\.\d+)?$/.test(x)){g.push(parseInt(x[0],10)),g.push(parseFloat(x.slice(1))),w+=2,w>=7&&(w-=7);continue}if(x==="0"||x==="1"){g.push(parseInt(x,10)),w+=1,w>=7&&(w-=7);continue}}const _=parseFloat(x);isNaN(_)?g.push(0):g.push(_),w+=1,w>=7&&(w-=7)}else{const _=parseFloat(x);isNaN(_)?g.push(0):g.push(_)}}for(;g.length>0&&!isNaN(g[0]);){let S="",T=[];const x=o,_=l;let C,R,A,I,O,M,U,L,z,j;switch(b){case"l":o+=g.shift(),l+=g.shift(),S="L",T.push(o,l);break;case"L":o=g.shift(),l=g.shift(),T.push(o,l);break;case"m":const H=g.shift(),$=g.shift();if(o+=H,l+=$,S="M",i.length>2&&i[i.length-1].command==="z"){for(let q=i.length-2;q>=0;q--)if(i[q].command==="M"){o=i[q].points[0]+H,l=i[q].points[1]+$;break}}T.push(o,l),b="l";break;case"M":o=g.shift(),l=g.shift(),S="M",T.push(o,l),b="L";break;case"h":o+=g.shift(),S="L",T.push(o,l);break;case"H":o=g.shift(),S="L",T.push(o,l);break;case"v":l+=g.shift(),S="L",T.push(o,l);break;case"V":l=g.shift(),S="L",T.push(o,l);break;case"C":T.push(g.shift(),g.shift(),g.shift(),g.shift()),o=g.shift(),l=g.shift(),T.push(o,l);break;case"c":T.push(o+g.shift(),l+g.shift(),o+g.shift(),l+g.shift()),o+=g.shift(),l+=g.shift(),S="C",T.push(o,l);break;case"S":R=o,A=l,C=i[i.length-1],C.command==="C"&&(R=o+(o-C.points[2]),A=l+(l-C.points[3])),T.push(R,A,g.shift(),g.shift()),o=g.shift(),l=g.shift(),S="C",T.push(o,l);break;case"s":R=o,A=l,C=i[i.length-1],C.command==="C"&&(R=o+(o-C.points[2]),A=l+(l-C.points[3])),T.push(R,A,o+g.shift(),l+g.shift()),o+=g.shift(),l+=g.shift(),S="C",T.push(o,l);break;case"Q":T.push(g.shift(),g.shift()),o=g.shift(),l=g.shift(),T.push(o,l);break;case"q":T.push(o+g.shift(),l+g.shift()),o+=g.shift(),l+=g.shift(),S="Q",T.push(o,l);break;case"T":R=o,A=l,C=i[i.length-1],C.command==="Q"&&(R=o+(o-C.points[0]),A=l+(l-C.points[1])),o=g.shift(),l=g.shift(),S="Q",T.push(R,A,o,l);break;case"t":R=o,A=l,C=i[i.length-1],C.command==="Q"&&(R=o+(o-C.points[0]),A=l+(l-C.points[1])),o+=g.shift(),l+=g.shift(),S="Q",T.push(R,A,o,l);break;case"A":I=g.shift(),O=g.shift(),M=g.shift(),U=g.shift(),L=g.shift(),z=o,j=l,o=g.shift(),l=g.shift(),S="A",T=this.convertEndpointToCenterParameterization(z,j,o,l,U,L,I,O,M);break;case"a":I=g.shift(),O=g.shift(),M=g.shift(),U=g.shift(),L=g.shift(),z=o,j=l,o+=g.shift(),l+=g.shift(),S="A",T=this.convertEndpointToCenterParameterization(z,j,o,l,U,L,I,O,M);break}i.push({command:S||b,points:T,start:{x,y:_},pathLength:this.calcLength(x,_,S||b,T)})}(b==="z"||b==="Z")&&i.push({command:"z",points:[],start:void 0,pathLength:0})}return i}static calcLength(e,n,r,a){let i,s,o,l;const d=or;switch(r){case"L":return d.getLineLength(e,n,a[0],a[1]);case"C":return p9([e,a[0],a[2],a[4]],[n,a[1],a[3],a[5]],1);case"Q":return h9([e,a[0],a[2]],[n,a[1],a[3]],1);case"A":i=0;const f=a[4],h=a[5],m=a[4]+h;let b=Math.PI/180;if(Math.abs(f-m)<b&&(b=Math.abs(f-m)),s=d.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],f,0),h<0)for(l=f-b;l>m;l-=b)o=d.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=d.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=f+b;l<m;l+=b)o=d.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],l,0),i+=d.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=d.getPointOnEllipticalArc(a[0],a[1],a[2],a[3],m,0),i+=d.getLineLength(s.x,s.y,o.x,o.y),i}return 0}static convertEndpointToCenterParameterization(e,n,r,a,i,s,o,l,d){const f=d*(Math.PI/180),h=Math.cos(f)*(e-r)/2+Math.sin(f)*(n-a)/2,m=-1*Math.sin(f)*(e-r)/2+Math.cos(f)*(n-a)/2,b=h*h/(o*o)+m*m/(l*l);b>1&&(o*=Math.sqrt(b),l*=Math.sqrt(b));let g=Math.sqrt((o*o*(l*l)-o*o*(m*m)-l*l*(h*h))/(o*o*(m*m)+l*l*(h*h)));i===s&&(g*=-1),isNaN(g)&&(g=0);const w=g*o*m/l,S=g*-l*h/o,T=(e+r)/2+Math.cos(f)*w-Math.sin(f)*S,x=(n+a)/2+Math.sin(f)*w+Math.cos(f)*S,_=function(U){return Math.sqrt(U[0]*U[0]+U[1]*U[1])},C=function(U,L){return(U[0]*L[0]+U[1]*L[1])/(_(U)*_(L))},R=function(U,L){return(U[0]*L[1]<U[1]*L[0]?-1:1)*Math.acos(C(U,L))},A=R([1,0],[(h-w)/o,(m-S)/l]),I=[(h-w)/o,(m-S)/l],O=[(-1*h-w)/o,(-1*m-S)/l];let M=R(I,O);return C(I,O)<=-1&&(M=Math.PI),C(I,O)>=1&&(M=0),s===0&&M>0&&(M=M-2*Math.PI),s===1&&M<0&&(M=M+2*Math.PI),[T,x,o,l,A,M,f,s]}}or.prototype.className="Path";or.prototype._attrsAffectingSize=["data"];Er(or);ye.addGetterSetter(or,"data");let jd=class extends lc{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let a=r;const i=this.tension()!==0&&r.length>4;i&&(a=this.getTensionPoints());const s=this.pointerLength(),o=r.length;let l,d;if(i){const m=[a[a.length-4],a[a.length-3],a[a.length-2],a[a.length-1],r[o-2],r[o-1]],b=or.calcLength(a[a.length-4],a[a.length-3],"C",m),g=or.getPointOnQuadraticBezier(Math.min(1,1-s/b),m[0],m[1],m[2],m[3],m[4],m[5]);l=r[o-2]-g.x,d=r[o-1]-g.y}else l=r[o-2]-r[o-4],d=r[o-1]-r[o-3];const f=(Math.atan2(d,l)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[o-2],r[o-1]),e.rotate(f),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),i?(l=(a[0]+a[2])/2-r[0],d=(a[1]+a[3])/2-r[1]):(l=r[2]-r[0],d=r[3]-r[1]),e.rotate((Math.atan2(-d,-l)+n)%n),e.moveTo(0,0),e.lineTo(-s,h/2),e.lineTo(-s,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}};jd.prototype.className="Arrow";Er(jd);ye.addGetterSetter(jd,"pointerLength",10,ct());ye.addGetterSetter(jd,"pointerWidth",10,ct());ye.addGetterSetter(jd,"pointerAtBeginning",!1);ye.addGetterSetter(jd,"pointerAtEnding",!0);let ch=class extends tt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};ch.prototype._centroid=!0;ch.prototype.className="Circle";ch.prototype._attrsAffectingSize=["radius"];Er(ch);ye.addGetterSetter(ch,"radius",0,ct());class cu extends tt{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}cu.prototype.className="Ellipse";cu.prototype._centroid=!0;cu.prototype._attrsAffectingSize=["radiusX","radiusY"];Er(cu);ye.addComponentsGetterSetter(cu,"radius",["x","y"]);ye.addGetterSetter(cu,"radiusX",0,ct());ye.addGetterSetter(cu,"radiusY",0,ct());class ps extends tt{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),a=this.cornerRadius(),i=this.attrs.image;let s;if(i){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[i,this.cropX(),this.cropY(),o,l,0,0,n,r]:s=[i,0,0,n,r]}(this.hasFill()||this.hasStroke()||a)&&(e.beginPath(),a?Ne.drawRoundedRectPath(e,n,r,a):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),i&&(a&&e.clip(),e.drawImage.apply(e,s))}_hitFunc(e){const n=this.width(),r=this.height(),a=this.cornerRadius();e.beginPath(),a?Ne.drawRoundedRectPath(e,n,r,a):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width)!==null&&r!==void 0?r:0}getHeight(){var e,n,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height)!==null&&r!==void 0?r:0}static fromURL(e,n,r=null){const a=Ne.createImageElement();a.onload=function(){const i=new ps({image:a});n(i)},a.onerror=r,a.crossOrigin="Anonymous",a.src=e}}ps.prototype.className="Image";ps.prototype._attrsAffectingSize=["image"];Er(ps);ye.addGetterSetter(ps,"cornerRadius",0,eE(4));ye.addGetterSetter(ps,"image");ye.addComponentsGetterSetter(ps,"crop",["x","y","width","height"]);ye.addGetterSetter(ps,"cropX",0,ct());ye.addGetterSetter(ps,"cropY",0,ct());ye.addGetterSetter(ps,"cropWidth",0,ct());ye.addGetterSetter(ps,"cropHeight",0,ct());const cQ=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],yCe="Change.konva",vCe="none",hM="up",mM="right",gM="down",bM="left",SCe=cQ.length;class $L extends Fp{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const a=function(){n._sync()};for(r=0;r<SCe;r++)e.on(cQ[r]+yCe,a)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,a,i,s,o,l,d;if(e&&n){switch(r=e.width(),a=e.height(),i=n.pointerDirection(),s=n.pointerWidth(),d=n.pointerHeight(),o=0,l=0,i){case hM:o=r/2,l=-1*d;break;case mM:o=r+s,l=a/2;break;case gM:o=r/2,l=a+d;break;case bM:o=-1*s,l=a/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:a}),e.setAttrs({x:-1*o,y:-1*l})}}}$L.prototype.className="Label";Er($L);class Ud extends tt{_sceneFunc(e){const n=this.width(),r=this.height(),a=this.pointerDirection(),i=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,d=0,f=0,h=0;typeof o=="number"?l=d=f=h=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),d=Math.min(o[1]||0,n/2,r/2),h=Math.min(o[2]||0,n/2,r/2),f=Math.min(o[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(l,0),a===hM&&(e.lineTo((n-i)/2,0),e.lineTo(n/2,-1*s),e.lineTo((n+i)/2,0)),e.lineTo(n-d,0),e.arc(n-d,d,d,Math.PI*3/2,0,!1),a===mM&&(e.lineTo(n,(r-s)/2),e.lineTo(n+i,r/2),e.lineTo(n,(r+s)/2)),e.lineTo(n,r-h),e.arc(n-h,r-h,h,0,Math.PI/2,!1),a===gM&&(e.lineTo((n+i)/2,r),e.lineTo(n/2,r+s),e.lineTo((n-i)/2,r)),e.lineTo(f,r),e.arc(f,r-f,f,Math.PI/2,Math.PI,!1),a===bM&&(e.lineTo(0,(r+s)/2),e.lineTo(-1*i,r/2),e.lineTo(0,(r-s)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),a=this.pointerHeight(),i=this.pointerDirection(),s=this.width(),o=this.height();return i===hM?(n-=a,o+=a):i===gM?o+=a:i===bM?(e-=r*1.5,s+=r):i===mM&&(s+=r*1.5),{x:e,y:n,width:s,height:o}}}Ud.prototype.className="Tag";Er(Ud);ye.addGetterSetter(Ud,"pointerDirection",vCe);ye.addGetterSetter(Ud,"pointerWidth",0,ct());ye.addGetterSetter(Ud,"pointerHeight",0,ct());ye.addGetterSetter(Ud,"cornerRadius",0,eE(4));class jb extends tt{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),a=this.height();e.beginPath(),n?Ne.drawRoundedRectPath(e,r,a,n):e.rect(0,0,r,a),e.closePath(),e.fillStrokeShape(this)}}jb.prototype.className="Rect";Er(jb);ye.addGetterSetter(jb,"cornerRadius",0,eE(4));class uu extends tt{_sceneFunc(e){const n=this._getPoints(),r=this.radius(),a=this.sides(),i=this.cornerRadius();if(e.beginPath(),i)Ne.drawRoundedPolygonPath(e,n,a,r,i);else{e.moveTo(n[0].x,n[0].y);for(let s=1;s<n.length;s++)e.lineTo(n[s].x,n[s].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let a=0;a<e;a++)r.push({x:n*Math.sin(a*2*Math.PI/e),y:-1*n*Math.cos(a*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].x,a=e[0].y,i=e[0].y;return e.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),a=Math.min(a,s.y),i=Math.max(i,s.y)}),{x:n,y:a,width:r-n,height:i-a}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}uu.prototype.className="RegularPolygon";uu.prototype._centroid=!0;uu.prototype._attrsAffectingSize=["radius"];Er(uu);ye.addGetterSetter(uu,"radius",0,ct());ye.addGetterSetter(uu,"sides",0,ct());ye.addGetterSetter(uu,"cornerRadius",0,eE(4));const g9=Math.PI*2;class zd extends tt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,g9,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),g9,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}zd.prototype.className="Ring";zd.prototype._centroid=!0;zd.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Er(zd);ye.addGetterSetter(zd,"innerRadius",0,ct());ye.addGetterSetter(zd,"outerRadius",0,ct());class fl extends tt{constructor(e){super(e),this._updated=!0,this.anim=new Is(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),a=r*4,i=this.animations()[n],s=this.frameOffsets(),o=i[a+0],l=i[a+1],d=i[a+2],f=i[a+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,d,f),e.closePath(),e.fillStrokeShape(this)),h)if(s){const m=s[n],b=r*2;e.drawImage(h,o,l,d,f,m[b+0],m[b+1],d,f)}else e.drawImage(h,o,l,d,f,0,0,d,f)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),a=r*4,i=this.animations()[n],s=this.frameOffsets(),o=i[a+2],l=i[a+3];if(e.beginPath(),s){const d=s[n],f=r*2;e.rect(d[f+0],d[f+1],o,l)}else e.rect(0,0,o,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),a=r[n],i=a.length/4;e<i-1?this.frameIndex(e+1):this.frameIndex(0)}}fl.prototype.className="Sprite";Er(fl);ye.addGetterSetter(fl,"animation");ye.addGetterSetter(fl,"animations");ye.addGetterSetter(fl,"frameOffsets");ye.addGetterSetter(fl,"image");ye.addGetterSetter(fl,"frameIndex",0,ct());ye.addGetterSetter(fl,"frameRate",17,ct());ye.backCompat(fl,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class du extends tt{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),a=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let i=1;i<a*2;i++){const s=i%2===0?r:n,o=s*Math.sin(i*Math.PI/a),l=-1*s*Math.cos(i*Math.PI/a);e.lineTo(o,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}du.prototype.className="Star";du.prototype._centroid=!0;du.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Er(du);ye.addGetterSetter(du,"numPoints",5,ct());ye.addGetterSetter(du,"innerRadius",0,ct());ye.addGetterSetter(du,"outerRadius",0,ct());function Gc(t){return[...t].reduce((e,n,r,a)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const i=a[r+1];i&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(i)?(e.push(n+i),a[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(a[r+1]||""))?e.push(n+a[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const up="auto",ECe="center",uQ="inherit",fg="justify",_Ce="Change.konva",xCe="2d",b9="-",dQ="left",wCe="text",TCe="Text",CCe="top",RCe="bottom",y9="middle",fQ="normal",ACe="px ",O0=" ",ICe="right",v9="rtl",kCe="word",DCe="char",S9="none",vA="",pQ=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],OCe=pQ.length;function NCe(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let N0;function SA(){return N0||(N0=Ne.createCanvasElement().getContext(xCe),N0)}function MCe(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function PCe(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function LCe(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let cr=class extends tt{constructor(e){super(LCe(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<OCe;n++)this.on(pQ[n]+_Ce,this._setTextData);this._setTextData()}_sceneFunc(e){var n,r;const a=this.textArr,i=a.length;if(!this.text())return;let s=this.padding(),o=this.fontSize(),l=this.lineHeight()*o,d=this.verticalAlign(),f=this.direction(),h=0,m=this.align(),b=this.getWidth(),g=this.letterSpacing(),w=this.charRenderFunc(),S=this.fill(),T=this.textDecoration(),x=T.indexOf("underline")!==-1,_=T.indexOf("line-through")!==-1,C;f=f===uQ?e.direction:f;let R=l/2,A=y9;if(!ut.legacyTextRendering){const I=this.measureSize("M");A="alphabetic";const O=(n=I.fontBoundingBoxAscent)!==null&&n!==void 0?n:I.actualBoundingBoxAscent,M=(r=I.fontBoundingBoxDescent)!==null&&r!==void 0?r:I.actualBoundingBoxDescent;R=(O-M)/2+l/2}for(f===v9&&e.setAttr("direction",f),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",A),e.setAttr("textAlign",dQ),d===y9?h=(this.getHeight()-i*l-s*2)/2:d===RCe&&(h=this.getHeight()-i*l-s*2),e.translate(s,h+s),C=0;C<i;C++){let I=0,O=0;const M=a[C],U=M.text,L=M.width,z=M.lastInParagraph;if(e.save(),m===ICe?I+=b-L-s*2:m===ECe&&(I+=(b-L-s*2)/2),x){e.save(),e.beginPath();const H=ut.legacyTextRendering?Math.round(o/2):Math.round(o/4),$=I,q=R+O+H;e.moveTo($,q);const K=m===fg&&!z?b-s*2:L;e.lineTo($+Math.round(K),q),e.lineWidth=o/15;const V=this._getLinearGradient();e.strokeStyle=V||S,e.stroke(),e.restore()}const j=I;if(f!==v9&&(g!==0||m===fg||w)){const H=U.split(" ").length-1,$=Gc(U);for(let q=0;q<$.length;q++){const K=$[q];if(K===" "&&!z&&m===fg&&(I+=(b-s*2-L)/H),this._partialTextX=I,this._partialTextY=R+O,this._partialText=K,w){e.save();const re=a.slice(0,C).reduce((Y,ne)=>Y+Gc(ne.text).length,0),ee=q+re;w({char:K,index:ee,x:I,y:R+O,lineIndex:C,column:q,isLastInLine:z,width:this.measureSize(K).width,context:e})}e.fillStrokeShape(this),w&&e.restore(),I+=this.measureSize(K).width+g}}else g!==0&&e.setAttr("letterSpacing",`${g}px`),this._partialTextX=I,this._partialTextY=R+O,this._partialText=U,e.fillStrokeShape(this);if(_){e.save(),e.beginPath();const H=ut.legacyTextRendering?0:-Math.round(o/4),$=j;e.moveTo($,R+O+H);const q=m===fg&&!z?b-s*2:L;e.lineTo($+Math.round(q),R+O+H),e.lineWidth=o/15;const K=this._getLinearGradient();e.strokeStyle=K||S,e.stroke(),e.restore()}e.restore(),i>1&&(R+=l)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=Ne._isString(e)?e:e==null?"":e+"";return this._setAttr(wCe,n),this}getWidth(){return this.attrs.width===up||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===up||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,a,i,s,o,l,d,f,h,m;let b=SA(),g=this.fontSize(),w;b.save(),b.font=this._getContextFont(),w=b.measureText(e),b.restore();const S=g/100;return{actualBoundingBoxAscent:(n=w.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*S,actualBoundingBoxDescent:(r=w.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(a=w.actualBoundingBoxLeft)!==null&&a!==void 0?a:-7.421875*S,actualBoundingBoxRight:(i=w.actualBoundingBoxRight)!==null&&i!==void 0?i:75.732421875*S,alphabeticBaseline:(s=w.alphabeticBaseline)!==null&&s!==void 0?s:0,emHeightAscent:(o=w.emHeightAscent)!==null&&o!==void 0?o:100*S,emHeightDescent:(l=w.emHeightDescent)!==null&&l!==void 0?l:-20*S,fontBoundingBoxAscent:(d=w.fontBoundingBoxAscent)!==null&&d!==void 0?d:91*S,fontBoundingBoxDescent:(f=w.fontBoundingBoxDescent)!==null&&f!==void 0?f:21*S,hangingBaseline:(h=w.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*S,ideographicBaseline:(m=w.ideographicBaseline)!==null&&m!==void 0?m:-21*S,width:w.width,height:g}}_getContextFont(){return this.fontStyle()+O0+this.fontVariant()+O0+(this.fontSize()+ACe)+NCe(this.fontFamily())}_addTextLine(e){this.align()===fg&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return SA().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,a=this.lineHeight()*n,i=this.attrs.width,s=this.attrs.height,o=i!==up&&i!==void 0,l=s!==up&&s!==void 0,d=this.padding(),f=i-d*2,h=s-d*2,m=0,b=this.wrap(),g=b!==S9,w=b!==DCe&&g,S=this.ellipsis();this.textArr=[],SA().font=this._getContextFont();const T=S?this._getTextWidth(vA):0;for(let x=0,_=e.length;x<_;++x){let C=e[x],R=this._getTextWidth(C);if(o&&R>f)for(;C.length>0;){let A=0,I=Gc(C).length,O="",M=0;for(;A<I;){const U=A+I>>>1,L=Gc(C),z=L.slice(0,U+1).join(""),j=this._getTextWidth(z);(S&&l&&m+a>h?j+T:j)<=f?(A=U+1,O=z,M=j):I=U}if(O){if(w){const z=Gc(C),j=Gc(O),H=z[j.length],$=H===O0||H===b9;let q;if($&&M<=f)q=j.length;else{const K=j.lastIndexOf(O0),V=j.lastIndexOf(b9);q=Math.max(K,V)+1}q>0&&(A=q,O=z.slice(0,A).join(""),M=this._getTextWidth(O))}if(O=O.trimRight(),this._addTextLine(O),r=Math.max(r,M),m+=a,this._shouldHandleEllipsis(m)){this._tryToAddEllipsisToLastLine();break}if(C=Gc(C).slice(A).join("").trimLeft(),C.length>0&&(R=this._getTextWidth(C),R<=f)){this._addTextLine(C),m+=a,r=Math.max(r,R);break}}else break}else this._addTextLine(C),m+=a,r=Math.max(r,R),this._shouldHandleEllipsis(m)&&x<_-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&m+a>h)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,a=this.attrs.height,i=a!==up&&a!==void 0,s=this.padding(),o=a-s*2;return!(this.wrap()!==S9)||i&&e+r>o}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==up&&e!==void 0,r=this.padding(),a=e-r*2,i=this.ellipsis(),s=this.textArr[this.textArr.length-1];!s||!i||(n&&(this._getTextWidth(s.text+vA)<a||(s.text=s.text.slice(0,s.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+vA))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};cr.prototype._fillFunc=MCe;cr.prototype._strokeFunc=PCe;cr.prototype.className=TCe;cr.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Er(cr);ye.overWriteSetter(cr,"width",UL());ye.overWriteSetter(cr,"height",UL());ye.addGetterSetter(cr,"direction",uQ);ye.addGetterSetter(cr,"fontFamily","Arial");ye.addGetterSetter(cr,"fontSize",12,ct());ye.addGetterSetter(cr,"fontStyle",fQ);ye.addGetterSetter(cr,"fontVariant",fQ);ye.addGetterSetter(cr,"padding",0,ct());ye.addGetterSetter(cr,"align",dQ);ye.addGetterSetter(cr,"verticalAlign",CCe);ye.addGetterSetter(cr,"lineHeight",1,ct());ye.addGetterSetter(cr,"wrap",kCe);ye.addGetterSetter(cr,"ellipsis",!1,_o());ye.addGetterSetter(cr,"letterSpacing",0,ct());ye.addGetterSetter(cr,"text","",Fd());ye.addGetterSetter(cr,"textDecoration","");ye.addGetterSetter(cr,"charRenderFunc",void 0);const FCe="",hQ="normal";function mQ(t){t.fillText(this.partialText,0,0)}function gQ(t){t.strokeText(this.partialText,0,0)}class la extends tt{constructor(e){super(e),this.dummyCanvas=Ne.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return or.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e>n?null:or.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=or.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),a=this.fontSize(),i=this.glyphInfo,s=n.indexOf("underline")!==-1,o=n.indexOf("line-through")!==-1;s&&e.beginPath();for(let l=0;l<i.length;l++){e.save();const d=i[l].p0;e.translate(d.x,d.y),e.rotate(i[l].rotation),this.partialText=i[l].text,e.fillStrokeShape(this),s&&(l===0&&e.moveTo(0,a/2+1),e.lineTo(i[l].width,a/2+1)),e.restore()}if(s&&(e.strokeStyle=r,e.lineWidth=a/20,e.stroke()),o){e.beginPath();for(let l=0;l<i.length;l++){e.save();const d=i[l].p0;e.translate(d.x,d.y),e.rotate(i[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(i[l].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=a/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const a=n[r].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Ne.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return cr.prototype.setText.call(this,e)}_getContextFont(){return cr.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const a=r.measureText(e);return r.restore(),{width:a.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Gc(this.text()),n=[];let r=0;for(let h=0;h<e.length;h++)n.push({char:e[h],width:this._getTextSize(e[h]).width}),r+=n[h].width;const{height:a}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=a,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),s=this.align(),o=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let d=0;s==="center"&&(d=Math.max(0,this.pathLength/2-l/2)),s==="right"&&(d=Math.max(0,this.pathLength-l));let f=d;for(let h=0;h<n.length;h++){const m=this._getPointAtLength(f);if(!m)return;const b=n[h].char;let g=n[h].width+i;if(b===" "&&s==="justify"){const C=this.text().split(" ").length-1;g+=(this.pathLength-l)/C}const w=this._getPointAtLength(f+g);if(!w)return;const S=or.getLineLength(m.x,m.y,w.x,w.y);let T=0;if(o)try{T=o(n[h-1].char,b)*this.fontSize()}catch{T=0}m.x+=T,w.x+=T,this.textWidth+=T;const x=or.getPointOnLine(T+S/2,m.x,m.y,w.x,w.y),_=Math.atan2(w.y-m.y,w.x-m.x);this.glyphInfo.push({transposeX:x.x,transposeY:x.y,text:e[h],rotation:_,p0:m,p1:w,width:S}),f+=g}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(d){e.push(d.p0.x),e.push(d.p0.y),e.push(d.p1.x),e.push(d.p1.y)});let n=e[0]||0,r=e[0]||0,a=e[1]||0,i=e[1]||0,s,o;for(let d=0;d<e.length/2;d++)s=e[d*2],o=e[d*2+1],n=Math.min(n,s),r=Math.max(r,s),a=Math.min(a,o),i=Math.max(i,o);const l=this.fontSize();return{x:n-l/2,y:a-l/2,width:r-n+l,height:i-a+l}}destroy(){return Ne.releaseCanvas(this.dummyCanvas),super.destroy()}}la.prototype._fillFunc=mQ;la.prototype._strokeFunc=gQ;la.prototype._fillFuncHit=mQ;la.prototype._strokeFuncHit=gQ;la.prototype.className="TextPath";la.prototype._attrsAffectingSize=["text","fontSize","data"];Er(la);ye.addGetterSetter(la,"data");ye.addGetterSetter(la,"fontFamily","Arial");ye.addGetterSetter(la,"fontSize",12,ct());ye.addGetterSetter(la,"fontStyle",hQ);ye.addGetterSetter(la,"align","left");ye.addGetterSetter(la,"letterSpacing",0,ct());ye.addGetterSetter(la,"textBaseline","middle");ye.addGetterSetter(la,"fontVariant",hQ);ye.addGetterSetter(la,"text",FCe);ye.addGetterSetter(la,"textDecoration","");ye.addGetterSetter(la,"kerningFunc",void 0);const bQ="tr-konva",BCe=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${bQ}`).join(" "),E9="nodesRect",jCe=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],UCe={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},zCe="ontouchstart"in ut._global;function qCe(t,e,n){if(t==="rotater")return n;e+=Ne.degToRad(UCe[t]||0);const r=(Ne.radToDeg(e)%360+360)%360;return Ne._inRange(r,315+22.5,360)||Ne._inRange(r,0,22.5)?"ns-resize":Ne._inRange(r,45-22.5,45+22.5)?"nesw-resize":Ne._inRange(r,90-22.5,90+22.5)?"ew-resize":Ne._inRange(r,135-22.5,135+22.5)?"nwse-resize":Ne._inRange(r,180-22.5,180+22.5)?"ns-resize":Ne._inRange(r,225-22.5,225+22.5)?"nesw-resize":Ne._inRange(r,270-22.5,270+22.5)?"ew-resize":Ne._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Ne.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const XS=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function $Ce(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function yQ(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),a=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:a}}function GCe(t,e){const n=$Ce(t);return yQ(t,e,n)}function HCe(t,e,n){let r=e;for(let a=0;a<t.length;a++){const i=ut.getAngle(t[a]),s=Math.abs(i-e)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=i)}return r}let yM=0;class Cn extends Fp{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(BCe,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Ne.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return bQ+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(a=>a.isAncestorOf(this)?(Ne.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(a=>{const i=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(a._attrsAffectingSize.length){const s=a._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");a.on(s,i)}a.on(jCe.map(s=>s+`.${this._getEventNamespace()}`).join(" "),i),a.on(`absoluteTransformChange.${this._getEventNamespace()}`,i),this._proxyDrag(a)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const a=e.getAbsolutePosition(),i=a.x-n.x,s=a.y-n.y;this.nodes().forEach(o=>{if(o===e||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+i,y:l.y+s}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(E9),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(E9,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const a=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=e.getAbsoluteScale(r),s=e.getAbsolutePosition(r),o=a.x*i.x-e.offsetX()*i.x,l=a.y*i.y-e.offsetY()*i.y,d=(ut.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),f={x:s.x+o*Math.cos(d)+l*Math.sin(-d),y:s.y+l*Math.cos(d)+o*Math.sin(d),width:a.width*i.x,height:a.height*i.y,rotation:d};return yQ(f,-ut.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(d=>{const f=d.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:f.x,y:f.y},{x:f.x+f.width,y:f.y},{x:f.x+f.width,y:f.y+f.height},{x:f.x,y:f.y+f.height}],m=d.getAbsoluteTransform();h.forEach(function(b){const g=m.point(b);n.push(g)})});const r=new is;r.rotate(-ut.getAngle(this.rotation()));let a=1/0,i=1/0,s=-1/0,o=-1/0;n.forEach(function(d){const f=r.point(d);a===void 0&&(a=s=f.x,i=o=f.y),a=Math.min(a,f.x),i=Math.min(i,f.y),s=Math.max(s,f.x),o=Math.max(o,f.y)}),r.invert();const l=r.point({x:a,y:i});return{x:l.x,y:l.y,width:s-a,height:o-i,rotation:ut.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),XS.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new jb({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:zCe?10:"auto"}),r=this;n.on("mousedown touchstart",function(a){r._handleMouseDown(a)}),n.on("dragstart",a=>{n.stopDrag(),a.cancelBubble=!0}),n.on("dragend",a=>{a.cancelBubble=!0}),n.on("mouseenter",()=>{const a=ut.getAngle(this.rotation()),i=this.rotateAnchorCursor(),s=qCe(e,a,i);n.getStage().content&&(n.getStage().content.style.cursor=s),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new tt({name:"back",width:0,height:0,sceneFunc(n,r){const a=r.getParent(),i=a.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.moveTo(r.width()/2,-i),a.rotateEnabled()&&a.rotateLineVisible()&&n.lineTo(r.width()/2,-a.rotateAnchorOffset()*Ne._sign(r.height())-i),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const a=this.padding();n.beginPath(),n.rect(-a,-a,r.width()+a*2,r.height()+a*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,a=n.height,i=Math.sqrt(Math.pow(r,2)+Math.pow(a,2));this.sin=Math.abs(a/i),this.cos=Math.abs(r/i),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const s=e.target.getAbsolutePosition(),o=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},yM++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let n,r,a;const i=this.findOne("."+this._movingAnchorName),s=i.getStage();s.setPointersPositions(e);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const d=i.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(d,l,e)),i.setAbsolutePosition(l);const f=i.getAbsolutePosition();if(d.x===f.x&&d.y===f.y)return;if(this._movingAnchorName==="rotater"){const x=this._getNodeRect();n=i.x()-x.width/2,r=-i.y()+x.height/2;let _=Math.atan2(-r,n)+Math.PI/2;x.height<0&&(_-=Math.PI);const R=ut.getAngle(this.rotation())+_,A=ut.getAngle(this.rotationSnapTolerance()),O=HCe(this.rotationSnaps(),R,A)-x.rotation,M=GCe(x,O);this._fitNodesInto(M,e);return}const h=this.shiftBehavior();let m;h==="inverted"?m=this.keepRatio()&&!e.shiftKey:h==="none"?m=this.keepRatio():m=this.keepRatio()||e.shiftKey;let b=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(m){const x=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};a=Math.sqrt(Math.pow(x.x-i.x(),2)+Math.pow(x.y-i.y(),2));const _=this.findOne(".top-left").x()>x.x?-1:1,C=this.findOne(".top-left").y()>x.y?-1:1;n=a*this.cos*_,r=a*this.sin*C,this.findOne(".top-left").x(x.x-n),this.findOne(".top-left").y(x.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(i.y());else if(this._movingAnchorName==="top-right"){if(m){const x=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};a=Math.sqrt(Math.pow(i.x()-x.x,2)+Math.pow(x.y-i.y(),2));const _=this.findOne(".top-right").x()<x.x?-1:1,C=this.findOne(".top-right").y()>x.y?-1:1;n=a*this.cos*_,r=a*this.sin*C,this.findOne(".top-right").x(x.x+n),this.findOne(".top-right").y(x.y-r)}var g=i.position();this.findOne(".top-left").y(g.y),this.findOne(".bottom-right").x(g.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(i.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(i.x());else if(this._movingAnchorName==="bottom-left"){if(m){const x=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};a=Math.sqrt(Math.pow(x.x-i.x(),2)+Math.pow(i.y()-x.y,2));const _=x.x<i.x()?-1:1,C=i.y()<x.y?-1:1;n=a*this.cos*_,r=a*this.sin*C,i.x(x.x-n),i.y(x.y+r)}g=i.position(),this.findOne(".top-left").x(g.x),this.findOne(".bottom-right").y(g.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(i.y());else if(this._movingAnchorName==="bottom-right"){if(m){const x=b?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};a=Math.sqrt(Math.pow(i.x()-x.x,2)+Math.pow(i.y()-x.y,2));const _=this.findOne(".bottom-right").x()<x.x?-1:1,C=this.findOne(".bottom-right").y()<x.y?-1:1;n=a*this.cos*_,r=a*this.sin*C,this.findOne(".bottom-right").x(x.x+n),this.findOne(".bottom-right").y(x.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(b=this.centeredScaling()||e.altKey,b){const x=this.findOne(".top-left"),_=this.findOne(".bottom-right"),C=x.x(),R=x.y(),A=this.getWidth()-_.x(),I=this.getHeight()-_.y();_.move({x:-C,y:-R}),x.move({x:A,y:I})}const w=this.findOne(".top-left").getAbsolutePosition();n=w.x,r=w.y;const S=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:S,height:T,rotation:ut.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();yM--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(a=>{var i;a._fire("transformend",{evt:e,target:a}),(i=a.getLayer())===null||i===void 0||i.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),a=1;if(Ne._inRange(e.width,-this.padding()*2-a,a)){this.update();return}if(Ne._inRange(e.height,-this.padding()*2-a,a)){this.update();return}const i=new is;if(i.rotate(ut.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const m=i.point({x:-this.padding()*2,y:0});e.x+=m.x,e.y+=m.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const m=i.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const m=i.point({x:0,y:-this.padding()*2});e.x+=m.x,e.y+=m.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const m=i.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=m.x,this._anchorDragOffset.y-=m.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const m=this.boundBoxFunc()(r,e);m?e=m:Ne.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const s=1e7,o=new is;o.translate(r.x,r.y),o.rotate(r.rotation),o.scale(r.width/s,r.height/s);const l=new is,d=e.width/s,f=e.height/s;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(d),Math.abs(f))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(d,f));const h=l.multiply(o.invert());this._nodes.forEach(m=>{var b;if(!m.getStage())return;const g=m.getParent().getAbsoluteTransform(),w=m.getTransform().copy();w.translate(m.offsetX(),m.offsetY());const S=new is;S.multiply(g.copy().invert()).multiply(h).multiply(g).multiply(w);const T=S.decompose();m.setAttrs(T),(b=m.getLayer())===null||b===void 0||b.batchDraw()}),this.rotation(Ne._getRotation(e.rotation)),this._nodes.forEach(m=>{this._fire("transform",{evt:n,target:m}),m._fire("transform",{evt:n,target:m})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Ne._getRotation(n.rotation));const r=n.width,a=n.height,i=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize(),d=this.find("._anchor");d.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:a/2,offsetX:l/2+o,visible:s&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:a/2,offsetX:l/2-o,visible:s&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:a,offsetX:l/2+o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:a,offsetY:l/2-o,visible:s&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:a,offsetX:l/2-o,offsetY:l/2-o,visible:s&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Ne._sign(a)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:a,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(h=>h.draggable()),x:0,y:0});const f=this.anchorStyleFunc();f&&d.forEach(h=>{f(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Fp.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return lt.prototype.toObject.call(this)}clone(e){return lt.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Cn.isTransforming=()=>yM>0;function VCe(t){return t instanceof Array||Ne.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){XS.indexOf(e)===-1&&Ne.warn("Unknown anchor name: "+e+". Available names are: "+XS.join(", "))}),t||[]}Cn.prototype.className="Transformer";Er(Cn);ye.addGetterSetter(Cn,"enabledAnchors",XS,VCe);ye.addGetterSetter(Cn,"flipEnabled",!0,_o());ye.addGetterSetter(Cn,"resizeEnabled",!0);ye.addGetterSetter(Cn,"anchorSize",10,ct());ye.addGetterSetter(Cn,"rotateEnabled",!0);ye.addGetterSetter(Cn,"rotateLineVisible",!0);ye.addGetterSetter(Cn,"rotationSnaps",[]);ye.addGetterSetter(Cn,"rotateAnchorOffset",50,ct());ye.addGetterSetter(Cn,"rotateAnchorCursor","crosshair");ye.addGetterSetter(Cn,"rotationSnapTolerance",5,ct());ye.addGetterSetter(Cn,"borderEnabled",!0);ye.addGetterSetter(Cn,"anchorStroke","rgb(0, 161, 255)");ye.addGetterSetter(Cn,"anchorStrokeWidth",1,ct());ye.addGetterSetter(Cn,"anchorFill","white");ye.addGetterSetter(Cn,"anchorCornerRadius",0,ct());ye.addGetterSetter(Cn,"borderStroke","rgb(0, 161, 255)");ye.addGetterSetter(Cn,"borderStrokeWidth",1,ct());ye.addGetterSetter(Cn,"borderDash");ye.addGetterSetter(Cn,"keepRatio",!0);ye.addGetterSetter(Cn,"shiftBehavior","default");ye.addGetterSetter(Cn,"centeredScaling",!1);ye.addGetterSetter(Cn,"ignoreStroke",!1);ye.addGetterSetter(Cn,"padding",0,ct());ye.addGetterSetter(Cn,"nodes");ye.addGetterSetter(Cn,"node");ye.addGetterSetter(Cn,"boundBoxFunc");ye.addGetterSetter(Cn,"anchorDragBoundFunc");ye.addGetterSetter(Cn,"anchorStyleFunc");ye.addGetterSetter(Cn,"shouldOverdrawWholeArea",!1);ye.addGetterSetter(Cn,"useSingleNodeRotation",!0);ye.backCompat(Cn,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class cc extends tt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ut.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}cc.prototype.className="Wedge";cc.prototype._centroid=!0;cc.prototype._attrsAffectingSize=["radius"];Er(cc);ye.addGetterSetter(cc,"radius",0,ct());ye.addGetterSetter(cc,"angle",0,ct());ye.addGetterSetter(cc,"clockwise",!1);ye.backCompat(cc,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function _9(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const WCe=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],YCe=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function KCe(t,e){const n=t.data,r=t.width,a=t.height;let i,s,o,l,d,f,h,m,b,g,w,S,T,x,_,C,R,A,I,O;const M=e+e+1,U=r-1,L=a-1,z=e+1,j=z*(z+1)/2,H=new _9,$=WCe[e],q=YCe[e];let K=null,V=H,re=null,ee=null;for(let Y=1;Y<M;Y++)V=V.next=new _9,Y===z&&(K=V);V.next=H,o=s=0;for(let Y=0;Y<a;Y++){S=T=x=_=l=d=f=h=0,m=z*(C=n[s]),b=z*(R=n[s+1]),g=z*(A=n[s+2]),w=z*(I=n[s+3]),l+=j*C,d+=j*R,f+=j*A,h+=j*I,V=H;for(let ne=0;ne<z;ne++)V.r=C,V.g=R,V.b=A,V.a=I,V=V.next;for(let ne=1;ne<z;ne++)i=s+((U<ne?U:ne)<<2),l+=(V.r=C=n[i])*(O=z-ne),d+=(V.g=R=n[i+1])*O,f+=(V.b=A=n[i+2])*O,h+=(V.a=I=n[i+3])*O,S+=C,T+=R,x+=A,_+=I,V=V.next;re=H,ee=K;for(let ne=0;ne<r;ne++)n[s+3]=I=h*$>>q,I!==0?(I=255/I,n[s]=(l*$>>q)*I,n[s+1]=(d*$>>q)*I,n[s+2]=(f*$>>q)*I):n[s]=n[s+1]=n[s+2]=0,l-=m,d-=b,f-=g,h-=w,m-=re.r,b-=re.g,g-=re.b,w-=re.a,i=o+((i=ne+e+1)<U?i:U)<<2,S+=re.r=n[i],T+=re.g=n[i+1],x+=re.b=n[i+2],_+=re.a=n[i+3],l+=S,d+=T,f+=x,h+=_,re=re.next,m+=C=ee.r,b+=R=ee.g,g+=A=ee.b,w+=I=ee.a,S-=C,T-=R,x-=A,_-=I,ee=ee.next,s+=4;o+=r}for(let Y=0;Y<r;Y++){T=x=_=S=d=f=h=l=0,s=Y<<2,m=z*(C=n[s]),b=z*(R=n[s+1]),g=z*(A=n[s+2]),w=z*(I=n[s+3]),l+=j*C,d+=j*R,f+=j*A,h+=j*I,V=H;for(let te=0;te<z;te++)V.r=C,V.g=R,V.b=A,V.a=I,V=V.next;let ne=r;for(let te=1;te<=e;te++)s=ne+Y<<2,l+=(V.r=C=n[s])*(O=z-te),d+=(V.g=R=n[s+1])*O,f+=(V.b=A=n[s+2])*O,h+=(V.a=I=n[s+3])*O,S+=C,T+=R,x+=A,_+=I,V=V.next,te<L&&(ne+=r);s=Y,re=H,ee=K;for(let te=0;te<a;te++)i=s<<2,n[i+3]=I=h*$>>q,I>0?(I=255/I,n[i]=(l*$>>q)*I,n[i+1]=(d*$>>q)*I,n[i+2]=(f*$>>q)*I):n[i]=n[i+1]=n[i+2]=0,l-=m,d-=b,f-=g,h-=w,m-=re.r,b-=re.g,g-=re.b,w-=re.a,i=Y+((i=te+z)<L?i:L)*r<<2,l+=S+=re.r=n[i],d+=T+=re.g=n[i+1],f+=x+=re.b=n[i+2],h+=_+=re.a=n[i+3],re=re.next,m+=C=ee.r,b+=R=ee.g,g+=A=ee.b,w+=I=ee.a,S-=C,T-=R,x-=A,_-=I,ee=ee.next,s+=r}}const XCe=function(e){const n=Math.round(this.blurRadius());n>0&&KCe(e,n)};ye.addGetterSetter(lt,"blurRadius",0,ct(),ye.afterSetFilter);const ZCe=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let a=0;a<r;a+=4)n[a]+=e,n[a+1]+=e,n[a+2]+=e};ye.addGetterSetter(lt,"brightness",0,ct(),ye.afterSetFilter);const QCe=function(t){const e=this.brightness(),n=t.data,r=n.length;for(let a=0;a<r;a+=4)n[a]=Math.min(255,n[a]*e),n[a+1]=Math.min(255,n[a+1]*e),n[a+2]=Math.min(255,n[a+2]*e)},JCe=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let a=150,i=150,s=150;for(let o=0;o<r;o+=4)a=n[o],i=n[o+1],s=n[o+2],a/=255,a-=.5,a*=e,a+=.5,a*=255,i/=255,i-=.5,i*=e,i+=.5,i*=255,s/=255,s-=.5,s*=e,s+=.5,s*=255,a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n[o]=a,n[o+1]=i,n[o+2]=s};ye.addGetterSetter(lt,"contrast",0,ct(),ye.afterSetFilter);const eRe=function(t){var e,n,r,a,i,s,o,l,d;const f=t.data,h=t.width,m=t.height,b=Math.min(1,Math.max(0,(n=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:.5)),g=Math.min(1,Math.max(0,(a=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&a!==void 0?a:.5)),S=(o={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(s=(i=this.embossDirection)===null||i===void 0?void 0:i.call(this))!==null&&s!==void 0?s:"top-left"])!==null&&o!==void 0?o:315,T=!!((d=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&d!==void 0&&d),x=b*10,_=g*255,C=S*Math.PI/180,R=Math.cos(C),A=Math.sin(C),I=128/1020*x,O=new Uint8ClampedArray(f),M=new Float32Array(h*m);for(let H=0,$=0;$<f.length;$+=4,H++)M[H]=.2126*O[$]+.7152*O[$+1]+.0722*O[$+2];const U=[-1,0,1,-2,0,2,-1,0,1],L=[-1,-2,-1,0,0,0,1,2,1],z=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],j=H=>H<0?0:H>255?255:H;for(let H=1;H<m-1;H++)for(let $=1;$<h-1;$++){const q=H*h+$;let K=0,V=0;K+=M[q+z[0]]*U[0],V+=M[q+z[0]]*L[0],K+=M[q+z[1]]*U[1],V+=M[q+z[1]]*L[1],K+=M[q+z[2]]*U[2],V+=M[q+z[2]]*L[2],K+=M[q+z[3]]*U[3],V+=M[q+z[3]]*L[3],K+=M[q+z[5]]*U[5],V+=M[q+z[5]]*L[5],K+=M[q+z[6]]*U[6],V+=M[q+z[6]]*L[6],K+=M[q+z[7]]*U[7],V+=M[q+z[7]]*L[7],K+=M[q+z[8]]*U[8],V+=M[q+z[8]]*L[8];const re=R*K+A*V,ee=j(_+re*I),Y=q*4;if(T){const ne=ee-_;f[Y]=j(O[Y]+ne),f[Y+1]=j(O[Y+1]+ne),f[Y+2]=j(O[Y+2]+ne),f[Y+3]=O[Y+3]}else f[Y]=f[Y+1]=f[Y+2]=ee,f[Y+3]=O[Y+3]}for(let H=0;H<h;H++){let $=H*4,q=((m-1)*h+H)*4;f[$]=O[$],f[$+1]=O[$+1],f[$+2]=O[$+2],f[$+3]=O[$+3],f[q]=O[q],f[q+1]=O[q+1],f[q+2]=O[q+2],f[q+3]=O[q+3]}for(let H=1;H<m-1;H++){let $=H*h*4,q=(H*h+(h-1))*4;f[$]=O[$],f[$+1]=O[$+1],f[$+2]=O[$+2],f[$+3]=O[$+3],f[q]=O[q],f[q+1]=O[q+1],f[q+2]=O[q+2],f[q+3]=O[q+3]}return t};ye.addGetterSetter(lt,"embossStrength",.5,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"embossWhiteLevel",.5,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"embossDirection","top-left",void 0,ye.afterSetFilter);ye.addGetterSetter(lt,"embossBlend",!1,void 0,ye.afterSetFilter);function EA(t,e,n,r,a){const i=n-e,s=a-r;if(i===0)return r+s/2;if(s===0)return r;let o=(t-e)/i;return o=s*o+r,o}const tRe=function(t){const e=t.data,n=e.length;let r=e[0],a=r,i,s=e[1],o=s,l,d=e[2],f=d,h;const m=this.enhance();if(m===0)return;for(let _=0;_<n;_+=4)i=e[_+0],i<r?r=i:i>a&&(a=i),l=e[_+1],l<s?s=l:l>o&&(o=l),h=e[_+2],h<d?d=h:h>f&&(f=h);a===r&&(a=255,r=0),o===s&&(o=255,s=0),f===d&&(f=255,d=0);let b,g,w,S,T,x;if(m>0)b=a+m*(255-a),g=r-m*(r-0),w=o+m*(255-o),S=s-m*(s-0),T=f+m*(255-f),x=d-m*(d-0);else{const _=(a+r)*.5;b=a+m*(a-_),g=r+m*(r-_);const C=(o+s)*.5;w=o+m*(o-C),S=s+m*(s-C);const R=(f+d)*.5;T=f+m*(f-R),x=d+m*(d-R)}for(let _=0;_<n;_+=4)e[_+0]=EA(e[_+0],r,a,g,b),e[_+1]=EA(e[_+1],s,o,S,w),e[_+2]=EA(e[_+2],d,f,x,T)};ye.addGetterSetter(lt,"enhance",0,ct(),ye.afterSetFilter);const nRe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const a=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=a,e[r+1]=a,e[r+2]=a}};ye.addGetterSetter(lt,"hue",0,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"saturation",0,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"luminance",0,ct(),ye.afterSetFilter);const rRe=function(t){const e=t.data,n=e.length,r=1,a=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o=r*a*Math.cos(i*Math.PI/180),l=r*a*Math.sin(i*Math.PI/180),d=.299*r+.701*o+.167*l,f=.587*r-.587*o+.33*l,h=.114*r-.114*o-.497*l,m=.299*r-.299*o-.328*l,b=.587*r+.413*o+.035*l,g=.114*r-.114*o+.293*l,w=.299*r-.3*o+1.25*l,S=.587*r-.586*o-1.05*l,T=.114*r+.886*o-.2*l;let x,_,C,R;for(let A=0;A<n;A+=4)x=e[A+0],_=e[A+1],C=e[A+2],R=e[A+3],e[A+0]=d*x+f*_+h*C+s,e[A+1]=m*x+b*_+g*C+s,e[A+2]=w*x+S*_+T*C+s,e[A+3]=R},aRe=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),a=Math.pow(2,this.saturation()),i=Math.abs(this.hue()+360)%360,s=r*a*Math.cos(i*Math.PI/180),o=r*a*Math.sin(i*Math.PI/180),l=.299*r+.701*s+.167*o,d=.587*r-.587*s+.33*o,f=.114*r-.114*s-.497*o,h=.299*r-.299*s-.328*o,m=.587*r+.413*s+.035*o,b=.114*r-.114*s+.293*o,g=.299*r-.3*s+1.25*o,w=.587*r-.586*s-1.05*o,S=.114*r+.886*s-.2*o;for(let T=0;T<n;T+=4){const x=e[T+0],_=e[T+1],C=e[T+2],R=e[T+3];e[T+0]=l*x+d*_+f*C,e[T+1]=h*x+m*_+b*C,e[T+2]=g*x+w*_+S*C,e[T+3]=R}};ye.addGetterSetter(lt,"hue",0,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"saturation",0,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"value",0,ct(),ye.afterSetFilter);const iRe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},sRe=function(t,e,n){const r=t.data,a=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let d=Math.sqrt(o*o+l*l),f=i-o,h=s-l;const m=Math.sqrt(f*f+h*h);d=m>d?m:d;const b=s,g=i,w=360/g*Math.PI/180;for(let S=0;S<g;S+=1){const T=Math.sin(S*w),x=Math.cos(S*w);for(let _=0;_<b;_+=1){f=Math.floor(o+d*_/b*x),h=Math.floor(l+d*_/b*T);let C=(h*i+f)*4;const R=r[C+0],A=r[C+1],I=r[C+2],O=r[C+3];C=(S+_*i)*4,a[C+0]=R,a[C+1]=A,a[C+2]=I,a[C+3]=O}}},oRe=function(t,e,n){const r=t.data,a=e.data,i=t.width,s=t.height,o=n.polarCenterX||i/2,l=n.polarCenterY||s/2;let d=Math.sqrt(o*o+l*l),f=i-o,h=s-l;const m=Math.sqrt(f*f+h*h);d=m>d?m:d;const b=s,g=i,w=0;let S,T;for(f=0;f<i;f+=1)for(h=0;h<s;h+=1){const x=f-o,_=h-l,C=Math.sqrt(x*x+_*_)*b/d;let R=(Math.atan2(_,x)*180/Math.PI+360+w)%360;R=R*g/360,S=Math.floor(R),T=Math.floor(C);let A=(T*i+S)*4;const I=r[A+0],O=r[A+1],M=r[A+2],U=r[A+3];A=(h*i+f)*4,a[A+0]=I,a[A+1]=O,a[A+2]=M,a[A+3]=U}},lRe=function(t){const e=t.width,n=t.height;let r,a,i,s,o,l,d,f,h,m,b=Math.round(this.kaleidoscopePower());const g=Math.round(this.kaleidoscopeAngle()),w=Math.floor(e*(g%360)/360);if(b<1)return;const S=Ne.createCanvasElement();S.width=e,S.height=n;const T=S.getContext("2d").getImageData(0,0,e,n);Ne.releaseCanvas(S),sRe(t,T,{polarCenterX:e/2,polarCenterY:n/2});let x=e/Math.pow(2,b);for(;x<=8;)x=x*2,b-=1;x=Math.ceil(x);let _=x,C=0,R=_,A=1;for(w+x>e&&(C=_,R=0,A=-1),a=0;a<n;a+=1)for(r=C;r!==R;r+=A)i=Math.round(r+w)%e,h=(e*a+i)*4,o=T.data[h+0],l=T.data[h+1],d=T.data[h+2],f=T.data[h+3],m=(e*a+r)*4,T.data[m+0]=o,T.data[m+1]=l,T.data[m+2]=d,T.data[m+3]=f;for(a=0;a<n;a+=1)for(_=Math.floor(x),s=0;s<b;s+=1){for(r=0;r<_+1;r+=1)h=(e*a+r)*4,o=T.data[h+0],l=T.data[h+1],d=T.data[h+2],f=T.data[h+3],m=(e*a+_*2-r-1)*4,T.data[m+0]=o,T.data[m+1]=l,T.data[m+2]=d,T.data[m+3]=f;_*=2}oRe(T,t,{})};ye.addGetterSetter(lt,"kaleidoscopePower",2,ct(),ye.afterSetFilter);ye.addGetterSetter(lt,"kaleidoscopeAngle",0,ct(),ye.afterSetFilter);function M0(t,e,n){let r=(n*t.width+e)*4;const a=[];return a.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),a}function pg(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function cRe(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function uRe(t,e){const n=M0(t,0,0),r=M0(t,t.width-1,0),a=M0(t,0,t.height-1),i=M0(t,t.width-1,t.height-1),s=e||10;if(pg(n,r)<s&&pg(r,i)<s&&pg(i,a)<s&&pg(a,n)<s){const o=cRe([r,n,i,a]),l=[];for(let d=0;d<t.width*t.height;d++){const f=pg(o,[t.data[d*4],t.data[d*4+1],t.data[d*4+2]]);l[d]=f<s?0:255}return l}}function dRe(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function fRe(t,e,n){const r=[1,1,1,1,0,1,1,1,1],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const d=o*e+l;let f=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const b=o+h-i,g=l+m-i;if(b>=0&&b<n&&g>=0&&g<e){const w=b*e+g,S=r[h*a+m];f+=t[w]*S}}s[d]=f===2040?255:0}return s}function pRe(t,e,n){const r=[1,1,1,1,1,1,1,1,1],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const d=o*e+l;let f=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const b=o+h-i,g=l+m-i;if(b>=0&&b<n&&g>=0&&g<e){const w=b*e+g,S=r[h*a+m];f+=t[w]*S}}s[d]=f>=1020?255:0}return s}function hRe(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],a=Math.round(Math.sqrt(r.length)),i=Math.floor(a/2),s=[];for(let o=0;o<n;o++)for(let l=0;l<e;l++){const d=o*e+l;let f=0;for(let h=0;h<a;h++)for(let m=0;m<a;m++){const b=o+h-i,g=l+m-i;if(b>=0&&b<n&&g>=0&&g<e){const w=b*e+g,S=r[h*a+m];f+=t[w]*S}}s[d]=f}return s}const mRe=function(t){const e=this.threshold();let n=uRe(t,e);return n&&(n=fRe(n,t.width,t.height),n=pRe(n,t.width,t.height),n=hRe(n,t.width,t.height),dRe(t,n)),t};ye.addGetterSetter(lt,"threshold",0,ct(),ye.afterSetFilter);const gRe=function(t){const e=this.noise()*255,n=t.data,r=n.length,a=e/2;for(let i=0;i<r;i+=4)n[i+0]+=a-2*a*Math.random(),n[i+1]+=a-2*a*Math.random(),n[i+2]+=a-2*a*Math.random()};ye.addGetterSetter(lt,"noise",.2,ct(),ye.afterSetFilter);const bRe=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,a=Math.ceil(n/e),i=Math.ceil(r/e),s=t.data;if(e<=0){Ne.error("pixelSize value can not be <= 0");return}for(let o=0;o<a;o+=1)for(let l=0;l<i;l+=1){let d=0,f=0,h=0,m=0;const b=o*e,g=b+e,w=l*e,S=w+e;let T=0;for(let x=b;x<g;x+=1)if(!(x>=n))for(let _=w;_<S;_+=1){if(_>=r)continue;const C=(n*_+x)*4;d+=s[C+0],f+=s[C+1],h+=s[C+2],m+=s[C+3],T+=1}d=d/T,f=f/T,h=h/T,m=m/T;for(let x=b;x<g;x+=1)if(!(x>=n))for(let _=w;_<S;_+=1){if(_>=r)continue;const C=(n*_+x)*4;s[C+0]=d,s[C+1]=f,s[C+2]=h,s[C+3]=m}}};ye.addGetterSetter(lt,"pixelSize",8,ct(),ye.afterSetFilter);const yRe=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,a=255/e;for(let i=0;i<r;i+=1)n[i]=Math.floor(n[i]/a)*a};ye.addGetterSetter(lt,"levels",.5,ct(),ye.afterSetFilter);const vRe=function(t){const e=t.data,n=e.length,r=this.red(),a=this.green(),i=this.blue();for(let s=0;s<n;s+=4){const o=(.34*e[s]+.5*e[s+1]+.16*e[s+2])/255;e[s]=o*r,e[s+1]=o*a,e[s+2]=o*i,e[s+3]=e[s+3]}};ye.addGetterSetter(lt,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ye.addGetterSetter(lt,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ye.addGetterSetter(lt,"blue",0,qZ,ye.afterSetFilter);const SRe=function(t){const e=t.data,n=e.length,r=this.red(),a=this.green(),i=this.blue(),s=this.alpha();for(let o=0;o<n;o+=4){const l=1-s;e[o]=r*s+e[o]*l,e[o+1]=a*s+e[o+1]*l,e[o+2]=i*s+e[o+2]*l}};ye.addGetterSetter(lt,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ye.addGetterSetter(lt,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ye.addGetterSetter(lt,"blue",0,qZ,ye.afterSetFilter);ye.addGetterSetter(lt,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const ERe=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const a=e[r+0],i=e[r+1],s=e[r+2];e[r+0]=Math.min(255,a*.393+i*.769+s*.189),e[r+1]=Math.min(255,a*.349+i*.686+s*.168),e[r+2]=Math.min(255,a*.272+i*.534+s*.131)}},_Re=function(t){const n=t.data;for(let r=0;r<n.length;r+=4){const a=n[r],i=n[r+1],s=n[r+2];.2126*a+.7152*i+.0722*s>=128&&(n[r]=255-a,n[r+1]=255-i,n[r+2]=255-s)}return t},xRe=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let a=0;a<r;a+=1)n[a]=n[a]<e?0:255};ye.addGetterSetter(lt,"threshold",.5,ct(),ye.afterSetFilter);Bp.Util._assign(Bp,{Arc:oc,Arrow:jd,Circle:ch,Ellipse:cu,Image:ps,Label:$L,Tag:Ud,Line:lc,Path:or,Rect:jb,RegularPolygon:uu,Ring:zd,Sprite:fl,Star:du,Text:cr,TextPath:la,Transformer:Cn,Wedge:cc,Filters:{Blur:XCe,Brightness:QCe,Brighten:ZCe,Contrast:JCe,Emboss:eRe,Enhance:tRe,Grayscale:nRe,HSL:rRe,HSV:aRe,Invert:iRe,Kaleidoscope:lRe,Mask:mRe,Noise:gRe,Pixelate:bRe,Posterize:yRe,RGB:vRe,RGBA:SRe,Sepia:ERe,Solarize:_Re,Threshold:xRe}});var _A={exports:{}},xA={exports:{}},wA={exports:{}},TA={};var x9;function wRe(){return x9||(x9=1,(function(t){function e(q,K){var V=q.length;q.push(K);e:for(;0<V;){var re=V-1>>>1,ee=q[re];if(0<a(ee,K))q[re]=K,q[V]=ee,V=re;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var K=q[0],V=q.pop();if(V!==K){q[0]=V;e:for(var re=0,ee=q.length,Y=ee>>>1;re<Y;){var ne=2*(re+1)-1,te=q[ne],G=ne+1,W=q[G];if(0>a(te,V))G<ee&&0>a(W,te)?(q[re]=W,q[G]=V,re=G):(q[re]=te,q[ne]=V,re=ne);else if(G<ee&&0>a(W,V))q[re]=W,q[G]=V,re=G;else break e}}return K}function a(q,K){var V=q.sortIndex-K.sortIndex;return V!==0?V:q.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],d=[],f=1,h=null,m=3,b=!1,g=!1,w=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=q)r(d),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(d)}}function R(q){if(w=!1,C(q),!g)if(n(l)!==null)g=!0,A||(A=!0,z());else{var K=n(d);K!==null&&$(R,K.startTime-q)}}var A=!1,I=-1,O=5,M=-1;function U(){return S?!0:!(t.unstable_now()-M<O)}function L(){if(S=!1,A){var q=t.unstable_now();M=q;var K=!0;try{e:{g=!1,w&&(w=!1,x(I),I=-1),b=!0;var V=m;try{t:{for(C(q),h=n(l);h!==null&&!(h.expirationTime>q&&U());){var re=h.callback;if(typeof re=="function"){h.callback=null,m=h.priorityLevel;var ee=re(h.expirationTime<=q);if(q=t.unstable_now(),typeof ee=="function"){h.callback=ee,C(q),K=!0;break t}h===n(l)&&r(l),C(q)}else r(l);h=n(l)}if(h!==null)K=!0;else{var Y=n(d);Y!==null&&$(R,Y.startTime-q),K=!1}}break e}finally{h=null,m=V,b=!1}K=void 0}}finally{K?z():A=!1}}}var z;if(typeof _=="function")z=function(){_(L)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,H=j.port2;j.port1.onmessage=L,z=function(){H.postMessage(null)}}else z=function(){T(L,0)};function $(q,K){I=T(function(){q(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(q){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var V=m;m=K;try{return q()}finally{m=V}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(q,K){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var V=m;m=q;try{return K()}finally{m=V}},t.unstable_scheduleCallback=function(q,K,V){var re=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?re+V:re):V=re,q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=V+ee,q={id:f++,callback:K,priorityLevel:q,startTime:V,expirationTime:ee,sortIndex:-1},V>re?(q.sortIndex=V,e(d,q),n(l)===null&&q===n(d)&&(w?(x(I),I=-1):w=!0,$(R,V-re))):(q.sortIndex=ee,e(l,q),g||b||(g=!0,A||(A=!0,z()))),q},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(q){var K=m;return function(){var V=m;m=K;try{return q.apply(this,arguments)}finally{m=V}}}})(TA)),TA}var w9;function vQ(){return w9||(w9=1,wA.exports=wRe()),wA.exports}var T9;function TRe(){return T9||(T9=1,(function(t){t.exports=function(e){function n(c,u,E,k){return new Hs(c,u,E,k)}function r(){}function a(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)u+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){var u=c,E=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(E=u.return),c=u.return;while(c)}return u.tag===3?E:null}function s(c){if(i(c)!==c)throw Error(a(188))}function o(c){var u=c.alternate;if(!u){if(u=i(c),u===null)throw Error(a(188));return u!==c?null:c}for(var E=c,k=u;;){var P=E.return;if(P===null)break;var F=P.alternate;if(F===null){if(k=P.return,k!==null){E=k;continue}break}if(P.child===F.child){for(F=P.child;F;){if(F===E)return s(P),c;if(F===k)return s(P),u;F=F.sibling}throw Error(a(188))}if(E.return!==k.return)E=P,k=F;else{for(var ae=!1,_e=P.child;_e;){if(_e===E){ae=!0,E=P,k=F;break}if(_e===k){ae=!0,k=P,E=F;break}_e=_e.sibling}if(!ae){for(_e=F.child;_e;){if(_e===E){ae=!0,E=F,k=P;break}if(_e===k){ae=!0,k=F,E=P;break}_e=_e.sibling}if(!ae)throw Error(a(189))}}if(E.alternate!==k)throw Error(a(190))}if(E.tag!==3)throw Error(a(188));return E.stateNode.current===E?c:u}function l(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(u=l(c),u!==null)return u;c=c.sibling}return null}function d(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(u=d(c),u!==null))return u;c=c.sibling}return null}function f(c){return c===null||typeof c!="object"?null:(c=Uy&&c[Uy]||c["@@iterator"],typeof c=="function"?c:null)}function h(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===_f?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case Tl:return"Fragment";case Ki:return"Profiler";case By:return"StrictMode";case am:return"Suspense";case Sf:return"SuspenseList";case ms:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case _c:return"Portal";case Fa:return c.displayName||"Context";case vf:return(c._context.displayName||"Context")+".Consumer";case Ba:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Ef:return u=c.displayName||null,u!==null?u:h(c.type)||"Memo";case wi:u=c._payload,c=c._init;try{return h(c(u))}catch{}}return null}function m(c){return{current:c}}function b(c){0>Ci||(c.current=zu[Ci],zu[Ci]=null,Ci--)}function g(c,u){Ci++,zu[Ci]=c.current,c.current=u}function w(c){return c>>>=0,c===0?32:31-(yv(c)/ua|0)|0}function S(c){var u=c&42;if(u!==0)return u;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function T(c,u,E){var k=c.pendingLanes;if(k===0)return 0;var P=0,F=c.suspendedLanes,ae=c.pingedLanes;c=c.warmLanes;var _e=k&134217727;return _e!==0?(k=_e&~F,k!==0?P=S(k):(ae&=_e,ae!==0?P=S(ae):E||(E=_e&~c,E!==0&&(P=S(E))))):(_e=k&~F,_e!==0?P=S(_e):ae!==0?P=S(ae):E||(E=k&~c,E!==0&&(P=S(E)))),P===0?0:u!==0&&u!==P&&(u&F)===0&&(F=P&-P,E=u&-u,F>=E||F===32&&(E&4194048)!==0)?u:P}function x(c,u){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&u)===0}function _(c,u){switch(c){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C(){var c=qu;return qu<<=1,(qu&62914560)===0&&(qu=4194304),c}function R(c){for(var u=[],E=0;31>E;E++)u.push(c);return u}function A(c,u){c.pendingLanes|=u,u!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function I(c,u,E,k,P,F){var ae=c.pendingLanes;c.pendingLanes=E,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=E,c.entangledLanes&=E,c.errorRecoveryDisabledLanes&=E,c.shellSuspendCounter=0;var _e=c.entanglements,qe=c.expirationTimes,Qe=c.hiddenUpdates;for(E=ae&~E;0<E;){var dt=31-va(E),it=1<<dt;_e[dt]=0,qe[dt]=-1;var vt=Qe[dt];if(vt!==null)for(Qe[dt]=null,dt=0;dt<vt.length;dt++){var Ht=vt[dt];Ht!==null&&(Ht.lane&=-536870913)}E&=~it}k!==0&&O(c,k,0),F!==0&&P===0&&c.tag!==0&&(c.suspendedLanes|=F&~(ae&~u))}function O(c,u,E){c.pendingLanes|=u,c.suspendedLanes&=~u;var k=31-va(u);c.entangledLanes|=u,c.entanglements[k]=c.entanglements[k]|1073741824|E&261930}function M(c,u){var E=c.entangledLanes|=u;for(c=c.entanglements;E;){var k=31-va(E),P=1<<k;P&u|c[k]&u&&(c[k]|=u),E&=~P}}function U(c,u){var E=u&-u;return E=(E&42)!==0?1:L(E),(E&(c.suspendedLanes|u))!==0?0:E}function L(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function z(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function j(c){if(typeof Tm=="function"&&JE(c),na&&typeof na.setStrictMode=="function")try{na.setStrictMode(Gu,c)}catch{}}function H(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}function $(c){if(Rm===void 0)try{throw Error()}catch(E){var u=E.stack.trim().match(/\n( *(at )?)/);Rm=u&&u[1]||"",vv=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rm+c+vv}function q(c,u){if(!c||Am)return"";Am=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var k={DetermineComponentFrameRoot:function(){try{if(u){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(Ht){var vt=Ht}Reflect.construct(c,[],it)}else{try{it.call()}catch(Ht){vt=Ht}c.call(it.prototype)}}else{try{throw Error()}catch(Ht){vt=Ht}(it=c())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(Ht){if(Ht&&vt&&typeof Ht.stack=="string")return[Ht.stack,vt.stack]}return[null,null]}};k.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(k.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(k.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=k.DetermineComponentFrameRoot(),ae=F[0],_e=F[1];if(ae&&_e){var qe=ae.split(`
`),Qe=_e.split(`
`);for(P=k=0;k<qe.length&&!qe[k].includes("DetermineComponentFrameRoot");)k++;for(;P<Qe.length&&!Qe[P].includes("DetermineComponentFrameRoot");)P++;if(k===qe.length||P===Qe.length)for(k=qe.length-1,P=Qe.length-1;1<=k&&0<=P&&qe[k]!==Qe[P];)P--;for(;1<=k&&0<=P;k--,P--)if(qe[k]!==Qe[P]){if(k!==1||P!==1)do if(k--,P--,0>P||qe[k]!==Qe[P]){var dt=`
`+qe[k].replace(" at new "," at ");return c.displayName&&dt.includes("<anonymous>")&&(dt=dt.replace("<anonymous>",c.displayName)),dt}while(1<=k&&0<=P);break}}}finally{Am=!1,Error.prepareStackTrace=E}return(E=c?c.displayName||c.name:"")?$(E):""}function K(c,u){switch(c.tag){case 26:case 27:case 5:return $(c.type);case 16:return $("Lazy");case 13:return c.child!==u&&u!==null?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return q(c.type,!1);case 11:return q(c.type.render,!1);case 1:return q(c.type,!0);case 31:return $("Activity");default:return""}}function V(c){try{var u="",E=null;do u+=K(c,E),E=c,c=c.return;while(c);return u}catch(k){return`
Error generating stack: `+k.message+`
`+k.stack}}function re(c,u){if(typeof c=="object"&&c!==null){var E=Im.get(c);return E!==void 0?E:(u={value:c,source:u,stack:V(u)},Im.set(c,u),u)}return{value:c,source:u,stack:V(u)}}function ee(c,u){kl[Rc++]=Ic,kl[Rc++]=Ac,Ac=c,Ic=u}function Y(c,u,E){da[Ga++]=Zi,da[Ga++]=ci,da[Ga++]=Xs,Xs=c;var k=Zi;c=ci;var P=32-va(k)-1;k&=~(1<<P),E+=1;var F=32-va(u)+P;if(30<F){var ae=P-P%5;F=(k&(1<<ae)-1).toString(32),k>>=ae,P-=ae,Zi=1<<32-va(u)+P|E<<P|k,ci=F+c}else Zi=1<<F|E<<P|k,ci=c}function ne(c){c.return!==null&&(ee(c,1),Y(c,1,0))}function te(c){for(;c===Ac;)Ac=kl[--Rc],kl[Rc]=null,Ic=kl[--Rc],kl[Rc]=null;for(;c===Xs;)Xs=da[--Ga],da[Ga]=null,ci=da[--Ga],da[Ga]=null,Zi=da[--Ga],da[Ga]=null}function G(c,u){da[Ga++]=Zi,da[Ga++]=ci,da[Ga++]=Xs,Zi=u.id,ci=u.overflow,Xs=c}function W(c,u){g(Va,u),g(Ha,c),g(Wr,null),c=om(u),b(Wr),g(Wr,c)}function ue(){b(Wr),b(Ha),b(Va)}function Ee(c){c.memoizedState!==null&&g(Uf,c);var u=Wr.current,E=wf(u,c.type);u!==E&&(g(Ha,c),g(Wr,E))}function ge(c){Ha.current===c&&(b(Wr),b(Ha)),Uf.current===c&&(b(Uf),gs?Rl._currentValue=Ys:Rl._currentValue2=Ys)}function fe(c){var u=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw me(re(u,c)),km}function Ae(c,u){if(!xr)throw Error(a(175));GE(c.stateNode,c.type,c.memoizedProps,u,c)||fe(c,!0)}function oe(c){for(Yr=c.return;Yr;)switch(Yr.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:Yr=Yr.return}}function de(c){if(!xr||c!==Yr)return!1;if(!yn)return oe(c),yn=!0,!1;var u=c.tag;if(br?u!==3&&u!==27&&(u!==5||ju(c.type)&&!Tf(c.type,c.memoizedProps))&&lr&&fe(c):u!==3&&(u!==5||ju(c.type)&&!Tf(c.type,c.memoizedProps))&&lr&&fe(c),oe(c),u===13){if(!xr)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));lr=HE(c)}else if(u===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));lr=lv(c)}else lr=br&&u===27?UE(c.type,lr):Yr?nv(c.stateNode):null;return!0}function se(){xr&&(lr=Yr=null,yn=!1)}function Se(){var c=No;return c!==null&&(Xa===null?Xa=c:Xa.push.apply(Xa,c),No=null),c}function me(c){No===null?No=[c]:No.push(c)}function ce(c,u,E){gs?(g(zf,u._currentValue),u._currentValue=E):(g(zf,u._currentValue2),u._currentValue2=E)}function pe(c){var u=zf.current;gs?c._currentValue=u:c._currentValue2=u,b(zf)}function Te(c,u,E){for(;c!==null;){var k=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,k!==null&&(k.childLanes|=u)):k!==null&&(k.childLanes&u)!==u&&(k.childLanes|=u),c===E)break;c=c.return}}function be(c,u,E,k){var P=c.child;for(P!==null&&(P.return=c);P!==null;){var F=P.dependencies;if(F!==null){var ae=P.child;F=F.firstContext;e:for(;F!==null;){var _e=F;F=P;for(var qe=0;qe<u.length;qe++)if(_e.context===u[qe]){F.lanes|=E,_e=F.alternate,_e!==null&&(_e.lanes|=E),Te(F.return,E,c),k||(ae=null);break e}F=_e.next}}else if(P.tag===18){if(ae=P.return,ae===null)throw Error(a(341));ae.lanes|=E,F=ae.alternate,F!==null&&(F.lanes|=E),Te(ae,E,c),ae=null}else ae=P.child;if(ae!==null)ae.return=P;else for(ae=P;ae!==null;){if(ae===c){ae=null;break}if(P=ae.sibling,P!==null){P.return=ae.return,ae=P;break}ae=ae.return}P=ae}}function Ie(c,u,E,k){c=null;for(var P=u,F=!1;P!==null;){if(!F){if((P.flags&524288)!==0)F=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var ae=P.alternate;if(ae===null)throw Error(a(387));if(ae=ae.memoizedProps,ae!==null){var _e=P.type;$a(P.pendingProps.value,ae.value)||(c!==null?c.push(_e):c=[_e])}}else if(P===Uf.current){if(ae=P.alternate,ae===null)throw Error(a(387));ae.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(c!==null?c.push(Rl):c=[Rl])}P=P.return}c!==null&&be(u,c,E,k),u.flags|=262144}function je(c){for(c=c.firstContext;c!==null;){var u=c.context;if(!$a(gs?u._currentValue:u._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function ke(c){Dl=c,Zs=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ge(c){return gt(Dl,c)}function Et(c,u){return Dl===null&&ke(c),gt(c,u)}function gt(c,u){var E=gs?u._currentValue:u._currentValue2;if(u={context:u,memoizedValue:E,next:null},Zs===null){if(c===null)throw Error(a(308));Zs=u,c.dependencies={lanes:0,firstContext:u},c.flags|=524288}else Zs=Zs.next=u;return E}function kt(){return{controller:new t_,data:new Map,refCount:0}}function Ye(c){c.refCount--,c.refCount===0&&n_(r_,function(){c.controller.abort()})}function nt(){}function It(c){c!==Ol&&c.next===null&&(Ol===null?Hu=Ol=c:Ol=Ol.next=c),qf=!0,Dm||(Dm=!0,He())}function Gt(c,u){if(!Om&&qf){Om=!0;do for(var E=!1,k=Hu;k!==null;){if(c!==0){var P=k.pendingLanes;if(P===0)var F=0;else{var ae=k.suspendedLanes,_e=k.pingedLanes;F=(1<<31-va(42|c)+1)-1,F&=P&~(ae&~_e),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(E=!0,$e(k,F))}else F=gn,F=T(k,k===Zn?F:0,k.cancelPendingCommit!==null||k.timeoutHandle!==Xi),(F&3)===0||x(k,F)||(E=!0,$e(k,F));k=k.next}while(E);Om=!1}}function Ze(){ot()}function ot(){qf=Dm=!1;var c=0;Mo!==0&&kE()&&(c=Mo);for(var u=qa(),E=null,k=Hu;k!==null;){var P=k.next,F=Pe(k,u);F===0?(k.next=null,E===null?Hu=P:E.next=P,P===null&&(Ol=E)):(E=k,(c!==0||(F&3)!==0)&&(qf=!0)),k=P}Ir!==0&&Ir!==5||Gt(c),Mo!==0&&(Mo=0)}function Pe(c,u){for(var E=c.suspendedLanes,k=c.pingedLanes,P=c.expirationTimes,F=c.pendingLanes&-62914561;0<F;){var ae=31-va(F),_e=1<<ae,qe=P[ae];qe===-1?((_e&E)===0||(_e&k)!==0)&&(P[ae]=_(_e,u)):qe<=u&&(c.expiredLanes|=_e),F&=~_e}if(u=Zn,E=gn,E=T(c,c===u?E:0,c.cancelPendingCommit!==null||c.timeoutHandle!==Xi),k=c.callbackNode,E===0||c===u&&(Bn===2||Bn===9)||c.cancelPendingCommit!==null)return k!==null&&k!==null&&jf(k),c.callbackNode=null,c.callbackPriority=0;if((E&3)===0||x(c,E)){if(u=E&-E,u===c.callbackPriority)return u;switch(k!==null&&jf(k),z(E)){case 2:case 8:E=Sa;break;case 32:E=$u;break;case 268435456:E=QE;break;default:E=$u}return k=we.bind(null,c),E=Bf(E,k),c.callbackPriority=u,c.callbackNode=E,u}return k!==null&&k!==null&&jf(k),c.callbackPriority=2,c.callbackNode=null,2}function we(c,u){if(Ir!==0&&Ir!==5)return c.callbackNode=null,c.callbackPriority=0,null;var E=c.callbackNode;if(Ou()&&c.callbackNode!==E)return null;var k=gn;return k=T(c,c===Zn?k:0,c.cancelPendingCommit!==null||c.timeoutHandle!==Xi),k===0?null:(hf(c,k,u),Pe(c,qa()),c.callbackNode!=null&&c.callbackNode===E?we.bind(null,c):null)}function $e(c,u){if(Ou())return null;hf(c,u,!0)}function He(){Yy?OE(function(){(fn&6)!==0?Bf(xs,Ze):ot()}):Bf(xs,Ze)}function ft(){if(Mo===0){var c=kc;c===0&&(c=Lf,Lf<<=1,(Lf&261888)===0&&(Lf=256)),Mo=c}return Mo}function Nt(c,u){if(Vu===null){var E=Vu=[];Nm=0,kc=ft(),Dc={status:"pending",value:void 0,then:function(k){E.push(k)}}}return Nm++,u.then(Ot,Ot),u}function Ot(){if(--Nm===0&&Vu!==null){Dc!==null&&(Dc.status="fulfilled");var c=Vu;Vu=null,kc=0,Dc=null;for(var u=0;u<c.length;u++)(0,c[u])()}}function pt(c,u){var E=[],k={status:"pending",value:null,reason:null,then:function(P){E.push(P)}};return c.then(function(){k.status="fulfilled",k.value=u;for(var P=0;P<E.length;P++)(0,E[P])(u)},function(P){for(k.status="rejected",k.reason=P,P=0;P<E.length;P++)(0,E[P])(void 0)}),k}function Me(){var c=Nl.current;return c!==null?c:Zn.pooledCache}function Je(c,u){u===null?g(Nl,Nl.current):g(Nl,u.pool)}function Tt(){var c=Me();return c===null?null:{parent:gs?ir._currentValue:ir._currentValue2,pool:c}}function Rt(c,u){if($a(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var E=Object.keys(c),k=Object.keys(u);if(E.length!==k.length)return!1;for(k=0;k<E.length;k++){var P=E[k];if(!e_.call(u,P)||!$a(c[P],u[P]))return!1}return!0}function sn(c){return c=c.status,c==="fulfilled"||c==="rejected"}function Rn(c,u,E){switch(E=c[E],E===void 0?c.push(u):E!==u&&(u.then(nt,nt),u=E),u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,Le(c),c;default:if(typeof u.status=="string")u.then(nt,nt);else{if(c=Zn,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=u,c.status="pending",c.then(function(k){if(u.status==="pending"){var P=u;P.status="fulfilled",P.value=k}},function(k){if(u.status==="pending"){var P=u;P.status="rejected",P.reason=k}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,Le(c),c}throw Po=u,ra}}function Yt(c){try{var u=c._init;return u(c._payload)}catch(E){throw E!==null&&typeof E=="object"&&typeof E.then=="function"?(Po=E,ra):E}}function on(){if(Po===null)throw Error(a(459));var c=Po;return Po=null,c}function Le(c){if(c===ra||c===$f)throw Error(a(483))}function ht(c){var u=Wu;return Wu+=1,Oc===null&&(Oc=[]),Rn(Oc,c,u)}function wt(c,u){u=u.props.ref,c.ref=u!==void 0?u:null}function En(c,u){throw u.$$typeof===Mu?Error(a(525)):(c=Object.prototype.toString.call(u),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c)))}function Qt(c){function u(Fe,De){if(c){var Be=Fe.deletions;Be===null?(Fe.deletions=[De],Fe.flags|=16):Be.push(De)}}function E(Fe,De){if(!c)return null;for(;De!==null;)u(Fe,De),De=De.sibling;return null}function k(Fe){for(var De=new Map;Fe!==null;)Fe.key!==null?De.set(Fe.key,Fe):De.set(Fe.index,Fe),Fe=Fe.sibling;return De}function P(Fe,De){return Fe=Vs(Fe,De),Fe.index=0,Fe.sibling=null,Fe}function F(Fe,De,Be){return Fe.index=Be,c?(Be=Fe.alternate,Be!==null?(Be=Be.index,Be<De?(Fe.flags|=67108866,De):Be):(Fe.flags|=67108866,De)):(Fe.flags|=1048576,De)}function ae(Fe){return c&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function _e(Fe,De,Be,st){return De===null||De.tag!==6?(De=Ws(Be,Fe.mode,st),De.return=Fe,De):(De=P(De,Be),De.return=Fe,De)}function qe(Fe,De,Be,st){var Bt=Be.type;return Bt===Tl?dt(Fe,De,Be.props.children,st,Be.key):De!==null&&(De.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===wi&&Yt(Bt)===De.type)?(De=P(De,Be.props),wt(De,Be),De.return=Fe,De):(De=bf(Be.type,Be.key,Be.props,null,Fe.mode,st),wt(De,Be),De.return=Fe,De)}function Qe(Fe,De,Be,st){return De===null||De.tag!==4||De.stateNode.containerInfo!==Be.containerInfo||De.stateNode.implementation!==Be.implementation?(De=rm(Be,Fe.mode,st),De.return=Fe,De):(De=P(De,Be.children||[]),De.return=Fe,De)}function dt(Fe,De,Be,st,Bt){return De===null||De.tag!==7?(De=xl(Be,Fe.mode,st,Bt),De.return=Fe,De):(De=P(De,Be),De.return=Fe,De)}function it(Fe,De,Be){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return De=Ws(""+De,Fe.mode,Be),De.return=Fe,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case wl:return Be=bf(De.type,De.key,De.props,null,Fe.mode,Be),wt(Be,De),Be.return=Fe,Be;case _c:return De=rm(De,Fe.mode,Be),De.return=Fe,De;case wi:return De=Yt(De),it(Fe,De,Be)}if(xf(De)||f(De))return De=xl(De,Fe.mode,Be,null),De.return=Fe,De;if(typeof De.then=="function")return it(Fe,ht(De),Be);if(De.$$typeof===Fa)return it(Fe,Et(Fe,De),Be);En(Fe,De)}return null}function vt(Fe,De,Be,st){var Bt=De!==null?De.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Bt!==null?null:_e(Fe,De,""+Be,st);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case wl:return Be.key===Bt?qe(Fe,De,Be,st):null;case _c:return Be.key===Bt?Qe(Fe,De,Be,st):null;case wi:return Be=Yt(Be),vt(Fe,De,Be,st)}if(xf(Be)||f(Be))return Bt!==null?null:dt(Fe,De,Be,st,null);if(typeof Be.then=="function")return vt(Fe,De,ht(Be),st);if(Be.$$typeof===Fa)return vt(Fe,De,Et(Fe,Be),st);En(Fe,Be)}return null}function Ht(Fe,De,Be,st,Bt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Fe=Fe.get(Be)||null,_e(De,Fe,""+st,Bt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case wl:return Fe=Fe.get(st.key===null?Be:st.key)||null,qe(De,Fe,st,Bt);case _c:return Fe=Fe.get(st.key===null?Be:st.key)||null,Qe(De,Fe,st,Bt);case wi:return st=Yt(st),Ht(Fe,De,Be,st,Bt)}if(xf(st)||f(st))return Fe=Fe.get(Be)||null,dt(De,Fe,st,Bt,null);if(typeof st.then=="function")return Ht(Fe,De,Be,ht(st),Bt);if(st.$$typeof===Fa)return Ht(Fe,De,Be,Et(De,st),Bt);En(De,st)}return null}function aa(Fe,De,Be,st){for(var Bt=null,Hn=null,at=De,In=De=0,Mn=null;at!==null&&In<Be.length;In++){at.index>In?(Mn=at,at=null):Mn=at.sibling;var Lt=vt(Fe,at,Be[In],st);if(Lt===null){at===null&&(at=Mn);break}c&&at&&Lt.alternate===null&&u(Fe,at),De=F(Lt,De,In),Hn===null?Bt=Lt:Hn.sibling=Lt,Hn=Lt,at=Mn}if(In===Be.length)return E(Fe,at),yn&&ee(Fe,In),Bt;if(at===null){for(;In<Be.length;In++)at=it(Fe,Be[In],st),at!==null&&(De=F(at,De,In),Hn===null?Bt=at:Hn.sibling=at,Hn=at);return yn&&ee(Fe,In),Bt}for(at=k(at);In<Be.length;In++)Mn=Ht(at,Fe,In,Be[In],st),Mn!==null&&(c&&Mn.alternate!==null&&at.delete(Mn.key===null?In:Mn.key),De=F(Mn,De,In),Hn===null?Bt=Mn:Hn.sibling=Mn,Hn=Mn);return c&&at.forEach(function(zo){return u(Fe,zo)}),yn&&ee(Fe,In),Bt}function Ju(Fe,De,Be,st){if(Be==null)throw Error(a(151));for(var Bt=null,Hn=null,at=De,In=De=0,Mn=null,Lt=Be.next();at!==null&&!Lt.done;In++,Lt=Be.next()){at.index>In?(Mn=at,at=null):Mn=at.sibling;var zo=vt(Fe,at,Lt.value,st);if(zo===null){at===null&&(at=Mn);break}c&&at&&zo.alternate===null&&u(Fe,at),De=F(zo,De,In),Hn===null?Bt=zo:Hn.sibling=zo,Hn=zo,at=Mn}if(Lt.done)return E(Fe,at),yn&&ee(Fe,In),Bt;if(at===null){for(;!Lt.done;In++,Lt=Be.next())Lt=it(Fe,Lt.value,st),Lt!==null&&(De=F(Lt,De,In),Hn===null?Bt=Lt:Hn.sibling=Lt,Hn=Lt);return yn&&ee(Fe,In),Bt}for(at=k(at);!Lt.done;In++,Lt=Be.next())Lt=Ht(at,Fe,In,Lt.value,st),Lt!==null&&(c&&Lt.alternate!==null&&at.delete(Lt.key===null?In:Lt.key),De=F(Lt,De,In),Hn===null?Bt=Lt:Hn.sibling=Lt,Hn=Lt);return c&&at.forEach(function(qo){return u(Fe,qo)}),yn&&ee(Fe,In),Bt}function jl(Fe,De,Be,st){if(typeof Be=="object"&&Be!==null&&Be.type===Tl&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case wl:e:{for(var Bt=Be.key;De!==null;){if(De.key===Bt){if(Bt=Be.type,Bt===Tl){if(De.tag===7){E(Fe,De.sibling),st=P(De,Be.props.children),st.return=Fe,Fe=st;break e}}else if(De.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===wi&&Yt(Bt)===De.type){E(Fe,De.sibling),st=P(De,Be.props),wt(st,Be),st.return=Fe,Fe=st;break e}E(Fe,De);break}else u(Fe,De);De=De.sibling}Be.type===Tl?(st=xl(Be.props.children,Fe.mode,st,Be.key),st.return=Fe,Fe=st):(st=bf(Be.type,Be.key,Be.props,null,Fe.mode,st),wt(st,Be),st.return=Fe,Fe=st)}return ae(Fe);case _c:e:{for(Bt=Be.key;De!==null;){if(De.key===Bt)if(De.tag===4&&De.stateNode.containerInfo===Be.containerInfo&&De.stateNode.implementation===Be.implementation){E(Fe,De.sibling),st=P(De,Be.children||[]),st.return=Fe,Fe=st;break e}else{E(Fe,De);break}else u(Fe,De);De=De.sibling}st=rm(Be,Fe.mode,st),st.return=Fe,Fe=st}return ae(Fe);case wi:return Be=Yt(Be),jl(Fe,De,Be,st)}if(xf(Be))return aa(Fe,De,Be,st);if(f(Be)){if(Bt=f(Be),typeof Bt!="function")throw Error(a(150));return Be=Bt.call(Be),Ju(Fe,De,Be,st)}if(typeof Be.then=="function")return jl(Fe,De,ht(Be),st);if(Be.$$typeof===Fa)return jl(Fe,De,Et(Fe,Be),st);En(Fe,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint"?(Be=""+Be,De!==null&&De.tag===6?(E(Fe,De.sibling),st=P(De,Be),st.return=Fe,Fe=st):(E(Fe,De),st=Ws(Be,Fe.mode,st),st.return=Fe,Fe=st),ae(Fe)):E(Fe,De)}return function(Fe,De,Be,st){try{Wu=0;var Bt=jl(Fe,De,Be,st);return Oc=null,Bt}catch(at){if(at===ra||at===$f)throw at;var Hn=n(29,at,null,Fe.mode);return Hn.lanes=st,Hn.return=Fe,Hn}finally{}}}function bn(){for(var c=Nc,u=Pm=Nc=0;u<c;){var E=Wa[u];Wa[u++]=null;var k=Wa[u];Wa[u++]=null;var P=Wa[u];Wa[u++]=null;var F=Wa[u];if(Wa[u++]=null,k!==null&&P!==null){var ae=k.pending;ae===null?P.next=P:(P.next=ae.next,ae.next=P),k.pending=P}F!==0&&uc(E,P,F)}}function Mr(c,u,E,k){Wa[Nc++]=c,Wa[Nc++]=u,Wa[Nc++]=E,Wa[Nc++]=k,Pm|=k,c.lanes|=k,c=c.alternate,c!==null&&(c.lanes|=k)}function Ls(c,u,E,k){return Mr(c,u,E,k),Ra(c)}function $r(c,u){return Mr(c,null,null,u),Ra(c)}function uc(c,u,E){c.lanes|=E;var k=c.alternate;k!==null&&(k.lanes|=E);for(var P=!1,F=c.return;F!==null;)F.childLanes|=E,k=F.alternate,k!==null&&(k.childLanes|=E),F.tag===22&&(c=F.stateNode,c===null||c._visibility&1||(P=!0)),c=F,F=F.return;return c.tag===3?(F=c.stateNode,P&&u!==null&&(P=31-va(E),c=F.hiddenUpdates,k=c[P],k===null?c[P]=[u]:k.push(u),u.lane=E|536870912),F):null}function Ra(c){if(50<Qu)throw Qu=0,Vm=null,Error(a(185));for(var u=c.return;u!==null;)c=u,u=c.return;return c.tag===3?c.stateNode:null}function xo(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gi(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ur(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Jn(c,u,E){var k=c.updateQueue;if(k===null)return null;if(k=k.shared,(fn&2)!==0){var P=k.pending;return P===null?u.next=u:(u.next=P.next,P.next=u),k.pending=u,u=Ra(c),uc(c,null,E),u}return Mr(c,k,u,E),Ra(c)}function mr(c,u,E){if(u=u.updateQueue,u!==null&&(u=u.shared,(E&4194048)!==0)){var k=u.lanes;k&=c.pendingLanes,E|=k,u.lanes=E,M(c,E)}}function Aa(c,u){var E=c.updateQueue,k=c.alternate;if(k!==null&&(k=k.updateQueue,E===k)){var P=null,F=null;if(E=E.firstBaseUpdate,E!==null){do{var ae={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};F===null?P=F=ae:F=F.next=ae,E=E.next}while(E!==null);F===null?P=F=u:F=F.next=u}else P=F=u;E={baseState:k.baseState,firstBaseUpdate:P,lastBaseUpdate:F,shared:k.shared,callbacks:k.callbacks},c.updateQueue=E;return}c=E.lastBaseUpdate,c===null?E.firstBaseUpdate=u:c.next=u,E.lastBaseUpdate=u}function Ei(){if(Lm){var c=Dc;if(c!==null)throw c}}function Fs(c,u,E,k){Lm=!1;var P=c.updateQueue;Lo=!1;var F=P.firstBaseUpdate,ae=P.lastBaseUpdate,_e=P.shared.pending;if(_e!==null){P.shared.pending=null;var qe=_e,Qe=qe.next;qe.next=null,ae===null?F=Qe:ae.next=Qe,ae=qe;var dt=c.alternate;dt!==null&&(dt=dt.updateQueue,_e=dt.lastBaseUpdate,_e!==ae&&(_e===null?dt.firstBaseUpdate=Qe:_e.next=Qe,dt.lastBaseUpdate=qe))}if(F!==null){var it=P.baseState;ae=0,dt=Qe=qe=null,_e=F;do{var vt=_e.lane&-536870913,Ht=vt!==_e.lane;if(Ht?(gn&vt)===vt:(k&vt)===vt){vt!==0&&vt===kc&&(Lm=!0),dt!==null&&(dt=dt.next={lane:0,tag:_e.tag,payload:_e.payload,callback:null,next:null});e:{var aa=c,Ju=_e;vt=u;var jl=E;switch(Ju.tag){case 1:if(aa=Ju.payload,typeof aa=="function"){it=aa.call(jl,it,vt);break e}it=aa;break e;case 3:aa.flags=aa.flags&-65537|128;case 0:if(aa=Ju.payload,vt=typeof aa=="function"?aa.call(jl,it,vt):aa,vt==null)break e;it=Nu({},it,vt);break e;case 2:Lo=!0}}vt=_e.callback,vt!==null&&(c.flags|=64,Ht&&(c.flags|=8192),Ht=P.callbacks,Ht===null?P.callbacks=[vt]:Ht.push(vt))}else Ht={lane:vt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},dt===null?(Qe=dt=Ht,qe=it):dt=dt.next=Ht,ae|=vt;if(_e=_e.next,_e===null){if(_e=P.shared.pending,_e===null)break;Ht=_e,_e=Ht.next,Ht.next=null,P.lastBaseUpdate=Ht,P.shared.pending=null}}while(!0);dt===null&&(qe=it),P.baseState=qe,P.firstBaseUpdate=Qe,P.lastBaseUpdate=dt,F===null&&(P.shared.lanes=0),Bo|=ae,c.lanes=ae,c.memoizedState=it}}function $b(c,u){if(typeof c!="function")throw Error(a(191,c));c.call(u)}function pu(c,u){var E=c.callbacks;if(E!==null)for(c.callbacks=null,c=0;c<E.length;c++)$b(E[c],u)}function Gb(c,u){c=eo,g(Hf,c),g(Mc,u),eo=c|u.baseLanes}function dc(){g(Hf,eo),g(Mc,Mc.current)}function bh(){eo=Hf.current,b(Mc),b(Hf)}function wo(c){var u=c.alternate;g(yr,yr.current&1),g(ui,c),Ai===null&&(u===null||Mc.current!==null||u.memoizedState!==null)&&(Ai=c)}function yh(c){g(yr,yr.current),g(ui,c),Ai===null&&(Ai=c)}function vh(c){c.tag===22?(g(yr,yr.current),g(ui,c),Ai===null&&(Ai=c)):Bs()}function Bs(){g(yr,yr.current),g(ui,ui.current)}function Ia(c){b(ui),Ai===c&&(Ai=null),b(yr)}function Gd(c){for(var u=c;u!==null;){if(u.tag===13){var E=u.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||vs(E)||ym(E)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function dr(){throw Error(a(321))}function Sh(c,u){if(u===null)return!1;for(var E=0;E<u.length&&E<c.length;E++)if(!$a(c[E],u[E]))return!1;return!0}function Eh(c,u,E,k,P,F){return Qs=F,Vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Mt.H=c===null||c.memoizedState===null?Fm:Bm,Pl=!1,F=E(k,P),Pl=!1,Pc&&(F=xh(u,E,k,P)),_h(c),F}function _h(c){Mt.H=Ll;var u=Kn!==null&&Kn.next!==null;if(Qs=0,Tr=Kn=Vt=null,Vf=!1,Yu=0,Lc=null,u)throw Error(a(300));c===null||Cr||(c=c.dependencies,c!==null&&je(c)&&(Cr=!0))}function xh(c,u,E,k){Vt=c;var P=0;do{if(Pc&&(Lc=null),Yu=0,Pc=!1,25<=P)throw Error(a(301));if(P+=1,Tr=Kn=null,c.updateQueue!=null){var F=c.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}Mt.H=_v,F=u(E,k)}while(Pc);return F}function Hb(){var c=Mt.H,u=c.useState()[0];return u=typeof u.then=="function"?fc(u):u,c=c.useState()[0],(Kn!==null?Kn.memoizedState:null)!==c&&(Vt.flags|=1024),u}function hu(){var c=Wf!==0;return Wf=0,c}function wh(c,u,E){u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~E}function Hd(c){if(Vf){for(c=c.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}Vf=!1}Qs=0,Tr=Kn=Vt=null,Pc=!1,Yu=Wf=0,Lc=null}function Gr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tr===null?Vt.memoizedState=Tr=c:Tr=Tr.next=c,Tr}function fr(){if(Kn===null){var c=Vt.alternate;c=c!==null?c.memoizedState:null}else c=Kn.next;var u=Tr===null?Vt.memoizedState:Tr.next;if(u!==null)Tr=u,Kn=c;else{if(c===null)throw Vt.alternate===null?Error(a(467)):Error(a(310));Kn=c,c={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},Tr===null?Vt.memoizedState=Tr=c:Tr=Tr.next=c}return Tr}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(c){var u=Yu;return Yu+=1,Lc===null&&(Lc=[]),c=Rn(Lc,c,u),u=Vt,(Tr===null?u.memoizedState:Tr.next)===null&&(u=u.alternate,Mt.H=u===null||u.memoizedState===null?Fm:Bm),c}function mu(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return fc(c);if(c.$$typeof===Fa)return Ge(c)}throw Error(a(438,String(c)))}function gu(c){var u=null,E=Vt.updateQueue;if(E!==null&&(u=E.memoCache),u==null){var k=Vt.alternate;k!==null&&(k=k.updateQueue,k!==null&&(k=k.memoCache,k!=null&&(u={data:k.data.map(function(P){return P.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),E===null&&(E=Vd(),Vt.updateQueue=E),E.memoCache=u,E=u.data[u.index],E===void 0)for(E=u.data[u.index]=Array(c),k=0;k<c;k++)E[k]=jy;return u.index++,E}function js(c,u){return typeof u=="function"?u(c):u}function bu(c){var u=fr();return yu(u,Kn,c)}function yu(c,u,E){var k=c.queue;if(k===null)throw Error(a(311));k.lastRenderedReducer=E;var P=c.baseQueue,F=k.pending;if(F!==null){if(P!==null){var ae=P.next;P.next=F.next,F.next=ae}u.baseQueue=P=F,k.pending=null}if(F=c.baseState,P===null)c.memoizedState=F;else{u=P.next;var _e=ae=null,qe=null,Qe=u,dt=!1;do{var it=Qe.lane&-536870913;if(it!==Qe.lane?(gn&it)===it:(Qs&it)===it){var vt=Qe.revertLane;if(vt===0)qe!==null&&(qe=qe.next={lane:0,revertLane:0,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),it===kc&&(dt=!0);else if((Qs&vt)===vt){Qe=Qe.next,vt===kc&&(dt=!0);continue}else it={lane:0,revertLane:Qe.revertLane,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},qe===null?(_e=qe=it,ae=F):qe=qe.next=it,Vt.lanes|=vt,Bo|=vt;it=Qe.action,Pl&&E(F,it),F=Qe.hasEagerState?Qe.eagerState:E(F,it)}else vt={lane:it,revertLane:Qe.revertLane,gesture:Qe.gesture,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},qe===null?(_e=qe=vt,ae=F):qe=qe.next=vt,Vt.lanes|=it,Bo|=it;Qe=Qe.next}while(Qe!==null&&Qe!==u);if(qe===null?ae=F:qe.next=_e,!$a(F,c.memoizedState)&&(Cr=!0,dt&&(E=Dc,E!==null)))throw E;c.memoizedState=F,c.baseState=ae,c.baseQueue=qe,k.lastRenderedState=F}return P===null&&(k.lanes=0),[c.memoizedState,k.dispatch]}function vu(c){var u=fr(),E=u.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=c;var k=E.dispatch,P=E.pending,F=u.memoizedState;if(P!==null){E.pending=null;var ae=P=P.next;do F=c(F,ae.action),ae=ae.next;while(ae!==P);$a(F,u.memoizedState)||(Cr=!0),u.memoizedState=F,u.baseQueue===null&&(u.baseState=F),E.lastRenderedState=F}return[F,k]}function pl(c,u,E){var k=Vt,P=fr(),F=yn;if(F){if(E===void 0)throw Error(a(407));E=E()}else E=u();var ae=!$a((Kn||P).memoizedState,E);if(ae&&(P.memoizedState=E,Cr=!0),P=P.queue,Oh(Vb.bind(null,k,P,c),[c]),P.getSnapshot!==u||ae||Tr!==null&&Tr.memoizedState.tag&1){if(k.flags|=2048,pc(9,{destroy:void 0},Ch.bind(null,k,P,E,u),null),Zn===null)throw Error(a(349));F||(Qs&127)!==0||Th(k,u,E)}return E}function Th(c,u,E){c.flags|=16384,c={getSnapshot:u,value:E},u=Vt.updateQueue,u===null?(u=Vd(),Vt.updateQueue=u,u.stores=[c]):(E=u.stores,E===null?u.stores=[c]:E.push(c))}function Ch(c,u,E,k){u.value=E,u.getSnapshot=k,Rh(u)&&Ah(c)}function Vb(c,u,E){return E(function(){Rh(u)&&Ah(c)})}function Rh(c){var u=c.getSnapshot;c=c.value;try{var E=u();return!$a(c,E)}catch{return!0}}function Ah(c){var u=$r(c,2);u!==null&&La(u,c,2)}function Wd(c){var u=Gr();if(typeof c=="function"){var E=c;if(c=E(),Pl){j(!0);try{E()}finally{j(!1)}}}return u.memoizedState=u.baseState=c,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:c},u}function Ih(c,u,E,k){return c.baseState=E,yu(c,Kn,typeof k=="function"?k:js)}function fE(c,u,E,k,P){if(Jd(c))throw Error(a(485));if(c=u.action,c!==null){var F={payload:P,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){F.listeners.push(ae)}};Mt.T!==null?E(!0):F.isTransition=!1,k(F),E=u.pending,E===null?(F.next=u.pending=F,Wb(u,F)):(F.next=E.next,u.pending=E.next=F)}}function Wb(c,u){var E=u.action,k=u.payload,P=c.state;if(u.isTransition){var F=Mt.T,ae={};Mt.T=ae;try{var _e=E(P,k),qe=Mt.S;qe!==null&&qe(ae,_e),Yb(c,u,_e)}catch(Qe){Dh(c,u,Qe)}finally{F!==null&&ae.types!==null&&(F.types=ae.types),Mt.T=F}}else try{F=E(P,k),Yb(c,u,F)}catch(Qe){Dh(c,u,Qe)}}function Yb(c,u,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(k){kh(c,u,k)},function(k){return Dh(c,u,k)}):kh(c,u,E)}function kh(c,u,E){u.status="fulfilled",u.value=E,Kb(u),c.state=E,u=c.pending,u!==null&&(E=u.next,E===u?c.pending=null:(E=E.next,u.next=E,Wb(c,E)))}function Dh(c,u,E){var k=c.pending;if(c.pending=null,k!==null){k=k.next;do u.status="rejected",u.reason=E,Kb(u),u=u.next;while(u!==k)}c.action=null}function Kb(c){c=c.listeners;for(var u=0;u<c.length;u++)(0,c[u])()}function Xb(c,u){return u}function Zb(c,u){if(yn){var E=Zn.formState;if(E!==null){e:{var k=Vt;if(yn){if(lr){var P=tv(lr,Ri);if(P){lr=nv(P),k=vm(P);break e}}fe(k)}k=!1}k&&(u=E[0])}}E=Gr(),E.memoizedState=E.baseState=u,k={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xb,lastRenderedState:u},E.queue=k,E=ka.bind(null,Vt,k),k.dispatch=E,k=Wd(!1);var F=Da.bind(null,Vt,!1,k.queue);return k=Gr(),P={state:u,dispatch:null,action:c,pending:null},k.queue=P,E=fE.bind(null,Vt,P,F,E),P.dispatch=E,k.memoizedState=c,[u,E,!1]}function Yd(c){var u=fr();return Qb(u,Kn,c)}function Qb(c,u,E){if(u=yu(c,u,Xb)[0],c=bu(js)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var k=fc(u)}catch(ae){throw ae===ra?$f:ae}else k=u;u=fr();var P=u.queue,F=P.dispatch;return E!==u.memoizedState&&(Vt.flags|=2048,pc(9,{destroy:void 0},pE.bind(null,P,E),null)),[k,F,c]}function pE(c,u){c.action=u}function Jb(c){var u=fr(),E=Kn;if(E!==null)return Qb(u,E,c);fr(),u=u.memoizedState,E=fr();var k=E.queue.dispatch;return E.memoizedState=c,[u,k,!1]}function pc(c,u,E,k){return c={tag:c,create:E,deps:k,inst:u,next:null},u=Vt.updateQueue,u===null&&(u=Vd(),Vt.updateQueue=u),E=u.lastEffect,E===null?u.lastEffect=c.next=c:(k=E.next,E.next=c,c.next=k,u.lastEffect=c),c}function ey(){return fr().memoizedState}function Yn(c,u,E,k){var P=Gr();Vt.flags|=c,P.memoizedState=pc(1|u,{destroy:void 0},E,k===void 0?null:k)}function $n(c,u,E,k){var P=fr();k=k===void 0?null:k;var F=P.memoizedState.inst;Kn!==null&&k!==null&&Sh(k,Kn.memoizedState.deps)?P.memoizedState=pc(u,F,E,k):(Vt.flags|=c,P.memoizedState=pc(1|u,F,E,k))}function ty(c,u){Yn(8390656,8,c,u)}function Oh(c,u){$n(2048,8,c,u)}function hE(c){Vt.flags|=4;var u=Vt.updateQueue;if(u===null)u=Vd(),Vt.updateQueue=u,u.events=[c];else{var E=u.events;E===null?u.events=[c]:E.push(c)}}function ny(c){var u=fr().memoizedState;return hE({ref:u,nextImpl:c}),function(){if((fn&2)!==0)throw Error(a(440));return u.impl.apply(void 0,arguments)}}function ry(c,u){return $n(4,2,c,u)}function ay(c,u){return $n(4,4,c,u)}function Nh(c,u){if(typeof u=="function"){c=c();var E=u(c);return function(){typeof E=="function"?E():u(null)}}if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function iy(c,u,E){E=E!=null?E.concat([c]):null,$n(4,4,Nh.bind(null,u,c),E)}function Pr(){}function Kd(c,u){var E=fr();u=u===void 0?null:u;var k=E.memoizedState;return u!==null&&Sh(u,k[1])?k[0]:(E.memoizedState=[c,u],c)}function To(c,u){var E=fr();u=u===void 0?null:u;var k=E.memoizedState;if(u!==null&&Sh(u,k[1]))return k[0];if(k=c(),Pl){j(!0);try{c()}finally{j(!1)}}return E.memoizedState=[k,u],k}function Xd(c,u,E){return E===void 0||(Qs&1073741824)!==0&&(gn&261930)===0?c.memoizedState=u:(c.memoizedState=E,c=Jh(),Vt.lanes|=c,Bo|=c,E)}function Zd(c,u,E,k){return $a(E,u)?E:Mc.current!==null?(c=Xd(c,E,k),$a(c,u)||(Cr=!0),c):(Qs&42)===0||(Qs&1073741824)!==0&&(gn&261930)===0?(Cr=!0,c.memoizedState=E):(c=Jh(),Vt.lanes|=c,Bo|=c,u)}function ri(c,u,E,k,P){var F=ys();wr(F!==0&&8>F?F:8);var ae=Mt.T,_e={};Mt.T=_e,Da(c,!1,u,E);try{var qe=P(),Qe=Mt.S;if(Qe!==null&&Qe(_e,qe),qe!==null&&typeof qe=="object"&&typeof qe.then=="function"){var dt=pt(qe,k);Su(c,u,dt,ii(c))}else Su(c,u,k,ii(c))}catch(it){Su(c,u,{then:function(){},status:"rejected",reason:it},ii())}finally{wr(F),ae!==null&&_e.types!==null&&(ae.types=_e.types),Mt.T=ae}}function Mh(c){var u=c.memoizedState;if(u!==null)return u;u={memoizedState:Ys,baseState:Ys,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:Ys},next:null};var E={};return u.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:E},next:null},c.memoizedState=u,c=c.alternate,c!==null&&(c.memoizedState=u),u}function Qd(){return Ge(Rl)}function Ph(){return fr().memoizedState}function Lh(){return fr().memoizedState}function sy(c){for(var u=c.return;u!==null;){switch(u.tag){case 24:case 3:var E=ii();c=ur(E);var k=Jn(u,c,E);k!==null&&(La(k,u,E),mr(k,u,E)),u={cache:kt()},c.payload=u;return}u=u.return}}function oy(c,u,E){var k=ii();E={lane:k,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null},Jd(c)?Fh(u,E):(E=Ls(c,u,E,k),E!==null&&(La(E,c,k),Us(E,u,k)))}function ka(c,u,E){var k=ii();Su(c,u,E,k)}function Su(c,u,E,k){var P={lane:k,revertLane:0,gesture:null,action:E,hasEagerState:!1,eagerState:null,next:null};if(Jd(c))Fh(u,P);else{var F=c.alternate;if(c.lanes===0&&(F===null||F.lanes===0)&&(F=u.lastRenderedReducer,F!==null))try{var ae=u.lastRenderedState,_e=F(ae,E);if(P.hasEagerState=!0,P.eagerState=_e,$a(_e,ae))return Mr(c,u,P,0),Zn===null&&bn(),!1}catch{}finally{}if(E=Ls(c,u,P,k),E!==null)return La(E,c,k),Us(E,u,k),!0}return!1}function Da(c,u,E,k){if(k={lane:2,revertLane:ft(),gesture:null,action:k,hasEagerState:!1,eagerState:null,next:null},Jd(c)){if(u)throw Error(a(479))}else u=Ls(c,E,k,2),u!==null&&La(u,c,2)}function Jd(c){var u=c.alternate;return c===Vt||u!==null&&u===Vt}function Fh(c,u){Pc=Vf=!0;var E=c.pending;E===null?u.next=u:(u.next=E.next,E.next=u),c.pending=u}function Us(c,u,E){if((E&4194048)!==0){var k=u.lanes;k&=c.pendingLanes,E|=k,u.lanes=E,M(c,E)}}function hc(c,u,E,k){u=c.memoizedState,E=E(k,u),E=E==null?u:Nu({},u,E),c.memoizedState=E,c.lanes===0&&(c.updateQueue.baseState=E)}function ef(c,u,E,k,P,F,ae){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(k,F,ae):u.prototype&&u.prototype.isPureReactComponent?!Rt(E,k)||!Rt(P,F):!0}function er(c,u,E,k){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(E,k),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(E,k),u.state!==c&&jm.enqueueReplaceState(u,u.state,null)}function Oa(c,u){var E=u;if("ref"in u){E={};for(var k in u)k!=="ref"&&(E[k]=u[k])}if(c=c.defaultProps){E===u&&(E=Nu({},E));for(var P in c)E[P]===void 0&&(E[P]=c[P])}return E}function mc(c,u){try{var E=c.onUncaughtError;E(u.value,{componentStack:u.stack})}catch(k){setTimeout(function(){throw k})}}function ly(c,u,E){try{var k=c.onCaughtError;k(E.value,{componentStack:E.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function Eu(c,u,E){return E=ur(E),E.tag=3,E.payload={element:null},E.callback=function(){mc(c,u)},E}function cy(c){return c=ur(c),c.tag=3,c}function uy(c,u,E,k){var P=E.type.getDerivedStateFromError;if(typeof P=="function"){var F=k.value;c.payload=function(){return P(F)},c.callback=function(){ly(u,E,k)}}var ae=E.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(c.callback=function(){ly(u,E,k),typeof P!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var _e=k.stack;this.componentDidCatch(k.value,{componentStack:_e!==null?_e:""})})}function mE(c,u,E,k,P){if(E.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){if(u=E.alternate,u!==null&&Ie(u,E,P,!0),E=ui.current,E!==null){switch(E.tag){case 31:case 13:return Ai===null?mf():E.alternate===null&&nr===0&&(nr=3),E.flags&=-257,E.flags|=65536,E.lanes=P,k===Gf?E.flags|=16384:(u=E.updateQueue,u===null?E.updateQueue=new Set([k]):u.add(k),Wi(c,k,P)),!1;case 22:return E.flags|=65536,k===Gf?E.flags|=16384:(u=E.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([k])},E.updateQueue=u):(E=u.retryQueue,E===null?u.retryQueue=new Set([k]):E.add(k)),Wi(c,k,P)),!1}throw Error(a(435,E.tag))}return Wi(c,k,P),mf(),!1}if(yn)return u=ui.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=P,k!==km&&(c=Error(a(422),{cause:k}),me(re(c,E)))):(k!==km&&(u=Error(a(423),{cause:k}),me(re(u,E))),c=c.current.alternate,c.flags|=65536,P&=-P,c.lanes|=P,k=re(k,E),P=Eu(c.stateNode,k,P),Aa(c,P),nr!==4&&(nr=2)),!1;var F=Error(a(520),{cause:k});if(F=re(F,E),Xu===null?Xu=[F]:Xu.push(F),nr!==4&&(nr=2),u===null)return!0;k=re(k,E),E=u;do{switch(E.tag){case 3:return E.flags|=65536,c=P&-P,E.lanes|=c,c=Eu(E.stateNode,k,c),Aa(E,c),!1;case 1:if(u=E.type,F=E.stateNode,(E.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(jo===null||!jo.has(F))))return E.flags|=65536,P&=-P,E.lanes|=P,P=cy(P),uy(P,c,E,k),Aa(E,P),!1}E=E.return}while(E!==null);return!1}function Hr(c,u,E,k){u.child=c===null?Ev(u,null,E,k):Ml(u,c.child,E,k)}function _u(c,u,E,k,P){E=E.render;var F=u.ref;if("ref"in k){var ae={};for(var _e in k)_e!=="ref"&&(ae[_e]=k[_e])}else ae=k;return ke(u),k=Eh(c,u,E,ae,F,P),_e=hu(),c!==null&&!Cr?(wh(c,u,P),Ma(c,u,P)):(yn&&_e&&ne(u),u.flags|=1,Hr(c,u,k,P),u.child)}function hl(c,u,E,k,P){if(c===null){var F=E.type;return typeof F=="function"&&!nm(F)&&F.defaultProps===void 0&&E.compare===null?(u.tag=15,u.type=F,dy(c,u,F,k,P)):(c=bf(E.type,null,k,u,u.mode,P),c.ref=u.ref,c.return=u,u.child=c)}if(F=c.child,!Gh(c,P)){var ae=F.memoizedProps;if(E=E.compare,E=E!==null?E:Rt,E(ae,k)&&c.ref===u.ref)return Ma(c,u,P)}return u.flags|=1,c=Vs(F,k),c.ref=u.ref,c.return=u,u.child=c}function dy(c,u,E,k,P){if(c!==null){var F=c.memoizedProps;if(Rt(F,k)&&c.ref===u.ref)if(Cr=!1,u.pendingProps=k=F,Gh(c,P))(c.flags&131072)!==0&&(Cr=!0);else return u.lanes=c.lanes,Ma(c,u,P)}return xu(c,u,E,k,P)}function Bh(c,u,E,k){var P=k.children,F=c!==null?c.memoizedState:null;if(c===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),k.mode==="hidden"){if((u.flags&128)!==0){if(F=F!==null?F.baseLanes|E:E,c!==null){for(k=u.child=c.child,P=0;k!==null;)P=P|k.lanes|k.childLanes,k=k.sibling;k=P&~F}else k=0,u.child=null;return tf(c,u,F,E,k)}if((E&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},c!==null&&Je(u,F!==null?F.cachePool:null),F!==null?Gb(u,F):dc(),vh(u);else return k=u.lanes=536870912,tf(c,u,F!==null?F.baseLanes|E:E,E,k)}else F!==null?(Je(u,F.cachePool),Gb(u,F),Bs(),u.memoizedState=null):(c!==null&&Je(u,null),dc(),Bs());return Hr(c,u,P,E),u.child}function gc(c,u){return c!==null&&c.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function tf(c,u,E,k,P){var F=Me();return F=F===null?null:{parent:gs?ir._currentValue:ir._currentValue2,pool:F},u.memoizedState={baseLanes:E,cachePool:F},c!==null&&Je(u,null),dc(),vh(u),c!==null&&Ie(c,u,k,!0),u.childLanes=P,null}function bc(c,u){return u=rf({mode:u.mode,children:u.children},c.mode),u.ref=c.ref,c.child=u,u.return=c,u}function jh(c,u,E){return Ml(u,c.child,null,E),c=bc(u,u.pendingProps),c.flags|=2,Ia(u),u.memoizedState=null,c}function gE(c,u,E){var k=u.pendingProps,P=(u.flags&128)!==0;if(u.flags&=-129,c===null){if(yn){if(k.mode==="hidden")return c=bc(u,k),u.lanes=536870912,gc(null,c);if(yh(u),(c=lr)?(c=Ss(c,Ri),c!==null&&(u.memoizedState={dehydrated:c,treeContext:Xs!==null?{id:Zi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},E=Oy(c),E.return=u,u.child=E,Yr=u,lr=null)):c=null,c===null)throw fe(u);return u.lanes=536870912,null}return bc(u,k)}var F=c.memoizedState;if(F!==null){var ae=F.dehydrated;if(yh(u),P)if(u.flags&256)u.flags&=-257,u=jh(c,u,E);else if(u.memoizedState!==null)u.child=c.child,u.flags|=128,u=null;else throw Error(a(558));else if(Cr||Ie(c,u,E,!1),P=(E&c.childLanes)!==0,Cr||P){if(k=Zn,k!==null&&(ae=U(k,E),ae!==0&&ae!==F.retryLane))throw F.retryLane=ae,$r(c,ae),La(k,c,ae),Um;mf(),u=jh(c,u,E)}else c=F.treeContext,xr&&(lr=av(ae),Yr=u,yn=!0,No=null,Ri=!1,c!==null&&G(u,c)),u=bc(u,k),u.flags|=4096;return u}return c=Vs(c.child,{mode:k.mode,children:k.children}),c.ref=u.ref,u.child=c,c.return=u,c}function yc(c,u){var E=u.ref;if(E===null)c!==null&&c.ref!==null&&(u.flags|=4194816);else{if(typeof E!="function"&&typeof E!="object")throw Error(a(284));(c===null||c.ref!==E)&&(u.flags|=4194816)}}function xu(c,u,E,k,P){return ke(u),E=Eh(c,u,E,k,void 0,P),k=hu(),c!==null&&!Cr?(wh(c,u,P),Ma(c,u,P)):(yn&&k&&ne(u),u.flags|=1,Hr(c,u,E,P),u.child)}function fy(c,u,E,k,P,F){return ke(u),u.updateQueue=null,E=xh(u,k,E,P),_h(c),k=hu(),c!==null&&!Cr?(wh(c,u,F),Ma(c,u,F)):(yn&&k&&ne(u),u.flags|=1,Hr(c,u,E,F),u.child)}function Uh(c,u,E,k,P){if(ke(u),u.stateNode===null){var F=Cc,ae=E.contextType;typeof ae=="object"&&ae!==null&&(F=Ge(ae)),F=new E(k,F),u.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=jm,u.stateNode=F,F._reactInternals=u,F=u.stateNode,F.props=k,F.state=u.memoizedState,F.refs={},xo(u),ae=E.contextType,F.context=typeof ae=="object"&&ae!==null?Ge(ae):Cc,F.state=u.memoizedState,ae=E.getDerivedStateFromProps,typeof ae=="function"&&(hc(u,E,ae,k),F.state=u.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(ae=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),ae!==F.state&&jm.enqueueReplaceState(F,F.state,null),Fs(u,k,F,P),Ei(),F.state=u.memoizedState),typeof F.componentDidMount=="function"&&(u.flags|=4194308),k=!0}else if(c===null){F=u.stateNode;var _e=u.memoizedProps,qe=Oa(E,_e);F.props=qe;var Qe=F.context,dt=E.contextType;ae=Cc,typeof dt=="object"&&dt!==null&&(ae=Ge(dt));var it=E.getDerivedStateFromProps;dt=typeof it=="function"||typeof F.getSnapshotBeforeUpdate=="function",_e=u.pendingProps!==_e,dt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(_e||Qe!==ae)&&er(u,F,k,ae),Lo=!1;var vt=u.memoizedState;F.state=vt,Fs(u,k,F,P),Ei(),Qe=u.memoizedState,_e||vt!==Qe||Lo?(typeof it=="function"&&(hc(u,E,it,k),Qe=u.memoizedState),(qe=Lo||ef(u,E,qe,k,vt,Qe,ae))?(dt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(u.flags|=4194308)):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=k,u.memoizedState=Qe),F.props=k,F.state=Qe,F.context=ae,k=qe):(typeof F.componentDidMount=="function"&&(u.flags|=4194308),k=!1)}else{F=u.stateNode,Gi(c,u),ae=u.memoizedProps,dt=Oa(E,ae),F.props=dt,it=u.pendingProps,vt=F.context,Qe=E.contextType,qe=Cc,typeof Qe=="object"&&Qe!==null&&(qe=Ge(Qe)),_e=E.getDerivedStateFromProps,(Qe=typeof _e=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ae!==it||vt!==qe)&&er(u,F,k,qe),Lo=!1,vt=u.memoizedState,F.state=vt,Fs(u,k,F,P),Ei();var Ht=u.memoizedState;ae!==it||vt!==Ht||Lo||c!==null&&c.dependencies!==null&&je(c.dependencies)?(typeof _e=="function"&&(hc(u,E,_e,k),Ht=u.memoizedState),(dt=Lo||ef(u,E,dt,k,vt,Ht,qe)||c!==null&&c.dependencies!==null&&je(c.dependencies))?(Qe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(k,Ht,qe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(k,Ht,qe)),typeof F.componentDidUpdate=="function"&&(u.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof F.componentDidUpdate!="function"||ae===c.memoizedProps&&vt===c.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ae===c.memoizedProps&&vt===c.memoizedState||(u.flags|=1024),u.memoizedProps=k,u.memoizedState=Ht),F.props=k,F.state=Ht,F.context=qe,k=dt):(typeof F.componentDidUpdate!="function"||ae===c.memoizedProps&&vt===c.memoizedState||(u.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ae===c.memoizedProps&&vt===c.memoizedState||(u.flags|=1024),k=!1)}return F=k,yc(c,u),k=(u.flags&128)!==0,F||k?(F=u.stateNode,E=k&&typeof E.getDerivedStateFromError!="function"?null:F.render(),u.flags|=1,c!==null&&k?(u.child=Ml(u,c.child,null,P),u.child=Ml(u,null,E,P)):Hr(c,u,E,P),u.memoizedState=F.state,c=u.child):c=Ma(c,u,P),c}function Na(c,u,E,k){return se(),u.flags|=256,Hr(c,u,E,k),u.child}function wu(c){return{baseLanes:c,cachePool:Tt()}}function ml(c,u,E){return c=c!==null?c.childLanes&~E:0,u&&(c|=di),c}function zh(c,u,E){var k=u.pendingProps,P=!1,F=(u.flags&128)!==0,ae;if((ae=F)||(ae=c!==null&&c.memoizedState===null?!1:(yr.current&2)!==0),ae&&(P=!0,u.flags&=-129),ae=(u.flags&32)!==0,u.flags&=-33,c===null){if(yn){if(P?wo(u):Bs(),(c=lr)?(c=$E(c,Ri),c!==null&&(u.memoizedState={dehydrated:c,treeContext:Xs!==null?{id:Zi,overflow:ci}:null,retryLane:536870912,hydrationErrors:null},E=Oy(c),E.return=u,u.child=E,Yr=u,lr=null)):c=null,c===null)throw fe(u);return ym(c)?u.lanes=32:u.lanes=536870912,null}var _e=k.children;return k=k.fallback,P?(Bs(),P=u.mode,_e=rf({mode:"hidden",children:_e},P),k=xl(k,P,E,null),_e.return=u,k.return=u,_e.sibling=k,u.child=_e,k=u.child,k.memoizedState=wu(E),k.childLanes=ml(c,ae,E),u.memoizedState=zm,gc(null,k)):(wo(u),nf(u,_e))}var qe=c.memoizedState;if(qe!==null&&(_e=qe.dehydrated,_e!==null)){if(F)u.flags&256?(wo(u),u.flags&=-257,u=qh(c,u,E)):u.memoizedState!==null?(Bs(),u.child=c.child,u.flags|=128,u=null):(Bs(),_e=k.fallback,P=u.mode,k=rf({mode:"visible",children:k.children},P),_e=xl(_e,P,E,null),_e.flags|=2,k.return=u,_e.return=u,k.sibling=_e,u.child=k,Ml(u,c.child,null,E),k=u.child,k.memoizedState=wu(E),k.childLanes=ml(c,ae,E),u.memoizedState=zm,u=gc(null,k));else if(wo(u),ym(_e))ae=Oo(_e).digest,k=Error(a(419)),k.stack="",k.digest=ae,me({value:k,source:null,stack:null}),u=qh(c,u,E);else if(Cr||Ie(c,u,E,!1),ae=(E&c.childLanes)!==0,Cr||ae){if(ae=Zn,ae!==null&&(k=U(ae,E),k!==0&&k!==qe.retryLane))throw qe.retryLane=k,$r(c,k),La(ae,c,k),Um;vs(_e)||mf(),u=qh(c,u,E)}else vs(_e)?(u.flags|=192,u.child=c.child,u=null):(c=qe.treeContext,xr&&(lr=qE(_e),Yr=u,yn=!0,No=null,Ri=!1,c!==null&&G(u,c)),u=nf(u,k.children),u.flags|=4096);return u}return P?(Bs(),_e=k.fallback,P=u.mode,qe=c.child,F=qe.sibling,k=Vs(qe,{mode:"hidden",children:k.children}),k.subtreeFlags=qe.subtreeFlags&65011712,F!==null?_e=Vs(F,_e):(_e=xl(_e,P,E,null),_e.flags|=2),_e.return=u,k.return=u,k.sibling=_e,u.child=k,gc(null,k),k=u.child,_e=c.child.memoizedState,_e===null?_e=wu(E):(P=_e.cachePool,P!==null?(qe=gs?ir._currentValue:ir._currentValue2,P=P.parent!==qe?{parent:qe,pool:qe}:P):P=Tt(),_e={baseLanes:_e.baseLanes|E,cachePool:P}),k.memoizedState=_e,k.childLanes=ml(c,ae,E),u.memoizedState=zm,gc(c.child,k)):(wo(u),E=c.child,c=E.sibling,E=Vs(E,{mode:"visible",children:k.children}),E.return=u,E.sibling=null,c!==null&&(ae=u.deletions,ae===null?(u.deletions=[c],u.flags|=16):ae.push(c)),u.child=E,u.memoizedState=null,E)}function nf(c,u){return u=rf({mode:"visible",children:u},c.mode),u.return=c,c.child=u}function rf(c,u){return c=n(22,c,null,u),c.lanes=0,c}function qh(c,u,E){return Ml(u,c.child,null,E),c=nf(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function py(c,u,E){c.lanes|=u;var k=c.alternate;k!==null&&(k.lanes|=u),Te(c.return,u,E)}function $h(c,u,E,k,P,F){var ae=c.memoizedState;ae===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:k,tail:E,tailMode:P,treeForkCount:F}:(ae.isBackwards=u,ae.rendering=null,ae.renderingStartTime=0,ae.last=k,ae.tail=E,ae.tailMode=P,ae.treeForkCount=F)}function hy(c,u,E){var k=u.pendingProps,P=k.revealOrder,F=k.tail;k=k.children;var ae=yr.current,_e=(ae&2)!==0;if(_e?(ae=ae&1|2,u.flags|=128):ae&=1,g(yr,ae),Hr(c,u,k,E),k=yn?Ic:0,!_e&&c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&py(c,E,u);else if(c.tag===19)py(c,E,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(P){case"forwards":for(E=u.child,P=null;E!==null;)c=E.alternate,c!==null&&Gd(c)===null&&(P=E),E=E.sibling;E=P,E===null?(P=u.child,u.child=null):(P=E.sibling,E.sibling=null),$h(u,!1,P,E,F,k);break;case"backwards":case"unstable_legacy-backwards":for(E=null,P=u.child,u.child=null;P!==null;){if(c=P.alternate,c!==null&&Gd(c)===null){u.child=P;break}c=P.sibling,P.sibling=E,E=P,P=c}$h(u,!0,E,null,F,k);break;case"together":$h(u,!1,null,null,void 0,k);break;default:u.memoizedState=null}return u.child}function Ma(c,u,E){if(c!==null&&(u.dependencies=c.dependencies),Bo|=u.lanes,(E&u.childLanes)===0)if(c!==null){if(Ie(c,u,E,!1),(E&u.childLanes)===0)return null}else return null;if(c!==null&&u.child!==c.child)throw Error(a(153));if(u.child!==null){for(c=u.child,E=Vs(c,c.pendingProps),u.child=E,E.return=u;c.sibling!==null;)c=c.sibling,E=E.sibling=Vs(c,c.pendingProps),E.return=u;E.sibling=null}return u.child}function Gh(c,u){return(c.lanes&u)!==0?!0:(c=c.dependencies,!!(c!==null&&je(c)))}function bE(c,u,E){switch(u.tag){case 3:W(u,u.stateNode.containerInfo),ce(u,ir,c.memoizedState.cache),se();break;case 27:case 5:Ee(u);break;case 4:W(u,u.stateNode.containerInfo);break;case 10:ce(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,yh(u),null;break;case 13:var k=u.memoizedState;if(k!==null)return k.dehydrated!==null?(wo(u),u.flags|=128,null):(E&u.child.childLanes)!==0?zh(c,u,E):(wo(u),c=Ma(c,u,E),c!==null?c.sibling:null);wo(u);break;case 19:var P=(c.flags&128)!==0;if(k=(E&u.childLanes)!==0,k||(Ie(c,u,E,!1),k=(E&u.childLanes)!==0),P){if(k)return hy(c,u,E);u.flags|=128}if(P=u.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),g(yr,yr.current),k)break;return null;case 22:return u.lanes=0,Bh(c,u,E,u.pendingProps);case 24:ce(u,ir,c.memoizedState.cache)}return Ma(c,u,E)}function af(c,u,E){if(c!==null)if(c.memoizedProps!==u.pendingProps)Cr=!0;else{if(!Gh(c,E)&&(u.flags&128)===0)return Cr=!1,bE(c,u,E);Cr=(c.flags&131072)!==0}else Cr=!1,yn&&(u.flags&1048576)!==0&&Y(u,Ic,u.index);switch(u.lanes=0,u.tag){case 16:e:{var k=u.pendingProps;if(c=Yt(u.elementType),u.type=c,typeof c=="function")nm(c)?(k=Oa(c,k),u.tag=1,u=Uh(null,u,c,k,E)):(u.tag=0,u=xu(null,u,c,k,E));else{if(c!=null){var P=c.$$typeof;if(P===Ba){u.tag=11,u=_u(null,u,c,k,E);break e}else if(P===Ef){u.tag=14,u=hl(null,u,c,k,E);break e}}throw u=h(c)||c,Error(a(306,u,""))}}return u;case 0:return xu(c,u,u.type,u.pendingProps,E);case 1:return k=u.type,P=Oa(k,u.pendingProps),Uh(c,u,k,P,E);case 3:e:{if(W(u,u.stateNode.containerInfo),c===null)throw Error(a(387));var F=u.pendingProps;P=u.memoizedState,k=P.element,Gi(c,u),Fs(u,F,null,E);var ae=u.memoizedState;if(F=ae.cache,ce(u,ir,F),F!==P.cache&&be(u,[ir],E,!0),Ei(),F=ae.element,xr&&P.isDehydrated)if(P={element:F,isDehydrated:!1,cache:ae.cache},u.updateQueue.baseState=P,u.memoizedState=P,u.flags&256){u=Na(c,u,F,E);break e}else if(F!==k){k=re(Error(a(424)),u),me(k),u=Na(c,u,F,E);break e}else for(xr&&(lr=rv(u.stateNode.containerInfo),Yr=u,yn=!0,No=null,Ri=!0),E=Ev(u,null,F,E),u.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(se(),F===k){u=Ma(c,u,E);break e}Hr(c,u,F,E)}u=u.child}return u;case 26:if(za)return yc(c,u),c===null?(E=hv(u.type,null,u.pendingProps,null))?u.memoizedState=E:yn||(u.stateNode=bv(u.type,u.pendingProps,Va.current,u)):u.memoizedState=hv(u.type,c.memoizedProps,u.pendingProps,c.memoizedState),null;case 27:if(br)return Ee(u),c===null&&br&&yn&&(k=u.stateNode=Mf(u.type,u.pendingProps,Va.current,Wr.current,!1),Yr=u,Ri=!0,lr=iv(u.type,k,lr)),Hr(c,u,u.pendingProps.children,E),yc(c,u),c===null&&(u.flags|=4194304),u.child;case 5:return c===null&&yn&&(WE(u.type,u.pendingProps,Wr.current),(P=k=lr)&&(k=sv(k,u.type,u.pendingProps,Ri),k!==null?(u.stateNode=k,Yr=u,lr=zE(k),Ri=!1,P=!0):P=!1),P||fe(u)),Ee(u),P=u.type,F=u.pendingProps,ae=c!==null?c.memoizedProps:null,k=F.children,Tf(P,F)?k=null:ae!==null&&Tf(P,ae)&&(u.flags|=32),u.memoizedState!==null&&(P=Eh(c,u,Hb,null,null,E),gs?Rl._currentValue=P:Rl._currentValue2=P),yc(c,u),Hr(c,u,k,E),u.child;case 6:return c===null&&yn&&(pv(u.pendingProps,Wr.current),(c=E=lr)&&(E=Ua(E,u.pendingProps,Ri),E!==null?(u.stateNode=E,Yr=u,lr=null,c=!0):c=!1),c||fe(u)),null;case 13:return zh(c,u,E);case 4:return W(u,u.stateNode.containerInfo),k=u.pendingProps,c===null?u.child=Ml(u,null,k,E):Hr(c,u,k,E),u.child;case 11:return _u(c,u,u.type,u.pendingProps,E);case 7:return Hr(c,u,u.pendingProps,E),u.child;case 8:return Hr(c,u,u.pendingProps.children,E),u.child;case 12:return Hr(c,u,u.pendingProps.children,E),u.child;case 10:return k=u.pendingProps,ce(u,u.type,k.value),Hr(c,u,k.children,E),u.child;case 9:return P=u.type._context,k=u.pendingProps.children,ke(u),P=Ge(P),k=k(P),u.flags|=1,Hr(c,u,k,E),u.child;case 14:return hl(c,u,u.type,u.pendingProps,E);case 15:return dy(c,u,u.type,u.pendingProps,E);case 19:return hy(c,u,E);case 31:return gE(c,u,E);case 22:return Bh(c,u,E,u.pendingProps);case 24:return ke(u),k=Ge(ir),c===null?(P=Me(),P===null&&(P=Zn,F=kt(),P.pooledCache=F,F.refCount++,F!==null&&(P.pooledCacheLanes|=E),P=F),u.memoizedState={parent:k,cache:P},xo(u),ce(u,ir,P)):((c.lanes&E)!==0&&(Gi(c,u),Fs(u,null,null,E),Ei()),P=c.memoizedState,F=u.memoizedState,P.parent!==k?(P={parent:k,cache:k},u.memoizedState=P,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=P),ce(u,ir,k)):(k=F.cache,ce(u,ir,k),k!==P.cache&&be(u,[ir],E,!0))),Hr(c,u,u.pendingProps.children,E),u.child;case 29:throw u.pendingProps}throw Error(a(156,u.tag))}function _i(c){c.flags|=4}function Hi(c){bs&&(c.flags|=8)}function Tu(c,u){if(c!==null&&c.child===u.child)return!1;if((u.flags&16)!==0)return!0;for(c=u.child;c!==null;){if((c.flags&8218)!==0||(c.subtreeFlags&8218)!==0)return!0;c=c.sibling}return!1}function Hh(c,u,E,k){if(ca)for(E=u.child;E!==null;){if(E.tag===5||E.tag===6)Pu(c,E.stateNode);else if(!(E.tag===4||br&&E.tag===27)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===u)break;for(;E.sibling===null;){if(E.return===null||E.return===u)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else if(bs)for(var P=u.child;P!==null;){if(P.tag===5){var F=P.stateNode;E&&k&&(F=If(F,P.type,P.memoizedProps)),Pu(c,F)}else if(P.tag===6)F=P.stateNode,E&&k&&(F=kf(F,P.memoizedProps)),Pu(c,F);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)F=P.child,F!==null&&(F.return=P),Hh(c,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===u)break;for(;P.sibling===null;){if(P.return===null||P.return===u)return;P=P.return}P.sibling.return=P.return,P=P.sibling}}function my(c,u,E,k){var P=!1;if(bs)for(var F=u.child;F!==null;){if(F.tag===5){var ae=F.stateNode;E&&k&&(ae=If(ae,F.type,F.memoizedProps)),mm(c,ae)}else if(F.tag===6)ae=F.stateNode,E&&k&&(ae=kf(ae,F.memoizedProps)),mm(c,ae);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)P=F.child,P!==null&&(P.return=F),my(c,F,!0,!0),P=!0;else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===u)break;for(;F.sibling===null;){if(F.return===null||F.return===u)return P;F=F.return}F.sibling.return=F.return,F=F.sibling}return P}function gy(c,u){if(bs&&Tu(c,u)){c=u.stateNode;var E=c.containerInfo,k=Fu();my(k,u,!1,!1),c.pendingChildren=k,_i(u),gm(E,k)}}function Co(c,u,E,k){if(ca)c.memoizedProps!==k&&_i(u);else if(bs){var P=c.stateNode,F=c.memoizedProps;if((c=Tu(c,u))||F!==k){var ae=Wr.current;F=Jy(P,E,F,k,!c,null),F===P?u.stateNode=P:(Hi(u),qy(F,E,k,ae)&&_i(u),u.stateNode=F,c&&Hh(F,u,!1,!1))}else u.stateNode=P}}function ai(c,u,E,k,P){if((c.mode&32)!==0&&(E===null?Gy(u,k):cm(u,E,k))){if(c.flags|=16777216,(P&335544128)===P||um(u,k))if(Cf(c.stateNode,u,k))c.flags|=8192;else if(Sy())c.flags|=8192;else throw Po=Gf,Mm}else c.flags&=-16777217}function Vh(c,u){if(KE(u)){if(c.flags|=16777216,!_s(u))if(Sy())c.flags|=8192;else throw Po=Gf,Mm}else c.flags&=-16777217}function sf(c,u){u!==null&&(c.flags|=4),c.flags&16384&&(u=c.tag!==22?C():536870912,c.lanes|=u,jc|=u)}function Cu(c,u){if(!yn)switch(c.tailMode){case"hidden":u=c.tail;for(var E=null;u!==null;)u.alternate!==null&&(E=u),u=u.sibling;E===null?c.tail=null:E.sibling=null;break;case"collapsed":E=c.tail;for(var k=null;E!==null;)E.alternate!==null&&(k=E),E=E.sibling;k===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:k.sibling=null}}function tr(c){var u=c.alternate!==null&&c.alternate.child===c.child,E=0,k=0;if(u)for(var P=c.child;P!==null;)E|=P.lanes|P.childLanes,k|=P.subtreeFlags&65011712,k|=P.flags&65011712,P.return=c,P=P.sibling;else for(P=c.child;P!==null;)E|=P.lanes|P.childLanes,k|=P.subtreeFlags,k|=P.flags,P.return=c,P=P.sibling;return c.subtreeFlags|=k,c.childLanes=E,u}function yE(c,u,E){var k=u.pendingProps;switch(te(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(u),null;case 1:return tr(u),null;case 3:return E=u.stateNode,k=null,c!==null&&(k=c.memoizedState.cache),u.memoizedState.cache!==k&&(u.flags|=2048),pe(ir),ue(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(c===null||c.child===null)&&(de(u)?_i(u):c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Se())),gy(c,u),tr(u),null;case 26:if(za){var P=u.type,F=u.memoizedState;return c===null?(_i(u),F!==null?(tr(u),Vh(u,F)):(tr(u),ai(u,P,null,k,E))):F?F!==c.memoizedState?(_i(u),tr(u),Vh(u,F)):(tr(u),u.flags&=-16777217):(F=c.memoizedProps,ca?F!==k&&_i(u):Co(c,u,P,k),tr(u),ai(u,P,F,k,E)),null}case 27:if(br){if(ge(u),E=Va.current,P=u.type,c!==null&&u.stateNode!=null)ca?c.memoizedProps!==k&&_i(u):Co(c,u,P,k);else{if(!k){if(u.stateNode===null)throw Error(a(166));return tr(u),null}c=Wr.current,de(u)?Ae(u,c):(c=Mf(P,k,E,c,!0),u.stateNode=c,_i(u))}return tr(u),null}case 5:if(ge(u),P=u.type,c!==null&&u.stateNode!=null)Co(c,u,P,k);else{if(!k){if(u.stateNode===null)throw Error(a(166));return tr(u),null}if(F=Wr.current,de(u))Ae(u,F),uv(u.stateNode,P,k,F)&&(u.flags|=64);else{var ae=ya(P,k,Va.current,F,u);Hi(u),Hh(ae,u,!1,!1),u.stateNode=ae,qy(ae,P,k,F)&&_i(u)}}return tr(u),ai(u,u.type,c===null?null:c.memoizedProps,u.pendingProps,E),null;case 6:if(c&&u.stateNode!=null)E=c.memoizedProps,ca?E!==k&&_i(u):bs&&(E!==k?(c=Va.current,E=Wr.current,Hi(u),u.stateNode=$y(k,c,E,u)):u.stateNode=c.stateNode);else{if(typeof k!="string"&&u.stateNode===null)throw Error(a(166));if(c=Va.current,E=Wr.current,de(u)){if(!xr)throw Error(a(176));if(c=u.stateNode,E=u.memoizedProps,k=null,P=Yr,P!==null)switch(P.tag){case 27:case 5:k=P.memoizedProps}Df(c,E,u,k)||fe(u,!0)}else Hi(u),u.stateNode=$y(k,c,E,u)}return tr(u),null;case 31:if(E=u.memoizedState,c===null||c.memoizedState!==null){if(k=de(u),E!==null){if(c===null){if(!k)throw Error(a(318));if(!xr)throw Error(a(556));if(c=u.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(557));wc(c,u)}else se(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;tr(u),c=!1}else E=Se(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=E),c=!0;if(!c)return u.flags&256?(Ia(u),u):(Ia(u),null);if((u.flags&128)!==0)throw Error(a(558))}return tr(u),null;case 13:if(k=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(P=de(u),k!==null&&k.dehydrated!==null){if(c===null){if(!P)throw Error(a(318));if(!xr)throw Error(a(344));if(P=u.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(a(317));ov(P,u)}else se(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;tr(u),P=!1}else P=Se(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=P),P=!0;if(!P)return u.flags&256?(Ia(u),u):(Ia(u),null)}return Ia(u),(u.flags&128)!==0?(u.lanes=E,u):(E=k!==null,c=c!==null&&c.memoizedState!==null,E&&(k=u.child,P=null,k.alternate!==null&&k.alternate.memoizedState!==null&&k.alternate.memoizedState.cachePool!==null&&(P=k.alternate.memoizedState.cachePool.pool),F=null,k.memoizedState!==null&&k.memoizedState.cachePool!==null&&(F=k.memoizedState.cachePool.pool),F!==P&&(k.flags|=2048)),E!==c&&E&&(u.child.flags|=8192),sf(u,u.updateQueue),tr(u),null);case 4:return ue(),gy(c,u),c===null&&AE(u.stateNode.containerInfo),tr(u),null;case 10:return pe(u.type),tr(u),null;case 19:if(b(yr),k=u.memoizedState,k===null)return tr(u),null;if(P=(u.flags&128)!==0,F=k.rendering,F===null)if(P)Cu(k,!1);else{if(nr!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(F=Gd(c),F!==null){for(u.flags|=128,Cu(k,!1),c=F.updateQueue,u.updateQueue=c,sf(u,c),u.subtreeFlags=0,c=E,E=u.child;E!==null;)Dy(E,c),E=E.sibling;return g(yr,yr.current&1|2),yn&&ee(u,k.treeForkCount),u.child}c=c.sibling}k.tail!==null&&qa()>Zu&&(u.flags|=128,P=!0,Cu(k,!1),u.lanes=4194304)}else{if(!P)if(c=Gd(F),c!==null){if(u.flags|=128,P=!0,c=c.updateQueue,u.updateQueue=c,sf(u,c),Cu(k,!0),k.tail===null&&k.tailMode==="hidden"&&!F.alternate&&!yn)return tr(u),null}else 2*qa()-k.renderingStartTime>Zu&&E!==536870912&&(u.flags|=128,P=!0,Cu(k,!1),u.lanes=4194304);k.isBackwards?(F.sibling=u.child,u.child=F):(c=k.last,c!==null?c.sibling=F:u.child=F,k.last=F)}return k.tail!==null?(c=k.tail,k.rendering=c,k.tail=c.sibling,k.renderingStartTime=qa(),c.sibling=null,E=yr.current,g(yr,P?E&1|2:E&1),yn&&ee(u,k.treeForkCount),c):(tr(u),null);case 22:case 23:return Ia(u),bh(),k=u.memoizedState!==null,c!==null?c.memoizedState!==null!==k&&(u.flags|=8192):k&&(u.flags|=8192),k?(E&536870912)!==0&&(u.flags&128)===0&&(tr(u),u.subtreeFlags&6&&(u.flags|=8192)):tr(u),E=u.updateQueue,E!==null&&sf(u,E.retryQueue),E=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(E=c.memoizedState.cachePool.pool),k=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(k=u.memoizedState.cachePool.pool),k!==E&&(u.flags|=2048),c!==null&&b(Nl),null;case 24:return E=null,c!==null&&(E=c.memoizedState.cache),u.memoizedState.cache!==E&&(u.flags|=2048),pe(ir),tr(u),null;case 25:return null;case 30:return null}throw Error(a(156,u.tag))}function vE(c,u){switch(te(u),u.tag){case 1:return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return pe(ir),ue(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 26:case 27:case 5:return ge(u),null;case 31:if(u.memoizedState!==null){if(Ia(u),u.alternate===null)throw Error(a(340));se()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 13:if(Ia(u),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(a(340));se()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return b(yr),null;case 4:return ue(),null;case 10:return pe(u.type),null;case 22:case 23:return Ia(u),bh(),c!==null&&b(Nl),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 24:return pe(ir),null;case 25:return null;default:return null}}function gl(c,u){switch(te(u),u.tag){case 3:pe(ir),ue();break;case 26:case 27:case 5:ge(u);break;case 4:ue();break;case 31:u.memoizedState!==null&&Ia(u);break;case 13:Ia(u);break;case 19:b(yr);break;case 10:pe(u.type);break;case 22:case 23:Ia(u),bh(),c!==null&&b(Nl);break;case 24:pe(ir)}}function Ce(c,u){try{var E=u.updateQueue,k=E!==null?E.lastEffect:null;if(k!==null){var P=k.next;E=P;do{if((E.tag&c)===c){k=void 0;var F=E.create,ae=E.inst;k=F(),ae.destroy=k}E=E.next}while(E!==P)}}catch(_e){An(u,u.return,_e)}}function We(c,u,E){try{var k=u.updateQueue,P=k!==null?k.lastEffect:null;if(P!==null){var F=P.next;k=F;do{if((k.tag&c)===c){var ae=k.inst,_e=ae.destroy;if(_e!==void 0){ae.destroy=void 0,P=u;var qe=E,Qe=_e;try{Qe()}catch(dt){An(P,qe,dt)}}}k=k.next}while(k!==F)}}catch(dt){An(u,u.return,dt)}}function Ue(c){var u=c.updateQueue;if(u!==null){var E=c.stateNode;try{pu(u,E)}catch(k){An(c,c.return,k)}}}function yt(c,u,E){E.props=Oa(c.type,c.memoizedProps),E.state=c.memoizedState;try{E.componentWillUnmount()}catch(k){An(c,u,k)}}function Ut(c,u){try{var E=c.ref;if(E!==null){switch(c.tag){case 26:case 27:case 5:var k=ja(c.stateNode);break;case 30:k=c.stateNode;break;default:k=c.stateNode}typeof E=="function"?c.refCleanup=E(k):E.current=k}}catch(P){An(c,u,P)}}function Jt(c,u){var E=c.ref,k=c.refCleanup;if(E!==null)if(typeof k=="function")try{k()}catch(P){An(c,u,P)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(P){An(c,u,P)}else E.current=null}function _r(c){var u=c.type,E=c.memoizedProps,k=c.stateNode;try{Xy(k,u,E,c)}catch(P){An(c,c.return,P)}}function Gn(c,u,E){try{FE(c.stateNode,c.type,E,u,c)}catch(k){An(c,c.return,k)}}function of(c){return c.tag===5||c.tag===3||(za?c.tag===26:!1)||(br?c.tag===27&&Ks(c.type):!1)||c.tag===4}function Wh(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||of(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(br&&c.tag===27&&Ks(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Pa(c,u,E){var k=c.tag;if(k===5||k===6)c=c.stateNode,u?Ti(E,c,u):LE(E,c);else if(k!==4&&(br&&k===27&&Ks(c.type)&&(E=c.stateNode,u=null),c=c.child,c!==null))for(Pa(c,u,E),c=c.sibling;c!==null;)Pa(c,u,E),c=c.sibling}function bl(c,u,E){var k=c.tag;if(k===5||k===6)c=c.stateNode,u?BE(E,c,u):PE(E,c);else if(k!==4&&(br&&k===27&&Ks(c.type)&&(E=c.stateNode),c=c.child,c!==null))for(bl(c,u,E),c=c.sibling;c!==null;)bl(c,u,E),c=c.sibling}function by(c,u,E){c=c.containerInfo;try{bm(c,E)}catch(k){An(u,u.return,k)}}function yl(c){var u=c.stateNode,E=c.memoizedProps;try{Pf(c.type,E,u,c)}catch(k){An(c,c.return,k)}}function lf(c,u){for(Cl(c.containerInfo),vr=u;vr!==null;)if(c=vr,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,vr=u;else for(;vr!==null;){c=vr;var E=c.alternate;switch(u=c.flags,c.tag){case 0:if((u&4)!==0&&(u=c.updateQueue,u=u!==null?u.events:null,u!==null))for(var k=0;k<u.length;k++){var P=u[k];P.ref.impl=P.nextImpl}break;case 11:case 15:break;case 1:if((u&1024)!==0&&E!==null){u=void 0,k=c,P=E.memoizedProps,E=E.memoizedState;var F=k.stateNode;try{var ae=Oa(k.type,P);u=F.getSnapshotBeforeUpdate(ae,E),F.__reactInternalSnapshotBeforeUpdate=u}catch(_e){An(k,k.return,_e)}}break;case 3:(u&1024)!==0&&ca&&hm(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(a(163))}if(u=c.sibling,u!==null){u.return=c.return,vr=u;break}vr=c.return}}function Ru(c,u,E){var k=E.flags;switch(E.tag){case 0:case 11:case 15:xi(c,E),k&4&&Ce(5,E);break;case 1:if(xi(c,E),k&4)if(c=E.stateNode,u===null)try{c.componentDidMount()}catch(ae){An(E,E.return,ae)}else{var P=Oa(E.type,u.memoizedProps);u=u.memoizedState;try{c.componentDidUpdate(P,u,c.__reactInternalSnapshotBeforeUpdate)}catch(ae){An(E,E.return,ae)}}k&64&&Ue(E),k&512&&Ut(E,E.return);break;case 3:if(xi(c,E),k&64&&(k=E.updateQueue,k!==null)){if(c=null,E.child!==null)switch(E.child.tag){case 27:case 5:c=ja(E.child.stateNode);break;case 1:c=E.child.stateNode}try{pu(k,c)}catch(ae){An(E,E.return,ae)}}break;case 27:br&&u===null&&k&4&&yl(E);case 26:case 5:if(xi(c,E),u===null){if(k&4)_r(E);else if(k&64){c=E.type,u=E.memoizedProps,P=E.stateNode;try{cv(P,c,u,E)}catch(ae){An(E,E.return,ae)}}}k&512&&Ut(E,E.return);break;case 12:xi(c,E);break;case 31:xi(c,E),k&4&&Au(c,E);break;case 13:xi(c,E),k&4&&yy(c,E),k&64&&(k=E.memoizedState,k!==null&&(k=k.dehydrated,k!==null&&(E=_E.bind(null,E),ev(k,E))));break;case 22:if(k=E.memoizedState!==null||Js,!k){u=u!==null&&u.memoizedState!==null||Rr,P=Js;var F=Rr;Js=k,(Rr=u)&&!F?hs(c,E,(E.subtreeFlags&8772)!==0):xi(c,E),Js=P,Rr=F}break;case 30:break;default:xi(c,E)}}function Fn(c){var u=c.alternate;u!==null&&(c.alternate=null,Fn(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&DE(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Vi(c,u,E){for(E=E.child;E!==null;)cf(c,u,E),E=E.sibling}function cf(c,u,E){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(Gu,E)}catch{}switch(E.tag){case 26:if(za){Rr||Jt(E,u),Vi(c,u,E),E.memoizedState?Es(E.memoizedState):E.stateNode&&gv(E.stateNode);break}case 27:if(br){Rr||Jt(E,u);var k=Ar,P=Ya;Ks(E.type)&&(Ar=E.stateNode,Ya=!1),Vi(c,u,E),Il(E.stateNode),Ar=k,Ya=P;break}case 5:Rr||Jt(E,u);case 6:if(ca){if(k=Ar,P=Ya,Ar=null,Vi(c,u,E),Ar=k,Ya=P,Ar!==null)if(Ya)try{Rf(Ar,E.stateNode)}catch(F){An(E,u,F)}else try{jE(Ar,E.stateNode)}catch(F){An(E,u,F)}}else Vi(c,u,E);break;case 18:ca&&Ar!==null&&(Ya?fv(Ar,E.stateNode):Of(Ar,E.stateNode));break;case 4:ca?(k=Ar,P=Ya,Ar=E.stateNode.containerInfo,Ya=!0,Vi(c,u,E),Ar=k,Ya=P):(bs&&by(E.stateNode,E,Fu()),Vi(c,u,E));break;case 0:case 11:case 14:case 15:We(2,E,u),Rr||We(4,E,u),Vi(c,u,E);break;case 1:Rr||(Jt(E,u),k=E.stateNode,typeof k.componentWillUnmount=="function"&&yt(E,u,k)),Vi(c,u,E);break;case 21:Vi(c,u,E);break;case 22:Rr=(k=Rr)||E.memoizedState!==null,Vi(c,u,E),Rr=k;break;default:Vi(c,u,E)}}function Au(c,u){if(xr&&u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Bu(c)}catch(E){An(u,u.return,E)}}}function yy(c,u){if(xr&&u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{VE(c)}catch(E){An(u,u.return,E)}}function SE(c){switch(c.tag){case 31:case 13:case 19:var u=c.stateNode;return u===null&&(u=c.stateNode=new xv),u;case 22:return c=c.stateNode,u=c._retryCache,u===null&&(u=c._retryCache=new xv),u;default:throw Error(a(435,c.tag))}}function uf(c,u){var E=SE(c);u.forEach(function(k){if(!E.has(k)){E.add(k);var P=xE.bind(null,c,k);k.then(P,P)}})}function Lr(c,u){var E=u.deletions;if(E!==null)for(var k=0;k<E.length;k++){var P=E[k],F=c,ae=u;if(ca){var _e=ae;e:for(;_e!==null;){switch(_e.tag){case 27:if(br){if(Ks(_e.type)){Ar=_e.stateNode,Ya=!1;break e}break}case 5:Ar=_e.stateNode,Ya=!1;break e;case 3:case 4:Ar=_e.stateNode.containerInfo,Ya=!0;break e}_e=_e.return}if(Ar===null)throw Error(a(160));cf(F,ae,P),Ar=null,Ya=!1}else cf(F,ae,P);F=P.alternate,F!==null&&(F.return=null),P.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)zs(u,c),u=u.sibling}function zs(c,u){var E=c.alternate,k=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Lr(u,c),Vr(c),k&4&&(We(3,c,c.return),Ce(3,c),We(5,c,c.return));break;case 1:Lr(u,c),Vr(c),k&512&&(Rr||E===null||Jt(E,E.return)),k&64&&Js&&(c=c.updateQueue,c!==null&&(k=c.callbacks,k!==null&&(E=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=E===null?k:E.concat(k))));break;case 26:if(za){var P=Qi;if(Lr(u,c),Vr(c),k&512&&(Rr||E===null||Jt(E,E.return)),k&4){k=E!==null?E.memoizedState:null;var F=c.memoizedState;E===null?F===null?c.stateNode===null?c.stateNode=mv(P,c.type,c.memoizedProps,c):xm(P,c.type,c.stateNode):c.stateNode=_m(P,F,c.memoizedProps):k!==F?(k===null?E.stateNode!==null&&gv(E.stateNode):Es(k),F===null?xm(P,c.type,c.stateNode):_m(P,F,c.memoizedProps)):F===null&&c.stateNode!==null&&Gn(c,c.memoizedProps,E.memoizedProps)}break}case 27:if(br){Lr(u,c),Vr(c),k&512&&(Rr||E===null||Jt(E,E.return)),E!==null&&k&4&&Gn(c,c.memoizedProps,E.memoizedProps);break}case 5:if(Lr(u,c),Vr(c),k&512&&(Rr||E===null||Jt(E,E.return)),ca){if(c.flags&32){P=c.stateNode;try{Af(P)}catch(it){An(c,c.return,it)}}k&4&&c.stateNode!=null&&(P=c.memoizedProps,Gn(c,P,E!==null?E.memoizedProps:P)),k&1024&&(Yf=!0)}else bs&&c.alternate!==null&&(c.alternate.stateNode=c.stateNode);break;case 6:if(Lr(u,c),Vr(c),k&4&&ca){if(c.stateNode===null)throw Error(a(162));k=c.memoizedProps,E=E!==null?E.memoizedProps:k,P=c.stateNode;try{Lu(P,E,k)}catch(it){An(c,c.return,it)}}break;case 3:if(za?(YE(),P=Qi,Qi=Uu(u.containerInfo),Lr(u,c),Qi=P):Lr(u,c),Vr(c),k&4){if(ca&&xr&&E!==null&&E.memoizedState.isDehydrated)try{Tc(u.containerInfo)}catch(it){An(c,c.return,it)}if(bs){k=u.containerInfo,E=u.pendingChildren;try{bm(k,E)}catch(it){An(c,c.return,it)}}}Yf&&(Yf=!1,Yh(c));break;case 4:za?(E=Qi,Qi=Uu(c.stateNode.containerInfo),Lr(u,c),Vr(c),Qi=E):(Lr(u,c),Vr(c)),k&4&&bs&&by(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Lr(u,c),Vr(c);break;case 31:Lr(u,c),Vr(c),k&4&&(k=c.updateQueue,k!==null&&(c.updateQueue=null,uf(c,k)));break;case 13:Lr(u,c),Vr(c),c.child.flags&8192&&c.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(ep=qa()),k&4&&(k=c.updateQueue,k!==null&&(c.updateQueue=null,uf(c,k)));break;case 22:P=c.memoizedState!==null;var ae=E!==null&&E.memoizedState!==null,_e=Js,qe=Rr;if(Js=_e||P,Rr=qe||ae,Lr(u,c),Rr=qe,Js=_e,Vr(c),k&8192&&(u=c.stateNode,u._visibility=P?u._visibility&-2:u._visibility|1,P&&(E===null||ae||Js||Rr||Ro(c)),ca)){e:if(E=null,ca)for(u=c;;){if(u.tag===5||za&&u.tag===26){if(E===null){ae=E=u;try{F=ae.stateNode,P?Zy(F):li(ae.stateNode,ae.memoizedProps)}catch(it){An(ae,ae.return,it)}}}else if(u.tag===6){if(E===null){ae=u;try{var Qe=ae.stateNode;P?Qy(Qe):Do(Qe,ae.memoizedProps)}catch(it){An(ae,ae.return,it)}}}else if(u.tag===18){if(E===null){ae=u;try{var dt=ae.stateNode;P?Nf(dt):Sm(ae.stateNode)}catch(it){An(ae,ae.return,it)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===c)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;E===u&&(E=null),u=u.return}E===u&&(E=null),u.sibling.return=u.return,u=u.sibling}}k&4&&(k=c.updateQueue,k!==null&&(E=k.retryQueue,E!==null&&(k.retryQueue=null,uf(c,E))));break;case 19:Lr(u,c),Vr(c),k&4&&(k=c.updateQueue,k!==null&&(c.updateQueue=null,uf(c,k)));break;case 30:break;case 21:break;default:Lr(u,c),Vr(c)}}function Vr(c){var u=c.flags;if(u&2){try{for(var E,k=c.return;k!==null;){if(of(k)){E=k;break}k=k.return}if(ca){if(E==null)throw Error(a(160));switch(E.tag){case 27:if(br){var P=E.stateNode,F=Wh(c);bl(c,F,P);break}case 5:var ae=E.stateNode;E.flags&32&&(Af(ae),E.flags&=-33);var _e=Wh(c);bl(c,_e,ae);break;case 3:case 4:var qe=E.stateNode.containerInfo,Qe=Wh(c);Pa(c,Qe,qe);break;default:throw Error(a(161))}}}catch(dt){An(c,c.return,dt)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function Yh(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var u=c;Yh(u),u.tag===5&&u.flags&1024&&Wy(u.stateNode),c=c.sibling}}function xi(c,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ru(c,u.alternate,u),u=u.sibling}function Ro(c){for(c=c.child;c!==null;){var u=c;switch(u.tag){case 0:case 11:case 14:case 15:We(4,u,u.return),Ro(u);break;case 1:Jt(u,u.return);var E=u.stateNode;typeof E.componentWillUnmount=="function"&&yt(u,u.return,E),Ro(u);break;case 27:br&&Il(u.stateNode);case 26:case 5:Jt(u,u.return),Ro(u);break;case 22:u.memoizedState===null&&Ro(u);break;case 30:Ro(u);break;default:Ro(u)}c=c.sibling}}function hs(c,u,E){for(E=E&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var k=u.alternate,P=c,F=u,ae=F.flags;switch(F.tag){case 0:case 11:case 15:hs(P,F,E),Ce(4,F);break;case 1:if(hs(P,F,E),k=F,P=k.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(Qe){An(k,k.return,Qe)}if(k=F,P=k.updateQueue,P!==null){var _e=k.stateNode;try{var qe=P.shared.hiddenCallbacks;if(qe!==null)for(P.shared.hiddenCallbacks=null,P=0;P<qe.length;P++)$b(qe[P],_e)}catch(Qe){An(k,k.return,Qe)}}E&&ae&64&&Ue(F),Ut(F,F.return);break;case 27:br&&yl(F);case 26:case 5:hs(P,F,E),E&&k===null&&ae&4&&_r(F),Ut(F,F.return);break;case 12:hs(P,F,E);break;case 31:hs(P,F,E),E&&ae&4&&Au(P,F);break;case 13:hs(P,F,E),E&&ae&4&&yy(P,F);break;case 22:F.memoizedState===null&&hs(P,F,E),Ut(F,F.return);break;case 30:break;default:hs(P,F,E)}u=u.sibling}}function vc(c,u){var E=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(E=c.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==E&&(c!=null&&c.refCount++,E!=null&&Ye(E))}function df(c,u){c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Ye(c))}function ga(c,u,E,k){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Ao(c,u,E,k),u=u.sibling}function Ao(c,u,E,k){var P=u.flags;switch(u.tag){case 0:case 11:case 15:ga(c,u,E,k),P&2048&&Ce(9,u);break;case 1:ga(c,u,E,k);break;case 3:ga(c,u,E,k),P&2048&&(c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Ye(c)));break;case 12:if(P&2048){ga(c,u,E,k),c=u.stateNode;try{var F=u.memoizedProps,ae=F.id,_e=F.onPostCommit;typeof _e=="function"&&_e(ae,u.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(qe){An(u,u.return,qe)}}else ga(c,u,E,k);break;case 31:ga(c,u,E,k);break;case 13:ga(c,u,E,k);break;case 23:break;case 22:F=u.stateNode,ae=u.alternate,u.memoizedState!==null?F._visibility&2?ga(c,u,E,k):Iu(c,u):F._visibility&2?ga(c,u,E,k):(F._visibility|=2,qs(c,u,E,k,(u.subtreeFlags&10256)!==0||!1)),P&2048&&vc(ae,u);break;case 24:ga(c,u,E,k),P&2048&&df(u.alternate,u);break;default:ga(c,u,E,k)}}function qs(c,u,E,k,P){for(P=P&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var F=c,ae=u,_e=E,qe=k,Qe=ae.flags;switch(ae.tag){case 0:case 11:case 15:qs(F,ae,_e,qe,P),Ce(8,ae);break;case 23:break;case 22:var dt=ae.stateNode;ae.memoizedState!==null?dt._visibility&2?qs(F,ae,_e,qe,P):Iu(F,ae):(dt._visibility|=2,qs(F,ae,_e,qe,P)),P&&Qe&2048&&vc(ae.alternate,ae);break;case 24:qs(F,ae,_e,qe,P),P&&Qe&2048&&df(ae.alternate,ae);break;default:qs(F,ae,_e,qe,P)}u=u.sibling}}function Iu(c,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var E=c,k=u,P=k.flags;switch(k.tag){case 22:Iu(E,k),P&2048&&vc(k.alternate,k);break;case 24:Iu(E,k),P&2048&&df(k.alternate,k);break;default:Iu(E,k)}u=u.sibling}}function vl(c,u,E){if(c.subtreeFlags&Fc)for(c=c.child;c!==null;)vy(c,u,E),c=c.sibling}function vy(c,u,E){switch(c.tag){case 26:if(vl(c,u,E),c.flags&Fc)if(c.memoizedState!==null)wm(E,Qi,c.memoizedState,c.memoizedProps);else{var k=c.stateNode,P=c.type;c=c.memoizedProps,((u&335544128)===u||um(P,c))&&dm(E,k,P,c)}break;case 5:vl(c,u,E),c.flags&Fc&&(k=c.stateNode,P=c.type,c=c.memoizedProps,((u&335544128)===u||um(P,c))&&dm(E,k,P,c));break;case 3:case 4:za?(k=Qi,Qi=Uu(c.stateNode.containerInfo),vl(c,u,E),Qi=k):vl(c,u,E);break;case 22:c.memoizedState===null&&(k=c.alternate,k!==null&&k.memoizedState!==null?(k=Fc,Fc=16777216,vl(c,u,E),Fc=k):vl(c,u,E));break;default:vl(c,u,E)}}function ku(c){var u=c.alternate;if(u!==null&&(c=u.child,c!==null)){u.child=null;do u=c.sibling,c.sibling=null,c=u;while(c!==null)}}function Io(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var E=0;E<u.length;E++){var k=u[E];vr=k,Kh(k,c)}ku(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ff(c),c=c.sibling}function ff(c){switch(c.tag){case 0:case 11:case 15:Io(c),c.flags&2048&&We(9,c,c.return);break;case 3:Io(c);break;case 12:Io(c);break;case 22:var u=c.stateNode;c.memoizedState!==null&&u._visibility&2&&(c.return===null||c.return.tag!==13)?(u._visibility&=-3,pf(c)):Io(c);break;default:Io(c)}}function pf(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var E=0;E<u.length;E++){var k=u[E];vr=k,Kh(k,c)}ku(c)}for(c=c.child;c!==null;){switch(u=c,u.tag){case 0:case 11:case 15:We(8,u,u.return),pf(u);break;case 22:E=u.stateNode,E._visibility&2&&(E._visibility&=-3,pf(u));break;default:pf(u)}c=c.sibling}}function Kh(c,u){for(;vr!==null;){var E=vr;switch(E.tag){case 0:case 11:case 15:We(8,E,u);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var k=E.memoizedState.cachePool.pool;k!=null&&k.refCount++}break;case 24:Ye(E.memoizedState.cache)}if(k=E.child,k!==null)k.return=E,vr=k;else e:for(E=c;vr!==null;){k=vr;var P=k.sibling,F=k.return;if(Fn(k),k===E){vr=null;break e}if(P!==null){P.return=F,vr=P;break e}vr=F}}}function Xh(c){var u=RE(c);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if(c=NE(c),c===null)throw Error(a(362));return c.stateNode.current}function Zh(c,u){var E=c.tag;switch(u.$$typeof){case Kf:if(c.type===u.value)return!0;break;case Xf:e:{for(u=u.value,c=[c,0],E=0;E<c.length;){var k=c[E++],P=k.tag,F=c[E++],ae=u[F];if(P!==5&&P!==26&&P!==27||!Al(k)){for(;ae!=null&&Zh(k,ae);)F++,ae=u[F];if(F===u.length){u=!0;break e}else for(k=k.child;k!==null;)c.push(k,F),k=k.sibling}}u=!1}return u;case Zf:if((E===5||E===26||E===27)&&ME(c.stateNode,u.value))return!0;break;case Jf:if((E===5||E===6||E===26||E===27)&&(c=Ky(c),c!==null&&0<=c.indexOf(u.value)))return!0;break;case Qf:if((E===5||E===26||E===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function gr(c){switch(c.$$typeof){case Kf:return"<"+(h(c.value)||"Unknown")+">";case Xf:return":has("+(gr(c)||"")+")";case Zf:return'[role="'+c.value+'"]';case Jf:return'"'+c.value+'"';case Qf:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function ea(c,u){var E=[];c=[c,0];for(var k=0;k<c.length;){var P=c[k++],F=P.tag,ae=c[k++],_e=u[ae];if(F!==5&&F!==26&&F!==27||!Al(P)){for(;_e!=null&&Zh(P,_e);)ae++,_e=u[ae];if(ae===u.length)E.push(P);else for(P=P.child;P!==null;)c.push(P,ae),P=P.sibling}}return E}function Qh(c,u){if(!xc)throw Error(a(363));c=Xh(c),c=ea(c,u),u=[],c=Array.from(c);for(var E=0;E<c.length;){var k=c[E++],P=k.tag;if(P===5||P===26||P===27)Al(k)||u.push(k.stateNode);else for(k=k.child;k!==null;)c.push(k),k=k.sibling}return u}function ii(){return(fn&2)!==0&&gn!==0?gn&-gn:Mt.T!==null?ft():IE()}function Jh(){if(di===0)if((gn&536870912)===0||yn){var c=Ff;Ff<<=1,(Ff&3932160)===0&&(Ff=262144),di=c}else di=536870912;return c=ui.current,c!==null&&(c.flags|=32),di}function La(c,u,E){(c===Zn&&(Bn===2||Bn===9)||c.cancelPendingCommit!==null)&&($s(c,0),si(c,gn,di,!1)),A(c,E),((fn&2)===0||c!==Zn)&&(c===Zn&&((fn&2)===0&&(Fl|=E),nr===4&&si(c,gn,di,!1)),It(c))}function hf(c,u,E){if((fn&6)!==0)throw Error(a(327));var k=!E&&(u&127)===0&&(u&c.expiredLanes)===0||x(c,u),P=k?Du(c,u):tm(c,u,!0),F=k;do{if(P===0){Bc&&!k&&si(c,u,0,!1);break}else{if(E=c.current.alternate,F&&!em(E)){P=tm(c,u,!1),F=!1;continue}if(P===2){if(F=u,c.errorRecoveryDisabledLanes&F)var ae=0;else ae=c.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){u=ae;e:{var _e=c;P=Xu;var qe=xr&&_e.current.memoizedState.isDehydrated;if(qe&&($s(_e,ae).flags|=256),ae=tm(_e,ae,!1),ae!==2){if(qm&&!qe){_e.errorRecoveryDisabledLanes|=F,Fl|=F,P=4;break e}F=Xa,Xa=P,F!==null&&(Xa===null?Xa=F:Xa.push.apply(Xa,F))}P=ae}if(F=!1,P!==2)continue}}if(P===1){$s(c,0),si(c,u,0,!0);break}e:{switch(k=c,F=P,F){case 0:case 1:throw Error(a(345));case 4:if((u&4194048)!==u)break;case 6:si(k,u,di,!Fo);break e;case 2:Xa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((u&62914560)===u&&(P=ep+300-qa(),10<P)){if(si(k,u,di,!Fo),T(k,0,!0)!==0)break e;ws=u,k.timeoutHandle=lm(Sc.bind(null,k,E,Xa,Bl,Gm,u,di,Fl,jc,Fo,F,"Throttled",-0,0),P);break e}Sc(k,E,Xa,Bl,Gm,u,di,Fl,jc,Fo,F,null,-0,0)}}break}while(!0);It(c)}function Sc(c,u,E,k,P,F,ae,_e,qe,Qe,dt,it,vt,Ht){if(c.timeoutHandle=Xi,it=u.subtreeFlags,it&8192||(it&16785408)===16785408){it=Hy(),vy(u,F,it);var aa=(F&62914560)===F?ep-qa():(F&4194048)===F?wv-qa():0;if(aa=Vy(it,aa),aa!==null){ws=F,c.cancelPendingCommit=aa(wy.bind(null,c,u,F,E,k,P,ae,_e,qe,dt,it,null,vt,Ht)),si(c,F,ae,!Qe);return}}wy(c,u,F,E,k,P,ae,_e,qe)}function em(c){for(var u=c;;){var E=u.tag;if((E===0||E===11||E===15)&&u.flags&16384&&(E=u.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var k=0;k<E.length;k++){var P=E[k],F=P.getSnapshot;P=P.value;try{if(!$a(F(),P))return!1}catch{return!1}}if(E=u.child,u.subtreeFlags&16384&&E!==null)E.return=u,u=E;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function si(c,u,E,k){u&=~$m,u&=~Fl,c.suspendedLanes|=u,c.pingedLanes&=~u,k&&(c.warmLanes|=u),k=c.expirationTimes;for(var P=u;0<P;){var F=31-va(P),ae=1<<F;k[F]=-1,P&=~ae}E!==0&&O(c,E,u)}function Ec(){return(fn&6)===0?(Gt(0),!1):!0}function Sl(){if(pn!==null){if(Bn===0)var c=pn.return;else c=pn,Zs=Dl=null,Hd(c),Oc=null,Wu=0,c=pn;for(;c!==null;)gl(c.alternate,c),c=c.return;pn=null}}function $s(c,u){var E=c.timeoutHandle;E!==Xi&&(c.timeoutHandle=Xi,CE(E)),E=c.cancelPendingCommit,E!==null&&(c.cancelPendingCommit=null,E()),ws=0,Sl(),Zn=c,pn=E=Vs(c.current,null),gn=u,Bn=0,Ka=null,Fo=!1,Bc=x(c,u),qm=!1,jc=di=$m=Fl=Bo=nr=0,Xa=Xu=null,Gm=!1,(u&8)!==0&&(u|=u&32);var k=c.entangledLanes;if(k!==0)for(c=c.entanglements,k&=u;0<k;){var P=31-va(k),F=1<<P;u|=c[P],k&=~F}return eo=u,bn(),E}function El(c,u){Vt=null,Mt.H=Ll,u===ra||u===$f?(u=on(),Bn=3):u===Mm?(u=on(),Bn=4):Bn=u===Um?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ka=u,pn===null&&(nr=1,mc(c,re(u,c.current)))}function Sy(){var c=ui.current;return c===null?!0:(gn&4194048)===gn?Ai===null:(gn&62914560)===gn||(gn&536870912)!==0?c===Ai:!1}function Ey(){var c=Mt.H;return Mt.H=Ll,c===null?Ll:c}function _y(){var c=Mt.A;return Mt.A=i_,c}function mf(){nr=4,Fo||(gn&4194048)!==gn&&ui.current!==null||(Bc=!0),(Bo&134217727)===0&&(Fl&134217727)===0||Zn===null||si(Zn,gn,di,!1)}function tm(c,u,E){var k=fn;fn|=2;var P=Ey(),F=_y();(Zn!==c||gn!==u)&&(Bl=null,$s(c,u)),u=!1;var ae=nr;e:do try{if(Bn!==0&&pn!==null){var _e=pn,qe=Ka;switch(Bn){case 8:Sl(),ae=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(u=!0);var Qe=Bn;if(Bn=0,Ka=null,Gs(c,_e,qe,Qe),E&&Bc){ae=0;break e}break;default:Qe=Bn,Bn=0,Ka=null,Gs(c,_e,qe,Qe)}}gf(),ae=nr;break}catch(dt){El(c,dt)}while(!0);return u&&c.shellSuspendCounter++,Zs=Dl=null,fn=k,Mt.H=P,Mt.A=F,pn===null&&(Zn=null,gn=0,bn()),ae}function gf(){for(;pn!==null;)ie(pn)}function Du(c,u){var E=fn;fn|=2;var k=Ey(),P=_y();Zn!==c||gn!==u?(Bl=null,Zu=qa()+500,$s(c,u)):Bc=x(c,u);e:do try{if(Bn!==0&&pn!==null){u=pn;var F=Ka;t:switch(Bn){case 1:Bn=0,Ka=null,Gs(c,u,F,1);break;case 2:case 9:if(sn(F)){Bn=0,Ka=null,_l(u);break}u=function(){Bn!==2&&Bn!==9||Zn!==c||(Bn=7),It(c)},F.then(u,u);break e;case 3:Bn=7;break e;case 4:Bn=5;break e;case 7:sn(F)?(Bn=0,Ka=null,_l(u)):(Bn=0,Ka=null,Gs(c,u,F,7));break;case 5:var ae=null;switch(pn.tag){case 26:ae=pn.memoizedState;case 5:case 27:var _e=pn,qe=_e.type,Qe=_e.pendingProps;if(ae?_s(ae):Cf(_e.stateNode,qe,Qe)){Bn=0,Ka=null;var dt=_e.sibling;if(dt!==null)pn=dt;else{var it=_e.return;it!==null?(pn=it,ba(it)):pn=null}break t}}Bn=0,Ka=null,Gs(c,u,F,5);break;case 6:Bn=0,Ka=null,Gs(c,u,F,6);break;case 8:Sl(),nr=6;break e;default:throw Error(a(462))}}xy();break}catch(vt){El(c,vt)}while(!0);return Zs=Dl=null,Mt.H=k,Mt.A=P,fn=E,pn!==null?0:(Zn=null,gn=0,bn(),nr)}function xy(){for(;pn!==null&&!XE();)ie(pn)}function ie(c){var u=af(c.alternate,c,eo);c.memoizedProps=c.pendingProps,u===null?ba(c):pn=u}function _l(c){var u=c,E=u.alternate;switch(u.tag){case 15:case 0:u=fy(E,u,u.pendingProps,u.type,void 0,gn);break;case 11:u=fy(E,u,u.pendingProps,u.type.render,u.ref,gn);break;case 5:Hd(u);default:gl(E,u),u=pn=Dy(u,eo),u=af(E,u,eo)}c.memoizedProps=c.pendingProps,u===null?ba(c):pn=u}function Gs(c,u,E,k){Zs=Dl=null,Hd(u),Oc=null,Wu=0;var P=u.return;try{if(mE(c,P,u,E,gn)){nr=1,mc(c,re(E,c.current)),pn=null;return}}catch(F){if(P!==null)throw pn=P,F;nr=1,mc(c,re(E,c.current)),pn=null;return}u.flags&32768?(yn||k===1?c=!0:Bc||(gn&536870912)!==0?c=!1:(Fo=c=!0,(k===2||k===9||k===3||k===6)&&(k=ui.current,k!==null&&k.tag===13&&(k.flags|=16384))),dn(u,c)):ba(u)}function ba(c){var u=c;do{if((u.flags&32768)!==0){dn(u,Fo);return}c=u.return;var E=yE(u.alternate,u,eo);if(E!==null){pn=E;return}if(u=u.sibling,u!==null){pn=u;return}pn=u=c}while(u!==null);nr===0&&(nr=5)}function dn(c,u){do{var E=vE(c.alternate,c);if(E!==null){E.flags&=32767,pn=E;return}if(E=c.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!u&&(c=c.sibling,c!==null)){pn=c;return}pn=c=E}while(c!==null);nr=6,pn=null}function wy(c,u,E,k,P,F,ae,_e,qe){c.cancelPendingCommit=null;do Ou();while(Ir!==0);if((fn&6)!==0)throw Error(a(327));if(u!==null){if(u===c.current)throw Error(a(177));if(F=u.lanes|u.childLanes,F|=Pm,I(c,E,F,ae,_e,qe),c===Zn&&(pn=Zn=null,gn=0),Uo=u,to=c,ws=E,tp=F,np=P,Hm=k,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,wE($u,function(){return Ay(),null})):(c.callbackNode=null,c.callbackPriority=0),k=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||k){k=Mt.T,Mt.T=null,P=ys(),wr(2),ae=fn,fn|=4;try{lf(c,u,E)}finally{fn=ae,wr(P),Mt.T=k}}Ir=1,Ty(),Cy(),ko()}}function Ty(){if(Ir===1){Ir=0;var c=to,u=Uo,E=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||E){E=Mt.T,Mt.T=null;var k=ys();wr(2);var P=fn;fn|=4;try{zs(u,c),zy(c.containerInfo)}finally{fn=P,wr(k),Mt.T=E}}c.current=u,Ir=2}}function Cy(){if(Ir===2){Ir=0;var c=to,u=Uo,E=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||E){E=Mt.T,Mt.T=null;var k=ys();wr(2);var P=fn;fn|=4;try{Ru(c,u.alternate,u)}finally{fn=P,wr(k),Mt.T=E}}Ir=3}}function ko(){if(Ir===4||Ir===3){Ir=0,ZE();var c=to,u=Uo,E=ws,k=Hm;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Ir=5:(Ir=0,Uo=to=null,Ry(c,c.pendingLanes));var P=c.pendingLanes;if(P===0&&(jo=null),z(E),u=u.stateNode,na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(Gu,u,void 0,(u.current.flags&128)===128)}catch{}if(k!==null){u=Mt.T,P=ys(),wr(2),Mt.T=null;try{for(var F=c.onRecoverableError,ae=0;ae<k.length;ae++){var _e=k[ae];F(_e.value,{componentStack:_e.stack})}}finally{Mt.T=u,wr(P)}}(ws&3)!==0&&Ou(),It(c),P=c.pendingLanes,(E&261930)!==0&&(P&42)!==0?c===Vm?Qu++:(Qu=0,Vm=c):Qu=0,xr&&dv(),Gt(0)}}function Ry(c,u){(c.pooledCacheLanes&=u)===0&&(u=c.pooledCache,u!=null&&(c.pooledCache=null,Ye(u)))}function Ou(){return Ty(),Cy(),ko(),Ay()}function Ay(){if(Ir!==5)return!1;var c=to,u=tp;tp=0;var E=z(ws),k=32>E?32:E;E=Mt.T;var P=ys();try{wr(k),Mt.T=null,k=np,np=null;var F=to,ae=ws;if(Ir=0,Uo=to=null,ws=0,(fn&6)!==0)throw Error(a(331));var _e=fn;if(fn|=4,ff(F.current),Ao(F,F.current,ae,k),fn=_e,Gt(0,!1),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(Gu,F)}catch{}return!0}finally{wr(P),Mt.T=E,Ry(c,u)}}function Iy(c,u,E){u=re(E,u),u=Eu(c.stateNode,u,2),c=Jn(c,u,2),c!==null&&(A(c,2),It(c))}function An(c,u,E){if(c.tag===3)Iy(c,c,E);else for(;u!==null;){if(u.tag===3){Iy(u,c,E);break}else if(u.tag===1){var k=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(jo===null||!jo.has(k))){c=re(E,c),E=cy(2),k=Jn(u,E,2),k!==null&&(uy(E,k,u,c),A(k,2),It(k));break}}u=u.return}}function Wi(c,u,E){var k=c.pingCache;if(k===null){k=c.pingCache=new s_;var P=new Set;k.set(u,P)}else P=k.get(u),P===void 0&&(P=new Set,k.set(u,P));P.has(E)||(qm=!0,P.add(E),c=EE.bind(null,c,u,E),u.then(c,c))}function EE(c,u,E){var k=c.pingCache;k!==null&&k.delete(u),c.pingedLanes|=c.suspendedLanes&E,c.warmLanes&=~E,Zn===c&&(gn&E)===E&&(nr===4||nr===3&&(gn&62914560)===gn&&300>qa()-ep?(fn&2)===0&&$s(c,0):$m|=E,jc===gn&&(jc=0)),It(c)}function ky(c,u){u===0&&(u=C()),c=$r(c,u),c!==null&&(A(c,u),It(c))}function _E(c){var u=c.memoizedState,E=0;u!==null&&(E=u.retryLane),ky(c,E)}function xE(c,u){var E=0;switch(c.tag){case 31:case 13:var k=c.stateNode,P=c.memoizedState;P!==null&&(E=P.retryLane);break;case 19:k=c.stateNode;break;case 22:k=c.stateNode._retryCache;break;default:throw Error(a(314))}k!==null&&k.delete(u),ky(c,E)}function wE(c,u){return Bf(c,u)}function Hs(c,u,E,k){this.tag=c,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nm(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Vs(c,u){var E=c.alternate;return E===null?(E=n(c.tag,u,c.key,c.mode),E.elementType=c.elementType,E.type=c.type,E.stateNode=c.stateNode,E.alternate=c,c.alternate=E):(E.pendingProps=u,E.type=c.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=c.flags&65011712,E.childLanes=c.childLanes,E.lanes=c.lanes,E.child=c.child,E.memoizedProps=c.memoizedProps,E.memoizedState=c.memoizedState,E.updateQueue=c.updateQueue,u=c.dependencies,E.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},E.sibling=c.sibling,E.index=c.index,E.ref=c.ref,E.refCleanup=c.refCleanup,E}function Dy(c,u){c.flags&=65011714;var E=c.alternate;return E===null?(c.childLanes=0,c.lanes=u,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=E.childLanes,c.lanes=E.lanes,c.child=E.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=E.memoizedProps,c.memoizedState=E.memoizedState,c.updateQueue=E.updateQueue,c.type=E.type,u=E.dependencies,c.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),c}function bf(c,u,E,k,P,F){var ae=0;if(k=c,typeof c=="function")nm(c)&&(ae=1);else if(typeof c=="string")ae=za&&br?Em(c,E,Wr.current)?26:Pt(c)?27:5:za?Em(c,E,Wr.current)?26:5:br&&Pt(c)?27:5;else e:switch(c){case ms:return c=n(31,E,u,P),c.elementType=ms,c.lanes=F,c;case Tl:return xl(E.children,P,F,u);case By:ae=8,P|=24;break;case Ki:return c=n(12,E,u,P|2),c.elementType=Ki,c.lanes=F,c;case am:return c=n(13,E,u,P),c.elementType=am,c.lanes=F,c;case Sf:return c=n(19,E,u,P),c.elementType=Sf,c.lanes=F,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Fa:ae=10;break e;case vf:ae=9;break e;case Ba:ae=11;break e;case Ef:ae=14;break e;case wi:ae=16,k=null;break e}ae=29,E=Error(a(130,c===null?"null":typeof c,"")),k=null}return u=n(ae,E,u,P),u.elementType=c,u.type=k,u.lanes=F,u}function xl(c,u,E,k){return c=n(7,c,k,u),c.lanes=E,c}function Ws(c,u,E){return c=n(6,c,null,u),c.lanes=E,c}function Oy(c){var u=n(18,null,null,0);return u.stateNode=c,u}function rm(c,u,E){return u=n(4,c.children!==null?c.children:[],c.key,u),u.lanes=E,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}function Yi(c,u,E,k,P,F,ae,_e,qe){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xi,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R(0),this.hiddenUpdates=R(null),this.identifierPrefix=k,this.onUncaughtError=P,this.onCaughtError=F,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=qe,this.incompleteTransitions=new Map}function Ny(c,u,E,k,P,F,ae,_e,qe,Qe,dt,it){return c=new Yi(c,u,E,ae,qe,Qe,dt,it,_e),u=1,F===!0&&(u|=24),F=n(3,null,null,u),c.current=F,F.stateNode=c,u=kt(),u.refCount++,c.pooledCache=u,u.refCount++,F.memoizedState={element:k,isDehydrated:E,cache:u},xo(F),c}function My(c){return c?(c=Cc,c):Cc}function Py(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=o(u),c=c!==null?l(c):null,c===null?null:ja(c.stateNode)}function Ly(c,u,E,k,P,F){P=My(P),k.context===null?k.context=P:k.pendingContext=P,k=ur(u),k.payload={element:E},F=F===void 0?null:F,F!==null&&(k.callback=F),E=Jn(c,k,u),E!==null&&(La(E,c,u),mr(E,c,u))}function Fy(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var E=c.retryLane;c.retryLane=E!==0&&E<u?E:u}}function yf(c,u){Fy(c,u),(c=c.alternate)&&Fy(c,u)}var ln={},TE=TM(),oi=vQ(),Nu=Object.assign,Mu=Symbol.for("react.element"),wl=Symbol.for("react.transitional.element"),_c=Symbol.for("react.portal"),Tl=Symbol.for("react.fragment"),By=Symbol.for("react.strict_mode"),Ki=Symbol.for("react.profiler"),vf=Symbol.for("react.consumer"),Fa=Symbol.for("react.context"),Ba=Symbol.for("react.forward_ref"),am=Symbol.for("react.suspense"),Sf=Symbol.for("react.suspense_list"),Ef=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),ms=Symbol.for("react.activity"),jy=Symbol.for("react.memo_cache_sentinel"),Uy=Symbol.iterator,_f=Symbol.for("react.client.reference"),xf=Array.isArray,Mt=TE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ta=e.rendererVersion,im=e.rendererPackageName,sm=e.extraDevToolsConfig,ja=e.getPublicInstance,om=e.getRootHostContext,wf=e.getChildHostContext,Cl=e.prepareForCommit,zy=e.resetAfterCommit,ya=e.createInstance;e.cloneMutableInstance;var Pu=e.appendInitialChild,qy=e.finalizeInitialChildren,Tf=e.shouldSetTextContent,$y=e.createTextInstance;e.cloneMutableTextInstance;var lm=e.scheduleTimeout,CE=e.cancelTimeout,Xi=e.noTimeout,gs=e.isPrimaryRenderer;e.warnsIfNotActing;var ca=e.supportsMutation,bs=e.supportsPersistence,xr=e.supportsHydration,RE=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var AE=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var wr=e.setCurrentUpdatePriority,ys=e.getCurrentUpdatePriority,IE=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var kE=e.shouldAttemptEagerTransition,DE=e.detachDeletedInstance;e.requestPostPaintCallback;var Gy=e.maySuspendCommit,cm=e.maySuspendCommitOnUpdate,um=e.maySuspendCommitInSyncRender,Cf=e.preloadInstance,Hy=e.startSuspendingCommit,dm=e.suspendInstance;e.suspendOnActiveViewTransition;var Vy=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Ys=e.NotPendingTransition,Rl=e.HostTransitionContext,Wy=e.resetFormInstance;e.bindToConsole;var Yy=e.supportsMicrotasks,OE=e.scheduleMicrotask,xc=e.supportsTestSelectors,NE=e.findFiberRoot,fm=e.getBoundingRect,Ky=e.getTextContent,Al=e.isHiddenSubtree,ME=e.matchAccessibilityRole,pm=e.setFocusIfFocusable,nn=e.setupIntersectionObserver,PE=e.appendChild,LE=e.appendChildToContainer,Lu=e.commitTextUpdate,Xy=e.commitMount,FE=e.commitUpdate,BE=e.insertBefore,Ti=e.insertInContainerBefore,jE=e.removeChild,Rf=e.removeChildFromContainer,Af=e.resetTextContent,Zy=e.hideInstance,Qy=e.hideTextInstance,li=e.unhideInstance,Do=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var hm=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Jy=e.cloneInstance,Fu=e.createContainerChildSet,mm=e.appendChildToContainerChildSet,gm=e.finalizeContainerChildren,bm=e.replaceContainerChildren,If=e.cloneHiddenInstance,kf=e.cloneHiddenTextInstance,vs=e.isSuspenseInstancePending,ym=e.isSuspenseInstanceFallback,Oo=e.getSuspenseInstanceFallbackErrorDetails,ev=e.registerSuspenseInstanceRetry,tv=e.canHydrateFormStateMarker,vm=e.isFormStateMarkerMatching,nv=e.getNextHydratableSibling,UE=e.getNextHydratableSiblingAfterSingleton,zE=e.getFirstHydratableChild,rv=e.getFirstHydratableChildWithinContainer,av=e.getFirstHydratableChildWithinActivityInstance,qE=e.getFirstHydratableChildWithinSuspenseInstance,iv=e.getFirstHydratableChildWithinSingleton,sv=e.canHydrateInstance,Ua=e.canHydrateTextInstance,Ss=e.canHydrateActivityInstance,$E=e.canHydrateSuspenseInstance,GE=e.hydrateInstance,Df=e.hydrateTextInstance,wc=e.hydrateActivityInstance,ov=e.hydrateSuspenseInstance,lv=e.getNextHydratableInstanceAfterActivityInstance,HE=e.getNextHydratableInstanceAfterSuspenseInstance,cv=e.commitHydratedInstance,Tc=e.commitHydratedContainer,Bu=e.commitHydratedActivityInstance,VE=e.commitHydratedSuspenseInstance,uv=e.finalizeHydratedChildren,dv=e.flushHydrationEvents;e.clearActivityBoundary;var Of=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var fv=e.clearSuspenseBoundaryFromContainer,Nf=e.hideDehydratedBoundary,Sm=e.unhideDehydratedBoundary,ju=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var WE=e.validateHydratableInstance,pv=e.validateHydratableTextInstance,za=e.supportsResources,Em=e.isHostHoistableType,Uu=e.getHoistableRoot,hv=e.getResource,_m=e.acquireResource,Es=e.releaseResource,mv=e.hydrateHoistable,xm=e.mountHoistable,gv=e.unmountHoistable,bv=e.createHoistableInstance,YE=e.prepareToCommitHoistables,KE=e.mayResourceSuspendCommit,_s=e.preloadResource,wm=e.suspendResource,br=e.supportsSingletons,Mf=e.resolveSingletonInstance,Pf=e.acquireSingletonInstance,Il=e.releaseSingletonInstance,Pt=e.isHostSingletonType,Ks=e.isSingletonScope,zu=[],Ci=-1,Cc={},va=Math.clz32?Math.clz32:w,yv=Math.log,ua=Math.LN2,Lf=256,Ff=262144,qu=4194304,Bf=oi.unstable_scheduleCallback,jf=oi.unstable_cancelCallback,XE=oi.unstable_shouldYield,ZE=oi.unstable_requestPaint,qa=oi.unstable_now,xs=oi.unstable_ImmediatePriority,Sa=oi.unstable_UserBlockingPriority,$u=oi.unstable_NormalPriority,QE=oi.unstable_IdlePriority,Tm=oi.log,JE=oi.unstable_setDisableYieldValue,Gu=null,na=null,$a=typeof Object.is=="function"?Object.is:H,Cm=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},e_=Object.prototype.hasOwnProperty,Rm,vv,Am=!1,Im=new WeakMap,kl=[],Rc=0,Ac=null,Ic=0,da=[],Ga=0,Xs=null,Zi=1,ci="",Wr=m(null),Ha=m(null),Va=m(null),Uf=m(null),Yr=null,lr=null,yn=!1,No=null,Ri=!1,km=Error(a(519)),zf=m(null),Dl=null,Zs=null,t_=typeof AbortController<"u"?AbortController:function(){var c=[],u=this.signal={aborted:!1,addEventListener:function(E,k){c.push(k)}};this.abort=function(){u.aborted=!0,c.forEach(function(E){return E()})}},n_=oi.unstable_scheduleCallback,r_=oi.unstable_NormalPriority,ir={$$typeof:Fa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Hu=null,Ol=null,Dm=!1,qf=!1,Om=!1,Mo=0,Vu=null,Nm=0,kc=0,Dc=null,Sv=Mt.S;Mt.S=function(c,u){wv=qa(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&Nt(c,u),Sv!==null&&Sv(c,u)};var Nl=m(null),ra=Error(a(460)),Mm=Error(a(474)),$f=Error(a(542)),Gf={then:function(){}},Po=null,Oc=null,Wu=0,Ml=Qt(!0),Ev=Qt(!1),Wa=[],Nc=0,Pm=0,Lo=!1,Lm=!1,Mc=m(null),Hf=m(0),ui=m(null),Ai=null,yr=m(0),Qs=0,Vt=null,Kn=null,Tr=null,Vf=!1,Pc=!1,Pl=!1,Wf=0,Yu=0,Lc=null,a_=0,Ll={readContext:Ge,use:mu,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useLayoutEffect:dr,useInsertionEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useSyncExternalStore:dr,useId:dr,useHostTransitionStatus:dr,useFormState:dr,useActionState:dr,useOptimistic:dr,useMemoCache:dr,useCacheRefresh:dr};Ll.useEffectEvent=dr;var Fm={readContext:Ge,use:mu,useCallback:function(c,u){return Gr().memoizedState=[c,u===void 0?null:u],c},useContext:Ge,useEffect:ty,useImperativeHandle:function(c,u,E){E=E!=null?E.concat([c]):null,Yn(4194308,4,Nh.bind(null,u,c),E)},useLayoutEffect:function(c,u){return Yn(4194308,4,c,u)},useInsertionEffect:function(c,u){Yn(4,2,c,u)},useMemo:function(c,u){var E=Gr();u=u===void 0?null:u;var k=c();if(Pl){j(!0);try{c()}finally{j(!1)}}return E.memoizedState=[k,u],k},useReducer:function(c,u,E){var k=Gr();if(E!==void 0){var P=E(u);if(Pl){j(!0);try{E(u)}finally{j(!1)}}}else P=u;return k.memoizedState=k.baseState=P,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:P},k.queue=c,c=c.dispatch=oy.bind(null,Vt,c),[k.memoizedState,c]},useRef:function(c){var u=Gr();return c={current:c},u.memoizedState=c},useState:function(c){c=Wd(c);var u=c.queue,E=ka.bind(null,Vt,u);return u.dispatch=E,[c.memoizedState,E]},useDebugValue:Pr,useDeferredValue:function(c,u){var E=Gr();return Xd(E,c,u)},useTransition:function(){var c=Wd(!1);return c=ri.bind(null,Vt,c.queue,!0,!1),Gr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,u,E){var k=Vt,P=Gr();if(yn){if(E===void 0)throw Error(a(407));E=E()}else{if(E=u(),Zn===null)throw Error(a(349));(gn&127)!==0||Th(k,u,E)}P.memoizedState=E;var F={value:E,getSnapshot:u};return P.queue=F,ty(Vb.bind(null,k,F,c),[c]),k.flags|=2048,pc(9,{destroy:void 0},Ch.bind(null,k,F,E,u),null),E},useId:function(){var c=Gr(),u=Zn.identifierPrefix;if(yn){var E=ci,k=Zi;E=(k&~(1<<32-va(k)-1)).toString(32)+E,u="_"+u+"R_"+E,E=Wf++,0<E&&(u+="H"+E.toString(32)),u+="_"}else E=a_++,u="_"+u+"r_"+E.toString(32)+"_";return c.memoizedState=u},useHostTransitionStatus:Qd,useFormState:Zb,useActionState:Zb,useOptimistic:function(c){var u=Gr();u.memoizedState=u.baseState=c;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=E,u=Da.bind(null,Vt,!0,E),E.dispatch=u,[c,u]},useMemoCache:gu,useCacheRefresh:function(){return Gr().memoizedState=sy.bind(null,Vt)},useEffectEvent:function(c){var u=Gr(),E={impl:c};return u.memoizedState=E,function(){if((fn&2)!==0)throw Error(a(440));return E.impl.apply(void 0,arguments)}}},Bm={readContext:Ge,use:mu,useCallback:Kd,useContext:Ge,useEffect:Oh,useImperativeHandle:iy,useInsertionEffect:ry,useLayoutEffect:ay,useMemo:To,useReducer:bu,useRef:ey,useState:function(){return bu(js)},useDebugValue:Pr,useDeferredValue:function(c,u){var E=fr();return Zd(E,Kn.memoizedState,c,u)},useTransition:function(){var c=bu(js)[0],u=fr().memoizedState;return[typeof c=="boolean"?c:fc(c),u]},useSyncExternalStore:pl,useId:Ph,useHostTransitionStatus:Qd,useFormState:Yd,useActionState:Yd,useOptimistic:function(c,u){var E=fr();return Ih(E,Kn,c,u)},useMemoCache:gu,useCacheRefresh:Lh};Bm.useEffectEvent=ny;var _v={readContext:Ge,use:mu,useCallback:Kd,useContext:Ge,useEffect:Oh,useImperativeHandle:iy,useInsertionEffect:ry,useLayoutEffect:ay,useMemo:To,useReducer:vu,useRef:ey,useState:function(){return vu(js)},useDebugValue:Pr,useDeferredValue:function(c,u){var E=fr();return Kn===null?Xd(E,c,u):Zd(E,Kn.memoizedState,c,u)},useTransition:function(){var c=vu(js)[0],u=fr().memoizedState;return[typeof c=="boolean"?c:fc(c),u]},useSyncExternalStore:pl,useId:Ph,useHostTransitionStatus:Qd,useFormState:Jb,useActionState:Jb,useOptimistic:function(c,u){var E=fr();return Kn!==null?Ih(E,Kn,c,u):(E.baseState=c,[c,E.queue.dispatch])},useMemoCache:gu,useCacheRefresh:Lh};_v.useEffectEvent=ny;var jm={enqueueSetState:function(c,u,E){c=c._reactInternals;var k=ii(),P=ur(k);P.payload=u,E!=null&&(P.callback=E),u=Jn(c,P,k),u!==null&&(La(u,c,k),mr(u,c,k))},enqueueReplaceState:function(c,u,E){c=c._reactInternals;var k=ii(),P=ur(k);P.tag=1,P.payload=u,E!=null&&(P.callback=E),u=Jn(c,P,k),u!==null&&(La(u,c,k),mr(u,c,k))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var E=ii(),k=ur(E);k.tag=2,u!=null&&(k.callback=u),u=Jn(c,k,E),u!==null&&(La(u,c,E),mr(u,c,E))}},Um=Error(a(461)),Cr=!1,zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Js=!1,Rr=!1,Yf=!1,xv=typeof WeakSet=="function"?WeakSet:Set,vr=null,Ar=null,Ya=!1,Qi=null,Fc=8192,i_={getCacheForType:function(c){var u=Ge(ir),E=u.data.get(c);return E===void 0&&(E=c(),u.data.set(c,E)),E},cacheSignal:function(){return Ge(ir).controller.signal}},Kf=0,Xf=1,Zf=2,Qf=3,Jf=4;if(typeof Symbol=="function"&&Symbol.for){var Ku=Symbol.for;Kf=Ku("selector.component"),Xf=Ku("selector.has_pseudo_class"),Zf=Ku("selector.role"),Qf=Ku("selector.test_id"),Jf=Ku("selector.text")}var s_=typeof WeakMap=="function"?WeakMap:Map,fn=0,Zn=null,pn=null,gn=0,Bn=0,Ka=null,Fo=!1,Bc=!1,qm=!1,eo=0,nr=0,Bo=0,Fl=0,$m=0,di=0,jc=0,Xu=null,Xa=null,Gm=!1,ep=0,wv=0,Zu=1/0,Bl=null,jo=null,Ir=0,to=null,Uo=null,ws=0,tp=0,np=null,Hm=null,Qu=0,Vm=null;return ln.attemptContinuousHydration=function(c){if(c.tag===13||c.tag===31){var u=$r(c,67108864);u!==null&&La(u,c,67108864),yf(c,67108864)}},ln.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13||c.tag===31){var u=ii();u=L(u);var E=$r(c,u);E!==null&&La(E,c,u),yf(c,u)}},ln.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var u=S(c.pendingLanes);if(u!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;u;){var E=1<<31-va(u);c.entanglements[1]|=E,u&=~E}It(c),(fn&6)===0&&(Zu=qa()+500,Gt(0))}}break;case 31:case 13:u=$r(c,2),u!==null&&La(u,c,2),Ec(),yf(c,2)}},ln.batchedUpdates=function(c,u){return c(u)},ln.createComponentSelector=function(c){return{$$typeof:Kf,value:c}},ln.createContainer=function(c,u,E,k,P,F,ae,_e,qe,Qe){return Ny(c,u,!1,null,E,k,F,null,ae,_e,qe,Qe)},ln.createHasPseudoClassSelector=function(c){return{$$typeof:Xf,value:c}},ln.createHydrationContainer=function(c,u,E,k,P,F,ae,_e,qe,Qe,dt,it,vt,Ht){return c=Ny(E,k,!0,c,P,F,_e,Ht,qe,Qe,dt,it),c.context=My(null),E=c.current,k=ii(),k=L(k),P=ur(k),P.callback=u??null,Jn(E,P,k),u=k,c.current.lanes=u,A(c,u),It(c),c},ln.createPortal=function(c,u,E){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_c,key:k==null?null:""+k,children:c,containerInfo:u,implementation:E}},ln.createRoleSelector=function(c){return{$$typeof:Zf,value:c}},ln.createTestNameSelector=function(c){return{$$typeof:Qf,value:c}},ln.createTextSelector=function(c){return{$$typeof:Jf,value:c}},ln.defaultOnCaughtError=function(c){console.error(c)},ln.defaultOnRecoverableError=function(c){Cm(c)},ln.defaultOnUncaughtError=function(c){Cm(c)},ln.deferredUpdates=function(c){var u=Mt.T,E=ys();try{return wr(32),Mt.T=null,c()}finally{wr(E),Mt.T=u}},ln.discreteUpdates=function(c,u,E,k,P){var F=Mt.T,ae=ys();try{return wr(2),Mt.T=null,c(u,E,k,P)}finally{wr(ae),Mt.T=F,fn===0&&(Zu=qa()+500)}},ln.findAllNodes=Qh,ln.findBoundingRects=function(c,u){if(!xc)throw Error(a(363));u=Qh(c,u),c=[];for(var E=0;E<u.length;E++)c.push(fm(u[E]));for(u=c.length-1;0<u;u--){E=c[u];for(var k=E.x,P=k+E.width,F=E.y,ae=F+E.height,_e=u-1;0<=_e;_e--)if(u!==_e){var qe=c[_e],Qe=qe.x,dt=Qe+qe.width,it=qe.y,vt=it+qe.height;if(k>=Qe&&F>=it&&P<=dt&&ae<=vt){c.splice(u,1);break}else if(k!==Qe||E.width!==qe.width||vt<F||it>ae){if(!(F!==it||E.height!==qe.height||dt<k||Qe>P)){Qe>k&&(qe.width+=Qe-k,qe.x=k),dt<P&&(qe.width=P-Qe),c.splice(u,1);break}}else{it>F&&(qe.height+=it-F,qe.y=F),vt<ae&&(qe.height=ae-it),c.splice(u,1);break}}}return c},ln.findHostInstance=Py,ln.findHostInstanceWithNoPortals=function(c){return c=o(c),c=c!==null?d(c):null,c===null?null:ja(c.stateNode)},ln.findHostInstanceWithWarning=function(c){return Py(c)},ln.flushPassiveEffects=Ou,ln.flushSyncFromReconciler=function(c){var u=fn;fn|=1;var E=Mt.T,k=ys();try{if(wr(2),Mt.T=null,c)return c()}finally{wr(k),Mt.T=E,fn=u,(fn&6)===0&&Gt(0)}},ln.flushSyncWork=Ec,ln.focusWithin=function(c,u){if(!xc)throw Error(a(363));for(c=Xh(c),u=ea(c,u),u=Array.from(u),c=0;c<u.length;){var E=u[c++],k=E.tag;if(!Al(E)){if((k===5||k===26||k===27)&&pm(E.stateNode))return!0;for(E=E.child;E!==null;)u.push(E),E=E.sibling}}return!1},ln.getFindAllNodesFailureDescription=function(c,u){if(!xc)throw Error(a(363));var E=0,k=[];c=[Xh(c),0];for(var P=0;P<c.length;){var F=c[P++],ae=F.tag,_e=c[P++],qe=u[_e];if((ae!==5&&ae!==26&&ae!==27||!Al(F))&&(Zh(F,qe)&&(k.push(gr(qe)),_e++,_e>E&&(E=_e)),_e<u.length))for(F=F.child;F!==null;)c.push(F,_e),F=F.sibling}if(E<u.length){for(c=[];E<u.length;E++)c.push(gr(u[E]));return`findAllNodes was able to match part of the selector:
  `+(k.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},ln.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return ja(c.child.stateNode);default:return c.child.stateNode}},ln.injectIntoDevTools=function(){var c={bundleType:0,version:ta,rendererPackageName:im,currentDispatcherRef:Mt,reconcilerVersion:"19.2.0"};if(sm!==null&&(c.rendererConfig=sm),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)c=!0;else{try{Gu=u.inject(c),na=u}catch{}c=!!u.checkDCE}}return c},ln.isAlreadyRendering=function(){return(fn&6)!==0},ln.observeVisibleRects=function(c,u,E,k){if(!xc)throw Error(a(363));c=Qh(c,u);var P=nn(c,E,k).disconnect;return{disconnect:function(){P()}}},ln.shouldError=function(){return null},ln.shouldSuspend=function(){return!1},ln.startHostTransition=function(c,u,E,k){if(c.tag!==5)throw Error(a(476));var P=Mh(c).queue;ri(c,P,u,Ys,E===null?r:function(){var F=Mh(c);return F.next===null&&(F=c.alternate.memoizedState),Su(c,F.next.queue,{},ii()),E(k)})},ln.updateContainer=function(c,u,E,k){var P=u.current,F=ii();return Ly(P,F,c,u,E,k),F},ln.updateContainerSync=function(c,u,E,k){return Ly(u.current,2,c,u,E,k),2},ln},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})})(xA)),xA.exports}var C9;function CRe(){return C9||(C9=1,_A.exports=TRe()),_A.exports}var RRe=CRe();const ARe=Tn(RRe);var CA={exports:{}},Wl={};var R9;function IRe(){return R9||(R9=1,Wl.ConcurrentRoot=1,Wl.ContinuousEventPriority=8,Wl.DefaultEventPriority=32,Wl.DiscreteEventPriority=2,Wl.IdleEventPriority=268435456,Wl.LegacyRoot=0,Wl.NoEventPriority=0),Wl}var A9;function kRe(){return A9||(A9=1,CA.exports=IRe()),CA.exports}var nE=kRe();const I9={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let k9=!1,D9=!1;const ZS=".react-konva-event",DRe=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,ORe=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,NRe={};function rE(t,e,n=NRe){if(!k9&&"zIndex"in e&&(console.warn(ORe),k9=!0),!D9&&e.draggable){var r=e.x!==void 0||e.y!==void 0,a=e.onDragEnd||e.onDragMove;r&&!a&&(console.warn(DRe),D9=!0)}for(var i in n)if(!I9[i]){var s=i.slice(0,2)==="on",o=n[i]!==e[i];if(s&&o){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t.off(l,n[i])}var d=!e.hasOwnProperty(i);d&&t.setAttr(i,void 0)}var f=e._useStrictMode,h={},m=!1;const b={};for(var i in e)if(!I9[i]){var s=i.slice(0,2)==="on",g=n[i]!==e[i];if(s&&g){var l=i.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e[i]&&(b[l]=e[i])}!s&&(e[i]!==n[i]||f&&e[i]!==t.getAttr(i))&&(m=!0,h[i]=e[i])}m&&(t.setAttrs(h),fu(t));for(var l in b)t.off(l+ZS),t.on(l+ZS,b[l])}function fu(t){if(!ut.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}var RA=vQ();const SQ={},MRe={};Bp.Node.prototype._applyProps=rE;let EQ=nE.DefaultEventPriority;function PRe(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),fu(t)}function LRe(t,e,n){let r=Bp[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Bp.Group);const a={},i={};for(var s in e)if(s!=="ref"){var o=s.slice(0,2)==="on";o?i[s]=e[s]:a[s]=e[s]}const l=new r(a);return rE(l,i),l}function FRe(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function BRe(t,e,n){return!1}function jRe(t){return t}function URe(){return null}function zRe(){return null}function qRe(t,e,n,r){return MRe}function $Re(){}function GRe(t){}function HRe(t,e){return!1}function VRe(){return SQ}function WRe(){return SQ}const YRe=setTimeout,KRe=clearTimeout,XRe=!0,ZRe=t=>{t()},QRe=-1;function JRe(t,e){return!1}const eAe=!1,tAe=!1,nAe=!0,rAe=!1,aAe=!1;function iAe(t,e){e.parent===t?e.moveToTop():t.add(e),fu(t)}function sAe(t,e){e.parent===t?e.moveToTop():t.add(e),fu(t)}function _Q(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),fu(t)}function oAe(t,e,n){_Q(t,e,n)}function lAe(t,e){e.destroy(),e.off(ZS),fu(t)}function cAe(t,e){e.destroy(),e.off(ZS),fu(t)}function uAe(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function dAe(t,e,n){}function fAe(t,e,n,r){rE(t,r,n)}function pAe(t){t.hide(),fu(t)}function hAe(t){}function mAe(t,e){(e.visible==null||e.visible)&&t.show()}function gAe(t,e){}function bAe(t){}function yAe(){}function vAe(){return null}function SAe(){}function EAe(){}function _Ae(){return nE.DefaultEventPriority}function xAe(){}function wAe(){return null}function TAe(t){EQ=t}function CAe(){return EQ}function RAe(){return nE.DiscreteEventPriority}function AAe(){return!1}function IAe(){}function kAe(){return null}function DAe(){return-1.1}function OAe(){}function NAe(){return!1}function MAe(){return!0}function PAe(){}function LAe(){}function FAe(){return null}const BAe=null,jAe=Q.createContext(null);function UAe(){}const zAe=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:jAe,NotPendingTransition:BAe,afterActiveInstanceBlur:EAe,appendChild:iAe,appendChildToContainer:sAe,appendInitialChild:PRe,beforeActiveInstanceBlur:SAe,cancelTimeout:KRe,clearContainer:bAe,commitMount:dAe,commitTextUpdate:uAe,commitUpdate:fAe,createInstance:LRe,createTextInstance:FRe,detachDeletedInstance:yAe,finalizeInitialChildren:BRe,getChildHostContext:WRe,getCurrentEventPriority:_Ae,getCurrentUpdatePriority:CAe,getInstanceFromNode:vAe,getInstanceFromScope:wAe,getPublicInstance:jRe,getRootHostContext:VRe,hideInstance:pAe,hideTextInstance:hAe,idlePriority:RA.unstable_IdlePriority,insertBefore:_Q,insertInContainerBefore:oAe,isPrimaryRenderer:eAe,maySuspendCommit:NAe,noTimeout:QRe,now:RA.unstable_now,preloadInstance:MAe,prepareForCommit:URe,preparePortalMount:zRe,prepareScopeUpdate:xAe,prepareUpdate:qRe,removeChild:lAe,removeChildFromContainer:cAe,requestPostPaintCallback:OAe,resetAfterCommit:$Re,resetFormInstance:UAe,resetTextContent:GRe,resolveEventTimeStamp:DAe,resolveEventType:kAe,resolveUpdatePriority:RAe,run:RA.unstable_runWithPriority,scheduleMicrotask:ZRe,scheduleTimeout:YRe,setCurrentUpdatePriority:TAe,shouldAttemptEagerTransition:AAe,shouldDeprioritizeSubtree:HRe,shouldSetTextContent:JRe,startSuspendingCommit:PAe,supportsHydration:aAe,supportsMicrotasks:XRe,supportsMutation:nAe,supportsPersistence:rAe,suspendInstance:LAe,trackSchedulerEvent:IAe,unhideInstance:mAe,unhideTextInstance:gAe,waitForCommitToBeReady:FAe,warnsIfNotActing:tAe},Symbol.toStringTag,{value:"Module"}));if(Q.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function qAe(t){const e=Q.useRef({});return Q.useLayoutEffect(()=>{e.current=t}),Q.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const $Ae=()=>{const t=Q.useRef(0);return Q.useMemo(()=>{t.current++},[]),t.current>1},GAe=t=>{const e=Q.useRef(null),n=Q.useRef(null),r=Q.useRef(null),a=qAe(t),i=Ite(),s=Q.useRef(null),o=f=>{const{forwardedRef:h}=t;h&&(typeof h=="function"?h(f):h.current=f)},l=$Ae(),d=()=>{o(null),L0.updateContainer(null,r.current,null),n.current?.destroy(),n.current=null};return Q.useLayoutEffect(()=>(s.current&&(clearTimeout(s.current),s.current=null),n.current?o(n.current):(n.current=new Bp.Stage({width:t.width,height:t.height,container:e.current}),o(n.current),r.current=L0.createContainer(n.current,nE.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),L0.updateContainer(Q.createElement(i,{},t.children),r.current,null,()=>{})),()=>{l?s.current=setTimeout(d,0):d()}),[]),Q.useLayoutEffect(()=>{o(n.current),rE(n.current,t,a),L0.updateContainer(Q.createElement(i,{},t.children),r.current,null)}),Q.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},HAe="Layer",VAe="Group",WAe="Circle",P0="Line",O9="Text",L0=ARe(zAe),YAe=Q.forwardRef((t,e)=>Q.createElement(Ate,{},Q.createElement(GAe,{...t,forwardedRef:e}))),KAe=({vertices:t,onChange:e})=>{const n=(i,s,o)=>{const l=Number.parseFloat(o);if(isNaN(l))return;const d=[...t];d[i]=[...d[i]],d[i][s]=l,e(d)},r=i=>{const s=t.filter((o,l)=>l!==i);e(s)},a=()=>{if(t.length===0)e([[0,0]]);else{const i=t.reduce((o,l)=>o+l[0],0)/t.length,s=t.reduce((o,l)=>o+l[1],0)/t.length;e([...t,[i,s]])}};return y.jsxs(Re,{children:[y.jsx(MV,{component:pa,sx:{maxHeight:300},children:y.jsxs(DM,{size:"small",stickyHeader:!0,children:[y.jsx(OM,{children:y.jsxs(Qc,{children:[y.jsx(_a,{sx:{width:40},children:"#"}),y.jsx(_a,{children:"X"}),y.jsx(_a,{children:"Y"}),y.jsx(_a,{sx:{width:40}})]})}),y.jsx(NM,{children:t.map((i,s)=>y.jsxs(Qc,{children:[y.jsx(_a,{children:s+1}),y.jsx(_a,{children:y.jsx(jt,{type:"number",size:"small",value:i[0],onChange:o=>n(s,0,o.target.value),inputProps:{step:.1},sx:{width:"100%"}})}),y.jsx(_a,{children:y.jsx(jt,{type:"number",size:"small",value:i[1],onChange:o=>n(s,1,o.target.value),inputProps:{step:.1},sx:{width:"100%"}})}),y.jsx(_a,{children:y.jsx(Ct,{size:"small",onClick:()=>r(s),disabled:t.length<=3,children:y.jsx(rc,{fontSize:"small"})})})]},s))})]})}),y.jsx(xt,{startIcon:y.jsx(bd,{}),onClick:a,size:"small",sx:{mt:1},children:"Add Vertex"})]})},XAe=({vertices:t,onChange:e})=>{const[n,r]=N.useState(50),[a,i]=N.useState({x:200,y:150}),[s,o]=N.useState(null),l=400,d=300,f=N.useCallback((x,_)=>({x:x*n+a.x,y:-_*n+a.y}),[n,a]),h=N.useCallback((x,_)=>{const C=(x-a.x)/n,R=-(_-a.y)/n;return{x:C,y:R}},[n,a]),m=N.useCallback((x,_,C)=>{const R=h(_,C),A=[...t];A[x]=[Math.round(R.x*1e3)/1e3,Math.round(R.y*1e3)/1e3],e(A)},[t,e,h]),b=N.useCallback(x=>{if(x.target===x.target.getStage()){const C=x.target.getStage().getPointerPosition();if(C){const R=h(C.x,C.y),A=[Math.round(R.x*1e3)/1e3,Math.round(R.y*1e3)/1e3];e([...t,A])}}},[t,e,h]),g=N.useCallback(x=>{if(t.length>3){const _=t.filter((C,R)=>R!==x);e(_)}},[t,e]),w=N.useCallback(()=>{if(t.length===0){i({x:l/2,y:d/2});return}const x=Math.min(...t.map(O=>O[0])),_=Math.max(...t.map(O=>O[0])),C=Math.min(...t.map(O=>O[1])),R=Math.max(...t.map(O=>O[1])),A=(x+_)/2,I=(C+R)/2;i({x:l/2-A*n,y:d/2+I*n})},[t,n,l,d]),S=N.useCallback(()=>{e([])},[e]),T=N.useMemo(()=>t.flatMap(x=>{const _=f(x[0],x[1]);return[_.x,_.y]}),[t,f]);return y.jsxs(Re,{children:[y.jsxs(Re,{sx:{display:"flex",gap:1,mb:1,alignItems:"center"},children:[y.jsx(_t,{title:"Clear all",children:y.jsx(Ct,{size:"small",onClick:S,children:y.jsx(o1,{fontSize:"small"})})}),y.jsx(_t,{title:"Center view",children:y.jsx(Ct,{size:"small",onClick:w,children:y.jsx(dre,{fontSize:"small"})})}),y.jsx(_t,{title:"Zoom out",children:y.jsx(Ct,{size:"small",onClick:()=>r(x=>Math.max(10,x-10)),children:y.jsx(fre,{fontSize:"small"})})}),y.jsx(fb,{value:n,onChange:(x,_)=>r(_),min:10,max:100,size:"small",sx:{width:80,mx:1}}),y.jsx(_t,{title:"Zoom in",children:y.jsx(Ct,{size:"small",onClick:()=>r(x=>Math.min(100,x+10)),children:y.jsx(pre,{fontSize:"small"})})})]}),y.jsx(pa,{elevation:2,sx:{border:"1px solid",borderColor:"divider",borderRadius:1,overflow:"hidden"},children:y.jsx(YAe,{width:l,height:d,onClick:b,style:{cursor:"crosshair"},children:y.jsxs(HAe,{children:[y.jsx(P0,{points:[0,a.y,l,a.y],stroke:"#ddd",strokeWidth:1}),y.jsx(P0,{points:[a.x,0,a.x,d],stroke:"#ddd",strokeWidth:1}),y.jsx(O9,{x:a.x+5,y:a.y+5,text:"0,0",fontSize:10,fill:"#999"}),t.length>=3&&y.jsx(P0,{points:T,closed:!0,fill:"rgba(25, 118, 210, 0.2)",stroke:"#1976d2",strokeWidth:2}),t.length>0&&t.length<3&&y.jsx(P0,{points:T,stroke:"#1976d2",strokeWidth:2}),t.map((x,_)=>{const C=f(x[0],x[1]),R=s===_;return y.jsxs(VAe,{children:[y.jsx(WAe,{x:C.x,y:C.y,radius:R?10:8,fill:R?"#1565c0":"#1976d2",stroke:"#fff",strokeWidth:2,draggable:!0,onDragMove:A=>{m(_,A.target.x(),A.target.y())},onMouseEnter:()=>o(_),onMouseLeave:()=>o(null),onDblClick:()=>g(_),style:{cursor:"move"}}),y.jsx(O9,{x:C.x+12,y:C.y-6,text:`${_+1}`,fontSize:12,fill:"#333"})]},_)})]})})}),y.jsx(Ve,{variant:"caption",color:"text.secondary",sx:{mt:.5,display:"block"},children:"Click to add vertex | Drag to move | Double-click to delete"})]})},ZAe=({data:t,handleChange:e,path:n,label:r,schema:a,required:i})=>{const[s,o]=N.useState(!1),l=N.useMemo(()=>!t||!Array.isArray(t)?[]:t.map(f=>Array.isArray(f)&&f.length>=2?[Number(f[0]),Number(f[1])]:[0,0]),[t]),d=N.useCallback(f=>{e(n,f)},[e,n]);return y.jsxs(Re,{sx:{mb:2},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[y.jsx(tl,{required:i,children:r}),a.description&&y.jsx(_t,{title:a.description,placement:"top",children:y.jsx(Ct,{size:"small",sx:{padding:.5},children:y.jsx(pb,{fontSize:"small"})})})]}),y.jsx(XAe,{vertices:l,onChange:d}),y.jsxs(pa,{variant:"outlined",sx:{mt:2,borderRadius:1,overflow:"hidden",borderColor:s?"primary.main":"divider",transition:"border-color 0.2s"},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",px:1.5,py:1,bgcolor:"action.hover","&:hover":{bgcolor:"action.selected"}},onClick:()=>o(!s),children:[y.jsxs(Ve,{variant:"subtitle2",children:["Table (",l.length," vertices)"]}),y.jsx(Ct,{size:"small",children:s?y.jsx(Hg,{fontSize:"small"}):y.jsx(el,{fontSize:"small"})})]}),y.jsx(Vg,{in:s,children:y.jsx(Re,{sx:{p:1},children:y.jsx(KAe,{vertices:l,onChange:d})})})]})]})},QAe=$t(10,hr(t=>t?.["x-custom-type"]==="vertices-2d")),JAe=Nr(ZAe),aE=[...Zxe,{tester:zwe,renderer:qwe},{tester:QAe,renderer:JAe},{tester:Bwe,renderer:jwe},{tester:Hwe,renderer:Vwe},{tester:Nwe,renderer:Mwe},{tester:eTe,renderer:tTe},{tester:iwe,renderer:swe},{tester:ywe,renderer:vwe},{tester:hwe,renderer:mwe},{tester:nwe,renderer:rwe},{tester:lwe,renderer:cwe}],xQ=t=>{if(!t||typeof t!="object")return!1;let e=!1;const n=r=>{if(r&&typeof r=="object"){if(r["x-custom-type"]==="dynamic-enum"&&Array.isArray(r["x-features"])&&r["x-features"].includes("dynamic-atom-props")){e=!0;return}Object.keys(r).forEach(a=>{e||n(r[a])})}};return n(t),e},iE=(t,e,n)=>{const r=JSON.parse(JSON.stringify(t)),a=i=>{if(i&&typeof i=="object"){if(i["x-custom-type"]==="dynamic-enum"&&Array.isArray(i["x-features"])&&i["x-features"].includes("dynamic-atom-props")){if(!e)throw new Error("Frame metadata is required for dynamic-atom-props but was not provided");const l=i["x-features"].includes("color-picker")?["arrays.colors"]:["arrays.positions","arrays.radii","arrays.colors"],d=Object.keys(e.metadata);i.enum=[...new Set([...l,...d])]}if(Array.isArray(i["x-features"])&&i["x-features"].includes("dynamic-geometries")&&n){const s=i["x-geometry-filter"],o=Object.keys(n).filter(l=>s?n[l]?.type===s:!0);i.enum=o}Object.keys(i).forEach(s=>{a(i[s])})}};return a(r),r};function eIe(t){const e={},n=new Date(t.created_at).getTime(),r=t.started_at?new Date(t.started_at).getTime():null,a=t.completed_at?new Date(t.completed_at).getTime():null,i=Date.now();return r?e.waiting=r-n:(t.status==="pending"||t.status==="claimed")&&(e.waiting=i-n),r&&(a?e.running=a-r:t.status==="running"&&(e.running=i-r)),a?e.total=a-n:e.total=i-n,e}function hg(t){if(t==null)return"";const e=Math.floor(t/1e3),n=Math.floor(e/60),r=Math.floor(n/60);if(r>0){const a=n%60;return`${r}h ${a}m`}if(n>0){const a=e%60;return`${n}m ${a}s`}return e>0?`${e}s`:`${Math.round(t)}ms`}function tIe(t){switch(t){case"pending":return"default";case"claimed":return"warning";case"running":return"info";case"completed":return"success";case"failed":return"error";case"cancelled":return"default";default:return"default"}}function nIe(t){switch(t){case"pending":return"Pending";case"claimed":return"Claimed";case"running":return"Running";case"completed":return"Completed";case"failed":return"Failed";case"cancelled":return"Cancelled";default:return t}}const rIe=({task:t,showExtensionName:e=!1})=>{const[n,r]=N.useState(!1),a=eIe(t),i=tIe(t.status),s=nIe(t.status),o=()=>{switch(t.status){case"pending":return y.jsx(_N,{fontSize:"small"});case"claimed":return y.jsx(yre,{fontSize:"small"});case"running":return y.jsx(bre,{fontSize:"small"});case"completed":return y.jsx(gre,{fontSize:"small"});case"failed":return y.jsx(mre,{fontSize:"small"});case"cancelled":return y.jsx(hre,{fontSize:"small"});default:return y.jsx(_N,{fontSize:"small"})}},l=()=>{if(t.status==="completed"||t.status==="failed"||t.status==="cancelled")return a.total?hg(a.total):"-";const h=new Date(t.created_at),b=Math.floor((new Date().getTime()-h.getTime())/1e3);return hg(b*1e3)},f=t.status==="pending"&&t.queue_position!==void 0&&t.queue_position!==null?`#${t.queue_position+1}`:null;return y.jsxs(pa,{elevation:1,sx:{p:1.5,cursor:"pointer","&:hover":{bgcolor:"action.hover"}},onClick:()=>r(!n),children:[y.jsxs(Ja,{direction:"row",alignItems:"center",spacing:1.5,children:[y.jsx(pr,{icon:o(),label:s,color:i,size:"small",sx:{minWidth:100}}),f&&y.jsx(pr,{label:f,size:"small",variant:"outlined",sx:{minWidth:40}}),y.jsx(Ve,{variant:"body2",fontWeight:"medium",children:l()}),y.jsx(Ve,{variant:"body2",color:"text.secondary",sx:{fontFamily:"monospace",fontSize:"0.85rem"},children:t.id.substring(0,8)}),t.worker_id&&(t.status==="claimed"||t.status==="running")&&y.jsx(pr,{label:`worker:${t.worker_id.substring(0,6)}`,size:"small",variant:"outlined",sx:{fontFamily:"monospace",fontSize:"0.75rem"}}),y.jsx(Re,{sx:{flex:1}}),y.jsx(Ct,{size:"small",onClick:h=>{h.stopPropagation(),r(!n)},children:n?y.jsx(Hg,{fontSize:"small"}):y.jsx(el,{fontSize:"small"})})]}),y.jsx(Vg,{in:n,children:y.jsx(Re,{sx:{mt:2,pt:2,borderTop:1,borderColor:"divider"},children:y.jsxs(Ja,{spacing:1,children:[y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Task ID:"}),y.jsx(Ve,{variant:"body2",fontFamily:"monospace",children:t.id})]}),e&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Name:"}),y.jsx(Ve,{variant:"body2",children:t.job_name})]}),y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Created:"}),y.jsx(Ve,{variant:"body2",children:new Date(t.created_at).toLocaleString()})]}),t.started_at&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Started:"}),y.jsx(Ve,{variant:"body2",children:new Date(t.started_at).toLocaleString()})]}),t.completed_at&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Completed:"}),y.jsx(Ve,{variant:"body2",children:new Date(t.completed_at).toLocaleString()})]}),t.worker_id&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"Worker:"}),y.jsxs(Ve,{variant:"body2",fontFamily:"monospace",children:[t.worker_id.substring(0,12),"..."]})]}),t.error&&y.jsxs(Re,{children:[y.jsx(Ve,{variant:"caption",color:"error",children:"Error:"}),y.jsx(Ve,{variant:"body2",color:"error",children:t.error})]}),(a.waiting||a.running)&&y.jsxs(Re,{sx:{mt:1},children:[y.jsx(Ve,{variant:"caption",color:"text.secondary",display:"block",sx:{mb:.5},children:"Timing:"}),y.jsxs(Ja,{direction:"row",spacing:2,children:[a.waiting&&y.jsxs(Ve,{variant:"body2",children:[y.jsx("strong",{children:"Wait:"})," ",hg(a.waiting)]}),a.running&&y.jsxs(Ve,{variant:"body2",children:[y.jsx("strong",{children:"Run:"})," ",hg(a.running)]}),a.total&&y.jsxs(Ve,{variant:"body2",children:[y.jsx("strong",{children:"Total:"})," ",hg(a.total)]})]})]})]})})})]})},wQ=({roomId:t,jobName:e})=>{const[n,r]=N.useState(!0),[a,i]=N.useState(0),[s,o]=N.useState(5),{data:l,isLoading:d,refetch:f}=PZ(t,e,{limit:s,offset:a*s}),h=l?.items??[],m=l?.total??0;N.useEffect(()=>{i(0)},[e]);const b=(w,S)=>{i(S)},g=w=>{o(Number.parseInt(w.target.value,10)),i(0)};return e?y.jsxs(Re,{sx:{mt:2},children:[y.jsx(ul,{sx:{mb:2}}),y.jsxs(Ja,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[y.jsxs(Ja,{direction:"row",alignItems:"center",spacing:1,children:[y.jsx(Ct,{size:"small",onClick:()=>r(!n),"aria-label":n?"collapse recent tasks":"expand recent tasks",children:n?y.jsx(Hg,{fontSize:"small"}):y.jsx(el,{fontSize:"small"})}),y.jsx(vre,{fontSize:"small",color:"action"}),y.jsx(Ve,{variant:"subtitle2",color:"text.secondary",children:"Recent Tasks"})]}),y.jsx(xt,{size:"small",startIcon:y.jsx(Sre,{}),onClick:()=>f(),disabled:d,children:"Refresh"})]}),y.jsx(Vg,{in:n,children:d&&!h.length?y.jsxs(Ja,{spacing:1,children:[y.jsx(gi,{variant:"rectangular",height:48,sx:{borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:48,sx:{borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:48,sx:{borderRadius:1}})]}):h.length===0?y.jsx(Re,{sx:{textAlign:"center",py:2},children:y.jsx(Ve,{variant:"body2",color:"text.secondary",children:"No tasks yet. Run an extension to see task history."})}):y.jsxs(y.Fragment,{children:[y.jsx(Ja,{spacing:1,children:h.map(w=>y.jsx(rIe,{task:w,showExtensionName:!1},w.id))}),y.jsx(Ere,{component:"div",count:m,page:a,onPageChange:b,rowsPerPage:s,onRowsPerPageChange:g,rowsPerPageOptions:[5,10,25]})]})})]}):null},TQ=({jobName:t,workerCount:e,pendingTaskCount:n})=>{const r=t.split(":")[0],a={"@internal":{icon:y.jsx(wre,{}),label:"Server",color:"primary"},"@global":{icon:y.jsx(xre,{}),label:"Public",color:"success"},private:{icon:y.jsx(Og,{}),label:"Private",color:"default"}},i=r==="@internal"||r==="@global"?r:"private",{icon:s,label:o,color:l}=a[i];return y.jsxs(Ja,{direction:"row",spacing:1,sx:{mb:2},flexWrap:"wrap",useFlexGap:!0,children:[y.jsx(pr,{icon:s,label:o,color:l,size:"small"}),i!=="@internal"&&y.jsx(pr,{icon:y.jsx(_re,{}),label:`${e} worker${e!==1?"s":""}`,color:e>0?"success":"warning",size:"small"}),n>0&&y.jsx(pr,{icon:y.jsx(_N,{}),label:`${n} pending`,color:"info",size:"small"})]})},CQ=()=>y.jsxs(y.Fragment,{children:[y.jsx(gi,{variant:"rectangular",height:56,sx:{mb:2,borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:40,sx:{mb:1}}),y.jsx(gi,{variant:"rectangular",height:40,sx:{mb:1}}),y.jsx(gi,{variant:"rectangular",height:40,sx:{mb:1}})]}),RQ=()=>y.jsxs(Re,{sx:{mt:2},children:[y.jsx(gi,{variant:"rectangular",height:56,sx:{mb:2,borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:56,sx:{mb:2,borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:56,sx:{mb:2,borderRadius:1}}),y.jsx(gi,{variant:"text",width:"60%",sx:{mb:1}}),y.jsx(gi,{variant:"rectangular",height:100,sx:{borderRadius:1}})]}),aIe=()=>y.jsxs(y.Fragment,{children:[y.jsx(gi,{variant:"rectangular",height:48,sx:{mb:2,borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:200,sx:{mb:2,borderRadius:1}}),y.jsx(gi,{variant:"rectangular",height:48,sx:{mb:2,borderRadius:1}})]}),iIe=({panelTitle:t})=>{const e=J($=>$.roomId),n=J($=>$.user?.email??null),r=J($=>$.geometries),a=J(MW),i=J($=>$.showSnackbar),[s,o]=N.useState({}),[l,d]=N.useState(!1),{selectedExtensions:f,setSelectedExtension:h}=Xg(),m=f[t]||null,{data:b,isLoading:g,isError:w}=NZ(e??"",t),{data:S,isLoading:T,isError:x}=MZ(e??"",m),{data:_}=PZ(e??"",m,{status:"pending",limit:0}),C=_?.total??0,R=N.useMemo(()=>!b||!m?null:b.find($=>$.full_name===m),[b,m]),A=S?.schema,I=N.useMemo(()=>A?xQ(A):!1,[A]),{data:O,isLoading:M,isError:U}=dl(e??"",0,I);N.useEffect(()=>{if(!S||!m||!n||!e)return;const $=FZ(e,n,m),q={...OZ(S.schema),...$};o(q)},[S,e,n,m]);const L=N.useCallback(({data:$})=>{const q=$??{};o(q),m&&n&&e&&LZ(e,n,m,q)},[e,n,m]),z=$=>{h(t,$.target.value||null)},j=async()=>{if(!(!m||!e||!n)){d(!0);try{await h1(e,m,s),i("Task submitted successfully","success")}catch($){console.error("Failed to submit task:",$),i("Failed to submit task","error")}finally{d(!1)}}},H=N.useMemo(()=>A?iE(A,O,r):null,[A,O,r]);return!e||!n?y.jsx(Ve,{sx:{p:2},children:"Joining room..."}):w||x||I&&U?y.jsx(Ve,{color:"error",sx:{p:2},children:"Failed to load configuration."}):y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[y.jsx(Ve,{variant:"h6",sx:{p:2,pb:1,flexShrink:0},children:t}),y.jsx(ul,{}),y.jsx(Re,{sx:{p:2,pb:12,flexGrow:1,overflowY:"auto"},children:g?y.jsx(CQ,{}):y.jsxs(y.Fragment,{children:[y.jsxs(Fi,{fullWidth:!0,sx:{mb:2},children:[y.jsxs(tu,{id:"panel-select-label",children:[t," Method"]}),y.jsx(nc,{labelId:"panel-select-label",value:m||"",label:`${t} Method`,onChange:z,children:b?.map($=>{const q=FL($.full_name);return y.jsx(rr,{value:$.full_name,children:y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(Ve,{children:q?.name}),y.jsx(pr,{label:q?.displayScope,size:"small",color:q?.displayScope==="internal"?"primary":q?.displayScope==="public"?"success":"default"})]})},$.full_name)})})]}),R&&y.jsx(TQ,{jobName:R.full_name,workerCount:R.workers.length,pendingTaskCount:C}),m&&y.jsxs(y.Fragment,{children:[t!=="settings"&&y.jsx(_t,{title:a?"Room is locked":"",children:y.jsx("span",{children:y.jsx(xt,{variant:"contained",startIcon:y.jsx($V,{}),onClick:j,disabled:l||T||M||a,fullWidth:!0,color:"primary",sx:{mb:2},children:l?"Running...":"Run Extension"})})}),T||M?y.jsx(RQ,{}):H?y.jsx(ru,{in:!T&&!M,timeout:200,children:y.jsx(Re,{children:y.jsx(z1,{schema:H,data:s,renderers:aE,cells:Q1,onChange:L},m)})}):null,t!=="settings"&&y.jsx(wQ,{roomId:e,jobName:m})]})]})})]})},sIe=N.memo(iIe);function oIe(){const t=J(be=>be.roomId),e=J(be=>be.user?.email??null),n=J(be=>be.selections),r=J(be=>be.selectionGroups),a=J(Kse),i=J(be=>be.updateSelectionForGeometry),s=J(be=>be.geometries),o=J(be=>be.showSnackbar),l=J(MW),[d,f]=N.useState(""),[h,m]=N.useState(null),[b,g]=N.useState(""),[w,S]=N.useState(!1),[T,x]=N.useState(null),[_,C]=N.useState(!1),[R,A]=N.useState({}),[I,O]=N.useState(!1),M="selections",{selectedExtensions:U,setSelectedExtension:L}=Xg(),z=U[M]||null,{data:j,isLoading:H,isError:$}=NZ(t,M),{data:q,isLoading:K,isError:V}=MZ(t,z),re=N.useMemo(()=>!j||!z?null:j.find(be=>be.full_name===z),[j,z]),ee=q?.schema,Y=N.useMemo(()=>ee?xQ(ee):!1,[ee]),{data:ne,isLoading:te,isError:G}=dl(t,0,Y);N.useEffect(()=>{if(!q||!z||!e||!t)return;const be=FZ(t,e,z),Ie={...OZ(q.schema),...be};A(Ie)},[q,t,e,z]);const W=N.useCallback(({data:be})=>{const Ie=be??{};A(Ie),z&&e&&t&&LZ(t,e,z,Ie)},[t,e,z]),ue=be=>{L(M,be.target.value||null)},Ee=async()=>{if(!(!z||!t||!e)){O(!0);try{await h1(t,z,R),o("Task submitted successfully","success")}catch(be){console.error("Failed to submit task:",be),o("Failed to submit task","error")}finally{O(!1)}}},ge=N.useMemo(()=>ee?iE(ee,ne,s):null,[ee,ne,s]),fe=N.useMemo(()=>!j||!Array.isArray(j)?[]:j.map(be=>{const Ie=FL(be.full_name);return{jobName:be.full_name,displayName:Ie?.name||be.full_name,scope:Ie?.displayScope||"private"}}),[j]),Ae=N.useMemo(()=>{const be=new Set;return Object.keys(n).forEach(Ie=>{n[Ie]&&n[Ie].length>0&&be.add(Ie)}),Object.values(r).forEach(Ie=>{Object.keys(Ie).forEach(je=>{Ie[je]&&Ie[je].length>0&&be.add(je)})}),Array.from(be).sort()},[n,r]),oe=N.useMemo(()=>{const be=[],Ie={};return Ae.forEach(ke=>{Ie[ke]=n[ke]?.length||0}),be.push({id:"current",name:"",isCurrent:!0,isActive:!1,selections:Ie,rawData:n}),Object.keys(r).sort().forEach(ke=>{const Ge=r[ke],Et={};Ae.forEach(gt=>{Et[gt]=Ge[gt]?.length||0}),be.push({id:ke,name:ke,isCurrent:!1,isActive:a===ke,selections:Et,rawData:Ge})}),be},[n,r,a,Ae]),de=N.useMemo(()=>Object.values(n).some(be=>be&&be.length>0),[n]),se=N.useCallback(async()=>{if(!(!t||!d.trim())){if(r[d.trim()]){o(`Group "${d.trim()}" already exists`,"error");return}C(!0);try{await eF(t,d.trim(),n),f(""),o(`Group "${d.trim()}" saved`,"success")}catch(be){console.error("Failed to save selection group:",be),o("Failed to save selection group","error")}finally{C(!1)}}},[t,d,n,r,o]),Se=N.useCallback(async be=>{if(!t||!b.trim()||b.trim()===be){m(null);return}if(r[b.trim()]&&b.trim()!==be){o(`Group "${b.trim()}" already exists`,"error"),m(null);return}C(!0);try{await tF(t,be),await eF(t,b.trim(),r[be]),m(null),o(`Group renamed to "${b.trim()}"`,"success")}catch(Ie){console.error("Failed to rename group:",Ie),o("Failed to rename group","error"),m(null)}finally{C(!1)}},[t,b,r,o]),me=N.useCallback(async be=>{const Ie=be.row;if(!(Ie.isCurrent||h)&&t){C(!0);try{await Promise.all(Object.entries(Ie.rawData).map(([je,ke])=>NN(t,je,ke)))}catch(je){console.error("Failed to load selection group:",je),o(`Failed to load group "${Ie.name}"`,"error")}finally{C(!1)}}},[t,h,o]),ce=N.useCallback(()=>{de&&Ae.forEach(be=>{n[be]&&n[be].length>0&&i(be,[])})},[de,Ae,n,i]),pe=N.useCallback(async()=>{if(!(!t||!T)){C(!0),S(!1);try{await tF(t,T),o(`Group "${T}" deleted`,"success")}catch(be){console.error("Failed to delete group:",be),o(`Failed to delete group "${T}"`,"error")}finally{C(!1),x(null)}}},[t,T,o]),Te=N.useMemo(()=>{const be=[{field:"name",headerName:"Name",width:200,flex:1,renderCell:Ie=>{const je=Ie.row;if(je.isCurrent)return y.jsx(Re,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%",height:"100%"},children:y.jsx(jt,{size:"small",fullWidth:!0,placeholder:"Type name to save...",value:d,onChange:Ge=>f(Ge.target.value),onKeyDown:Ge=>{Ge.key==="Enter"&&d.trim()&&se()},onBlur:()=>{d.trim()&&se()},disabled:_||!de,sx:{"& .MuiInputBase-root":{fontSize:"0.875rem"}}})});const ke=h===je.id;return y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%",height:"100%"},children:[je.isActive?y.jsx(GV,{sx:{color:"success.main"},fontSize:"small"}):y.jsx(HV,{sx:{color:"action.disabled"},fontSize:"small"}),ke?y.jsx(jt,{size:"small",fullWidth:!0,autoFocus:!0,value:b,onChange:Ge=>g(Ge.target.value),onKeyDown:Ge=>{Ge.key==="Enter"?Se(je.id):Ge.key==="Escape"&&m(null)},onBlur:()=>Se(je.id),sx:{"& .MuiInputBase-root":{fontSize:"0.875rem"}}}):y.jsx(Ve,{sx:{fontWeight:je.isActive?"bold":"normal",fontSize:"0.875rem",flex:1},onDoubleClick:()=>{m(je.id),g(je.name)},children:je.name})]})}}];return Ae.forEach(Ie=>{be.push({field:Ie,headerName:Ie,width:100,align:"center",headerAlign:"center",renderCell:je=>{const ke=je.row,Ge=ke.selections[Ie]||0;if(Ge===0)return y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:y.jsx(Ve,{sx:{color:"text.disabled",fontSize:"0.875rem"},children:"-"})});let Et="default";return ke.isCurrent?Et="primary":ke.isActive&&(Et="success"),y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:y.jsx(pr,{label:Ge,size:"small",color:Et})})}})}),be.push({field:"actions",headerName:"Actions",width:100,sortable:!1,renderCell:Ie=>{const je=Ie.row;return je.isCurrent?y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:y.jsx(_t,{title:"Clear all current selections",children:y.jsx("span",{children:y.jsx(Ct,{size:"small",onClick:ke=>{ke.stopPropagation(),ce()},disabled:!de||_,children:y.jsx(o1,{fontSize:"small"})})})})}):y.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:.5,height:"100%"},children:[y.jsx(_t,{title:"Edit name",children:y.jsx(Ct,{size:"small",onClick:ke=>{ke.stopPropagation(),m(je.id),g(je.name)},disabled:_,children:y.jsx(hb,{fontSize:"small"})})}),y.jsx(_t,{title:"Delete group",children:y.jsx(Ct,{size:"small",onClick:ke=>{ke.stopPropagation(),x(je.id),S(!0)},disabled:_,children:y.jsx(rc,{fontSize:"small"})})})]})}}),be},[Ae,d,h,b,_,de,se,Se,ce]);return!t||!e?y.jsx(Ve,{sx:{p:2},children:"Joining room..."}):$||V||Y&&G?y.jsx(Ve,{color:"error",sx:{p:2},children:"Failed to load configuration."}):y.jsxs(Re,{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[y.jsx(Ve,{variant:"h6",sx:{p:2,pb:1},children:"Selections"}),y.jsx(ul,{}),y.jsx(Re,{sx:{flexGrow:1,overflowY:"auto",overscrollBehavior:"contain",p:2},children:H?y.jsx(aIe,{}):y.jsxs(y.Fragment,{children:[y.jsxs(DS,{defaultExpanded:!0,children:[y.jsx(OS,{expandIcon:y.jsx(el,{}),children:y.jsx(Ve,{variant:"subtitle1",fontWeight:"medium",children:"Selection Tools"})}),y.jsxs(NS,{children:[y.jsxs(Fi,{fullWidth:!0,sx:{mb:2},children:[y.jsx(tu,{id:"panel-select-label",children:"Selection Method"}),y.jsx(nc,{labelId:"panel-select-label",value:z||"",label:"Selection Method",onChange:ue,children:fe.map(be=>y.jsx(rr,{value:be.jobName,children:y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:1},children:[y.jsx(Ve,{children:be.displayName}),y.jsx(pr,{label:be.scope,size:"small",color:be.scope==="internal"?"primary":be.scope==="public"?"success":"default"})]})},be.jobName))})]}),re&&y.jsx(TQ,{jobName:re.full_name,workerCount:re.workers.length,pendingTaskCount:0}),ge&&y.jsxs(y.Fragment,{children:[y.jsx(_t,{title:l?"Room is locked":"",children:y.jsx("span",{children:y.jsx(xt,{variant:"contained",startIcon:y.jsx($V,{}),onClick:Ee,disabled:I||K||l,fullWidth:!0,color:"primary",sx:{mb:2},children:I?"Running...":"Run Extension"})})}),K||te?y.jsx(RQ,{}):y.jsx(ru,{in:!K&&!te,timeout:200,children:y.jsx(Re,{children:y.jsx(z1,{schema:ge,data:R,renderers:aE,cells:Q1,onChange:W},z)})}),y.jsx(wQ,{roomId:t,jobName:z})]})]})]}),y.jsxs(DS,{defaultExpanded:!0,sx:{mt:2},children:[y.jsx(OS,{expandIcon:y.jsx(el,{}),children:y.jsx(Ve,{variant:"subtitle1",fontWeight:"medium",children:"Selection Groups"})}),y.jsx(NS,{sx:{p:0},children:y.jsx(Re,{sx:{height:400,width:"100%"},children:y.jsx(mb,{rows:oe,columns:Te,disableRowSelectionOnClick:!0,disableColumnMenu:!0,hideFooter:!0,onRowClick:me,getRowClassName:be=>be.row.isCurrent?"current-selection-row":be.row.isActive?"active-group-row":"",sx:{"& .MuiDataGrid-columnHeaders":{minHeight:"48px !important",maxHeight:"48px !important"},"& .MuiDataGrid-columnHeader":{padding:"8px"},"& .current-selection-row":{bgcolor:"rgba(33, 150, 243, 0.08)",borderTop:"2px solid",borderTopColor:"primary.main","&:hover":{bgcolor:"rgba(33, 150, 243, 0.12)"}},"& .active-group-row":{bgcolor:"rgba(76, 175, 80, 0.08)","&:hover":{bgcolor:"rgba(76, 175, 80, 0.12)"}},"& .MuiDataGrid-row":{cursor:"pointer"},"& .MuiDataGrid-row.current-selection-row":{cursor:"default"}}})})})]}),Object.keys(r).length===0&&y.jsx(Ve,{color:"text.secondary",sx:{p:2,textAlign:"center"},children:"Select geometry instances and type a name above to save a group."}),y.jsxs(yi,{open:w,onClose:()=>S(!1),children:[y.jsx(Ui,{children:"Delete Selection Group"}),y.jsx(vi,{children:y.jsxs(s1,{children:['Are you sure you want to delete the group "',T,'"? This action cannot be undone.']})}),y.jsxs(cs,{children:[y.jsx(xt,{onClick:()=>S(!1),children:"Cancel"}),y.jsx(xt,{onClick:pe,color:"error",variant:"contained",children:"Delete"})]})]})]})})]})}const GL=t=>{const e=J(n=>n.sessionId);return Zt({queryKey:["settings",t,e],queryFn:async()=>{if(!e)throw new Error("No session ID");return await kW(t,e)},staleTime:Number.POSITIVE_INFINITY,enabled:!!t&&!!e})},lIe=()=>{const t=oa(),e=J(n=>n.sessionId);return RM({mutationFn:async n=>{if(!e)throw new Error("No session ID");const{roomId:r,data:a}=n;return await kse(r,e,a)},onSuccess:(n,r)=>{const{roomId:a,data:i}=r,s=["settings",a,e];t.setQueryData(s,o=>o&&{...o,data:{...o.data,...i}})},onError:n=>{console.error("Error updating settings:",n)}})},cIe=()=>{const t=J(A=>A.roomId),e=J(A=>A.user?.email??null),n=J(A=>A.geometries),[r,a]=N.useState({}),i=N.useRef(!0),{selectedExtensions:s,setSelectedExtension:o}=Xg(),l=s.settings||null,{data:d,isLoading:f,isError:h}=GL(t??""),{mutate:m}=lIe(),b=d?.schema,g=d?.data,w=N.useMemo(()=>f||!b?[]:Object.keys(b.properties),[f,b]),S=N.useMemo(()=>{if(f||!b||!l)return null;const A=b.properties[l],I=b.$defs;if(!A.$ref)return I?{...A,$defs:I}:A;const O=A.$ref.split("/").pop(),M=I?.[O];return M?{...M,$defs:I}:null},[f,b,l]),T=N.useMemo(()=>{if(!(f||!g||!l))return g[l]},[f,g,l]);N.useEffect(()=>{!f&&T!==void 0&&(a(T??{}),i.current=!0)},[f,T,l]);const x=N.useMemo(()=>rl.debounce(A=>{!l||!t||!e||m({roomId:t,data:{[l]:A}})},100),[l,t,e,m]);N.useEffect(()=>()=>{x.cancel()},[x]);const _=N.useCallback(({data:A})=>{const I=A??{};if(i.current){i.current=!1;return}a(I),x(I)},[x]),C=A=>{o("settings",A.target.value||null)},R=N.useMemo(()=>S?iE(S,void 0,n):null,[S,n]);return!t||!e?y.jsx(Ve,{sx:{p:2},children:"Joining room..."}):h?y.jsx(Ve,{color:"error",sx:{p:2},children:"Failed to load settings."}):y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[y.jsx(Ve,{variant:"h6",sx:{p:2,pb:1,flexShrink:0},children:"Settings"}),y.jsx(ul,{}),y.jsx(Re,{sx:{p:2,pb:12,flexGrow:1,overflowY:"auto"},children:f?y.jsx(CQ,{}):y.jsxs(y.Fragment,{children:[y.jsxs(Fi,{fullWidth:!0,sx:{mb:2},children:[y.jsx(tu,{id:"settings-select-label",children:"Settings Category"}),y.jsx(nc,{labelId:"settings-select-label",value:l||"",label:"Settings Category",onChange:C,children:w.map(A=>y.jsx(rr,{value:A,children:y.jsx(Ve,{children:A.replace(/_/g," ").replace(/\b\w/g,I=>I.toUpperCase())})},A))})]}),l&&R&&y.jsx(ru,{in:!0,timeout:200,children:y.jsx(Re,{children:y.jsx(z1,{schema:R,data:r,renderers:aE,cells:Q1,onChange:_},l)})})]})})]})},uIe=N.memo(cIe),dIe=t=>Zt({queryKey:["geometries",t,"list"],queryFn:()=>lS(t),enabled:!!t,staleTime:3e4}),AQ=()=>{const t=oa();return RM({mutationFn:({roomId:e,key:n,geometryType:r,geometryData:a})=>Sb(e,n,r,a),onMutate:async e=>{await t.cancelQueries({queryKey:["geometries",e.roomId,"list"]});const n=t.getQueryData(["geometries",e.roomId,"list"]);return n&&t.setQueryData(["geometries",e.roomId,"list"],{...n,items:{...n.items,[e.key]:{type:e.geometryType,data:e.geometryData,selection:[]}}}),{previous:n}},onError:(e,n,r)=>{r?.previous&&t.setQueryData(["geometries",n.roomId,"list"],r.previous)},onSettled:(e,n,r)=>{t.invalidateQueries({queryKey:["geometries",r.roomId,"list"]}),t.invalidateQueries({queryKey:["geometries",r.roomId,"detail",r.key]})}})},fIe=()=>{const t=oa();return RM({mutationFn:({roomId:e,key:n})=>xse(e,n),onMutate:async e=>{await t.cancelQueries({queryKey:["geometries",e.roomId,"list"]});const n=t.getQueryData(["geometries",e.roomId,"list"]);if(n){const{[e.key]:r,...a}=n.items;t.setQueryData(["geometries",e.roomId,"list"],{...n,items:a})}return t.removeQueries({queryKey:["geometries",e.roomId,"detail",e.key]}),{previous:n}},onError:(e,n,r)=>{r?.previous&&t.setQueryData(["geometries",n.roomId,"list"],r.previous)},onSettled:(e,n,r)=>{t.invalidateQueries({queryKey:["geometries",r.roomId,"list"]})}})},HL=cb()(rY(t=>({mode:"list",selectedKey:null,formData:{},selectedType:null,searchFilter:"",setMode:e=>{t(n=>{n.mode=e})},setSelectedKey:e=>{t(n=>{n.selectedKey=e})},setFormData:e=>{t(n=>{n.formData=e})},setSelectedType:e=>{t(n=>{n.selectedType=e})},setSearchFilter:e=>{t(n=>{n.searchFilter=e})},resetForm:()=>{t(e=>{e.formData={},e.selectedKey=null,e.selectedType=null,e.mode="list"})}})));function bo(t,e,n){if(!n||Object.keys(n).length===0)return t;const r=n[e];return r?rl.merge({},r,t):t}const pIe=250,hIe=200,mIe=()=>{const t=J(W=>W.roomId),e=J(W=>W.geometries),n=J(W=>W.geometrySchemas),r=J(W=>W.geometryDefaults),{mode:a,selectedKey:i,selectedType:s,formData:o,setMode:l,setSelectedType:d,setFormData:f,resetForm:h}=HL(),[m,b]=N.useState(""),[g,w]=N.useState(!0),[S,T]=N.useState(null),[x,_]=N.useState(!1),[C,R]=N.useState(!1),A=N.useRef(!1),I=N.useRef(!1),{data:O,isLoading:M,isError:U}=dl(t),L=a==="edit"?i:m.trim(),z=L?e?.[L]:null,{mutate:j,isPending:H}=AQ(),$=N.useMemo(()=>Object.keys(n),[n]);N.useEffect(()=>{a==="edit"&&i&&z&&(A.current=!1,b(i),d(z.type),f(z.data||{}),w(z.data?.active!==!1),R(!0),setTimeout(()=>{A.current=!0},500))},[a,i,f,d]),N.useEffect(()=>{if(!A.current||!z?.data)return;const W=z.data;rl.isEqual(W,o)||(I.current=!0,f({...W}),w(W?.active!==!1),setTimeout(()=>{I.current=!1},hIe))},[z?.data]);const q=N.useCallback(W=>e?Object.keys(e).includes(W.trim()):!1,[e]),K=N.useCallback(()=>{if(a==="create"&&m.trim()&&s&&r&&!C){if(q(m)){T(`A geometry with the name "${m.trim()}" already exists. Please choose a different name.`);return}const W=bo({},s,r);f(W),R(!0),A.current=!0}},[a,m,s,r,C,f,q]),V=N.useCallback(()=>{m.trim()&&s&&K()},[m,s,K]),re=W=>{const ue=W.target.value;if(d(ue),T(null),a==="create"&&r&&ue){const Ee=bo({},ue,r);f(Ee)}},ee=({data:W})=>{f(W??{})},Y=N.useCallback(()=>{!t||!m.trim()||!s||(T(null),_(!0),j({roomId:t,key:m.trim(),geometryType:s,geometryData:{...o,active:g}},{onSuccess:()=>{_(!1)},onError:W=>{_(!1);const ue=W.message||"Failed to save geometry";T(ue)}}))},[t,m,s,o,g,j]),ne=N.useMemo(()=>rl.debounce(Y,pIe),[Y]);N.useEffect(()=>{if(!(!A.current||a==="create"&&(!m.trim()||!s))&&!I.current)return ne(),()=>{ne.cancel()}},[o,m,s,g,a,ne]);const te=()=>{h(),T(null),R(!1),b(""),A.current=!1},G=N.useMemo(()=>!s||!n[s]?null:iE(n[s],O,e),[s,n,O,e]);return M?y.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:y.jsx(Ca,{})}):U?y.jsx(Ve,{color:"error",sx:{p:2},children:"Failed to load frame metadata."}):a==="edit"&&i&&!z?y.jsxs(Re,{sx:{p:2},children:[y.jsxs(Ve,{color:"error",children:['Geometry "',i,'" not found. It may have been deleted.']}),y.jsx(xt,{onClick:te,sx:{mt:2},children:"Back to List"})]}):y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[y.jsxs(Re,{sx:{p:2,borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},children:[y.jsxs(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[y.jsx(xt,{startIcon:y.jsx(OV,{}),onClick:te,children:"Back to List"}),x&&y.jsx(pr,{label:"Saving...",size:"small",color:"primary",sx:{ml:2}})]}),y.jsx(Ve,{variant:"h6",children:a==="create"?"Create Geometry":"Edit Geometry"})]}),y.jsxs(Re,{sx:{p:2,pb:12,flexGrow:1,overflowY:"auto"},children:[S&&y.jsx(ha,{severity:"error",sx:{mb:2},onClose:()=>T(null),children:S}),y.jsx(jt,{fullWidth:!0,label:"Key",value:m,onChange:W=>b(W.target.value),onBlur:V,disabled:C,sx:{mb:2},required:!0,error:!C&&a==="create"&&m.trim()!==""&&q(m),helperText:!C&&a==="create"?m.trim()!==""&&q(m)?`Name "${m.trim()}" is already taken`:"Enter a unique name for this geometry":""}),y.jsxs(Fi,{fullWidth:!0,sx:{mb:2},required:!0,children:[y.jsx(tu,{children:"Type"}),y.jsx(nc,{value:s||"",label:"Type",onChange:re,onBlur:V,disabled:C,children:$.map(W=>y.jsx(rr,{value:W,children:W},W))})]}),y.jsx(mo,{control:y.jsx(FM,{checked:g,onChange:W=>w(W.target.checked)}),label:"Active (visible in scene)",sx:{mb:2}}),G&&y.jsxs(y.Fragment,{children:[y.jsx(Ve,{variant:"subtitle2",sx:{mb:2},children:"Geometry Data"}),y.jsx(z1,{schema:G,data:o,renderers:aE,cells:Q1,onChange:ee})]}),y.jsx(Re,{sx:{mt:3},children:y.jsx(xt,{variant:"outlined",onClick:te,fullWidth:!0,children:"Close"})})]})]})},gIe=({open:t,geometryKey:e,onConfirm:n,onCancel:r})=>y.jsxs(yi,{open:t,onClose:r,children:[y.jsx(Ui,{children:"Delete Geometry"}),y.jsx(vi,{children:y.jsxs(s1,{children:['Are you sure you want to delete the geometry "',e,'"? This action cannot be undone.']})}),y.jsxs(cs,{children:[y.jsx(xt,{onClick:r,children:"Cancel"}),y.jsx(xt,{onClick:n,color:"error",variant:"contained",children:"Delete"})]})]}),bIe=({geometries:t})=>{const e=J(K=>K.roomId),n=J(K=>K.user?.id??null),r=J(K=>K.geometries),a=J(K=>K.superuserLock),i=J(K=>K.userLock),s=J(K=>K.user?.is_superuser??!1),o=J(K=>K.user?.email??null),l=J(K=>K.activeCurveForDrawing),d=J(K=>K.setActiveCurveForDrawing),f=J(K=>K.attachedCameraKey),h=J(K=>K.attachToCamera),{setMode:m,setSelectedKey:b,searchFilter:g,setSearchFilter:w}=HL(),[S,T]=N.useState(!1),[x,_]=N.useState(null),{mutate:C}=fIe(),{mutate:R}=AQ(),A=K=>{if(s)return!0;const V=r[K];if(!V)return!1;const re=V.data?.owner;return!(re&&re!==n||i&&i!==o||a&&re!==n)},I=K=>{b(K),m("edit")},O=K=>{_(K),T(!0)},M=()=>{x&&e&&C({roomId:e,key:x}),T(!1),_(null)},U=()=>{T(!1),_(null)},L=(K,V)=>{const re=r[K];!re||!e||R({roomId:e,key:K,geometryType:re.type,geometryData:{...re.data,active:!V}})},z=(K,V)=>{V==="Curve"?d(l===K?null:K):V==="Camera"&&f!==K&&h(K)},j=K=>{const re=r[K]?.data?.owner;return re&&re!==n?"Owned by another user":i&&i!==o?"Room is being edited":a&&re!==n?"Room is locked":null},H=[{field:"key",headerName:"Key",flex:1,minWidth:150},{field:"type",headerName:"Type",flex:1,minWidth:120},{field:"selection",headerName:"Active",width:70,renderCell:K=>{const V=K.row.type,re=V==="Curve";if(!re&&!(V==="Camera"))return null;const Y=re?l===K.row.key:f===K.row.key,ne=re?Y?"Deselect this curve for drawing":"Select this curve for drawing":Y?"Currently attached to this camera":"Attach to this camera";return y.jsx(_t,{title:ne,children:y.jsx(Ct,{size:"small",onClick:te=>{te.stopPropagation(),z(K.row.key,V)},color:Y?"primary":"default",children:Y?y.jsx(GV,{}):y.jsx(HV,{})})})}},{field:"active",headerName:"Visible",width:80,renderCell:K=>{const V=K.row.active!==!1,re=A(K.row.key);return y.jsx(FM,{checked:V,disabled:!re,onChange:ee=>{ee.stopPropagation(),L(K.row.key,V)},onClick:ee=>{ee.stopPropagation()},size:"small"})}},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:K=>{const V=A(K.row.key),re=j(K.row.key);return V?[y.jsx(v_,{icon:y.jsx(hb,{}),label:"Edit",onClick:()=>I(K.row.key),showInMenu:!1},"edit"),y.jsx(v_,{icon:y.jsx(rc,{}),label:"Delete",onClick:()=>O(K.row.key),showInMenu:!1},"delete")]:[y.jsx(v_,{icon:y.jsx(_t,{title:re??"",children:y.jsx($g,{color:"disabled"})}),label:"Locked",disabled:!0,showInMenu:!1},"locked")]}}],q=N.useMemo(()=>{if(!g)return t;const K=g.toLowerCase();return t.filter(V=>V.key.toLowerCase().includes(K)||V.type.toLowerCase().includes(K))},[t,g]).map((K,V)=>({id:V,key:K.key,type:K.type,active:r[K.key]?.data?.active!==!1}));return y.jsxs(Re,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[y.jsx(Re,{sx:{p:2,pb:1},children:y.jsx(jt,{fullWidth:!0,size:"small",placeholder:"Search geometries...",value:g,onChange:K=>w(K.target.value),slotProps:{input:{startAdornment:y.jsx(Ip,{position:"start",children:y.jsx(kM,{})})}}})}),y.jsx(Re,{sx:{flexGrow:1,px:2,pb:2},children:y.jsx(mb,{rows:q,columns:H,density:"compact",disableRowSelectionOnClick:!0,slots:{noRowsOverlay:()=>y.jsx(Re,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:y.jsx(Ve,{color:"text.secondary",children:'No geometries yet. Click "Add Geometry" to create one.'})})},sx:{border:"1px solid rgba(0, 0, 0, 0.12)","& .MuiDataGrid-cell:focus":{outline:"none"},"& .MuiDataGrid-row:hover":{cursor:"pointer"},"& .MuiDataGrid-row.non-editable":{opacity:.6,cursor:"default"}},getRowClassName:K=>A(K.row.key)?"":"non-editable",onRowClick:K=>{A(K.row.key)&&I(K.row.key)}})}),y.jsx(gIe,{open:S,geometryKey:x,onConfirm:M,onCancel:U})]})},yIe=()=>{const t=J(d=>d.roomId),{mode:e,setMode:n,resetForm:r}=HL(),{data:a,isLoading:i,isError:s}=dIe(t),o=N.useMemo(()=>!a?.items||typeof a.items!="object"?[]:Object.keys(a.items).map(d=>({key:d,type:a.items[d]?.type||"unknown"})),[a]),l=()=>{r(),n("create")};return t?i?y.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:y.jsx(Ca,{})}):s?y.jsx(Ve,{color:"error",sx:{p:2},children:"Failed to load geometries."}):y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[e==="list"&&y.jsxs(y.Fragment,{children:[y.jsx(Ve,{variant:"h6",sx:{p:2,pb:1,flexShrink:0},children:"Geometries"}),y.jsx(ul,{}),y.jsx(Re,{sx:{p:2},children:y.jsx(xt,{variant:"contained",startIcon:y.jsx(bd,{}),onClick:l,fullWidth:!0,children:"Add Geometry"})}),y.jsx(Re,{sx:{flexGrow:1,minHeight:0},children:y.jsx(bIe,{geometries:o})})]}),(e==="create"||e==="edit")&&y.jsx(mIe,{})]}):y.jsx(Ve,{sx:{p:2},children:"Joining room..."})},vIe=[{name:"settings",icon:y.jsx(Tre,{}),schemaType:"settings",description:"Application settings"},{name:"selections",icon:y.jsx(Cre,{}),schemaType:"selections",description:"Selection tools and groups"},{name:"modifiers",icon:y.jsx(Rre,{}),schemaType:"modifiers",description:"Modifier tools"},{name:"analysis",icon:y.jsx(Are,{}),schemaType:"analysis",description:"Analysis tools"},{name:"geometries",icon:y.jsx(Ire,{}),schemaType:"geometries",description:"Manage geometries"}],SIe=240,EIe=Ta.SECONDARY_DRAWER_WIDTH,_Ie=Ta.SECONDARY_DRAWER_WIDTH,xIe=Ta.SECONDARY_DRAWER_WIDTH,wIe=Ta.SECONDARY_DRAWER_WIDTH,TIe=Ta.SECONDARY_DRAWER_WIDTH,CIe=()=>{const t=Xg(a=>a.selectedCategory),e=Xg(a=>a.setSelectedCategory),n=a=>{e(t===a?null:a)},r=t==="geometries"?_Ie:t==="selections"?xIe:t==="settings"?EIe:t==="modifiers"?wIe:t==="analysis"?TIe:SIe;return y.jsxs(y.Fragment,{children:[y.jsx(Ele,{drawerWidth:Ta.PRIMARY_DRAWER_WIDTH,navItems:vIe,selectedItem:t,onItemClick:n}),t&&y.jsx(Re,{component:"aside",sx:{position:"fixed",left:Ta.PRIMARY_DRAWER_WIDTH,top:Ta.APPBAR_HEIGHT,width:r,height:YW(),zIndex:a=>a.zIndex.drawer,borderRight:a=>`1px solid ${a.palette.divider}`,bgcolor:"background.paper",boxShadow:2},children:t==="geometries"?y.jsx(yIe,{}):t==="selections"?y.jsx(oIe,{}):t==="settings"?y.jsx(uIe,{}):y.jsx(sIe,{panelTitle:t},t)},t)]})};function RIe({open:t,onClose:e}){const[n,r]=N.useState(null),[a,i]=N.useState(null),[s,o]=N.useState(!1),[l,d]=N.useState(""),[f,h]=N.useState(""),m=J(T=>T.showSnackbar),b=J(T=>T.user?.email??null);N.useEffect(()=>{t&&g()},[t]);const g=()=>{d(""),h(""),r(null),i(null)},w=async()=>{if(r(null),i(null),!l){r("New password is required");return}if(l!==f){r("Passwords do not match");return}o(!0);try{await Aie(l),i("Password changed successfully!"),m("Password changed","success"),g()}catch(T){r(T instanceof Error?T.message:"Password change failed")}finally{o(!1)}},S=()=>{s||(g(),e())};return y.jsxs(yi,{open:t,onClose:S,maxWidth:"sm",fullWidth:!0,children:[y.jsx(Ui,{children:"Manage Account"}),y.jsx(vi,{children:y.jsxs(Re,{sx:{pt:1,display:"flex",flexDirection:"column",gap:2},children:[y.jsxs(Ve,{variant:"body2",color:"text.secondary",children:["Account: ",y.jsx("strong",{children:b})]}),n&&y.jsx(ha,{severity:"error",onClose:()=>r(null),children:n}),a&&y.jsx(ha,{severity:"success",onClose:()=>i(null),children:a}),y.jsx(jt,{autoFocus:!0,label:"New Password",type:"password",fullWidth:!0,value:l,onChange:T=>d(T.target.value),disabled:s,autoComplete:"new-password"}),y.jsx(jt,{label:"Confirm New Password",type:"password",fullWidth:!0,value:f,onChange:T=>h(T.target.value),onKeyPress:T=>{T.key==="Enter"&&!s&&w()},disabled:s,autoComplete:"new-password"})]})}),y.jsxs(cs,{sx:{px:3,pb:2},children:[y.jsx(xt,{onClick:S,disabled:s,children:"Cancel"}),y.jsx(xt,{onClick:w,variant:"contained",disabled:s||!l||!f,children:s?"Changing...":"Change Password"})]})]})}function AIe(t,e,n){const[r,a]=N.useState({enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,positionEditable:!0,targetEditable:!0});return N.useEffect(()=>{if(!t){a({enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,positionEditable:!0,targetEditable:!0});return}const i=e[t];if(!i||i.type!=="Camera"){a({enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,positionEditable:!0,targetEditable:!0});return}const s=i.data?.owner;if(s&&s!==n){a({enabled:!1,enablePan:!1,enableRotate:!1,enableZoom:!1,positionEditable:!1,targetEditable:!1});return}const o=Oi(i.data.position),l=Oi(i.data.target);a(o&&l?{enabled:!1,enablePan:!1,enableRotate:!1,enableZoom:!1,positionEditable:!1,targetEditable:!1}:o&&!l?{enabled:!1,enablePan:!1,enableRotate:!1,enableZoom:!1,positionEditable:!1,targetEditable:!0}:!o&&l?{enabled:!0,enablePan:!1,enableRotate:!0,enableZoom:!0,positionEditable:!0,targetEditable:!1}:{enabled:!0,enablePan:!0,enableRotate:!0,enableZoom:!0,positionEditable:!0,targetEditable:!0})},[t,e,n]),r}const IIe=100;function kIe({camera:t,controlsRef:e,controlsState:n}){const r=J(f=>f.roomId),a=J(f=>f.user?.id??null),i=J(f=>f.attachedCameraKey),s=J(f=>f.attachedCameraKey?f.geometries[f.attachedCameraKey]:null),o=N.useRef(null);o.current=async(f,h)=>{if(!r||!i||!s||s.type!=="Camera")return;const m=s.data||{},b={...m};n.positionEditable&&!Oi(m.position)&&(b.position=f),n.targetEditable&&!Oi(m.target)&&(b.target=h);try{await Sb(r,i,"Camera",b)}catch(g){console.error("[GeometryCameraSync] Failed to update camera geometry:",g)}};const l=N.useMemo(()=>rl.debounce((f,h)=>{o.current?.(f,h)},IIe),[]);return N.useEffect(()=>()=>{l.flush()},[l]),{syncToGeometry:N.useCallback(()=>{const f=e.current;if(!t||!f||!i||s?.data?.owner&&s.data.owner!==a||!n.positionEditable&&!n.targetEditable)return;const h=t.position.toArray(),m=f.target.toArray();l(h,m)},[t,e,i,a,s,n.positionEditable,n.targetEditable,l])}}function DIe({error:t}){const e=yo();return y.jsxs(Re,{sx:{width:"100%",height:"calc(100vh - 64px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:e.palette.background.default,gap:2},children:[y.jsx(Ve,{variant:"h6",color:"error",children:t.message}),t.details&&y.jsx(Ve,{variant:"body2",color:"text.secondary",children:t.details}),y.jsx(xt,{variant:"contained",onClick:()=>window.location.reload(),sx:{mt:2},children:"Refresh Page"})]})}function OIe(){const t=yo();return y.jsx(Re,{sx:{width:"100%",height:"calc(100vh - 64px)",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t.palette.background.default},children:y.jsx(Ca,{})})}const NIe=()=>{const t=J(o=>o.currentFrame),e=J(o=>o.playing),n=J(o=>o.setFrameLoadTime),r=N.useRef(null),a=N.useRef(null),i=N.useRef(null),s=N.useRef(null);N.useEffect(()=>{if(e){n(null),r.current=null,a.current=null,i.current!==null&&(cancelAnimationFrame(i.current),i.current=null),s.current!==null&&(s.current(),s.current=null);return}if(a.current!==t){i.current!==null&&(cancelAnimationFrame(i.current),i.current=null),s.current!==null&&(s.current(),s.current=null);const o=performance.now();r.current=o,a.current=t;const l=()=>{const m=J.getState(),{geometryFetchingStates:b,geometries:g}=m;return Object.keys(b).length===0?!1:Object.entries(b).some(([w,S])=>S?g[w]?.data?.active!==!1:!1)},d=()=>{i.current=requestAnimationFrame(()=>{const m=Math.round(performance.now()-o);n(m),i.current=null}),s.current!==null&&(s.current(),s.current=null)};if(!l()){d();return}let h=J.getState().geometryFetchingStates;s.current=J.subscribe(m=>{const b=m.geometryFetchingStates;b!==h&&(h=b,l()||d())})}return()=>{i.current!==null&&(cancelAnimationFrame(i.current),i.current=null),s.current!==null&&(s.current(),s.current=null)}},[t,e,n])},N9=3;function MIe(){const t=oa(),e=J(a=>a.playing),n=J(a=>a.roomId),r=N.useRef(new Set);N.useEffect(()=>{if(!e||!n)return;const a=new AbortController;function i(o){const l=J.getState(),d=l.roomId;if(!d)return;const f=[...new Set(Object.values(l.neededFrameKeys).flat())];if(f.length===0)return;const h=l.skipFrames,m=l.frameCount,b=l.frameSelectionEnabled?l.frame_selection:null,g=[];if(b&&b.length>0){const w=[...b].sort((T,x)=>T-x),S=w.indexOf(o);if(S===-1)return;for(let T=1;T<=N9;T++){const x=S+T*h;if(x>=w.length)break;g.push(w[x])}}else for(let w=1;w<=N9;w++){const S=o+w*h;if(S>=m)break;g.push(S)}for(const w of g)r.current.has(w)||(r.current.add(w),Xwe(d,w,f,t,a.signal).finally(()=>r.current.delete(w)))}i(J.getState().currentFrame);const s=J.subscribe((o,l)=>{o.currentFrame!==l.currentFrame&&i(o.currentFrame)});return()=>{s(),a.abort(),r.current.clear()}},[e,n,t])}function PIe({sessionCameraData:t}){const{camera:e,controls:n}=cl(),r=J(s=>s.attachedCameraKey),a=J(s=>s.cameraKey),i=N.useRef(!0);return N.useEffect(()=>{if(!t)return;if(e.near=t.near,e.far=t.far,e.isPerspectiveCamera&&t.fov&&(e.fov=t.fov),e.updateProjectionMatrix(),r===a&&!i.current){const o=t.position,l=t.target;Array.isArray(o)&&o.length===3&&e.position.set(o[0],o[1],o[2]),n?.target&&Array.isArray(l)&&l.length===3&&(n.target.set(l[0],l[1],l[2]),n.update())}i.current=!1},[t,e,n,r,a]),null}function IQ(t,e,n=0){if(t.isInterleavedBufferAttribute){const r=t.itemSize;for(let a=0,i=t.count;a<i;a++){const s=a+n;e.setX(s,t.getX(a)),r>=2&&e.setY(s,t.getY(a)),r>=3&&e.setZ(s,t.getZ(a)),r>=4&&e.setW(s,t.getW(a))}}else{const r=e.array,a=r.constructor,i=r.BYTES_PER_ELEMENT*t.itemSize*n;new a(r.buffer,i,t.array.length).set(t.array)}}function kg(t,e=null){const n=t.array.constructor,r=t.normalized,a=t.itemSize,i=e===null?t.count:e;return new mi(new n(a*i),a,r)}function bp(t,e){if(!t&&!e)return!0;if(!!t!=!!e)return!1;const n=t.count===e.count,r=t.normalized===e.normalized,a=t.array.constructor===e.array.constructor,i=t.itemSize===e.itemSize;return!(!n||!r||!a||!i)}function LIe(t){const e=t[0].index!==null,n=new Set(Object.keys(t[0].attributes));if(!t[0].getAttribute("position"))throw new Error("StaticGeometryGenerator: position attribute is required.");for(let r=0;r<t.length;++r){const a=t[r];let i=0;if(e!==(a.index!==null))throw new Error("StaticGeometryGenerator: All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them.");for(const s in a.attributes){if(!n.has(s))throw new Error('StaticGeometryGenerator: All geometries must have compatible attributes; make sure "'+s+'" attribute exists among all geometries, or in none of them.');i++}if(i!==n.size)throw new Error("StaticGeometryGenerator: All geometries must have the same number of attributes.")}}function FIe(t){let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].getIndex().count;return e}function BIe(t){let e=0;for(let n=0,r=t.length;n<r;n++)e+=t[n].getAttribute("position").count;return e}function jIe(t,e,n){t.index&&t.index.count!==e&&t.setIndex(null);const r=t.attributes;for(const a in r)r[a].count!==n&&t.deleteAttribute(a)}function UIe(t,e={},n=new Zo){const{useGroups:r=!1,forceUpdate:a=!1,skipAssigningAttributes:i=[],overwriteIndex:s=!0}=e;LIe(t);const o=t[0].index!==null,l=o?FIe(t):-1,d=BIe(t);if(jIe(n,l,d),r){let h=0;for(let m=0,b=t.length;m<b;m++){const g=t[m];let w;o?w=g.getIndex().count:w=g.getAttribute("position").count,n.addGroup(h,w,m),h+=w}}if(o){let h=!1;if(n.index||(n.setIndex(new mi(new Uint32Array(l),1,!1)),h=!0),h||s){let m=0,b=0;const g=n.getIndex();for(let w=0,S=t.length;w<S;w++){const T=t[w],x=T.getIndex();if(!(!a&&!h&&i[w]))for(let C=0;C<x.count;++C)g.setX(m+C,x.getX(C)+b);m+=x.count,b+=T.getAttribute("position").count}}}const f=Object.keys(t[0].attributes);for(let h=0,m=f.length;h<m;h++){let b=!1;const g=f[h];if(!n.getAttribute(g)){const T=t[0].getAttribute(g);n.setAttribute(g,kg(T,d)),b=!0}let w=0;const S=n.getAttribute(g);for(let T=0,x=t.length;T<x;T++){const _=t[T],C=!a&&!b&&i[T],R=_.getAttribute(g);C||IQ(R,S,w),w+=R.count}}}function zIe(t,e,n){const r=t.index,i=t.attributes.position.count,s=r?r.count:i;let o=t.groups;o.length===0&&(o=[{count:s,start:0,materialIndex:0}]);let l=t.getAttribute("materialIndex");if(!l||l.count!==i){let f;n.length<=255?f=new Uint8Array(i):f=new Uint16Array(i),l=new mi(f,1,!1),t.deleteAttribute("materialIndex"),t.setAttribute("materialIndex",l)}const d=l.array;for(let f=0;f<o.length;f++){const h=o[f],m=h.start,b=h.count,g=Math.min(b,s-m),w=Array.isArray(e)?e[h.materialIndex]:e,S=n.indexOf(w);for(let T=0;T<g;T++){let x=m+T;r&&(x=r.getX(x)),d[x]=S}}}function qIe(t,e){if(!t.index){const n=t.attributes.position.count,r=new Array(n);for(let a=0;a<n;a++)r[a]=a;t.setIndex(r)}if(!t.attributes.normal&&e&&e.includes("normal")&&t.computeVertexNormals(),!t.attributes.uv&&e&&e.includes("uv")){const n=t.attributes.position.count;t.setAttribute("uv",new mi(new Float32Array(n*2),2,!1))}if(!t.attributes.uv2&&e&&e.includes("uv2")){const n=t.attributes.position.count;t.setAttribute("uv2",new mi(new Float32Array(n*2),2,!1))}if(!t.attributes.tangent&&e&&e.includes("tangent"))if(t.attributes.uv&&t.attributes.normal)t.computeTangents();else{const n=t.attributes.position.count;t.setAttribute("tangent",new mi(new Float32Array(n*4),4,!1))}if(!t.attributes.color&&e&&e.includes("color")){const n=t.attributes.position.count,r=new Float32Array(n*4);r.fill(1),t.setAttribute("color",new mi(r,4))}}function VL(t){let e=0;if(t.byteLength!==0){const n=new Uint8Array(t);for(let r=0;r<t.byteLength;r++){const a=n[r];e=(e<<5)-e+a,e|=0}}return e}function M9(t){let e=t.uuid;const n=Object.values(t.attributes);t.index&&(n.push(t.index),e+=`index|${t.index.version}`);const r=Object.keys(n).sort();for(const a of r){const i=n[a];e+=`${a}_${i.version}|`}return e}function P9(t){const e=t.skeleton;return e?(e.boneTexture||e.computeBoneTexture(),`${VL(e.boneTexture.image.data.buffer)}_${e.boneTexture.uuid}`):null}class $Ie{constructor(e=null){this.matrixWorld=new Ni,this.geometryHash=null,this.skeletonHash=null,this.primitiveCount=-1,e!==null&&this.updateFrom(e)}updateFrom(e){const n=e.geometry,r=(n.index?n.index.count:n.attributes.position.count)/3;this.matrixWorld.copy(e.matrixWorld),this.geometryHash=M9(n),this.primitiveCount=r,this.skeletonHash=P9(e)}didChange(e){const n=e.geometry,r=(n.index?n.index.count:n.attributes.position.count)/3;return!(this.matrixWorld.equals(e.matrixWorld)&&this.geometryHash===M9(n)&&this.skeletonHash===P9(e)&&this.primitiveCount===r)}}const sd=new tn,od=new tn,ld=new tn,L9=new Ap,F0=new tn,AA=new tn,F9=new Ap,B9=new Ap,B0=new Ni,j9=new Ni;function U9(t,e,n){const r=t.skeleton,a=t.geometry,i=r.bones,s=r.boneInverses;F9.fromBufferAttribute(a.attributes.skinIndex,e),B9.fromBufferAttribute(a.attributes.skinWeight,e),B0.elements.fill(0);for(let o=0;o<4;o++){const l=B9.getComponent(o);if(l!==0){const d=F9.getComponent(o);j9.multiplyMatrices(i[d].matrixWorld,s[d]),GIe(B0,j9,l)}}return B0.multiply(t.bindMatrix).premultiply(t.bindMatrixInverse),n.transformDirection(B0),n}function IA(t,e,n,r,a){F0.set(0,0,0);for(let i=0,s=t.length;i<s;i++){const o=e[i],l=t[i];o!==0&&(AA.fromBufferAttribute(l,r),n?F0.addScaledVector(AA,o):F0.addScaledVector(AA.sub(a),o))}a.add(F0)}function GIe(t,e,n){const r=t.elements,a=e.elements;for(let i=0,s=a.length;i<s;i++)r[i]+=a[i]*n}function HIe(t){const{index:e,attributes:n}=t;if(e)for(let r=0,a=e.count;r<a;r+=3){const i=e.getX(r),s=e.getX(r+2);e.setX(r,s),e.setX(r+2,i)}else for(const r in n){const a=n[r],i=a.itemSize;for(let s=0,o=a.count;s<o;s+=3)for(let l=0;l<i;l++){const d=a.getComponent(s,l),f=a.getComponent(s+2,l);a.setComponent(s,l,f),a.setComponent(s+2,l,d)}}return t}function VIe(t,e={},n=new Zo){e={applyWorldTransforms:!0,attributes:[],...e};const r=t.geometry,a=e.applyWorldTransforms,i=e.attributes.includes("normal"),s=e.attributes.includes("tangent"),o=r.attributes,l=n.attributes;for(const x in n.attributes)(!e.attributes.includes(x)||!(x in r.attributes))&&n.deleteAttribute(x);!n.index&&r.index&&(n.index=r.index.clone()),l.position||n.setAttribute("position",kg(o.position)),i&&!l.normal&&o.normal&&n.setAttribute("normal",kg(o.normal)),s&&!l.tangent&&o.tangent&&n.setAttribute("tangent",kg(o.tangent)),bp(r.index,n.index),bp(o.position,l.position),i&&bp(o.normal,l.normal),s&&bp(o.tangent,l.tangent);const d=o.position,f=i?o.normal:null,h=s?o.tangent:null,m=r.morphAttributes.position,b=r.morphAttributes.normal,g=r.morphAttributes.tangent,w=r.morphTargetsRelative,S=t.morphTargetInfluences,T=new SV;T.getNormalMatrix(t.matrixWorld),r.index&&n.index.array.set(r.index.array);for(let x=0,_=o.position.count;x<_;x++)sd.fromBufferAttribute(d,x),f&&od.fromBufferAttribute(f,x),h&&(L9.fromBufferAttribute(h,x),ld.fromBufferAttribute(h,x)),S&&(m&&IA(m,S,w,x,sd),b&&IA(b,S,w,x,od),g&&IA(g,S,w,x,ld)),t.isSkinnedMesh&&(t.applyBoneTransform(x,sd),f&&U9(t,x,od),h&&U9(t,x,ld)),a&&sd.applyMatrix4(t.matrixWorld),l.position.setXYZ(x,sd.x,sd.y,sd.z),f&&(a&&od.applyNormalMatrix(T),l.normal.setXYZ(x,od.x,od.y,od.z)),h&&(a&&ld.transformDirection(t.matrixWorld),l.tangent.setXYZW(x,ld.x,ld.y,ld.z,L9.w));for(const x in e.attributes){const _=e.attributes[x];_==="position"||_==="tangent"||_==="normal"||!(_ in o)||(l[_]||n.setAttribute(_,kg(o[_])),bp(o[_],l[_]),IQ(o[_],l[_]))}return t.matrixWorld.determinant()<0&&HIe(n),n}class WIe extends Zo{constructor(){super(),this.version=0,this.hash=null,this._diff=new $Ie}isCompatible(e,n){const r=e.geometry;for(let a=0;a<n.length;a++){const i=n[a],s=r.attributes[i],o=this.attributes[i];if(s&&!bp(s,o))return!1}return!0}updateFrom(e,n){const r=this._diff;return r.didChange(e)?(VIe(e,n,this),r.updateFrom(e),this.version++,this.hash=`${this.uuid}_${this.version}`,!0):!1}}const vM=0,kQ=1,DQ=2;function YIe(t,e){for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(i=>{i.isMesh&&e(i)})}function KIe(t){const e=[];for(let n=0,r=t.length;n<r;n++){const a=t[n];Array.isArray(a.material)?e.push(...a.material):e.push(a.material)}return e}function XIe(t,e,n){if(t.length===0){e.setIndex(null);const r=e.attributes;for(const a in r)e.deleteAttribute(a);for(const a in n.attributes)e.setAttribute(n.attributes[a],new mi(new Float32Array(0),4,!1))}else UIe(t,n,e);for(const r in e.attributes)e.attributes[r].needsUpdate=!0}class ZIe{constructor(e){this.objects=null,this.useGroups=!0,this.applyWorldTransforms=!0,this.generateMissingAttributes=!0,this.overwriteIndex=!0,this.attributes=["position","normal","color","tangent","uv","uv2"],this._intermediateGeometry=new Map,this._geometryMergeSets=new WeakMap,this._mergeOrder=[],this._dummyMesh=null,this.setObjects(e||[])}_getDummyMesh(){if(!this._dummyMesh){const e=new kte,n=new Zo;n.setAttribute("position",new mi(new Float32Array(9),3)),this._dummyMesh=new IS(n,e)}return this._dummyMesh}_getMeshes(){const e=[];return YIe(this.objects,n=>{e.push(n)}),e.sort((n,r)=>n.uuid>r.uuid?1:n.uuid<r.uuid?-1:0),e.length===0&&e.push(this._getDummyMesh()),e}_updateIntermediateGeometries(){const{_intermediateGeometry:e}=this,n=this._getMeshes(),r=new Set(e.keys()),a={attributes:this.attributes,applyWorldTransforms:this.applyWorldTransforms};for(let i=0,s=n.length;i<s;i++){const o=n[i],l=o.uuid;r.delete(l);let d=e.get(l);(!d||!d.isCompatible(o,this.attributes))&&(d&&d.dispose(),d=new WIe,e.set(l,d)),d.updateFrom(o,a)&&this.generateMissingAttributes&&qIe(d,this.attributes)}r.forEach(i=>{e.delete(i)})}setObjects(e){Array.isArray(e)?this.objects=[...e]:this.objects=[e]}generate(e=new Zo){const{useGroups:n,overwriteIndex:r,_intermediateGeometry:a,_geometryMergeSets:i}=this,s=this._getMeshes(),o=[],l=[],d=i.get(e)||[];this._updateIntermediateGeometries();let f=!1;s.length!==d.length&&(f=!0);for(let m=0,b=s.length;m<b;m++){const g=s[m],w=a.get(g.uuid);l.push(w);const S=d[m];!S||S.uuid!==w.uuid?(o.push(!1),f=!0):S.version!==w.version?o.push(!1):o.push(!0)}XIe(l,e,{useGroups:n,forceUpdate:f,skipAssigningAttributes:o,overwriteIndex:r}),f&&e.dispose(),i.set(e,l.map(m=>({version:m.version,uuid:m.uuid})));let h=vM;return f?h=DQ:o.includes(!1)&&(h=kQ),{changeType:h,materials:KIe(s),geometry:e}}}function QIe(t){const e=new Set;for(let n=0,r=t.length;n<r;n++){const a=t[n];for(const i in a){const s=a[i];s&&s.isTexture&&e.add(s)}}return Array.from(e)}function JIe(t){const e=[],n=new Set;for(let a=0,i=t.length;a<i;a++)t[a].traverse(s=>{s.visible&&(s.isRectAreaLight||s.isSpotLight||s.isPointLight||s.isDirectionalLight)&&(e.push(s),s.iesMap&&n.add(s.iesMap))});const r=Array.from(n).sort((a,i)=>a.uuid<i.uuid?1:a.uuid>i.uuid?-1:0);return{lights:e,iesTextures:r}}class eke{get initialized(){return!!this.bvh}constructor(e){this.bvhOptions={},this.attributes=["position","normal","tangent","color","uv","uv2"],this.generateBVH=!0,this.bvh=null,this.geometry=new Zo,this.staticGeometryGenerator=new ZIe(e),this._bvhWorker=null,this._pendingGenerate=null,this._buildAsync=!1}setObjects(e){this.staticGeometryGenerator.setObjects(e)}setBVHWorker(e){this._bvhWorker=e}async generateAsync(e=null){if(!this._bvhWorker)throw new Error('PathTracingSceneGenerator: "setBVHWorker" must be called before "generateAsync" can be called.');if(this.bvh instanceof Promise)return this._pendingGenerate||(this._pendingGenerate=new Promise(async()=>(await this.bvh,this._pendingGenerate=null,this.generateAsync(e)))),this._pendingGenerate;{this._buildAsync=!0;const n=this.generate(e);return this._buildAsync=!1,n.bvh=this.bvh=await n.bvh,n}}generate(e=null){const{staticGeometryGenerator:n,geometry:r,attributes:a}=this,i=n.objects;n.attributes=a,i.forEach(h=>{h.traverse(m=>{m.isSkinnedMesh&&m.skeleton&&m.skeleton.update()})});const s=n.generate(r),o=s.materials,l=QIe(o),{lights:d,iesTextures:f}=JIe(i);if(s.changeType!==vM&&zIe(r,o,o),this.generateBVH){if(this.bvh instanceof Promise)throw new Error("PathTracingSceneGenerator: BVH is already building asynchronously.");if(s.changeType===DQ){const h={strategy:Dte,maxLeafTris:1,indirect:!0,onProgress:e,...this.bvhOptions};this._buildAsync?this.bvh=this._bvhWorker.generate(r,h):this.bvh=new Ote(r,h)}else s.changeType===kQ&&this.bvh.refit()}return{bvhChanged:s.changeType!==vM,bvh:this.bvh,lights:d,iesTextures:f,geometry:r,materials:o,textures:l,objects:i}}}const tke=new EV(-1,1,1,-1,0,1);class nke extends Zo{constructor(){super(),this.setAttribute("position",new R3([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new R3([0,2,0,0,2,0],2))}}const rke=new nke;class jp{constructor(e){this._mesh=new IS(rke,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,tke)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class WL extends e1{set needsUpdate(e){super.needsUpdate=!0,this.dispatchEvent({type:"recompilation"})}constructor(e){super(e);for(const n in this.uniforms)Object.defineProperty(this,n,{get(){return this.uniforms[n].value},set(r){this.uniforms[n].value=r}})}setDefine(e,n=void 0){if(n==null){if(e in this.defines)return delete this.defines[e],this.needsUpdate=!0,!0}else if(this.defines[e]!==n)return this.defines[e]=n,this.needsUpdate=!0,!0;return!1}}class ake extends WL{constructor(e){super({blending:qg,uniforms:{target1:{value:null},target2:{value:null},opacity:{value:1}},vertexShader:`

				varying vec2 vUv;

				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}`,fragmentShader:`

				uniform float opacity;

				uniform sampler2D target1;
				uniform sampler2D target2;

				varying vec2 vUv;

				void main() {

					vec4 color1 = texture2D( target1, vUv );
					vec4 color2 = texture2D( target2, vUv );

					float invOpacity = 1.0 - opacity;
					float totalAlpha = color1.a * invOpacity + color2.a * opacity;

					if ( color1.a != 0.0 || color2.a != 0.0 ) {

						gl_FragColor.rgb = color1.rgb * ( invOpacity * color1.a / totalAlpha ) + color2.rgb * ( opacity * color2.a / totalAlpha );
						gl_FragColor.a = totalAlpha;

					} else {

						gl_FragColor = vec4( 0.0 );

					}

				}`}),this.setValues(e)}}function j0(t=1){let e="uint";return t>1&&(e="uvec"+t),`
		${e} sobolReverseBits( ${e} x ) {

			x = ( ( ( x & 0xaaaaaaaau ) >> 1 ) | ( ( x & 0x55555555u ) << 1 ) );
			x = ( ( ( x & 0xccccccccu ) >> 2 ) | ( ( x & 0x33333333u ) << 2 ) );
			x = ( ( ( x & 0xf0f0f0f0u ) >> 4 ) | ( ( x & 0x0f0f0f0fu ) << 4 ) );
			x = ( ( ( x & 0xff00ff00u ) >> 8 ) | ( ( x & 0x00ff00ffu ) << 8 ) );
			return ( ( x >> 16 ) | ( x << 16 ) );

		}

		${e} sobolHashCombine( uint seed, ${e} v ) {

			return seed ^ ( v + ${e}( ( seed << 6 ) + ( seed >> 2 ) ) );

		}

		${e} sobolLaineKarrasPermutation( ${e} x, ${e} seed ) {

			x += seed;
			x ^= x * 0x6c50b47cu;
			x ^= x * 0xb82f1e52u;
			x ^= x * 0xc7afe638u;
			x ^= x * 0x8d22f6e6u;
			return x;

		}

		${e} nestedUniformScrambleBase2( ${e} x, ${e} seed ) {

			x = sobolLaineKarrasPermutation( x, seed );
			x = sobolReverseBits( x );
			return x;

		}
	`}function U0(t=1){let e="uint",n="float",r="",a=".r",i="1u";return t>1&&(e="uvec"+t,n="vec"+t,r=t+"",t===2?(a=".rg",i="uvec2( 1u, 2u )"):t===3?(a=".rgb",i="uvec3( 1u, 2u, 3u )"):(a="",i="uvec4( 1u, 2u, 3u, 4u )")),`

		${n} sobol${r}( int effect ) {

			uint seed = sobolGetSeed( sobolBounceIndex, uint( effect ) );
			uint index = sobolPathIndex;

			uint shuffle_seed = sobolHashCombine( seed, 0u );
			uint shuffled_index = nestedUniformScrambleBase2( sobolReverseBits( index ), shuffle_seed );
			${n} sobol_pt = sobolGetTexturePoint( shuffled_index )${a};
			${e} result = ${e}( sobol_pt * 16777216.0 );

			${e} seed2 = sobolHashCombine( seed, ${i} );
			result = nestedUniformScrambleBase2( result, seed2 );

			return SOBOL_FACTOR * ${n}( result >> 8 );

		}
	`}const OQ=`

	// Utils
	const float SOBOL_FACTOR = 1.0 / 16777216.0;
	const uint SOBOL_MAX_POINTS = 256u * 256u;

	${j0(1)}
	${j0(2)}
	${j0(3)}
	${j0(4)}

	uint sobolHash( uint x ) {

		// finalizer from murmurhash3
		x ^= x >> 16;
		x *= 0x85ebca6bu;
		x ^= x >> 13;
		x *= 0xc2b2ae35u;
		x ^= x >> 16;
		return x;

	}

`,ike=`

	const uint SOBOL_DIRECTIONS_1[ 32 ] = uint[ 32 ](
		0x80000000u, 0xc0000000u, 0xa0000000u, 0xf0000000u,
		0x88000000u, 0xcc000000u, 0xaa000000u, 0xff000000u,
		0x80800000u, 0xc0c00000u, 0xa0a00000u, 0xf0f00000u,
		0x88880000u, 0xcccc0000u, 0xaaaa0000u, 0xffff0000u,
		0x80008000u, 0xc000c000u, 0xa000a000u, 0xf000f000u,
		0x88008800u, 0xcc00cc00u, 0xaa00aa00u, 0xff00ff00u,
		0x80808080u, 0xc0c0c0c0u, 0xa0a0a0a0u, 0xf0f0f0f0u,
		0x88888888u, 0xccccccccu, 0xaaaaaaaau, 0xffffffffu
	);

	const uint SOBOL_DIRECTIONS_2[ 32 ] = uint[ 32 ](
		0x80000000u, 0xc0000000u, 0x60000000u, 0x90000000u,
		0xe8000000u, 0x5c000000u, 0x8e000000u, 0xc5000000u,
		0x68800000u, 0x9cc00000u, 0xee600000u, 0x55900000u,
		0x80680000u, 0xc09c0000u, 0x60ee0000u, 0x90550000u,
		0xe8808000u, 0x5cc0c000u, 0x8e606000u, 0xc5909000u,
		0x6868e800u, 0x9c9c5c00u, 0xeeee8e00u, 0x5555c500u,
		0x8000e880u, 0xc0005cc0u, 0x60008e60u, 0x9000c590u,
		0xe8006868u, 0x5c009c9cu, 0x8e00eeeeu, 0xc5005555u
	);

	const uint SOBOL_DIRECTIONS_3[ 32 ] = uint[ 32 ](
		0x80000000u, 0xc0000000u, 0x20000000u, 0x50000000u,
		0xf8000000u, 0x74000000u, 0xa2000000u, 0x93000000u,
		0xd8800000u, 0x25400000u, 0x59e00000u, 0xe6d00000u,
		0x78080000u, 0xb40c0000u, 0x82020000u, 0xc3050000u,
		0x208f8000u, 0x51474000u, 0xfbea2000u, 0x75d93000u,
		0xa0858800u, 0x914e5400u, 0xdbe79e00u, 0x25db6d00u,
		0x58800080u, 0xe54000c0u, 0x79e00020u, 0xb6d00050u,
		0x800800f8u, 0xc00c0074u, 0x200200a2u, 0x50050093u
	);

	const uint SOBOL_DIRECTIONS_4[ 32 ] = uint[ 32 ](
		0x80000000u, 0x40000000u, 0x20000000u, 0xb0000000u,
		0xf8000000u, 0xdc000000u, 0x7a000000u, 0x9d000000u,
		0x5a800000u, 0x2fc00000u, 0xa1600000u, 0xf0b00000u,
		0xda880000u, 0x6fc40000u, 0x81620000u, 0x40bb0000u,
		0x22878000u, 0xb3c9c000u, 0xfb65a000u, 0xddb2d000u,
		0x78022800u, 0x9c0b3c00u, 0x5a0fb600u, 0x2d0ddb00u,
		0xa2878080u, 0xf3c9c040u, 0xdb65a020u, 0x6db2d0b0u,
		0x800228f8u, 0x400b3cdcu, 0x200fb67au, 0xb00ddb9du
	);

	uint getMaskedSobol( uint index, uint directions[ 32 ] ) {

		uint X = 0u;
		for ( int bit = 0; bit < 32; bit ++ ) {

			uint mask = ( index >> bit ) & 1u;
			X ^= mask * directions[ bit ];

		}
		return X;

	}

	vec4 generateSobolPoint( uint index ) {

		if ( index >= SOBOL_MAX_POINTS ) {

			return vec4( 0.0 );

		}

		// NOTE: this sobol "direction" is also available but we can't write out 5 components
		// uint x = index & 0x00ffffffu;
		uint x = sobolReverseBits( getMaskedSobol( index, SOBOL_DIRECTIONS_1 ) ) & 0x00ffffffu;
		uint y = sobolReverseBits( getMaskedSobol( index, SOBOL_DIRECTIONS_2 ) ) & 0x00ffffffu;
		uint z = sobolReverseBits( getMaskedSobol( index, SOBOL_DIRECTIONS_3 ) ) & 0x00ffffffu;
		uint w = sobolReverseBits( getMaskedSobol( index, SOBOL_DIRECTIONS_4 ) ) & 0x00ffffffu;

		return vec4( x, y, z, w ) * SOBOL_FACTOR;

	}

`,ske=`

	// Seeds
	uniform sampler2D sobolTexture;
	uint sobolPixelIndex = 0u;
	uint sobolPathIndex = 0u;
	uint sobolBounceIndex = 0u;

	uint sobolGetSeed( uint bounce, uint effect ) {

		return sobolHash(
			sobolHashCombine(
				sobolHashCombine(
					sobolHash( bounce ),
					sobolPixelIndex
				),
				effect
			)
		);

	}

	vec4 sobolGetTexturePoint( uint index ) {

		if ( index >= SOBOL_MAX_POINTS ) {

			index = index % SOBOL_MAX_POINTS;

		}

		uvec2 dim = uvec2( textureSize( sobolTexture, 0 ).xy );
		uint y = index / dim.x;
		uint x = index - y * dim.x;
		vec2 uv = vec2( x, y ) / vec2( dim );
		return texture( sobolTexture, uv );

	}

	${U0(1)}
	${U0(2)}
	${U0(3)}
	${U0(4)}

`;class oke extends WL{constructor(){super({blending:qg,uniforms:{resolution:{value:new Td}},vertexShader:`

				varying vec2 vUv;
				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}
			`,fragmentShader:`

				${OQ}
				${ike}

				varying vec2 vUv;
				uniform vec2 resolution;
				void main() {

					uint index = uint( gl_FragCoord.y ) * uint( resolution.x ) + uint( gl_FragCoord.x );
					gl_FragColor = generateSobolPoint( index );

				}
			`})}}class lke{generate(e,n=256){const r=new Dg(n,n,{type:Ds,format:Mi,minFilter:Qa,magFilter:Qa,generateMipmaps:!1}),a=e.getRenderTarget();e.setRenderTarget(r);const i=new jp(new oke);return i.material.resolution.set(n,n),i.render(e),e.setRenderTarget(a),i.dispose(),r}}class cke extends CM{set bokehSize(e){this.fStop=this.getFocalLength()/e}get bokehSize(){return this.getFocalLength()/this.fStop}constructor(...e){super(...e),this.fStop=1.4,this.apertureBlades=0,this.apertureRotation=0,this.focusDistance=25,this.anamorphicRatio=1}copy(e,n){return super.copy(e,n),this.fStop=e.fStop,this.apertureBlades=e.apertureBlades,this.apertureRotation=e.apertureRotation,this.focusDistance=e.focusDistance,this.anamorphicRatio=e.anamorphicRatio,this}}class uke{constructor(){this.bokehSize=0,this.apertureBlades=0,this.apertureRotation=0,this.focusDistance=10,this.anamorphicRatio=1}updateFrom(e){e instanceof cke?(this.bokehSize=e.bokehSize,this.apertureBlades=e.apertureBlades,this.apertureRotation=e.apertureRotation,this.focusDistance=e.focusDistance,this.anamorphicRatio=e.anamorphicRatio):(this.bokehSize=0,this.apertureRotation=0,this.apertureBlades=0,this.focusDistance=10,this.anamorphicRatio=1)}}function kA(t){const e=new Uint16Array(t.length);for(let n=0,r=t.length;n<r;++n)e[n]=Xl.toHalfFloat(t[n]);return e}function z9(t,e,n=0,r=t.length){let a=n,i=n+r-1;for(;a<i;){const s=a+i>>1;t[s]<e?a=s+1:i=s}return a-n}function dke(t,e,n){return .2126*t+.7152*e+.0722*n}function fke(t,e=Wo){const n=t.clone();n.source=new Nte({...n.image});const{width:r,height:a,data:i}=n.image;let s=i;if(n.type!==e){e===Wo?s=new Uint16Array(i.length):s=new Float32Array(i.length);let o;i instanceof Int8Array||i instanceof Int16Array||i instanceof Int32Array?o=2**(8*i.BYTES_PER_ELEMENT-1)-1:o=2**(8*i.BYTES_PER_ELEMENT)-1;for(let l=0,d=i.length;l<d;l++){let f=i[l];n.type===Wo&&(f=Xl.fromHalfFloat(i[l])),n.type!==Ds&&n.type!==Wo&&(f/=o),e===Wo&&(s[l]=Xl.toHalfFloat(f))}n.image.data=s,n.type=e}if(n.flipY){const o=s;s=s.slice();for(let l=0;l<a;l++)for(let d=0;d<r;d++){const f=a-l-1,h=4*(l*r+d),m=4*(f*r+d);s[m+0]=o[h+0],s[m+1]=o[h+1],s[m+2]=o[h+2],s[m+3]=o[h+3]}n.flipY=!1,n.image.data=s}return n}class pke{constructor(){const e=new Ql(kA(new Float32Array([0,0,0,0])),1,1);e.type=Wo,e.format=Mi,e.minFilter=lo,e.magFilter=lo,e.wrapS=Yc,e.wrapT=Yc,e.generateMipmaps=!1,e.needsUpdate=!0;const n=new Ql(kA(new Float32Array([0,1])),1,2);n.type=Wo,n.format=vN,n.minFilter=lo,n.magFilter=lo,n.generateMipmaps=!1,n.needsUpdate=!0;const r=new Ql(kA(new Float32Array([0,0,1,1])),2,2);r.type=Wo,r.format=vN,r.minFilter=lo,r.magFilter=lo,r.generateMipmaps=!1,r.needsUpdate=!0,this.map=e,this.marginalWeights=n,this.conditionalWeights=r,this.totalSum=0}dispose(){this.marginalWeights.dispose(),this.conditionalWeights.dispose(),this.map.dispose()}updateFrom(e){const n=fke(e);n.wrapS=Yc,n.wrapT=Zc;const{width:r,height:a,data:i}=n.image,s=new Float32Array(r*a),o=new Float32Array(r*a),l=new Float32Array(a),d=new Float32Array(a);let f=0,h=0;for(let S=0;S<a;S++){let T=0;for(let x=0;x<r;x++){const _=S*r+x,C=Xl.fromHalfFloat(i[4*_+0]),R=Xl.fromHalfFloat(i[4*_+1]),A=Xl.fromHalfFloat(i[4*_+2]),I=dke(C,R,A);T+=I,f+=I,s[_]=I,o[_]=T}if(T!==0)for(let x=S*r,_=S*r+r;x<_;x++)s[x]/=T,o[x]/=T;h+=T,l[S]=T,d[S]=h}if(h!==0)for(let S=0,T=l.length;S<T;S++)l[S]/=h,d[S]/=h;const m=new Uint16Array(a),b=new Uint16Array(r*a);for(let S=0;S<a;S++){const T=(S+1)/a,x=z9(d,T);m[S]=Xl.toHalfFloat((x+.5)/a)}for(let S=0;S<a;S++)for(let T=0;T<r;T++){const x=S*r+T,_=(T+1)/r,C=z9(o,_,S*r,r);b[x]=Xl.toHalfFloat((C+.5)/r)}this.dispose();const{marginalWeights:g,conditionalWeights:w}=this;g.image={width:a,height:1,data:m},g.needsUpdate=!0,w.image={width:r,height:a,data:b},w.needsUpdate=!0,this.totalSum=f,this.map=n}}const DA=6,hke=0,mke=1,gke=2,bke=3,yke=4,io=new tn,Di=new tn,q9=new Ni,dp=new Cd,$9=new tn,fp=new tn,vke=new tn(0,1,0);class Ske{constructor(){const e=new Ql(new Float32Array(4),1,1);e.format=Mi,e.type=Ds,e.wrapS=Zc,e.wrapT=Zc,e.generateMipmaps=!1,e.minFilter=Qa,e.magFilter=Qa,this.tex=e,this.count=0}updateFrom(e,n=[]){const r=this.tex,a=Math.max(e.length*DA,1),i=Math.ceil(Math.sqrt(a));r.image.width!==i&&(r.dispose(),r.image.data=new Float32Array(i*i*4),r.image.width=i,r.image.height=i);const s=r.image.data;for(let l=0,d=e.length;l<d;l++){const f=e[l],h=l*DA*4;let m=0;for(let g=0;g<DA*4;g++)s[h+g]=0;f.getWorldPosition(Di),s[h+m++]=Di.x,s[h+m++]=Di.y,s[h+m++]=Di.z;let b=hke;if(f.isRectAreaLight&&f.isCircular?b=mke:f.isSpotLight?b=gke:f.isDirectionalLight?b=bke:f.isPointLight&&(b=yke),s[h+m++]=b,s[h+m++]=f.color.r,s[h+m++]=f.color.g,s[h+m++]=f.color.b,s[h+m++]=f.intensity,f.getWorldQuaternion(dp),f.isRectAreaLight)io.set(f.width,0,0).applyQuaternion(dp),s[h+m++]=io.x,s[h+m++]=io.y,s[h+m++]=io.z,m++,Di.set(0,f.height,0).applyQuaternion(dp),s[h+m++]=Di.x,s[h+m++]=Di.y,s[h+m++]=Di.z,s[h+m++]=io.cross(Di).length()*(f.isCircular?Math.PI/4:1);else if(f.isSpotLight){const g=f.radius||0;$9.setFromMatrixPosition(f.matrixWorld),fp.setFromMatrixPosition(f.target.matrixWorld),q9.lookAt($9,fp,vke),dp.setFromRotationMatrix(q9),io.set(1,0,0).applyQuaternion(dp),s[h+m++]=io.x,s[h+m++]=io.y,s[h+m++]=io.z,m++,Di.set(0,1,0).applyQuaternion(dp),s[h+m++]=Di.x,s[h+m++]=Di.y,s[h+m++]=Di.z,s[h+m++]=Math.PI*g*g,s[h+m++]=g,s[h+m++]=f.decay,s[h+m++]=f.distance,s[h+m++]=Math.cos(f.angle),s[h+m++]=Math.cos(f.angle*(1-f.penumbra)),s[h+m++]=f.iesMap?n.indexOf(f.iesMap):-1}else if(f.isPointLight){const g=io.setFromMatrixPosition(f.matrixWorld);s[h+m++]=g.x,s[h+m++]=g.y,s[h+m++]=g.z,m++,m+=4,m+=1,s[h+m++]=f.decay,s[h+m++]=f.distance}else if(f.isDirectionalLight){const g=io.setFromMatrixPosition(f.matrixWorld),w=Di.setFromMatrixPosition(f.target.matrixWorld);fp.subVectors(g,w).normalize(),s[h+m++]=fp.x,s[h+m++]=fp.y,s[h+m++]=fp.z}}this.count=e.length;const o=VL(s.buffer);return this.hash!==o?(this.hash=o,r.needsUpdate=!0,!0):!1}}function G9(t,e,n,r,a){if(e>r)throw new Error;const i=t.length/e,s=t.constructor.BYTES_PER_ELEMENT*8;let o=1;switch(t.constructor){case Uint8Array:case Uint16Array:case Uint32Array:o=2**s-1;break;case Int8Array:case Int16Array:case Int32Array:o=2**(s-1)-1;break}for(let l=0;l<i;l++){const d=4*l,f=e*l;for(let h=0;h<r;h++)n[a+d+h]=e>=h+1?t[f+h]/o:0}}class Eke extends Mte{constructor(){super(),this._textures=[],this.type=Ds,this.format=Mi,this.internalFormat="RGBA32F"}updateAttribute(e,n){const r=this._textures[e];r.updateFrom(n);const a=r.image,i=this.image;if(a.width!==i.width||a.height!==i.height)throw new Error("FloatAttributeTextureArray: Attribute must be the same dimensions when updating single layer.");const{width:s,height:o,data:l}=i,f=s*o*4*e;let h=n.itemSize;h===3&&(h=4),G9(r.image.data,h,l,4,f),this.dispose(),this.needsUpdate=!0}setAttributes(e){const n=e[0].count,r=e.length;for(let h=0,m=r;h<m;h++)if(e[h].count!==n)throw new Error("FloatAttributeTextureArray: All attributes must have the same item count.");const a=this._textures;for(;a.length<r;){const h=new Pte;a.push(h)}for(;a.length>r;)a.pop();for(let h=0,m=r;h<m;h++)a[h].updateFrom(e[h]);const s=a[0].image,o=this.image;(s.width!==o.width||s.height!==o.height||s.depth!==r)&&(o.width=s.width,o.height=s.height,o.depth=r,o.data=new Float32Array(o.width*o.height*o.depth*4));const{data:l,width:d,height:f}=o;for(let h=0,m=r;h<m;h++){const b=a[h],w=d*f*4*h;let S=e[h].itemSize;S===3&&(S=4),G9(b.image.data,S,l,4,w)}this.dispose(),this.needsUpdate=!0}}class _ke extends Eke{updateNormalAttribute(e){this.updateAttribute(0,e)}updateTangentAttribute(e){this.updateAttribute(1,e)}updateUvAttribute(e){this.updateAttribute(2,e)}updateColorAttribute(e){this.updateAttribute(3,e)}updateFrom(e,n,r,a){this.setAttributes([e,n,r,a])}}function YL(t,e){return t.uuid<e.uuid?1:t.uuid>e.uuid?-1:0}function SM(t){return`${t.source.uuid}:${t.colorSpace}`}function xke(t){const e=new Set,n=[];for(let r=0,a=t.length;r<a;r++){const i=t[r],s=SM(i);e.has(s)||(e.add(s),n.push(i))}return n}function wke(t){const e=t.map(r=>r.iesMap||null).filter(r=>r),n=new Set(e);return Array.from(n).sort(YL)}function Tke(t){const e=new Set;for(let r=0,a=t.length;r<a;r++){const i=t[r];for(const s in i){const o=i[s];o&&o.isTexture&&e.add(o)}}const n=Array.from(e);return xke(n).sort(YL)}function Cke(t){const e=[];return t.traverse(n=>{n.visible&&(n.isRectAreaLight||n.isSpotLight||n.isPointLight||n.isDirectionalLight)&&e.push(n)}),e.sort(YL)}const NQ=45,H9=NQ*4;class Rke{constructor(){this._features={}}isUsed(e){return e in this._features}setUsed(e,n=!0){n===!1?delete this._features[e]:this._features[e]=!0}reset(){this._features={}}}class Ake extends Ql{constructor(){super(new Float32Array(4),1,1),this.format=Mi,this.type=Ds,this.wrapS=Zc,this.wrapT=Zc,this.minFilter=Qa,this.magFilter=Qa,this.generateMipmaps=!1,this.features=new Rke}updateFrom(e,n){function r(g,w,S=-1){if(w in g&&g[w]){const T=SM(g[w]);return h[T]}else return S}function a(g,w,S){return w in g?g[w]:S}function i(g,w,S,T){const x=g[w]&&g[w].isTexture?g[w]:null;if(x){x.matrixAutoUpdate&&x.updateMatrix();const _=x.matrix.elements;let C=0;S[T+C++]=_[0],S[T+C++]=_[3],S[T+C++]=_[6],C++,S[T+C++]=_[1],S[T+C++]=_[4],S[T+C++]=_[7],C++}return 8}let s=0;const o=e.length*NQ,l=Math.ceil(Math.sqrt(o))||1,{image:d,features:f}=this,h={};for(let g=0,w=n.length;g<w;g++)h[SM(n[g])]=g;d.width!==l&&(this.dispose(),d.data=new Float32Array(l*l*4),d.width=l,d.height=l);const m=d.data;f.reset();for(let g=0,w=e.length;g<w;g++){const S=e[g];if(S.isFogVolumeMaterial){f.setUsed("FOG");for(let _=0;_<H9;_++)m[s+_]=0;m[s+0+0]=S.color.r,m[s+0+1]=S.color.g,m[s+0+2]=S.color.b,m[s+8+3]=a(S,"emissiveIntensity",0),m[s+12+0]=S.emissive.r,m[s+12+1]=S.emissive.g,m[s+12+2]=S.emissive.b,m[s+52+1]=S.density,m[s+52+3]=0,m[s+56+2]=4,s+=H9;continue}m[s++]=S.color.r,m[s++]=S.color.g,m[s++]=S.color.b,m[s++]=r(S,"map"),m[s++]=a(S,"metalness",0),m[s++]=r(S,"metalnessMap"),m[s++]=a(S,"roughness",0),m[s++]=r(S,"roughnessMap"),m[s++]=a(S,"ior",1.5),m[s++]=a(S,"transmission",0),m[s++]=r(S,"transmissionMap"),m[s++]=a(S,"emissiveIntensity",0),"emissive"in S?(m[s++]=S.emissive.r,m[s++]=S.emissive.g,m[s++]=S.emissive.b):(m[s++]=0,m[s++]=0,m[s++]=0),m[s++]=r(S,"emissiveMap"),m[s++]=r(S,"normalMap"),"normalScale"in S?(m[s++]=S.normalScale.x,m[s++]=S.normalScale.y):(m[s++]=1,m[s++]=1),m[s++]=a(S,"clearcoat",0),m[s++]=r(S,"clearcoatMap"),m[s++]=a(S,"clearcoatRoughness",0),m[s++]=r(S,"clearcoatRoughnessMap"),m[s++]=r(S,"clearcoatNormalMap"),"clearcoatNormalScale"in S?(m[s++]=S.clearcoatNormalScale.x,m[s++]=S.clearcoatNormalScale.y):(m[s++]=1,m[s++]=1),s++,m[s++]=a(S,"sheen",0),"sheenColor"in S?(m[s++]=S.sheenColor.r,m[s++]=S.sheenColor.g,m[s++]=S.sheenColor.b):(m[s++]=0,m[s++]=0,m[s++]=0),m[s++]=r(S,"sheenColorMap"),m[s++]=a(S,"sheenRoughness",0),m[s++]=r(S,"sheenRoughnessMap"),m[s++]=r(S,"iridescenceMap"),m[s++]=r(S,"iridescenceThicknessMap"),m[s++]=a(S,"iridescence",0),m[s++]=a(S,"iridescenceIOR",1.3);const T=a(S,"iridescenceThicknessRange",[100,400]);m[s++]=T[0],m[s++]=T[1],"specularColor"in S?(m[s++]=S.specularColor.r,m[s++]=S.specularColor.g,m[s++]=S.specularColor.b):(m[s++]=1,m[s++]=1,m[s++]=1),m[s++]=r(S,"specularColorMap"),m[s++]=a(S,"specularIntensity",1),m[s++]=r(S,"specularIntensityMap");const x=a(S,"thickness",0)===0&&a(S,"attenuationDistance",1/0)===1/0;if(m[s++]=Number(x),s++,"attenuationColor"in S?(m[s++]=S.attenuationColor.r,m[s++]=S.attenuationColor.g,m[s++]=S.attenuationColor.b):(m[s++]=1,m[s++]=1,m[s++]=1),m[s++]=a(S,"attenuationDistance",1/0),m[s++]=r(S,"alphaMap"),m[s++]=S.opacity,m[s++]=S.alphaTest,!x&&S.transmission>0)m[s++]=0;else switch(S.side){case tc:m[s++]=1;break;case Rd:m[s++]=-1;break;case Kc:m[s++]=0;break}m[s++]=Number(a(S,"matte",!1)),m[s++]=Number(a(S,"castShadow",!0)),m[s++]=Number(S.vertexColors)|Number(S.flatShading)<<1,m[s++]=Number(S.transparent),s+=i(S,"map",m,s),s+=i(S,"metalnessMap",m,s),s+=i(S,"roughnessMap",m,s),s+=i(S,"transmissionMap",m,s),s+=i(S,"emissiveMap",m,s),s+=i(S,"normalMap",m,s),s+=i(S,"clearcoatMap",m,s),s+=i(S,"clearcoatNormalMap",m,s),s+=i(S,"clearcoatRoughnessMap",m,s),s+=i(S,"sheenColorMap",m,s),s+=i(S,"sheenRoughnessMap",m,s),s+=i(S,"iridescenceMap",m,s),s+=i(S,"iridescenceThicknessMap",m,s),s+=i(S,"specularColorMap",m,s),s+=i(S,"specularIntensityMap",m,s)}const b=VL(m.buffer);return this.hash!==b?(this.hash=b,this.needsUpdate=!0,!0):!1}}const V9=new Qo;function Ike(t){return t?`${t.uuid}:${t.version}`:null}function kke(t,e){for(const n in e)n in t&&(t[n]=e[n])}class W9 extends Lte{constructor(e,n,r){const a={format:Mi,type:Fte,minFilter:lo,magFilter:lo,wrapS:Yc,wrapT:Yc,generateMipmaps:!1,...r};super(e,n,1,a),kke(this.texture,a),this.texture.setTextures=(...s)=>{this.setTextures(...s)},this.hashes=[null];const i=new jp(new Dke);this.fsQuad=i}setTextures(e,n,r=this.width,a=this.height){const i=e.getRenderTarget(),s=e.toneMapping,o=e.getClearAlpha();e.getClearColor(V9);const l=n.length||1;(r!==this.width||a!==this.height||this.depth!==l)&&(this.setSize(r,a,l),this.hashes=new Array(l).fill(null)),e.setClearColor(0,0),e.toneMapping=Bte;const d=this.fsQuad,f=this.hashes;let h=!1;for(let m=0,b=l;m<b;m++){const g=n[m],w=Ike(g);g&&(f[m]!==w||g.isWebGLRenderTarget)&&(g.matrixAutoUpdate=!1,g.matrix.identity(),d.material.map=g,e.setRenderTarget(this,m),d.render(e),g.updateMatrix(),g.matrixAutoUpdate=!0,f[m]=w,h=!0)}return d.material.map=null,e.setClearColor(V9,o),e.setRenderTarget(i),e.toneMapping=s,h}dispose(){super.dispose(),this.fsQuad.dispose()}}class Dke extends e1{get map(){return this.uniforms.map.value}set map(e){this.uniforms.map.value=e}constructor(){super({uniforms:{map:{value:null}},vertexShader:`
				varying vec2 vUv;
				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}
			`,fragmentShader:`
				uniform sampler2D map;
				varying vec2 vUv;
				void main() {

					gl_FragColor = texture2D( map, vUv );

				}
			`})}}function Oke(t,e=Math.random()){for(let n=t.length-1;n>0;n--){const r=Math.floor(e()*(n+1)),a=t[n];t[n]=t[r],t[r]=a}return t}class Nke{constructor(e,n,r=Math.random){const a=e**n,i=new Uint16Array(a);let s=a;for(let o=0;o<a;o++)i[o]=o;this.samples=new Float32Array(n),this.strataCount=e,this.reset=function(){for(let o=0;o<a;o++)i[o]=o;s=0},this.reshuffle=function(){s=0},this.next=function(){const{samples:o}=this;s>=i.length&&(Oke(i,r),this.reshuffle());let l=i[s++];for(let d=0;d<n;d++)o[d]=(l%e+r())/e,l=Math.floor(l/e);return o}}}class Mke{constructor(e,n,r=Math.random){let a=0;for(const l of n)a+=l;const i=new Float32Array(a),s=[];let o=0;for(const l of n){const d=new Nke(e,l,r);d.samples=new Float32Array(i.buffer,o,d.samples.length),o+=d.samples.length*4,s.push(d)}this.samples=i,this.strataCount=e,this.next=function(){for(const l of s)l.next();return i},this.reshuffle=function(){for(const l of s)l.reshuffle()},this.reset=function(){for(const l of s)l.reset()}}}class Pke{constructor(e=0){this.m=2147483648,this.a=1103515245,this.c=12345,this.seed=e}nextInt(){return this.seed=(this.a*this.seed+this.c)%this.m,this.seed}nextFloat(){return this.nextInt()/(this.m-1)}}class Lke extends Ql{constructor(e=1,n=1,r=8){super(new Float32Array(1),1,1,Mi,Ds),this.minFilter=Qa,this.magFilter=Qa,this.strata=r,this.sampler=null,this.generator=new Pke,this.stableNoise=!1,this.random=()=>this.stableNoise?this.generator.nextFloat():Math.random(),this.init(e,n,r)}init(e=this.image.height,n=this.image.width,r=this.strata){const{image:a}=this;if(a.width===n&&a.height===e&&this.sampler!==null)return;const i=new Array(e*n).fill(4),s=new Mke(r,i,this.random);a.width=n,a.height=e,a.data=s.samples,this.sampler=s,this.dispose(),this.next()}next(){this.sampler.next(),this.needsUpdate=!0}reset(){this.sampler.reset(),this.generator.seed=0}}function Fke(t,e=Math.random){for(let n=t.length-1;n>0;n--){const r=~~((e()-1e-6)*n),a=t[n];t[n]=t[r],t[r]=a}}function Bke(t,e){t.fill(0);for(let n=0;n<e;n++)t[n]=1}class Y9{constructor(e){this.count=0,this.size=-1,this.sigma=-1,this.radius=-1,this.lookupTable=null,this.score=null,this.binaryPattern=null,this.resize(e),this.setSigma(1.5)}findVoid(){const{score:e,binaryPattern:n}=this;let r=1/0,a=-1;for(let i=0,s=n.length;i<s;i++){if(n[i]!==0)continue;const o=e[i];o<r&&(r=o,a=i)}return a}findCluster(){const{score:e,binaryPattern:n}=this;let r=-1/0,a=-1;for(let i=0,s=n.length;i<s;i++){if(n[i]!==1)continue;const o=e[i];o>r&&(r=o,a=i)}return a}setSigma(e){if(e===this.sigma)return;const n=~~(Math.sqrt(20*e**2)+1),r=2*n+1,a=new Float32Array(r*r),i=e*e;for(let s=-n;s<=n;s++)for(let o=-n;o<=n;o++){const l=(n+o)*r+s+n,d=s*s+o*o;a[l]=Math.E**(-d/(2*i))}this.lookupTable=a,this.sigma=e,this.radius=n}resize(e){this.size!==e&&(this.size=e,this.score=new Float32Array(e*e),this.binaryPattern=new Uint8Array(e*e))}invert(){const{binaryPattern:e,score:n,size:r}=this;n.fill(0);for(let a=0,i=e.length;a<i;a++)if(e[a]===0){const s=~~(a/r),o=a-s*r;this.updateScore(o,s,1),e[a]=1}else e[a]=0}updateScore(e,n,r){const{size:a,score:i,lookupTable:s}=this,o=this.radius,l=2*o+1;for(let d=-o;d<=o;d++)for(let f=-o;f<=o;f++){const h=(o+f)*l+d+o,m=s[h];let b=e+d;b=b<0?a+b:b%a;let g=n+f;g=g<0?a+g:g%a;const w=g*a+b;i[w]+=r*m}}addPointIndex(e){this.binaryPattern[e]=1;const n=this.size,r=~~(e/n),a=e-r*n;this.updateScore(a,r,1),this.count++}removePointIndex(e){this.binaryPattern[e]=0;const n=this.size,r=~~(e/n),a=e-r*n;this.updateScore(a,r,-1),this.count--}copy(e){this.resize(e.size),this.score.set(e.score),this.binaryPattern.set(e.binaryPattern),this.setSigma(e.sigma),this.count=e.count}}class jke{constructor(){this.random=Math.random,this.sigma=1.5,this.size=64,this.majorityPointsRatio=.1,this.samples=new Y9(1),this.savedSamples=new Y9(1)}generate(){const{samples:e,savedSamples:n,sigma:r,majorityPointsRatio:a,size:i}=this;e.resize(i),e.setSigma(r);const s=Math.floor(i*i*a),o=e.binaryPattern;Bke(o,s),Fke(o,this.random);for(let h=0,m=o.length;h<m;h++)o[h]===1&&e.addPointIndex(h);for(;;){const h=e.findCluster();e.removePointIndex(h);const m=e.findVoid();if(h===m){e.addPointIndex(h);break}e.addPointIndex(m)}const l=new Uint32Array(i*i);n.copy(e);let d;for(d=e.count-1;d>=0;){const h=e.findCluster();e.removePointIndex(h),l[h]=d,d--}const f=i*i;for(d=n.count;d<f/2;){const h=n.findVoid();n.addPointIndex(h),l[h]=d,d++}for(n.invert();d<f;){const h=n.findCluster();n.removePointIndex(h),l[h]=d,d++}return{data:l,maxValue:f}}}function Uke(t){return t>=3?4:t}function zke(t){switch(t){case 1:return vN;case 2:return jte;default:return Mi}}class qke extends Ql{constructor(e=64,n=1){super(new Float32Array(4),1,1,Mi,Ds),this.minFilter=Qa,this.magFilter=Qa,this.size=e,this.channels=n,this.update()}update(){const e=this.channels,n=this.size,r=new jke;r.channels=e,r.size=n;const a=Uke(e),i=zke(a);(this.image.width!==n||i!==this.format)&&(this.image.width=n,this.image.height=n,this.image.data=new Float32Array(n**2*a),this.format=i,this.dispose());const s=this.image.data;for(let o=0,l=e;o<l;o++){const d=r.generate(),f=d.data,h=d.maxValue;for(let m=0,b=f.length;m<b;m++){const g=f[m]/h;s[m*a+o]=g}}this.needsUpdate=!0}}const $ke=`

	struct PhysicalCamera {

		float focusDistance;
		float anamorphicRatio;
		float bokehSize;
		int apertureBlades;
		float apertureRotation;

	};

`,Gke=`

	struct EquirectHdrInfo {

		sampler2D marginalWeights;
		sampler2D conditionalWeights;
		sampler2D map;

		float totalSum;

	};

`,Hke=`

	#define RECT_AREA_LIGHT_TYPE 0
	#define CIRC_AREA_LIGHT_TYPE 1
	#define SPOT_LIGHT_TYPE 2
	#define DIR_LIGHT_TYPE 3
	#define POINT_LIGHT_TYPE 4

	struct LightsInfo {

		sampler2D tex;
		uint count;

	};

	struct Light {

		vec3 position;
		int type;

		vec3 color;
		float intensity;

		vec3 u;
		vec3 v;
		float area;

		// spot light fields
		float radius;
		float near;
		float decay;
		float distance;
		float coneCos;
		float penumbraCos;
		int iesProfile;

	};

	Light readLightInfo( sampler2D tex, uint index ) {

		uint i = index * 6u;

		vec4 s0 = texelFetch1D( tex, i + 0u );
		vec4 s1 = texelFetch1D( tex, i + 1u );
		vec4 s2 = texelFetch1D( tex, i + 2u );
		vec4 s3 = texelFetch1D( tex, i + 3u );

		Light l;
		l.position = s0.rgb;
		l.type = int( round( s0.a ) );

		l.color = s1.rgb;
		l.intensity = s1.a;

		l.u = s2.rgb;
		l.v = s3.rgb;
		l.area = s3.a;

		if ( l.type == SPOT_LIGHT_TYPE || l.type == POINT_LIGHT_TYPE ) {

			vec4 s4 = texelFetch1D( tex, i + 4u );
			vec4 s5 = texelFetch1D( tex, i + 5u );
			l.radius = s4.r;
			l.decay = s4.g;
			l.distance = s4.b;
			l.coneCos = s4.a;

			l.penumbraCos = s5.r;
			l.iesProfile = int( round( s5.g ) );

		} else {

			l.radius = 0.0;
			l.decay = 0.0;
			l.distance = 0.0;

			l.coneCos = 0.0;
			l.penumbraCos = 0.0;
			l.iesProfile = - 1;

		}

		return l;

	}

`,Vke=`

	struct Material {

		vec3 color;
		int map;

		float metalness;
		int metalnessMap;

		float roughness;
		int roughnessMap;

		float ior;
		float transmission;
		int transmissionMap;

		float emissiveIntensity;
		vec3 emissive;
		int emissiveMap;

		int normalMap;
		vec2 normalScale;

		float clearcoat;
		int clearcoatMap;
		int clearcoatNormalMap;
		vec2 clearcoatNormalScale;
		float clearcoatRoughness;
		int clearcoatRoughnessMap;

		int iridescenceMap;
		int iridescenceThicknessMap;
		float iridescence;
		float iridescenceIor;
		float iridescenceThicknessMinimum;
		float iridescenceThicknessMaximum;

		vec3 specularColor;
		int specularColorMap;

		float specularIntensity;
		int specularIntensityMap;
		bool thinFilm;

		vec3 attenuationColor;
		float attenuationDistance;

		int alphaMap;

		bool castShadow;
		float opacity;
		float alphaTest;

		float side;
		bool matte;

		float sheen;
		vec3 sheenColor;
		int sheenColorMap;
		float sheenRoughness;
		int sheenRoughnessMap;

		bool vertexColors;
		bool flatShading;
		bool transparent;
		bool fogVolume;

		mat3 mapTransform;
		mat3 metalnessMapTransform;
		mat3 roughnessMapTransform;
		mat3 transmissionMapTransform;
		mat3 emissiveMapTransform;
		mat3 normalMapTransform;
		mat3 clearcoatMapTransform;
		mat3 clearcoatNormalMapTransform;
		mat3 clearcoatRoughnessMapTransform;
		mat3 sheenColorMapTransform;
		mat3 sheenRoughnessMapTransform;
		mat3 iridescenceMapTransform;
		mat3 iridescenceThicknessMapTransform;
		mat3 specularColorMapTransform;
		mat3 specularIntensityMapTransform;

	};

	mat3 readTextureTransform( sampler2D tex, uint index ) {

		mat3 textureTransform;

		vec4 row1 = texelFetch1D( tex, index );
		vec4 row2 = texelFetch1D( tex, index + 1u );

		textureTransform[0] = vec3(row1.r, row2.r, 0.0);
		textureTransform[1] = vec3(row1.g, row2.g, 0.0);
		textureTransform[2] = vec3(row1.b, row2.b, 1.0);

		return textureTransform;

	}

	Material readMaterialInfo( sampler2D tex, uint index ) {

		uint i = index * 45u;

		vec4 s0 = texelFetch1D( tex, i + 0u );
		vec4 s1 = texelFetch1D( tex, i + 1u );
		vec4 s2 = texelFetch1D( tex, i + 2u );
		vec4 s3 = texelFetch1D( tex, i + 3u );
		vec4 s4 = texelFetch1D( tex, i + 4u );
		vec4 s5 = texelFetch1D( tex, i + 5u );
		vec4 s6 = texelFetch1D( tex, i + 6u );
		vec4 s7 = texelFetch1D( tex, i + 7u );
		vec4 s8 = texelFetch1D( tex, i + 8u );
		vec4 s9 = texelFetch1D( tex, i + 9u );
		vec4 s10 = texelFetch1D( tex, i + 10u );
		vec4 s11 = texelFetch1D( tex, i + 11u );
		vec4 s12 = texelFetch1D( tex, i + 12u );
		vec4 s13 = texelFetch1D( tex, i + 13u );
		vec4 s14 = texelFetch1D( tex, i + 14u );

		Material m;
		m.color = s0.rgb;
		m.map = int( round( s0.a ) );

		m.metalness = s1.r;
		m.metalnessMap = int( round( s1.g ) );
		m.roughness = s1.b;
		m.roughnessMap = int( round( s1.a ) );

		m.ior = s2.r;
		m.transmission = s2.g;
		m.transmissionMap = int( round( s2.b ) );
		m.emissiveIntensity = s2.a;

		m.emissive = s3.rgb;
		m.emissiveMap = int( round( s3.a ) );

		m.normalMap = int( round( s4.r ) );
		m.normalScale = s4.gb;

		m.clearcoat = s4.a;
		m.clearcoatMap = int( round( s5.r ) );
		m.clearcoatRoughness = s5.g;
		m.clearcoatRoughnessMap = int( round( s5.b ) );
		m.clearcoatNormalMap = int( round( s5.a ) );
		m.clearcoatNormalScale = s6.rg;

		m.sheen = s6.a;
		m.sheenColor = s7.rgb;
		m.sheenColorMap = int( round( s7.a ) );
		m.sheenRoughness = s8.r;
		m.sheenRoughnessMap = int( round( s8.g ) );

		m.iridescenceMap = int( round( s8.b ) );
		m.iridescenceThicknessMap = int( round( s8.a ) );
		m.iridescence = s9.r;
		m.iridescenceIor = s9.g;
		m.iridescenceThicknessMinimum = s9.b;
		m.iridescenceThicknessMaximum = s9.a;

		m.specularColor = s10.rgb;
		m.specularColorMap = int( round( s10.a ) );

		m.specularIntensity = s11.r;
		m.specularIntensityMap = int( round( s11.g ) );
		m.thinFilm = bool( s11.b );

		m.attenuationColor = s12.rgb;
		m.attenuationDistance = s12.a;

		m.alphaMap = int( round( s13.r ) );

		m.opacity = s13.g;
		m.alphaTest = s13.b;
		m.side = s13.a;

		m.matte = bool( s14.r );
		m.castShadow = bool( s14.g );
		m.vertexColors = bool( int( s14.b ) & 1 );
		m.flatShading = bool( int( s14.b ) & 2 );
		m.fogVolume = bool( int( s14.b ) & 4 );
		m.transparent = bool( s14.a );

		uint firstTextureTransformIdx = i + 15u;

		// mat3( 1.0 ) is an identity matrix
		m.mapTransform = m.map == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx );
		m.metalnessMapTransform = m.metalnessMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 2u );
		m.roughnessMapTransform = m.roughnessMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 4u );
		m.transmissionMapTransform = m.transmissionMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 6u );
		m.emissiveMapTransform = m.emissiveMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 8u );
		m.normalMapTransform = m.normalMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 10u );
		m.clearcoatMapTransform = m.clearcoatMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 12u );
		m.clearcoatNormalMapTransform = m.clearcoatNormalMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 14u );
		m.clearcoatRoughnessMapTransform = m.clearcoatRoughnessMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 16u );
		m.sheenColorMapTransform = m.sheenColorMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 18u );
		m.sheenRoughnessMapTransform = m.sheenRoughnessMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 20u );
		m.iridescenceMapTransform = m.iridescenceMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 22u );
		m.iridescenceThicknessMapTransform = m.iridescenceThicknessMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 24u );
		m.specularColorMapTransform = m.specularColorMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 26u );
		m.specularIntensityMapTransform = m.specularIntensityMap == - 1 ? mat3( 1.0 ) : readTextureTransform( tex, firstTextureTransformIdx + 28u );

		return m;

	}

`,Wke=`

	struct SurfaceRecord {

		// surface type
		bool volumeParticle;

		// geometry
		vec3 faceNormal;
		bool frontFace;
		vec3 normal;
		mat3 normalBasis;
		mat3 normalInvBasis;

		// cached properties
		float eta;
		float f0;

		// material
		float roughness;
		float filteredRoughness;
		float metalness;
		vec3 color;
		vec3 emission;

		// transmission
		float ior;
		float transmission;
		bool thinFilm;
		vec3 attenuationColor;
		float attenuationDistance;

		// clearcoat
		vec3 clearcoatNormal;
		mat3 clearcoatBasis;
		mat3 clearcoatInvBasis;
		float clearcoat;
		float clearcoatRoughness;
		float filteredClearcoatRoughness;

		// sheen
		float sheen;
		vec3 sheenColor;
		float sheenRoughness;

		// iridescence
		float iridescence;
		float iridescenceIor;
		float iridescenceThickness;

		// specular
		vec3 specularColor;
		float specularIntensity;
	};

	struct ScatterRecord {
		float specularPdf;
		float pdf;
		vec3 direction;
		vec3 color;
	};

`,Yke=`

	// samples the the given environment map in the given direction
	vec3 sampleEquirectColor( sampler2D envMap, vec3 direction ) {

		return texture2D( envMap, equirectDirectionToUv( direction ) ).rgb;

	}

	// gets the pdf of the given direction to sample
	float equirectDirectionPdf( vec3 direction ) {

		vec2 uv = equirectDirectionToUv( direction );
		float theta = uv.y * PI;
		float sinTheta = sin( theta );
		if ( sinTheta == 0.0 ) {

			return 0.0;

		}

		return 1.0 / ( 2.0 * PI * PI * sinTheta );

	}

	// samples the color given env map with CDF and returns the pdf of the direction
	float sampleEquirect( vec3 direction, inout vec3 color ) {

		float totalSum = envMapInfo.totalSum;
		if ( totalSum == 0.0 ) {

			color = vec3( 0.0 );
			return 1.0;

		}

		vec2 uv = equirectDirectionToUv( direction );
		color = texture2D( envMapInfo.map, uv ).rgb;

		float lum = luminance( color );
		ivec2 resolution = textureSize( envMapInfo.map, 0 );
		float pdf = lum / totalSum;

		return float( resolution.x * resolution.y ) * pdf * equirectDirectionPdf( direction );

	}

	// samples a direction of the envmap with color and retrieves pdf
	float sampleEquirectProbability( vec2 r, inout vec3 color, inout vec3 direction ) {

		// sample env map cdf
		float v = texture2D( envMapInfo.marginalWeights, vec2( r.x, 0.0 ) ).x;
		float u = texture2D( envMapInfo.conditionalWeights, vec2( r.y, v ) ).x;
		vec2 uv = vec2( u, v );

		vec3 derivedDirection = equirectUvToDirection( uv );
		direction = derivedDirection;
		color = texture2D( envMapInfo.map, uv ).rgb;

		float totalSum = envMapInfo.totalSum;
		float lum = luminance( color );
		ivec2 resolution = textureSize( envMapInfo.map, 0 );
		float pdf = lum / totalSum;

		return float( resolution.x * resolution.y ) * pdf * equirectDirectionPdf( direction );

	}
`,Kke=`

	float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {

		return smoothstep( coneCosine, penumbraCosine, angleCosine );

	}

	float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {

		// based upon Frostbite 3 Moving to Physically-based Rendering
		// page 32, equation 26: E[window1]
		// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), EPSILON );

		if ( cutoffDistance > 0.0 ) {

			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );

		}

		return distanceFalloff;

	}

	float getPhotometricAttenuation( sampler2DArray iesProfiles, int iesProfile, vec3 posToLight, vec3 lightDir, vec3 u, vec3 v ) {

		float cosTheta = dot( posToLight, lightDir );
		float angle = acos( cosTheta ) / PI;

		return texture2D( iesProfiles, vec3( angle, 0.0, iesProfile ) ).r;

	}

	struct LightRecord {

		float dist;
		vec3 direction;
		float pdf;
		vec3 emission;
		int type;

	};

	bool intersectLightAtIndex( sampler2D lights, vec3 rayOrigin, vec3 rayDirection, uint l, inout LightRecord lightRec ) {

		bool didHit = false;
		Light light = readLightInfo( lights, l );

		vec3 u = light.u;
		vec3 v = light.v;

		// check for backface
		vec3 normal = normalize( cross( u, v ) );
		if ( dot( normal, rayDirection ) > 0.0 ) {

			u *= 1.0 / dot( u, u );
			v *= 1.0 / dot( v, v );

			float dist;

			// MIS / light intersection is not supported for punctual lights.
			if(
				( light.type == RECT_AREA_LIGHT_TYPE && intersectsRectangle( light.position, normal, u, v, rayOrigin, rayDirection, dist ) ) ||
				( light.type == CIRC_AREA_LIGHT_TYPE && intersectsCircle( light.position, normal, u, v, rayOrigin, rayDirection, dist ) )
			) {

				float cosTheta = dot( rayDirection, normal );
				didHit = true;
				lightRec.dist = dist;
				lightRec.pdf = ( dist * dist ) / ( light.area * cosTheta );
				lightRec.emission = light.color * light.intensity;
				lightRec.direction = rayDirection;
				lightRec.type = light.type;

			}

		}

		return didHit;

	}

	LightRecord randomAreaLightSample( Light light, vec3 rayOrigin, vec2 ruv ) {

		vec3 randomPos;
		if( light.type == RECT_AREA_LIGHT_TYPE ) {

			// rectangular area light
			randomPos = light.position + light.u * ( ruv.x - 0.5 ) + light.v * ( ruv.y - 0.5 );

		} else if( light.type == CIRC_AREA_LIGHT_TYPE ) {

			// circular area light
			float r = 0.5 * sqrt( ruv.x );
			float theta = ruv.y * 2.0 * PI;
			float x = r * cos( theta );
			float y = r * sin( theta );

			randomPos = light.position + light.u * x + light.v * y;

		}

		vec3 toLight = randomPos - rayOrigin;
		float lightDistSq = dot( toLight, toLight );
		float dist = sqrt( lightDistSq );
		vec3 direction = toLight / dist;
		vec3 lightNormal = normalize( cross( light.u, light.v ) );

		LightRecord lightRec;
		lightRec.type = light.type;
		lightRec.emission = light.color * light.intensity;
		lightRec.dist = dist;
		lightRec.direction = direction;

		// TODO: the denominator is potentially zero
		lightRec.pdf = lightDistSq / ( light.area * dot( direction, lightNormal ) );

		return lightRec;

	}

	LightRecord randomSpotLightSample( Light light, sampler2DArray iesProfiles, vec3 rayOrigin, vec2 ruv ) {

		float radius = light.radius * sqrt( ruv.x );
		float theta = ruv.y * 2.0 * PI;
		float x = radius * cos( theta );
		float y = radius * sin( theta );

		vec3 u = light.u;
		vec3 v = light.v;
		vec3 normal = normalize( cross( u, v ) );

		float angle = acos( light.coneCos );
		float angleTan = tan( angle );
		float startDistance = light.radius / max( angleTan, EPSILON );

		vec3 randomPos = light.position - normal * startDistance + u * x + v * y;
		vec3 toLight = randomPos - rayOrigin;
		float lightDistSq = dot( toLight, toLight );
		float dist = sqrt( lightDistSq );

		vec3 direction = toLight / max( dist, EPSILON );
		float cosTheta = dot( direction, normal );

		float spotAttenuation = light.iesProfile != - 1 ?
			getPhotometricAttenuation( iesProfiles, light.iesProfile, direction, normal, u, v ) :
			getSpotAttenuation( light.coneCos, light.penumbraCos, cosTheta );

		float distanceAttenuation = getDistanceAttenuation( dist, light.distance, light.decay );
		LightRecord lightRec;
		lightRec.type = light.type;
		lightRec.dist = dist;
		lightRec.direction = direction;
		lightRec.emission = light.color * light.intensity * distanceAttenuation * spotAttenuation;
		lightRec.pdf = 1.0;

		return lightRec;

	}

	LightRecord randomLightSample( sampler2D lights, sampler2DArray iesProfiles, uint lightCount, vec3 rayOrigin, vec3 ruv ) {

		LightRecord result;

		// pick a random light
		uint l = uint( ruv.x * float( lightCount ) );
		Light light = readLightInfo( lights, l );

		if ( light.type == SPOT_LIGHT_TYPE ) {

			result = randomSpotLightSample( light, iesProfiles, rayOrigin, ruv.yz );

		} else if ( light.type == POINT_LIGHT_TYPE ) {

			vec3 lightRay = light.u - rayOrigin;
			float lightDist = length( lightRay );
			float cutoffDistance = light.distance;
			float distanceFalloff = 1.0 / max( pow( lightDist, light.decay ), 0.01 );
			if ( cutoffDistance > 0.0 ) {

				distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDist / cutoffDistance ) ) );

			}

			LightRecord rec;
			rec.direction = normalize( lightRay );
			rec.dist = length( lightRay );
			rec.pdf = 1.0;
			rec.emission = light.color * light.intensity * distanceFalloff;
			rec.type = light.type;
			result = rec;

		} else if ( light.type == DIR_LIGHT_TYPE ) {

			LightRecord rec;
			rec.dist = 1e10;
			rec.direction = light.u;
			rec.pdf = 1.0;
			rec.emission = light.color * light.intensity;
			rec.type = light.type;

			result = rec;

		} else {

			// sample the light
			result = randomAreaLightSample( light, rayOrigin, ruv.yz );

		}

		return result;

	}

`,Xke=`

	vec3 sampleHemisphere( vec3 n, vec2 uv ) {

		// https://www.rorydriscoll.com/2009/01/07/better-sampling/
		// https://graphics.pixar.com/library/OrthonormalB/paper.pdf
		float sign = n.z == 0.0 ? 1.0 : sign( n.z );
		float a = - 1.0 / ( sign + n.z );
		float b = n.x * n.y * a;
		vec3 b1 = vec3( 1.0 + sign * n.x * n.x * a, sign * b, - sign * n.x );
		vec3 b2 = vec3( b, sign + n.y * n.y * a, - n.y );

		float r = sqrt( uv.x );
		float theta = 2.0 * PI * uv.y;
		float x = r * cos( theta );
		float y = r * sin( theta );
		return x * b1 + y * b2 + sqrt( 1.0 - uv.x ) * n;

	}

	vec2 sampleTriangle( vec2 a, vec2 b, vec2 c, vec2 r ) {

		// get the edges of the triangle and the diagonal across the
		// center of the parallelogram
		vec2 e1 = a - b;
		vec2 e2 = c - b;
		vec2 diag = normalize( e1 + e2 );

		// pick the point in the parallelogram
		if ( r.x + r.y > 1.0 ) {

			r = vec2( 1.0 ) - r;

		}

		return e1 * r.x + e2 * r.y;

	}

	vec2 sampleCircle( vec2 uv ) {

		float angle = 2.0 * PI * uv.x;
		float radius = sqrt( uv.y );
		return vec2( cos( angle ), sin( angle ) ) * radius;

	}

	vec3 sampleSphere( vec2 uv ) {

		float u = ( uv.x - 0.5 ) * 2.0;
		float t = uv.y * PI * 2.0;
		float f = sqrt( 1.0 - u * u );

		return vec3( f * cos( t ), f * sin( t ), u );

	}

	vec2 sampleRegularPolygon( int sides, vec3 uvw ) {

		sides = max( sides, 3 );

		vec3 r = uvw;
		float anglePerSegment = 2.0 * PI / float( sides );
		float segment = floor( float( sides ) * r.x );

		float angle1 = anglePerSegment * segment;
		float angle2 = angle1 + anglePerSegment;
		vec2 a = vec2( sin( angle1 ), cos( angle1 ) );
		vec2 b = vec2( 0.0, 0.0 );
		vec2 c = vec2( sin( angle2 ), cos( angle2 ) );

		return sampleTriangle( a, b, c, r.yz );

	}

	// samples an aperture shape with the given number of sides. 0 means circle
	vec2 sampleAperture( int blades, vec3 uvw ) {

		return blades == 0 ?
			sampleCircle( uvw.xy ) :
			sampleRegularPolygon( blades, uvw );

	}


`,Zke=`

	bool totalInternalReflection( float cosTheta, float eta ) {

		float sinTheta = sqrt( 1.0 - cosTheta * cosTheta );
		return eta * sinTheta > 1.0;

	}

	// https://google.github.io/filament/Filament.md.html#materialsystem/diffusebrdf
	float schlickFresnel( float cosine, float f0 ) {

		return f0 + ( 1.0 - f0 ) * pow( 1.0 - cosine, 5.0 );

	}

	vec3 schlickFresnel( float cosine, vec3 f0 ) {

		return f0 + ( 1.0 - f0 ) * pow( 1.0 - cosine, 5.0 );

	}

	vec3 schlickFresnel( float cosine, vec3 f0, vec3 f90 ) {

		return f0 + ( f90 - f0 ) * pow( 1.0 - cosine, 5.0 );

	}

	float dielectricFresnel( float cosThetaI, float eta ) {

		// https://schuttejoe.github.io/post/disneybsdf/
		float ni = eta;
		float nt = 1.0;

		// Check for total internal reflection
		float sinThetaISq = 1.0f - cosThetaI * cosThetaI;
		float sinThetaTSq = eta * eta * sinThetaISq;
		if( sinThetaTSq >= 1.0 ) {

			return 1.0;

		}

		float sinThetaT = sqrt( sinThetaTSq );

		float cosThetaT = sqrt( max( 0.0, 1.0f - sinThetaT * sinThetaT ) );
		float rParallel = ( ( nt * cosThetaI ) - ( ni * cosThetaT ) ) / ( ( nt * cosThetaI ) + ( ni * cosThetaT ) );
		float rPerpendicular = ( ( ni * cosThetaI ) - ( nt * cosThetaT ) ) / ( ( ni * cosThetaI ) + ( nt * cosThetaT ) );
		return ( rParallel * rParallel + rPerpendicular * rPerpendicular ) / 2.0;

	}

	// https://raytracing.github.io/books/RayTracingInOneWeekend.html#dielectrics/schlickapproximation
	float iorRatioToF0( float eta ) {

		return pow( ( 1.0 - eta ) / ( 1.0 + eta ), 2.0 );

	}

	vec3 evaluateFresnel( float cosTheta, float eta, vec3 f0, vec3 f90 ) {

		if ( totalInternalReflection( cosTheta, eta ) ) {

			return f90;

		}

		return schlickFresnel( cosTheta, f0, f90 );

	}

	// TODO: disney fresnel was removed and replaced with this fresnel function to better align with
	// the glTF but is causing blown out pixels. Should be revisited
	// float evaluateFresnelWeight( float cosTheta, float eta, float f0 ) {

	// 	if ( totalInternalReflection( cosTheta, eta ) ) {

	// 		return 1.0;

	// 	}

	// 	return schlickFresnel( cosTheta, f0 );

	// }

	// https://schuttejoe.github.io/post/disneybsdf/
	float disneyFresnel( vec3 wo, vec3 wi, vec3 wh, float f0, float eta, float metalness ) {

		float dotHV = dot( wo, wh );
		if ( totalInternalReflection( dotHV, eta ) ) {

			return 1.0;

		}

		float dotHL = dot( wi, wh );
		float dielectricFresnel = dielectricFresnel( abs( dotHV ), eta );
		float metallicFresnel = schlickFresnel( dotHL, f0 );

		return mix( dielectricFresnel, metallicFresnel, metalness );

	}

`,Qke=`

	// Fast arccos approximation used to remove banding artifacts caused by numerical errors in acos.
	// This is a cubic Lagrange interpolating polynomial for x = [-1, -1/2, 0, 1/2, 1].
	// For more information see: https://github.com/gkjohnson/three-gpu-pathtracer/pull/171#issuecomment-1152275248
	float acosApprox( float x ) {

		x = clamp( x, -1.0, 1.0 );
		return ( - 0.69813170079773212 * x * x - 0.87266462599716477 ) * x + 1.5707963267948966;

	}

	// An acos with input values bound to the range [-1, 1].
	float acosSafe( float x ) {

		return acos( clamp( x, -1.0, 1.0 ) );

	}

	float saturateCos( float val ) {

		return clamp( val, 0.001, 1.0 );

	}

	float square( float t ) {

		return t * t;

	}

	vec2 square( vec2 t ) {

		return t * t;

	}

	vec3 square( vec3 t ) {

		return t * t;

	}

	vec4 square( vec4 t ) {

		return t * t;

	}

	vec2 rotateVector( vec2 v, float t ) {

		float ac = cos( t );
		float as = sin( t );
		return vec2(
			v.x * ac - v.y * as,
			v.x * as + v.y * ac
		);

	}

	// forms a basis with the normal vector as Z
	mat3 getBasisFromNormal( vec3 normal ) {

		vec3 other;
		if ( abs( normal.x ) > 0.5 ) {

			other = vec3( 0.0, 1.0, 0.0 );

		} else {

			other = vec3( 1.0, 0.0, 0.0 );

		}

		vec3 ortho = normalize( cross( normal, other ) );
		vec3 ortho2 = normalize( cross( normal, ortho ) );
		return mat3( ortho2, ortho, normal );

	}

`,Jke=`

	// Finds the point where the ray intersects the plane defined by u and v and checks if this point
	// falls in the bounds of the rectangle on that same plane.
	// Plane intersection: https://lousodrome.net/blog/light/2020/07/03/intersection-of-a-ray-and-a-plane/
	bool intersectsRectangle( vec3 center, vec3 normal, vec3 u, vec3 v, vec3 rayOrigin, vec3 rayDirection, inout float dist ) {

		float t = dot( center - rayOrigin, normal ) / dot( rayDirection, normal );

		if ( t > EPSILON ) {

			vec3 p = rayOrigin + rayDirection * t;
			vec3 vi = p - center;

			// check if p falls inside the rectangle
			float a1 = dot( u, vi );
			if ( abs( a1 ) <= 0.5 ) {

				float a2 = dot( v, vi );
				if ( abs( a2 ) <= 0.5 ) {

					dist = t;
					return true;

				}

			}

		}

		return false;

	}

	// Finds the point where the ray intersects the plane defined by u and v and checks if this point
	// falls in the bounds of the circle on that same plane. See above URL for a description of the plane intersection algorithm.
	bool intersectsCircle( vec3 position, vec3 normal, vec3 u, vec3 v, vec3 rayOrigin, vec3 rayDirection, inout float dist ) {

		float t = dot( position - rayOrigin, normal ) / dot( rayDirection, normal );

		if ( t > EPSILON ) {

			vec3 hit = rayOrigin + rayDirection * t;
			vec3 vi = hit - position;

			float a1 = dot( u, vi );
			float a2 = dot( v, vi );

			if( length( vec2( a1, a2 ) ) <= 0.5 ) {

				dist = t;
				return true;

			}

		}

		return false;

	}

`,eDe=`

	// add texel fetch functions for texture arrays
	vec4 texelFetch1D( sampler2DArray tex, int layer, uint index ) {

		uint width = uint( textureSize( tex, 0 ).x );
		uvec2 uv;
		uv.x = index % width;
		uv.y = index / width;

		return texelFetch( tex, ivec3( uv, layer ), 0 );

	}

	vec4 textureSampleBarycoord( sampler2DArray tex, int layer, vec3 barycoord, uvec3 faceIndices ) {

		return
			barycoord.x * texelFetch1D( tex, layer, faceIndices.x ) +
			barycoord.y * texelFetch1D( tex, layer, faceIndices.y ) +
			barycoord.z * texelFetch1D( tex, layer, faceIndices.z );

	}

`,MQ=`

	// TODO: possibly this should be renamed something related to material or path tracing logic

	#ifndef RAY_OFFSET
	#define RAY_OFFSET 1e-4
	#endif

	// adjust the hit point by the surface normal by a factor of some offset and the
	// maximum component-wise value of the current point to accommodate floating point
	// error as values increase.
	vec3 stepRayOrigin( vec3 rayOrigin, vec3 rayDirection, vec3 offset, float dist ) {

		vec3 point = rayOrigin + rayDirection * dist;
		vec3 absPoint = abs( point );
		float maxPoint = max( absPoint.x, max( absPoint.y, absPoint.z ) );
		return point + offset * ( maxPoint + 1.0 ) * RAY_OFFSET;

	}

	// https://github.com/KhronosGroup/glTF/blob/main/extensions/2.0/Khronos/KHR_materials_volume/README.md#attenuation
	vec3 transmissionAttenuation( float dist, vec3 attColor, float attDist ) {

		vec3 ot = - log( attColor ) / attDist;
		return exp( - ot * dist );

	}

	vec3 getHalfVector( vec3 wi, vec3 wo, float eta ) {

		// get the half vector - assuming if the light incident vector is on the other side
		// of the that it's transmissive.
		vec3 h;
		if ( wi.z > 0.0 ) {

			h = normalize( wi + wo );

		} else {

			// Scale by the ior ratio to retrieve the appropriate half vector
			// From Section 2.2 on computing the transmission half vector:
			// https://blog.selfshadow.com/publications/s2015-shading-course/burley/s2015_pbs_disney_bsdf_notes.pdf
			h = normalize( wi + wo * eta );

		}

		h *= sign( h.z );
		return h;

	}

	vec3 getHalfVector( vec3 a, vec3 b ) {

		return normalize( a + b );

	}

	// The discrepancy between interpolated surface normal and geometry normal can cause issues when a ray
	// is cast that is on the top side of the geometry normal plane but below the surface normal plane. If
	// we find a ray like that we ignore it to avoid artifacts.
	// This function returns if the direction is on the same side of both planes.
	bool isDirectionValid( vec3 direction, vec3 surfaceNormal, vec3 geometryNormal ) {

		bool aboveSurfaceNormal = dot( direction, surfaceNormal ) > 0.0;
		bool aboveGeometryNormal = dot( direction, geometryNormal ) > 0.0;
		return aboveSurfaceNormal == aboveGeometryNormal;

	}

	// ray sampling x and z are swapped to align with expected background view
	vec2 equirectDirectionToUv( vec3 direction ) {

		// from Spherical.setFromCartesianCoords
		vec2 uv = vec2( atan( direction.z, direction.x ), acos( direction.y ) );
		uv /= vec2( 2.0 * PI, PI );

		// apply adjustments to get values in range [0, 1] and y right side up
		uv.x += 0.5;
		uv.y = 1.0 - uv.y;
		return uv;

	}

	vec3 equirectUvToDirection( vec2 uv ) {

		// undo above adjustments
		uv.x -= 0.5;
		uv.y = 1.0 - uv.y;

		// from Vector3.setFromSphericalCoords
		float theta = uv.x * 2.0 * PI;
		float phi = uv.y * PI;

		float sinPhi = sin( phi );

		return vec3( sinPhi * cos( theta ), cos( phi ), sinPhi * sin( theta ) );

	}

	// power heuristic for multiple importance sampling
	float misHeuristic( float a, float b ) {

		float aa = a * a;
		float bb = b * b;
		return aa / ( aa + bb );

	}

	// tentFilter from Peter Shirley's 'Realistic Ray Tracing (2nd Edition)' book, pg. 60
	// erichlof/THREE.js-PathTracing-Renderer/
	float tentFilter( float x ) {

		return x < 0.5 ? sqrt( 2.0 * x ) - 1.0 : 1.0 - sqrt( 2.0 - ( 2.0 * x ) );

	}
`,K9=`

	// https://www.shadertoy.com/view/wltcRS
	uvec4 WHITE_NOISE_SEED;

	void rng_initialize( vec2 p, int frame ) {

		// white noise seed
		WHITE_NOISE_SEED = uvec4( p, uint( frame ), uint( p.x ) + uint( p.y ) );

	}

	// https://www.pcg-random.org/
	void pcg4d( inout uvec4 v ) {

		v = v * 1664525u + 1013904223u;
		v.x += v.y * v.w;
		v.y += v.z * v.x;
		v.z += v.x * v.y;
		v.w += v.y * v.z;
		v = v ^ ( v >> 16u );
		v.x += v.y*v.w;
		v.y += v.z*v.x;
		v.z += v.x*v.y;
		v.w += v.y*v.z;

	}

	// returns [ 0, 1 ]
	float pcgRand() {

		pcg4d( WHITE_NOISE_SEED );
		return float( WHITE_NOISE_SEED.x ) / float( 0xffffffffu );

	}

	vec2 pcgRand2() {

		pcg4d( WHITE_NOISE_SEED );
		return vec2( WHITE_NOISE_SEED.xy ) / float(0xffffffffu);

	}

	vec3 pcgRand3() {

		pcg4d( WHITE_NOISE_SEED );
		return vec3( WHITE_NOISE_SEED.xyz ) / float( 0xffffffffu );

	}

	vec4 pcgRand4() {

		pcg4d( WHITE_NOISE_SEED );
		return vec4( WHITE_NOISE_SEED ) / float( 0xffffffffu );

	}
`,tDe=`

	uniform sampler2D stratifiedTexture;
	uniform sampler2D stratifiedOffsetTexture;

	uint sobolPixelIndex = 0u;
	uint sobolPathIndex = 0u;
	uint sobolBounceIndex = 0u;
	vec4 pixelSeed = vec4( 0 );

	vec4 rand4( int v ) {

		ivec2 uv = ivec2( v, sobolBounceIndex );
		vec4 stratifiedSample = texelFetch( stratifiedTexture, uv, 0 );
		return fract( stratifiedSample + pixelSeed.r ); // blue noise + stratified samples

	}

	vec3 rand3( int v ) {

		return rand4( v ).xyz;

	}

	vec2 rand2( int v ) {

		return rand4( v ).xy;

	}

	float rand( int v ) {

		return rand4( v ).x;

	}

	void rng_initialize( vec2 screenCoord, int frame ) {

		// tile the small noise texture across the entire screen
		ivec2 noiseSize = ivec2( textureSize( stratifiedOffsetTexture, 0 ) );
		ivec2 pixel = ivec2( screenCoord.xy ) % noiseSize;
		vec2 pixelWidth = 1.0 / vec2( noiseSize );
		vec2 uv = vec2( pixel ) * pixelWidth + pixelWidth * 0.5;

		// note that using "texelFetch" here seems to break Android for some reason
		pixelSeed = texture( stratifiedOffsetTexture, uv );

	}

`,nDe=`

	// diffuse
	float diffuseEval( vec3 wo, vec3 wi, vec3 wh, SurfaceRecord surf, inout vec3 color ) {

		// https://schuttejoe.github.io/post/disneybsdf/
		float fl = schlickFresnel( wi.z, 0.0 );
		float fv = schlickFresnel( wo.z, 0.0 );

		float metalFactor = ( 1.0 - surf.metalness );
		float transFactor = ( 1.0 - surf.transmission );
		float rr = 0.5 + 2.0 * surf.roughness * fl * fl;
		float retro = rr * ( fl + fv + fl * fv * ( rr - 1.0f ) );
		float lambert = ( 1.0f - 0.5f * fl ) * ( 1.0f - 0.5f * fv );

		// TODO: subsurface approx?

		// float F = evaluateFresnelWeight( dot( wo, wh ), surf.eta, surf.f0 );
		float F = disneyFresnel( wo, wi, wh, surf.f0, surf.eta, surf.metalness );
		color = ( 1.0 - F ) * transFactor * metalFactor * wi.z * surf.color * ( retro + lambert ) / PI;

		return wi.z / PI;

	}

	vec3 diffuseDirection( vec3 wo, SurfaceRecord surf ) {

		vec3 lightDirection = sampleSphere( rand2( 11 ) );
		lightDirection.z += 1.0;
		lightDirection = normalize( lightDirection );

		return lightDirection;

	}

	// specular
	float specularEval( vec3 wo, vec3 wi, vec3 wh, SurfaceRecord surf, inout vec3 color ) {

		// if roughness is set to 0 then D === NaN which results in black pixels
		float metalness = surf.metalness;
		float roughness = surf.filteredRoughness;

		float eta = surf.eta;
		float f0 = surf.f0;

		vec3 f0Color = mix( f0 * surf.specularColor * surf.specularIntensity, surf.color, surf.metalness );
		vec3 f90Color = vec3( mix( surf.specularIntensity, 1.0, surf.metalness ) );
		vec3 F = evaluateFresnel( dot( wo, wh ), eta, f0Color, f90Color );

		vec3 iridescenceF = evalIridescence( 1.0, surf.iridescenceIor, dot( wi, wh ), surf.iridescenceThickness, f0Color );
		F = mix( F, iridescenceF,  surf.iridescence );

		// PDF
		// See 14.1.1 Microfacet BxDFs in https://www.pbr-book.org/
		float incidentTheta = acos( wo.z );
		float G = ggxShadowMaskG2( wi, wo, roughness );
		float D = ggxDistribution( wh, roughness );
		float G1 = ggxShadowMaskG1( incidentTheta, roughness );
		float ggxPdf = D * G1 * max( 0.0, abs( dot( wo, wh ) ) ) / abs ( wo.z );

		color = wi.z * F * G * D / ( 4.0 * abs( wi.z * wo.z ) );
		return ggxPdf / ( 4.0 * dot( wo, wh ) );

	}

	vec3 specularDirection( vec3 wo, SurfaceRecord surf ) {

		// sample ggx vndf distribution which gives a new normal
		float roughness = surf.filteredRoughness;
		vec3 halfVector = ggxDirection(
			wo,
			vec2( roughness ),
			rand2( 12 )
		);

		// apply to new ray by reflecting off the new normal
		return - reflect( wo, halfVector );

	}


	// transmission
	/*
	float transmissionEval( vec3 wo, vec3 wi, vec3 wh, SurfaceRecord surf, inout vec3 color ) {

		// See section 4.2 in https://www.cs.cornell.edu/~srm/publications/EGSR07-btdf.pdf

		float filteredRoughness = surf.filteredRoughness;
		float eta = surf.eta;
		bool frontFace = surf.frontFace;
		bool thinFilm = surf.thinFilm;

		color = surf.transmission * surf.color;

		float denom = pow( eta * dot( wi, wh ) + dot( wo, wh ), 2.0 );
		return ggxPDF( wo, wh, filteredRoughness ) / denom;

	}

	vec3 transmissionDirection( vec3 wo, SurfaceRecord surf ) {

		float filteredRoughness = surf.filteredRoughness;
		float eta = surf.eta;
		bool frontFace = surf.frontFace;

		// sample ggx vndf distribution which gives a new normal
		vec3 halfVector = ggxDirection(
			wo,
			vec2( filteredRoughness ),
			rand2( 13 )
		);

		vec3 lightDirection = refract( normalize( - wo ), halfVector, eta );
		if ( surf.thinFilm ) {

			lightDirection = - refract( normalize( - lightDirection ), - vec3( 0.0, 0.0, 1.0 ), 1.0 / eta );

		}

		return normalize( lightDirection );

	}
	*/

	// TODO: This is just using a basic cosine-weighted specular distribution with an
	// incorrect PDF value at the moment. Update it to correctly use a GGX distribution
	float transmissionEval( vec3 wo, vec3 wi, vec3 wh, SurfaceRecord surf, inout vec3 color ) {

		color = surf.transmission * surf.color;

		// PDF
		// float F = evaluateFresnelWeight( dot( wo, wh ), surf.eta, surf.f0 );
		// float F = disneyFresnel( wo, wi, wh, surf.f0, surf.eta, surf.metalness );
		// if ( F >= 1.0 ) {

		// 	return 0.0;

		// }

		// return 1.0 / ( 1.0 - F );

		// reverted to previous to transmission. The above was causing black pixels
		float eta = surf.eta;
		float f0 = surf.f0;
		float cosTheta = min( wo.z, 1.0 );
		float sinTheta = sqrt( 1.0 - cosTheta * cosTheta );
		float reflectance = schlickFresnel( cosTheta, f0 );
		bool cannotRefract = eta * sinTheta > 1.0;
		if ( cannotRefract ) {

			return 0.0;

		}

		return 1.0 / ( 1.0 - reflectance );

	}

	vec3 transmissionDirection( vec3 wo, SurfaceRecord surf ) {

		float roughness = surf.filteredRoughness;
		float eta = surf.eta;
		vec3 halfVector = normalize( vec3( 0.0, 0.0, 1.0 ) + sampleSphere( rand2( 13 ) ) * roughness );
		vec3 lightDirection = refract( normalize( - wo ), halfVector, eta );

		if ( surf.thinFilm ) {

			lightDirection = - refract( normalize( - lightDirection ), - vec3( 0.0, 0.0, 1.0 ), 1.0 / eta );

		}
		return normalize( lightDirection );

	}

	// clearcoat
	float clearcoatEval( vec3 wo, vec3 wi, vec3 wh, SurfaceRecord surf, inout vec3 color ) {

		float ior = 1.5;
		float f0 = iorRatioToF0( ior );
		bool frontFace = surf.frontFace;
		float roughness = surf.filteredClearcoatRoughness;

		float eta = frontFace ? 1.0 / ior : ior;
		float G = ggxShadowMaskG2( wi, wo, roughness );
		float D = ggxDistribution( wh, roughness );
		float F = schlickFresnel( dot( wi, wh ), f0 );

		float fClearcoat = F * D * G / ( 4.0 * abs( wi.z * wo.z ) );
		color = color * ( 1.0 - surf.clearcoat * F ) + fClearcoat * surf.clearcoat * wi.z;

		// PDF
		// See equation (27) in http://jcgt.org/published/0003/02/03/
		return ggxPDF( wo, wh, roughness ) / ( 4.0 * dot( wi, wh ) );

	}

	vec3 clearcoatDirection( vec3 wo, SurfaceRecord surf ) {

		// sample ggx vndf distribution which gives a new normal
		float roughness = surf.filteredClearcoatRoughness;
		vec3 halfVector = ggxDirection(
			wo,
			vec2( roughness ),
			rand2( 14 )
		);

		// apply to new ray by reflecting off the new normal
		return - reflect( wo, halfVector );

	}

	// sheen
	vec3 sheenColor( vec3 wo, vec3 wi, vec3 wh, SurfaceRecord surf ) {

		float cosThetaO = saturateCos( wo.z );
		float cosThetaI = saturateCos( wi.z );
		float cosThetaH = wh.z;

		float D = velvetD( cosThetaH, surf.sheenRoughness );
		float G = velvetG( cosThetaO, cosThetaI, surf.sheenRoughness );

		// See equation (1) in http://www.aconty.com/pdf/s2017_pbs_imageworks_sheen.pdf
		vec3 color = surf.sheenColor;
		color *= D * G / ( 4.0 * abs( cosThetaO * cosThetaI ) );
		color *= wi.z;

		return color;

	}

	// bsdf
	void getLobeWeights(
		vec3 wo, vec3 wi, vec3 wh, vec3 clearcoatWo, SurfaceRecord surf,
		inout float diffuseWeight, inout float specularWeight, inout float transmissionWeight, inout float clearcoatWeight
	) {

		float metalness = surf.metalness;
		float transmission = surf.transmission;
		// float fEstimate = evaluateFresnelWeight( dot( wo, wh ), surf.eta, surf.f0 );
		float fEstimate = disneyFresnel( wo, wi, wh, surf.f0, surf.eta, surf.metalness );

		float transSpecularProb = mix( max( 0.25, fEstimate ), 1.0, metalness );
		float diffSpecularProb = 0.5 + 0.5 * metalness;

		diffuseWeight = ( 1.0 - transmission ) * ( 1.0 - diffSpecularProb );
		specularWeight = transmission * transSpecularProb + ( 1.0 - transmission ) * diffSpecularProb;
		transmissionWeight = transmission * ( 1.0 - transSpecularProb );
		clearcoatWeight = surf.clearcoat * schlickFresnel( clearcoatWo.z, 0.04 );

		float totalWeight = diffuseWeight + specularWeight + transmissionWeight + clearcoatWeight;
		diffuseWeight /= totalWeight;
		specularWeight /= totalWeight;
		transmissionWeight /= totalWeight;
		clearcoatWeight /= totalWeight;
	}

	float bsdfEval(
		vec3 wo, vec3 clearcoatWo, vec3 wi, vec3 clearcoatWi, SurfaceRecord surf,
		float diffuseWeight, float specularWeight, float transmissionWeight, float clearcoatWeight, inout float specularPdf, inout vec3 color
	) {

		float metalness = surf.metalness;
		float transmission = surf.transmission;

		float spdf = 0.0;
		float dpdf = 0.0;
		float tpdf = 0.0;
		float cpdf = 0.0;
		color = vec3( 0.0 );

		vec3 halfVector = getHalfVector( wi, wo, surf.eta );

		// diffuse
		if ( diffuseWeight > 0.0 && wi.z > 0.0 ) {

			dpdf = diffuseEval( wo, wi, halfVector, surf, color );
			color *= 1.0 - surf.transmission;

		}

		// ggx specular
		if ( specularWeight > 0.0 && wi.z > 0.0 ) {

			vec3 outColor;
			spdf = specularEval( wo, wi, getHalfVector( wi, wo ), surf, outColor );
			color += outColor;

		}

		// transmission
		if ( transmissionWeight > 0.0 && wi.z < 0.0 ) {

			tpdf = transmissionEval( wo, wi, halfVector, surf, color );

		}

		// sheen
		color *= mix( 1.0, sheenAlbedoScaling( wo, wi, surf ), surf.sheen );
		color += sheenColor( wo, wi, halfVector, surf ) * surf.sheen;

		// clearcoat
		if ( clearcoatWi.z >= 0.0 && clearcoatWeight > 0.0 ) {

			vec3 clearcoatHalfVector = getHalfVector( clearcoatWo, clearcoatWi );
			cpdf = clearcoatEval( clearcoatWo, clearcoatWi, clearcoatHalfVector, surf, color );

		}

		float pdf =
			dpdf * diffuseWeight
			+ spdf * specularWeight
			+ tpdf * transmissionWeight
			+ cpdf * clearcoatWeight;

		// retrieve specular rays for the shadows flag
		specularPdf = spdf * specularWeight + cpdf * clearcoatWeight;

		return pdf;

	}

	float bsdfResult( vec3 worldWo, vec3 worldWi, SurfaceRecord surf, inout vec3 color ) {

		if ( surf.volumeParticle ) {

			color = surf.color / ( 4.0 * PI );
			return 1.0 / ( 4.0 * PI );

		}

		vec3 wo = normalize( surf.normalInvBasis * worldWo );
		vec3 wi = normalize( surf.normalInvBasis * worldWi );

		vec3 clearcoatWo = normalize( surf.clearcoatInvBasis * worldWo );
		vec3 clearcoatWi = normalize( surf.clearcoatInvBasis * worldWi );

		vec3 wh = getHalfVector( wo, wi, surf.eta );
		float diffuseWeight;
		float specularWeight;
		float transmissionWeight;
		float clearcoatWeight;
		getLobeWeights( wo, wi, wh, clearcoatWo, surf, diffuseWeight, specularWeight, transmissionWeight, clearcoatWeight );

		float specularPdf;
		return bsdfEval( wo, clearcoatWo, wi, clearcoatWi, surf, diffuseWeight, specularWeight, transmissionWeight, clearcoatWeight, specularPdf, color );

	}

	ScatterRecord bsdfSample( vec3 worldWo, SurfaceRecord surf ) {

		if ( surf.volumeParticle ) {

			ScatterRecord sampleRec;
			sampleRec.specularPdf = 0.0;
			sampleRec.pdf = 1.0 / ( 4.0 * PI );
			sampleRec.direction = sampleSphere( rand2( 16 ) );
			sampleRec.color = surf.color / ( 4.0 * PI );
			return sampleRec;

		}

		vec3 wo = normalize( surf.normalInvBasis * worldWo );
		vec3 clearcoatWo = normalize( surf.clearcoatInvBasis * worldWo );
		mat3 normalBasis = surf.normalBasis;
		mat3 invBasis = surf.normalInvBasis;
		mat3 clearcoatNormalBasis = surf.clearcoatBasis;
		mat3 clearcoatInvBasis = surf.clearcoatInvBasis;

		float diffuseWeight;
		float specularWeight;
		float transmissionWeight;
		float clearcoatWeight;
		// using normal and basically-reflected ray since we don't have proper half vector here
		getLobeWeights( wo, wo, vec3( 0, 0, 1 ), clearcoatWo, surf, diffuseWeight, specularWeight, transmissionWeight, clearcoatWeight );

		float pdf[4];
		pdf[0] = diffuseWeight;
		pdf[1] = specularWeight;
		pdf[2] = transmissionWeight;
		pdf[3] = clearcoatWeight;

		float cdf[4];
		cdf[0] = pdf[0];
		cdf[1] = pdf[1] + cdf[0];
		cdf[2] = pdf[2] + cdf[1];
		cdf[3] = pdf[3] + cdf[2];

		if( cdf[3] != 0.0 ) {

			float invMaxCdf = 1.0 / cdf[3];
			cdf[0] *= invMaxCdf;
			cdf[1] *= invMaxCdf;
			cdf[2] *= invMaxCdf;
			cdf[3] *= invMaxCdf;

		} else {

			cdf[0] = 1.0;
			cdf[1] = 0.0;
			cdf[2] = 0.0;
			cdf[3] = 0.0;

		}

		vec3 wi;
		vec3 clearcoatWi;

		float r = rand( 15 );
		if ( r <= cdf[0] ) { // diffuse

			wi = diffuseDirection( wo, surf );
			clearcoatWi = normalize( clearcoatInvBasis * normalize( normalBasis * wi ) );

		} else if ( r <= cdf[1] ) { // specular

			wi = specularDirection( wo, surf );
			clearcoatWi = normalize( clearcoatInvBasis * normalize( normalBasis * wi ) );

		} else if ( r <= cdf[2] ) { // transmission / refraction

			wi = transmissionDirection( wo, surf );
			clearcoatWi = normalize( clearcoatInvBasis * normalize( normalBasis * wi ) );

		} else if ( r <= cdf[3] ) { // clearcoat

			clearcoatWi = clearcoatDirection( clearcoatWo, surf );
			wi = normalize( invBasis * normalize( clearcoatNormalBasis * clearcoatWi ) );

		}

		ScatterRecord result;
		result.pdf = bsdfEval( wo, clearcoatWo, wi, clearcoatWi, surf, diffuseWeight, specularWeight, transmissionWeight, clearcoatWeight, result.specularPdf, result.color );
		result.direction = normalize( surf.normalBasis * wi );

		return result;

	}

`,rDe=`

	// returns the hit distance given the material density
	float intersectFogVolume( Material material, float u ) {

		// https://raytracing.github.io/books/RayTracingTheNextWeek.html#volumes/constantdensitymediums
		return material.opacity == 0.0 ? INFINITY : ( - 1.0 / material.opacity ) * log( u );

	}

	ScatterRecord sampleFogVolume( SurfaceRecord surf, vec2 uv ) {

		ScatterRecord sampleRec;
		sampleRec.specularPdf = 0.0;
		sampleRec.pdf = 1.0 / ( 2.0 * PI );
		sampleRec.direction = sampleSphere( uv );
		sampleRec.color = surf.color;
		return sampleRec;

	}

`,aDe=`

	// The GGX functions provide sampling and distribution information for normals as output so
	// in order to get probability of scatter direction the half vector must be computed and provided.
	// [0] https://www.cs.cornell.edu/~srm/publications/EGSR07-btdf.pdf
	// [1] https://hal.archives-ouvertes.fr/hal-01509746/document
	// [2] http://jcgt.org/published/0007/04/01/
	// [4] http://jcgt.org/published/0003/02/03/

	// trowbridge-reitz === GGX === GTR

	vec3 ggxDirection( vec3 incidentDir, vec2 roughness, vec2 uv ) {

		// TODO: try GGXVNDF implementation from reference [2], here. Needs to update ggxDistribution
		// function below, as well

		// Implementation from reference [1]
		// stretch view
		vec3 V = normalize( vec3( roughness * incidentDir.xy, incidentDir.z ) );

		// orthonormal basis
		vec3 T1 = ( V.z < 0.9999 ) ? normalize( cross( V, vec3( 0.0, 0.0, 1.0 ) ) ) : vec3( 1.0, 0.0, 0.0 );
		vec3 T2 = cross( T1, V );

		// sample point with polar coordinates (r, phi)
		float a = 1.0 / ( 1.0 + V.z );
		float r = sqrt( uv.x );
		float phi = ( uv.y < a ) ? uv.y / a * PI : PI + ( uv.y - a ) / ( 1.0 - a ) * PI;
		float P1 = r * cos( phi );
		float P2 = r * sin( phi ) * ( ( uv.y < a ) ? 1.0 : V.z );

		// compute normal
		vec3 N = P1 * T1 + P2 * T2 + V * sqrt( max( 0.0, 1.0 - P1 * P1 - P2 * P2 ) );

		// unstretch
		N = normalize( vec3( roughness * N.xy, max( 0.0, N.z ) ) );

		return N;

	}

	// Below are PDF and related functions for use in a Monte Carlo path tracer
	// as specified in Appendix B of the following paper
	// See equation (34) from reference [0]
	float ggxLamda( float theta, float roughness ) {

		float tanTheta = tan( theta );
		float tanTheta2 = tanTheta * tanTheta;
		float alpha2 = roughness * roughness;

		float numerator = - 1.0 + sqrt( 1.0 + alpha2 * tanTheta2 );
		return numerator / 2.0;

	}

	// See equation (34) from reference [0]
	float ggxShadowMaskG1( float theta, float roughness ) {

		return 1.0 / ( 1.0 + ggxLamda( theta, roughness ) );

	}

	// See equation (125) from reference [4]
	float ggxShadowMaskG2( vec3 wi, vec3 wo, float roughness ) {

		float incidentTheta = acos( wi.z );
		float scatterTheta = acos( wo.z );
		return 1.0 / ( 1.0 + ggxLamda( incidentTheta, roughness ) + ggxLamda( scatterTheta, roughness ) );

	}

	// See equation (33) from reference [0]
	float ggxDistribution( vec3 halfVector, float roughness ) {

		float a2 = roughness * roughness;
		a2 = max( EPSILON, a2 );
		float cosTheta = halfVector.z;
		float cosTheta4 = pow( cosTheta, 4.0 );

		if ( cosTheta == 0.0 ) return 0.0;

		float theta = acosSafe( halfVector.z );
		float tanTheta = tan( theta );
		float tanTheta2 = pow( tanTheta, 2.0 );

		float denom = PI * cosTheta4 * pow( a2 + tanTheta2, 2.0 );
		return ( a2 / denom );

	}

	// See equation (3) from reference [2]
	float ggxPDF( vec3 wi, vec3 halfVector, float roughness ) {

		float incidentTheta = acos( wi.z );
		float D = ggxDistribution( halfVector, roughness );
		float G1 = ggxShadowMaskG1( incidentTheta, roughness );

		return D * G1 * max( 0.0, dot( wi, halfVector ) ) / wi.z;

	}

`,iDe=`

	// XYZ to sRGB color space
	const mat3 XYZ_TO_REC709 = mat3(
		3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);

	vec3 fresnel0ToIor( vec3 fresnel0 ) {

		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );

	}

	// Conversion FO/IOR
	vec3 iorToFresnel0( vec3 transmittedIor, float incidentIor ) {

		return square( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );

	}

	// ior is a value between 1.0 and 3.0. 1.0 is air interface
	float iorToFresnel0( float transmittedIor, float incidentIor ) {

		return square( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ) );

	}

	// Fresnel equations for dielectric/dielectric interfaces. See https://belcour.github.io/blog/research/2017/05/01/brdf-thin-film.html
	vec3 evalSensitivity( float OPD, vec3 shift ) {

		float phase = 2.0 * PI * OPD * 1.0e-9;

		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );

		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - square( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * square( phase ) );
		xyz /= 1.0685e-7;

		vec3 srgb = XYZ_TO_REC709 * xyz;
		return srgb;

	}

	// See Section 4. Analytic Spectral Integration, A Practical Extension to Microfacet Theory for the Modeling of Varying Iridescence, https://hal.archives-ouvertes.fr/hal-01518344/document
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {

		vec3 I;

		// Force iridescenceIor -> outsideIOR when thinFilmThickness -> 0.0
		float iridescenceIor = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );

		// Evaluate the cosTheta on the base layer (Snell law)
		float sinTheta2Sq = square( outsideIOR / iridescenceIor ) * ( 1.0 - square( cosTheta1 ) );

		// Handle TIR:
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {

			return vec3( 1.0 );

		}

		float cosTheta2 = sqrt( cosTheta2Sq );

		// First interface
		float R0 = iorToFresnel0( iridescenceIor, outsideIOR );
		float R12 = schlickFresnel( cosTheta1, R0 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIor < outsideIOR ) {

			phi12 = PI;

		}

		float phi21 = PI - phi12;

		// Second interface
		vec3 baseIOR = fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) ); // guard against 1.0
		vec3 R1 = iorToFresnel0( baseIOR, iridescenceIor );
		vec3 R23 = schlickFresnel( cosTheta2, R1 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[0] < iridescenceIor ) {

			phi23[ 0 ] = PI;

		}

		if ( baseIOR[1] < iridescenceIor ) {

			phi23[ 1 ] = PI;

		}

		if ( baseIOR[2] < iridescenceIor ) {

			phi23[ 2 ] = PI;

		}

		// Phase shift
		float OPD = 2.0 * iridescenceIor * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;

		// Compound terms
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = square( T121 ) * R23 / ( vec3( 1.0 ) - R123 );

		// Reflectance term for m = 0 (DC term amplitude)
		vec3 C0 = R12 + Rs;
		I = C0;

		// Reflectance term for m > 0 (pairs of diracs)
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {

			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;

		}

		// Since out of gamut colors might be produced, negative color values are clamped to 0.
		return max( I, vec3( 0.0 ) );

	}

`,sDe=`

	// See equation (2) in http://www.aconty.com/pdf/s2017_pbs_imageworks_sheen.pdf
	float velvetD( float cosThetaH, float roughness ) {

		float alpha = max( roughness, 0.07 );
		alpha = alpha * alpha;

		float invAlpha = 1.0 / alpha;

		float sqrCosThetaH = cosThetaH * cosThetaH;
		float sinThetaH = max( 1.0 - sqrCosThetaH, 0.001 );

		return ( 2.0 + invAlpha ) * pow( sinThetaH, 0.5 * invAlpha ) / ( 2.0 * PI );

	}

	float velvetParamsInterpolate( int i, float oneMinusAlphaSquared ) {

		const float p0[5] = float[5]( 25.3245, 3.32435, 0.16801, -1.27393, -4.85967 );
		const float p1[5] = float[5]( 21.5473, 3.82987, 0.19823, -1.97760, -4.32054 );

		return mix( p1[i], p0[i], oneMinusAlphaSquared );

	}

	float velvetL( float x, float alpha ) {

		float oneMinusAlpha = 1.0 - alpha;
		float oneMinusAlphaSquared = oneMinusAlpha * oneMinusAlpha;

		float a = velvetParamsInterpolate( 0, oneMinusAlphaSquared );
		float b = velvetParamsInterpolate( 1, oneMinusAlphaSquared );
		float c = velvetParamsInterpolate( 2, oneMinusAlphaSquared );
		float d = velvetParamsInterpolate( 3, oneMinusAlphaSquared );
		float e = velvetParamsInterpolate( 4, oneMinusAlphaSquared );

		return a / ( 1.0 + b * pow( abs( x ), c ) ) + d * x + e;

	}

	// See equation (3) in http://www.aconty.com/pdf/s2017_pbs_imageworks_sheen.pdf
	float velvetLambda( float cosTheta, float alpha ) {

		return abs( cosTheta ) < 0.5 ? exp( velvetL( cosTheta, alpha ) ) : exp( 2.0 * velvetL( 0.5, alpha ) - velvetL( 1.0 - cosTheta, alpha ) );

	}

	// See Section 3, Shadowing Term, in http://www.aconty.com/pdf/s2017_pbs_imageworks_sheen.pdf
	float velvetG( float cosThetaO, float cosThetaI, float roughness ) {

		float alpha = max( roughness, 0.07 );
		alpha = alpha * alpha;

		return 1.0 / ( 1.0 + velvetLambda( cosThetaO, alpha ) + velvetLambda( cosThetaI, alpha ) );

	}

	float directionalAlbedoSheen( float cosTheta, float alpha ) {

		cosTheta = saturate( cosTheta );

		float c = 1.0 - cosTheta;
		float c3 = c * c * c;

		return 0.65584461 * c3 + 1.0 / ( 4.16526551 + exp( -7.97291361 * sqrt( alpha ) + 6.33516894 ) );

	}

	float sheenAlbedoScaling( vec3 wo, vec3 wi, SurfaceRecord surf ) {

		float alpha = max( surf.sheenRoughness, 0.07 );
		alpha = alpha * alpha;

		float maxSheenColor = max( max( surf.sheenColor.r, surf.sheenColor.g ), surf.sheenColor.b );

		float eWo = directionalAlbedoSheen( saturateCos( wo.z ), alpha );
		float eWi = directionalAlbedoSheen( saturateCos( wi.z ), alpha );

		return min( 1.0 - maxSheenColor * eWo, 1.0 - maxSheenColor * eWi );

	}

	// See Section 5, Layering, in http://www.aconty.com/pdf/s2017_pbs_imageworks_sheen.pdf
	float sheenAlbedoScaling( vec3 wo, SurfaceRecord surf ) {

		float alpha = max( surf.sheenRoughness, 0.07 );
		alpha = alpha * alpha;

		float maxSheenColor = max( max( surf.sheenColor.r, surf.sheenColor.g ), surf.sheenColor.b );

		float eWo = directionalAlbedoSheen( saturateCos( wo.z ), alpha );

		return 1.0 - maxSheenColor * eWo;

	}

`,oDe=`

#ifndef FOG_CHECK_ITERATIONS
#define FOG_CHECK_ITERATIONS 30
#endif

// returns whether the given material is a fog material or not
bool isMaterialFogVolume( sampler2D materials, uint materialIndex ) {

	uint i = materialIndex * 45u;
	vec4 s14 = texelFetch1D( materials, i + 14u );
	return bool( int( s14.b ) & 4 );

}

// returns true if we're within the first fog volume we hit
bool bvhIntersectFogVolumeHit(
	vec3 rayOrigin, vec3 rayDirection,
	usampler2D materialIndexAttribute, sampler2D materials,
	inout Material material
) {

	material.fogVolume = false;

	for ( int i = 0; i < FOG_CHECK_ITERATIONS; i ++ ) {

		// find nearest hit
		uvec4 faceIndices = uvec4( 0u );
		vec3 faceNormal = vec3( 0.0, 0.0, 1.0 );
		vec3 barycoord = vec3( 0.0 );
		float side = 1.0;
		float dist = 0.0;
		bool hit = bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist );
		if ( hit ) {

			// if it's a fog volume return whether we hit the front or back face
			uint materialIndex = uTexelFetch1D( materialIndexAttribute, faceIndices.x ).r;
			if ( isMaterialFogVolume( materials, materialIndex ) ) {

				material = readMaterialInfo( materials, materialIndex );
				return side == - 1.0;

			} else {

				// move the ray forward
				rayOrigin = stepRayOrigin( rayOrigin, rayDirection, - faceNormal, dist );

			}

		} else {

			return false;

		}

	}

	return false;

}

`,lDe=`

	// step through multiple surface hits and accumulate color attenuation based on transmissive surfaces
	// returns true if a solid surface was hit
	bool attenuateHit(
		RenderState state,
		Ray ray, float rayDist,
		out vec3 color
	) {

		// store the original bounce index so we can reset it after
		uint originalBounceIndex = sobolBounceIndex;

		int traversals = state.traversals;
		int transmissiveTraversals = state.transmissiveTraversals;
		bool isShadowRay = state.isShadowRay;
		Material fogMaterial = state.fogMaterial;

		vec3 startPoint = ray.origin;

		// hit results
		SurfaceHit surfaceHit;

		color = vec3( 1.0 );

		bool result = true;
		for ( int i = 0; i < traversals; i ++ ) {

			sobolBounceIndex ++;

			int hitType = traceScene( ray, fogMaterial, surfaceHit );

			if ( hitType == FOG_HIT ) {

				result = true;
				break;

			} else if ( hitType == SURFACE_HIT ) {

				float totalDist = distance( startPoint, ray.origin + ray.direction * surfaceHit.dist );
				if ( totalDist > rayDist ) {

					result = false;
					break;

				}

				// TODO: attenuate the contribution based on the PDF of the resulting ray including refraction values
				// Should be able to work using the material BSDF functions which will take into account specularity, etc.
				// TODO: should we account for emissive surfaces here?

				uint materialIndex = uTexelFetch1D( materialIndexAttribute, surfaceHit.faceIndices.x ).r;
				Material material = readMaterialInfo( materials, materialIndex );

				// adjust the ray to the new surface
				bool isEntering = surfaceHit.side == 1.0;
				ray.origin = stepRayOrigin( ray.origin, ray.direction, - surfaceHit.faceNormal, surfaceHit.dist );

				#if FEATURE_FOG

				if ( material.fogVolume ) {

					fogMaterial = material;
					fogMaterial.fogVolume = surfaceHit.side == 1.0;
					i -= sign( transmissiveTraversals );
					transmissiveTraversals --;
					continue;

				}

				#endif

				if ( ! material.castShadow && isShadowRay ) {

					continue;

				}

				vec2 uv = textureSampleBarycoord( attributesArray, ATTR_UV, surfaceHit.barycoord, surfaceHit.faceIndices.xyz ).xy;
				vec4 vertexColor = textureSampleBarycoord( attributesArray, ATTR_COLOR, surfaceHit.barycoord, surfaceHit.faceIndices.xyz );

				// albedo
				vec4 albedo = vec4( material.color, material.opacity );
				if ( material.map != - 1 ) {

					vec3 uvPrime = material.mapTransform * vec3( uv, 1 );
					albedo *= texture2D( textures, vec3( uvPrime.xy, material.map ) );

				}

				if ( material.vertexColors ) {

					albedo *= vertexColor;

				}

				// alphaMap
				if ( material.alphaMap != - 1 ) {

					albedo.a *= texture2D( textures, vec3( uv, material.alphaMap ) ).x;

				}

				// transmission
				float transmission = material.transmission;
				if ( material.transmissionMap != - 1 ) {

					vec3 uvPrime = material.transmissionMapTransform * vec3( uv, 1 );
					transmission *= texture2D( textures, vec3( uvPrime.xy, material.transmissionMap ) ).r;

				}

				// metalness
				float metalness = material.metalness;
				if ( material.metalnessMap != - 1 ) {

					vec3 uvPrime = material.metalnessMapTransform * vec3( uv, 1 );
					metalness *= texture2D( textures, vec3( uvPrime.xy, material.metalnessMap ) ).b;

				}

				float alphaTest = material.alphaTest;
				bool useAlphaTest = alphaTest != 0.0;
				float transmissionFactor = ( 1.0 - metalness ) * transmission;
				if (
					transmissionFactor < rand( 9 ) && ! (
						// material sidedness
						material.side != 0.0 && surfaceHit.side == material.side

						// alpha test
						|| useAlphaTest && albedo.a < alphaTest

						// opacity
						|| material.transparent && ! useAlphaTest && albedo.a < rand( 10 )
					)
				) {

					result = true;
					break;

				}

				if ( surfaceHit.side == 1.0 && isEntering ) {

					// only attenuate by surface color on the way in
					color *= mix( vec3( 1.0 ), albedo.rgb, transmissionFactor );

				} else if ( surfaceHit.side == - 1.0 ) {

					// attenuate by medium once we hit the opposite side of the model
					color *= transmissionAttenuation( surfaceHit.dist, material.attenuationColor, material.attenuationDistance );

				}

				bool isTransmissiveRay = dot( ray.direction, surfaceHit.faceNormal * surfaceHit.side ) < 0.0;
				if ( ( isTransmissiveRay || isEntering ) && transmissiveTraversals > 0 ) {

					i -= sign( transmissiveTraversals );
					transmissiveTraversals --;

				}

			} else {

				result = false;
				break;

			}

		}

		// reset the bounce index
		sobolBounceIndex = originalBounceIndex;
		return result;

	}

`,cDe=`

	vec3 ndcToRayOrigin( vec2 coord ) {

		vec4 rayOrigin4 = cameraWorldMatrix * invProjectionMatrix * vec4( coord, - 1.0, 1.0 );
		return rayOrigin4.xyz / rayOrigin4.w;
	}

	Ray getCameraRay() {

		vec2 ssd = vec2( 1.0 ) / resolution;

		// Jitter the camera ray by finding a uv coordinate at a random sample
		// around this pixel's UV coordinate for AA
		vec2 ruv = rand2( 0 );
		vec2 jitteredUv = vUv + vec2( tentFilter( ruv.x ) * ssd.x, tentFilter( ruv.y ) * ssd.y );
		Ray ray;

		#if CAMERA_TYPE == 2

			// Equirectangular projection
			vec4 rayDirection4 = vec4( equirectUvToDirection( jitteredUv ), 0.0 );
			vec4 rayOrigin4 = vec4( 0.0, 0.0, 0.0, 1.0 );

			rayDirection4 = cameraWorldMatrix * rayDirection4;
			rayOrigin4 = cameraWorldMatrix * rayOrigin4;

			ray.direction = normalize( rayDirection4.xyz );
			ray.origin = rayOrigin4.xyz / rayOrigin4.w;

		#else

			// get [- 1, 1] normalized device coordinates
			vec2 ndc = 2.0 * jitteredUv - vec2( 1.0 );
			ray.origin = ndcToRayOrigin( ndc );

			#if CAMERA_TYPE == 1

				// Orthographic projection
				ray.direction = ( cameraWorldMatrix * vec4( 0.0, 0.0, - 1.0, 0.0 ) ).xyz;
				ray.direction = normalize( ray.direction );

			#else

				// Perspective projection
				ray.direction = normalize( mat3( cameraWorldMatrix ) * ( invProjectionMatrix * vec4( ndc, 0.0, 1.0 ) ).xyz );

			#endif

		#endif

		#if FEATURE_DOF
		{

			// depth of field
			vec3 focalPoint = ray.origin + normalize( ray.direction ) * physicalCamera.focusDistance;

			// get the aperture sample
			// if blades === 0 then we assume a circle
			vec3 shapeUVW= rand3( 1 );
			int blades = physicalCamera.apertureBlades;
			float anamorphicRatio = physicalCamera.anamorphicRatio;
			vec2 apertureSample = blades == 0 ? sampleCircle( shapeUVW.xy ) : sampleRegularPolygon( blades, shapeUVW );
			apertureSample *= physicalCamera.bokehSize * 0.5 * 1e-3;

			// rotate the aperture shape
			apertureSample =
				rotateVector( apertureSample, physicalCamera.apertureRotation ) *
				saturate( vec2( anamorphicRatio, 1.0 / anamorphicRatio ) );

			// create the new ray
			ray.origin += ( cameraWorldMatrix * vec4( apertureSample, 0.0, 0.0 ) ).xyz;
			ray.direction = focalPoint - ray.origin;

		}
		#endif

		ray.direction = normalize( ray.direction );

		return ray;

	}

`,uDe=`

	vec3 directLightContribution( vec3 worldWo, SurfaceRecord surf, RenderState state, vec3 rayOrigin ) {

		vec3 result = vec3( 0.0 );

		// uniformly pick a light or environment map
		if( lightsDenom != 0.0 && rand( 5 ) < float( lights.count ) / lightsDenom ) {

			// sample a light or environment
			LightRecord lightRec = randomLightSample( lights.tex, iesProfiles, lights.count, rayOrigin, rand3( 6 ) );

			bool isSampleBelowSurface = ! surf.volumeParticle && dot( surf.faceNormal, lightRec.direction ) < 0.0;
			if ( isSampleBelowSurface ) {

				lightRec.pdf = 0.0;

			}

			// check if a ray could even reach the light area
			Ray lightRay;
			lightRay.origin = rayOrigin;
			lightRay.direction = lightRec.direction;
			vec3 attenuatedColor;
			if (
				lightRec.pdf > 0.0 &&
				isDirectionValid( lightRec.direction, surf.normal, surf.faceNormal ) &&
				! attenuateHit( state, lightRay, lightRec.dist, attenuatedColor )
			) {

				// get the material pdf
				vec3 sampleColor;
				float lightMaterialPdf = bsdfResult( worldWo, lightRec.direction, surf, sampleColor );
				bool isValidSampleColor = all( greaterThanEqual( sampleColor, vec3( 0.0 ) ) );
				if ( lightMaterialPdf > 0.0 && isValidSampleColor ) {

					// weight the direct light contribution
					float lightPdf = lightRec.pdf / lightsDenom;
					float misWeight = lightRec.type == SPOT_LIGHT_TYPE || lightRec.type == DIR_LIGHT_TYPE || lightRec.type == POINT_LIGHT_TYPE ? 1.0 : misHeuristic( lightPdf, lightMaterialPdf );
					result = attenuatedColor * lightRec.emission * state.throughputColor * sampleColor * misWeight / lightPdf;

				}

			}

		} else if ( envMapInfo.totalSum != 0.0 && environmentIntensity != 0.0 ) {

			// find a sample in the environment map to include in the contribution
			vec3 envColor, envDirection;
			float envPdf = sampleEquirectProbability( rand2( 7 ), envColor, envDirection );
			envDirection = invEnvRotation3x3 * envDirection;

			// this env sampling is not set up for transmissive sampling and yields overly bright
			// results so we ignore the sample in this case.
			// TODO: this should be improved but how? The env samples could traverse a few layers?
			bool isSampleBelowSurface = ! surf.volumeParticle && dot( surf.faceNormal, envDirection ) < 0.0;
			if ( isSampleBelowSurface ) {

				envPdf = 0.0;

			}

			// check if a ray could even reach the surface
			Ray envRay;
			envRay.origin = rayOrigin;
			envRay.direction = envDirection;
			vec3 attenuatedColor;
			if (
				envPdf > 0.0 &&
				isDirectionValid( envDirection, surf.normal, surf.faceNormal ) &&
				! attenuateHit( state, envRay, INFINITY, attenuatedColor )
			) {

				// get the material pdf
				vec3 sampleColor;
				float envMaterialPdf = bsdfResult( worldWo, envDirection, surf, sampleColor );
				bool isValidSampleColor = all( greaterThanEqual( sampleColor, vec3( 0.0 ) ) );
				if ( envMaterialPdf > 0.0 && isValidSampleColor ) {

					// weight the direct light contribution
					envPdf /= lightsDenom;
					float misWeight = misHeuristic( envPdf, envMaterialPdf );
					result = attenuatedColor * environmentIntensity * envColor * state.throughputColor * sampleColor * misWeight / envPdf;

				}

			}

		}

		// Function changed to have a single return statement to potentially help with crashes on Mac OS.
		// See issue #470
		return result;

	}

`,dDe=`

	#define SKIP_SURFACE 0
	#define HIT_SURFACE 1
	int getSurfaceRecord(
		Material material, SurfaceHit surfaceHit, sampler2DArray attributesArray,
		float accumulatedRoughness,
		inout SurfaceRecord surf
	) {

		if ( material.fogVolume ) {

			vec3 normal = vec3( 0, 0, 1 );

			SurfaceRecord fogSurface;
			fogSurface.volumeParticle = true;
			fogSurface.color = material.color;
			fogSurface.emission = material.emissiveIntensity * material.emissive;
			fogSurface.normal = normal;
			fogSurface.faceNormal = normal;
			fogSurface.clearcoatNormal = normal;

			surf = fogSurface;
			return HIT_SURFACE;

		}

		// uv coord for textures
		vec2 uv = textureSampleBarycoord( attributesArray, ATTR_UV, surfaceHit.barycoord, surfaceHit.faceIndices.xyz ).xy;
		vec4 vertexColor = textureSampleBarycoord( attributesArray, ATTR_COLOR, surfaceHit.barycoord, surfaceHit.faceIndices.xyz );

		// albedo
		vec4 albedo = vec4( material.color, material.opacity );
		if ( material.map != - 1 ) {

			vec3 uvPrime = material.mapTransform * vec3( uv, 1 );
			albedo *= texture2D( textures, vec3( uvPrime.xy, material.map ) );

		}

		if ( material.vertexColors ) {

			albedo *= vertexColor;

		}

		// alphaMap
		if ( material.alphaMap != - 1 ) {

			albedo.a *= texture2D( textures, vec3( uv, material.alphaMap ) ).x;

		}

		// possibly skip this sample if it's transparent, alpha test is enabled, or we hit the wrong material side
		// and it's single sided.
		// - alpha test is disabled when it === 0
		// - the material sidedness test is complicated because we want light to pass through the back side but still
		// be able to see the front side. This boolean checks if the side we hit is the front side on the first ray
		// and we're rendering the other then we skip it. Do the opposite on subsequent bounces to get incoming light.
		float alphaTest = material.alphaTest;
		bool useAlphaTest = alphaTest != 0.0;
		if (
			// material sidedness
			material.side != 0.0 && surfaceHit.side != material.side

			// alpha test
			|| useAlphaTest && albedo.a < alphaTest

			// opacity
			|| material.transparent && ! useAlphaTest && albedo.a < rand( 3 )
		) {

			return SKIP_SURFACE;

		}

		// fetch the interpolated smooth normal
		vec3 normal = normalize( textureSampleBarycoord(
			attributesArray,
			ATTR_NORMAL,
			surfaceHit.barycoord,
			surfaceHit.faceIndices.xyz
		).xyz );

		// roughness
		float roughness = material.roughness;
		if ( material.roughnessMap != - 1 ) {

			vec3 uvPrime = material.roughnessMapTransform * vec3( uv, 1 );
			roughness *= texture2D( textures, vec3( uvPrime.xy, material.roughnessMap ) ).g;

		}

		// metalness
		float metalness = material.metalness;
		if ( material.metalnessMap != - 1 ) {

			vec3 uvPrime = material.metalnessMapTransform * vec3( uv, 1 );
			metalness *= texture2D( textures, vec3( uvPrime.xy, material.metalnessMap ) ).b;

		}

		// emission
		vec3 emission = material.emissiveIntensity * material.emissive;
		if ( material.emissiveMap != - 1 ) {

			vec3 uvPrime = material.emissiveMapTransform * vec3( uv, 1 );
			emission *= texture2D( textures, vec3( uvPrime.xy, material.emissiveMap ) ).xyz;

		}

		// transmission
		float transmission = material.transmission;
		if ( material.transmissionMap != - 1 ) {

			vec3 uvPrime = material.transmissionMapTransform * vec3( uv, 1 );
			transmission *= texture2D( textures, vec3( uvPrime.xy, material.transmissionMap ) ).r;

		}

		// normal
		if ( material.flatShading ) {

			// if we're rendering a flat shaded object then use the face normals - the face normal
			// is provided based on the side the ray hits the mesh so flip it to align with the
			// interpolated vertex normals.
			normal = surfaceHit.faceNormal * surfaceHit.side;

		}

		vec3 baseNormal = normal;
		if ( material.normalMap != - 1 ) {

			vec4 tangentSample = textureSampleBarycoord(
				attributesArray,
				ATTR_TANGENT,
				surfaceHit.barycoord,
				surfaceHit.faceIndices.xyz
			);

			// some provided tangents can be malformed (0, 0, 0) causing the normal to be degenerate
			// resulting in NaNs and slow path tracing.
			if ( length( tangentSample.xyz ) > 0.0 ) {

				vec3 tangent = normalize( tangentSample.xyz );
				vec3 bitangent = normalize( cross( normal, tangent ) * tangentSample.w );
				mat3 vTBN = mat3( tangent, bitangent, normal );

				vec3 uvPrime = material.normalMapTransform * vec3( uv, 1 );
				vec3 texNormal = texture2D( textures, vec3( uvPrime.xy, material.normalMap ) ).xyz * 2.0 - 1.0;
				texNormal.xy *= material.normalScale;
				normal = vTBN * texNormal;

			}

		}

		normal *= surfaceHit.side;

		// clearcoat
		float clearcoat = material.clearcoat;
		if ( material.clearcoatMap != - 1 ) {

			vec3 uvPrime = material.clearcoatMapTransform * vec3( uv, 1 );
			clearcoat *= texture2D( textures, vec3( uvPrime.xy, material.clearcoatMap ) ).r;

		}

		// clearcoatRoughness
		float clearcoatRoughness = material.clearcoatRoughness;
		if ( material.clearcoatRoughnessMap != - 1 ) {

			vec3 uvPrime = material.clearcoatRoughnessMapTransform * vec3( uv, 1 );
			clearcoatRoughness *= texture2D( textures, vec3( uvPrime.xy, material.clearcoatRoughnessMap ) ).g;

		}

		// clearcoatNormal
		vec3 clearcoatNormal = baseNormal;
		if ( material.clearcoatNormalMap != - 1 ) {

			vec4 tangentSample = textureSampleBarycoord(
				attributesArray,
				ATTR_TANGENT,
				surfaceHit.barycoord,
				surfaceHit.faceIndices.xyz
			);

			// some provided tangents can be malformed (0, 0, 0) causing the normal to be degenerate
			// resulting in NaNs and slow path tracing.
			if ( length( tangentSample.xyz ) > 0.0 ) {

				vec3 tangent = normalize( tangentSample.xyz );
				vec3 bitangent = normalize( cross( clearcoatNormal, tangent ) * tangentSample.w );
				mat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );

				vec3 uvPrime = material.clearcoatNormalMapTransform * vec3( uv, 1 );
				vec3 texNormal = texture2D( textures, vec3( uvPrime.xy, material.clearcoatNormalMap ) ).xyz * 2.0 - 1.0;
				texNormal.xy *= material.clearcoatNormalScale;
				clearcoatNormal = vTBN * texNormal;

			}

		}

		clearcoatNormal *= surfaceHit.side;

		// sheenColor
		vec3 sheenColor = material.sheenColor;
		if ( material.sheenColorMap != - 1 ) {

			vec3 uvPrime = material.sheenColorMapTransform * vec3( uv, 1 );
			sheenColor *= texture2D( textures, vec3( uvPrime.xy, material.sheenColorMap ) ).rgb;

		}

		// sheenRoughness
		float sheenRoughness = material.sheenRoughness;
		if ( material.sheenRoughnessMap != - 1 ) {

			vec3 uvPrime = material.sheenRoughnessMapTransform * vec3( uv, 1 );
			sheenRoughness *= texture2D( textures, vec3( uvPrime.xy, material.sheenRoughnessMap ) ).a;

		}

		// iridescence
		float iridescence = material.iridescence;
		if ( material.iridescenceMap != - 1 ) {

			vec3 uvPrime = material.iridescenceMapTransform * vec3( uv, 1 );
			iridescence *= texture2D( textures, vec3( uvPrime.xy, material.iridescenceMap ) ).r;

		}

		// iridescence thickness
		float iridescenceThickness = material.iridescenceThicknessMaximum;
		if ( material.iridescenceThicknessMap != - 1 ) {

			vec3 uvPrime = material.iridescenceThicknessMapTransform * vec3( uv, 1 );
			float iridescenceThicknessSampled = texture2D( textures, vec3( uvPrime.xy, material.iridescenceThicknessMap ) ).g;
			iridescenceThickness = mix( material.iridescenceThicknessMinimum, material.iridescenceThicknessMaximum, iridescenceThicknessSampled );

		}

		iridescence = iridescenceThickness == 0.0 ? 0.0 : iridescence;

		// specular color
		vec3 specularColor = material.specularColor;
		if ( material.specularColorMap != - 1 ) {

			vec3 uvPrime = material.specularColorMapTransform * vec3( uv, 1 );
			specularColor *= texture2D( textures, vec3( uvPrime.xy, material.specularColorMap ) ).rgb;

		}

		// specular intensity
		float specularIntensity = material.specularIntensity;
		if ( material.specularIntensityMap != - 1 ) {

			vec3 uvPrime = material.specularIntensityMapTransform * vec3( uv, 1 );
			specularIntensity *= texture2D( textures, vec3( uvPrime.xy, material.specularIntensityMap ) ).a;

		}

		surf.volumeParticle = false;

		surf.faceNormal = surfaceHit.faceNormal;
		surf.normal = normal;

		surf.metalness = metalness;
		surf.color = albedo.rgb;
		surf.emission = emission;

		surf.ior = material.ior;
		surf.transmission = transmission;
		surf.thinFilm = material.thinFilm;
		surf.attenuationColor = material.attenuationColor;
		surf.attenuationDistance = material.attenuationDistance;

		surf.clearcoatNormal = clearcoatNormal;
		surf.clearcoat = clearcoat;

		surf.sheen = material.sheen;
		surf.sheenColor = sheenColor;

		surf.iridescence = iridescence;
		surf.iridescenceIor = material.iridescenceIor;
		surf.iridescenceThickness = iridescenceThickness;

		surf.specularColor = specularColor;
		surf.specularIntensity = specularIntensity;

		// apply perceptual roughness factor from gltf. sheen perceptual roughness is
		// applied by its brdf function
		// https://registry.khronos.org/glTF/specs/2.0/glTF-2.0.html#microfacet-surfaces
		surf.roughness = roughness * roughness;
		surf.clearcoatRoughness = clearcoatRoughness * clearcoatRoughness;
		surf.sheenRoughness = sheenRoughness;

		// frontFace is used to determine transmissive properties and PDF. If no transmission is used
		// then we can just always assume this is a front face.
		surf.frontFace = surfaceHit.side == 1.0 || transmission == 0.0;
		surf.eta = material.thinFilm || surf.frontFace ? 1.0 / material.ior : material.ior;
		surf.f0 = iorRatioToF0( surf.eta );

		// Compute the filtered roughness value to use during specular reflection computations.
		// The accumulated roughness value is scaled by a user setting and a "magic value" of 5.0.
		// If we're exiting something transmissive then scale the factor down significantly so we can retain
		// sharp internal reflections
		surf.filteredRoughness = applyFilteredGlossy( surf.roughness, accumulatedRoughness );
		surf.filteredClearcoatRoughness = applyFilteredGlossy( surf.clearcoatRoughness, accumulatedRoughness );

		// get the normal frames
		surf.normalBasis = getBasisFromNormal( surf.normal );
		surf.normalInvBasis = inverse( surf.normalBasis );

		surf.clearcoatBasis = getBasisFromNormal( surf.clearcoatNormal );
		surf.clearcoatInvBasis = inverse( surf.clearcoatBasis );

		return HIT_SURFACE;

	}
`,fDe=`

	struct Ray {

		vec3 origin;
		vec3 direction;

	};

	struct SurfaceHit {

		uvec4 faceIndices;
		vec3 barycoord;
		vec3 faceNormal;
		float side;
		float dist;

	};

	struct RenderState {

		bool firstRay;
		bool transmissiveRay;
		bool isShadowRay;
		float accumulatedRoughness;
		int transmissiveTraversals;
		int traversals;
		uint depth;
		vec3 throughputColor;
		Material fogMaterial;

	};

	RenderState initRenderState() {

		RenderState result;
		result.firstRay = true;
		result.transmissiveRay = true;
		result.isShadowRay = false;
		result.accumulatedRoughness = 0.0;
		result.transmissiveTraversals = 0;
		result.traversals = 0;
		result.throughputColor = vec3( 1.0 );
		result.depth = 0u;
		result.fogMaterial.fogVolume = false;
		return result;

	}

`,pDe=`

	#define NO_HIT 0
	#define SURFACE_HIT 1
	#define LIGHT_HIT 2
	#define FOG_HIT 3

	// Passing the global variable 'lights' into this function caused shader program errors.
	// So global variables like 'lights' and 'bvh' were moved out of the function parameters.
	// For more information, refer to: https://github.com/gkjohnson/three-gpu-pathtracer/pull/457
	int traceScene(
		Ray ray, Material fogMaterial, inout SurfaceHit surfaceHit
	) {

		int result = NO_HIT;
		bool hit = bvhIntersectFirstHit( bvh, ray.origin, ray.direction, surfaceHit.faceIndices, surfaceHit.faceNormal, surfaceHit.barycoord, surfaceHit.side, surfaceHit.dist );

		#if FEATURE_FOG

		if ( fogMaterial.fogVolume ) {

			// offset the distance so we don't run into issues with particles on the same surface
			// as other objects
			float particleDist = intersectFogVolume( fogMaterial, rand( 1 ) );
			if ( particleDist + RAY_OFFSET < surfaceHit.dist ) {

				surfaceHit.side = 1.0;
				surfaceHit.faceNormal = normalize( - ray.direction );
				surfaceHit.dist = particleDist;
				return FOG_HIT;

			}

		}

		#endif

		if ( hit ) {

			result = SURFACE_HIT;

		}

		return result;

	}

`;class hDe extends WL{onBeforeRender(){this.setDefine("FEATURE_DOF",this.physicalCamera.bokehSize===0?0:1),this.setDefine("FEATURE_BACKGROUND_MAP",this.backgroundMap?1:0),this.setDefine("FEATURE_FOG",this.materials.features.isUsed("FOG")?1:0)}constructor(e){super({transparent:!0,depthWrite:!1,defines:{FEATURE_MIS:1,FEATURE_RUSSIAN_ROULETTE:1,FEATURE_DOF:1,FEATURE_BACKGROUND_MAP:0,FEATURE_FOG:1,RANDOM_TYPE:2,CAMERA_TYPE:0,DEBUG_MODE:0,ATTR_NORMAL:0,ATTR_TANGENT:1,ATTR_UV:2,ATTR_COLOR:3},uniforms:{resolution:{value:new Td},opacity:{value:1},bounces:{value:10},transmissiveBounces:{value:10},filterGlossyFactor:{value:0},physicalCamera:{value:new uke},cameraWorldMatrix:{value:new Ni},invProjectionMatrix:{value:new Ni},bvh:{value:new Gte},attributesArray:{value:new _ke},materialIndexAttribute:{value:new $te},materials:{value:new Ake},textures:{value:new W9().texture},lights:{value:new Ske},iesProfiles:{value:new W9(360,180,{type:Wo,wrapS:Zc,wrapT:Zc}).texture},environmentIntensity:{value:1},environmentRotation:{value:new Ni},envMapInfo:{value:new pke},backgroundBlur:{value:0},backgroundMap:{value:null},backgroundAlpha:{value:1},backgroundIntensity:{value:1},backgroundRotation:{value:new Ni},seed:{value:0},sobolTexture:{value:null},stratifiedTexture:{value:new Lke},stratifiedOffsetTexture:{value:new qke(64,1)}},vertexShader:`

				varying vec2 vUv;
				void main() {

					vec4 mvPosition = vec4( position, 1.0 );
					mvPosition = modelViewMatrix * mvPosition;
					gl_Position = projectionMatrix * mvPosition;

					vUv = uv;

				}

			`,fragmentShader:`
				#define RAY_OFFSET 1e-4
				#define INFINITY 1e20

				precision highp isampler2D;
				precision highp usampler2D;
				precision highp sampler2DArray;
				vec4 envMapTexelToLinear( vec4 a ) { return a; }
				#include <common>

				// bvh intersection
				${Ute}
				${zte}
				${qte}

				// uniform structs
				${$ke}
				${Hke}
				${Gke}
				${Vke}
				${Wke}

				// random
				#if RANDOM_TYPE == 2 	// Stratified List

					${tDe}

				#elif RANDOM_TYPE == 1 	// Sobol

					${K9}
					${OQ}
					${ske}

					#define rand(v) sobol(v)
					#define rand2(v) sobol2(v)
					#define rand3(v) sobol3(v)
					#define rand4(v) sobol4(v)

				#else 					// PCG

				${K9}

					// Using the sobol functions seems to break the the compiler on MacOS
					// - specifically the "sobolReverseBits" function.
					uint sobolPixelIndex = 0u;
					uint sobolPathIndex = 0u;
					uint sobolBounceIndex = 0u;

					#define rand(v) pcgRand()
					#define rand2(v) pcgRand2()
					#define rand3(v) pcgRand3()
					#define rand4(v) pcgRand4()

				#endif

				// common
				${eDe}
				${Zke}
				${MQ}
				${Qke}
				${Jke}

				// environment
				uniform EquirectHdrInfo envMapInfo;
				uniform mat4 environmentRotation;
				uniform float environmentIntensity;

				// lighting
				uniform sampler2DArray iesProfiles;
				uniform LightsInfo lights;

				// background
				uniform float backgroundBlur;
				uniform float backgroundAlpha;
				#if FEATURE_BACKGROUND_MAP

				uniform sampler2D backgroundMap;
				uniform mat4 backgroundRotation;
				uniform float backgroundIntensity;

				#endif

				// camera
				uniform mat4 cameraWorldMatrix;
				uniform mat4 invProjectionMatrix;
				#if FEATURE_DOF

				uniform PhysicalCamera physicalCamera;

				#endif

				// geometry
				uniform sampler2DArray attributesArray;
				uniform usampler2D materialIndexAttribute;
				uniform sampler2D materials;
				uniform sampler2DArray textures;
				uniform BVH bvh;

				// path tracer
				uniform int bounces;
				uniform int transmissiveBounces;
				uniform float filterGlossyFactor;
				uniform int seed;

				// image
				uniform vec2 resolution;
				uniform float opacity;

				varying vec2 vUv;

				// globals
				mat3 envRotation3x3;
				mat3 invEnvRotation3x3;
				float lightsDenom;

				// sampling
				${Xke}
				${Yke}
				${Kke}

				${oDe}
				${aDe}
				${sDe}
				${iDe}
				${rDe}
				${nDe}

				float applyFilteredGlossy( float roughness, float accumulatedRoughness ) {

					return clamp(
						max(
							roughness,
							accumulatedRoughness * filterGlossyFactor * 5.0 ),
						0.0,
						1.0
					);

				}

				vec3 sampleBackground( vec3 direction, vec2 uv ) {

					vec3 sampleDir = sampleHemisphere( direction, uv ) * 0.5 * backgroundBlur;

					#if FEATURE_BACKGROUND_MAP

					sampleDir = normalize( mat3( backgroundRotation ) * direction + sampleDir );
					return backgroundIntensity * sampleEquirectColor( backgroundMap, sampleDir );

					#else

					sampleDir = normalize( envRotation3x3 * direction + sampleDir );
					return environmentIntensity * sampleEquirectColor( envMapInfo.map, sampleDir );

					#endif

				}

				${fDe}
				${cDe}
				${pDe}
				${lDe}
				${uDe}
				${dDe}

				void main() {

					// init
					rng_initialize( gl_FragCoord.xy, seed );
					sobolPixelIndex = ( uint( gl_FragCoord.x ) << 16 ) | uint( gl_FragCoord.y );
					sobolPathIndex = uint( seed );

					// get camera ray
					Ray ray = getCameraRay();

					// inverse environment rotation
					envRotation3x3 = mat3( environmentRotation );
					invEnvRotation3x3 = inverse( envRotation3x3 );
					lightsDenom =
						( environmentIntensity == 0.0 || envMapInfo.totalSum == 0.0 ) && lights.count != 0u ?
							float( lights.count ) :
							float( lights.count + 1u );

					// final color
					gl_FragColor = vec4( 0, 0, 0, 1 );

					// surface results
					SurfaceHit surfaceHit;
					ScatterRecord scatterRec;

					// path tracing state
					RenderState state = initRenderState();
					state.transmissiveTraversals = transmissiveBounces;
					#if FEATURE_FOG

					state.fogMaterial.fogVolume = bvhIntersectFogVolumeHit(
						ray.origin, - ray.direction,
						materialIndexAttribute, materials,
						state.fogMaterial
					);

					#endif

					for ( int i = 0; i < bounces; i ++ ) {

						sobolBounceIndex ++;

						state.depth ++;
						state.traversals = bounces - i;
						state.firstRay = i == 0 && state.transmissiveTraversals == transmissiveBounces;

						int hitType = traceScene( ray, state.fogMaterial, surfaceHit );

						// check if we intersect any lights and accumulate the light contribution
						// TODO: we can add support for light surface rendering in the else condition if we
						// add the ability to toggle visibility of the the light
						if ( ! state.firstRay && ! state.transmissiveRay ) {

							LightRecord lightRec;
							float lightDist = hitType == NO_HIT ? INFINITY : surfaceHit.dist;
							for ( uint i = 0u; i < lights.count; i ++ ) {

								if (
									intersectLightAtIndex( lights.tex, ray.origin, ray.direction, i, lightRec ) &&
									lightRec.dist < lightDist
								) {

									#if FEATURE_MIS

									// weight the contribution
									// NOTE: Only area lights are supported for forward sampling and can be hit
									float misWeight = misHeuristic( scatterRec.pdf, lightRec.pdf / lightsDenom );
									gl_FragColor.rgb += lightRec.emission * state.throughputColor * misWeight;

									#else

									gl_FragColor.rgb += lightRec.emission * state.throughputColor;

									#endif

								}

							}

						}

						if ( hitType == NO_HIT ) {

							if ( state.firstRay || state.transmissiveRay ) {

								gl_FragColor.rgb += sampleBackground( ray.direction, rand2( 2 ) ) * state.throughputColor;
								gl_FragColor.a = backgroundAlpha;

							} else {

								#if FEATURE_MIS

								// get the PDF of the hit envmap point
								vec3 envColor;
								float envPdf = sampleEquirect( envRotation3x3 * ray.direction, envColor );
								envPdf /= lightsDenom;

								// and weight the contribution
								float misWeight = misHeuristic( scatterRec.pdf, envPdf );
								gl_FragColor.rgb += environmentIntensity * envColor * state.throughputColor * misWeight;

								#else

								gl_FragColor.rgb +=
									environmentIntensity *
									sampleEquirectColor( envMapInfo.map, envRotation3x3 * ray.direction ) *
									state.throughputColor;

								#endif

							}
							break;

						}

						uint materialIndex = uTexelFetch1D( materialIndexAttribute, surfaceHit.faceIndices.x ).r;
						Material material = readMaterialInfo( materials, materialIndex );

						#if FEATURE_FOG

						if ( hitType == FOG_HIT ) {

							material = state.fogMaterial;
							state.accumulatedRoughness += 0.2;

						} else if ( material.fogVolume ) {

							state.fogMaterial = material;
							state.fogMaterial.fogVolume = surfaceHit.side == 1.0;

							ray.origin = stepRayOrigin( ray.origin, ray.direction, - surfaceHit.faceNormal, surfaceHit.dist );

							i -= sign( state.transmissiveTraversals );
							state.transmissiveTraversals -= sign( state.transmissiveTraversals );
							continue;

						}

						#endif

						// early out if this is a matte material
						if ( material.matte && state.firstRay ) {

							gl_FragColor = vec4( 0.0 );
							break;

						}

						// if we've determined that this is a shadow ray and we've hit an item with no shadow casting
						// then skip it
						if ( ! material.castShadow && state.isShadowRay ) {

							ray.origin = stepRayOrigin( ray.origin, ray.direction, - surfaceHit.faceNormal, surfaceHit.dist );
							continue;

						}

						SurfaceRecord surf;
						if (
							getSurfaceRecord(
								material, surfaceHit, attributesArray, state.accumulatedRoughness,
								surf
							) == SKIP_SURFACE
						) {

							// only allow a limited number of transparency discards otherwise we could
							// crash the context with too long a loop.
							i -= sign( state.transmissiveTraversals );
							state.transmissiveTraversals -= sign( state.transmissiveTraversals );

							ray.origin = stepRayOrigin( ray.origin, ray.direction, - surfaceHit.faceNormal, surfaceHit.dist );
							continue;

						}

						scatterRec = bsdfSample( - ray.direction, surf );
						state.isShadowRay = scatterRec.specularPdf < rand( 4 );

						bool isBelowSurface = ! surf.volumeParticle && dot( scatterRec.direction, surf.faceNormal ) < 0.0;
						vec3 hitPoint = stepRayOrigin( ray.origin, ray.direction, isBelowSurface ? - surf.faceNormal : surf.faceNormal, surfaceHit.dist );

						// next event estimation
						#if FEATURE_MIS

						gl_FragColor.rgb += directLightContribution( - ray.direction, surf, state, hitPoint );

						#endif

						// accumulate a roughness value to offset diffuse, specular, diffuse rays that have high contribution
						// to a single pixel resulting in fireflies
						// TODO: handle transmissive surfaces
						if ( ! surf.volumeParticle && ! isBelowSurface ) {

							// determine if this is a rough normal or not by checking how far off straight up it is
							vec3 halfVector = normalize( - ray.direction + scatterRec.direction );
							state.accumulatedRoughness += max(
								sin( acosApprox( dot( halfVector, surf.normal ) ) ),
								sin( acosApprox( dot( halfVector, surf.clearcoatNormal ) ) )
							);

							state.transmissiveRay = false;

						}

						// accumulate emissive color
						gl_FragColor.rgb += ( surf.emission * state.throughputColor );

						// skip the sample if our PDF or ray is impossible
						if ( scatterRec.pdf <= 0.0 || ! isDirectionValid( scatterRec.direction, surf.normal, surf.faceNormal ) ) {

							break;

						}

						// if we're bouncing around the inside a transmissive material then decrement
						// perform this separate from a bounce
						bool isTransmissiveRay = ! surf.volumeParticle && dot( scatterRec.direction, surf.faceNormal * surfaceHit.side ) < 0.0;
						if ( ( isTransmissiveRay || isBelowSurface ) && state.transmissiveTraversals > 0 ) {

							state.transmissiveTraversals --;
							i --;

						}

						//

						// handle throughput color transformation
						// attenuate the throughput color by the medium color
						if ( ! surf.frontFace ) {

							state.throughputColor *= transmissionAttenuation( surfaceHit.dist, surf.attenuationColor, surf.attenuationDistance );

						}

						#if FEATURE_RUSSIAN_ROULETTE

						// russian roulette path termination
						// https://www.arnoldrenderer.com/research/physically_based_shader_design_in_arnold.pdf
						uint minBounces = 3u;
						float depthProb = float( state.depth < minBounces );

						float rrProb = luminance( state.throughputColor * scatterRec.color / scatterRec.pdf );
						rrProb /= luminance( state.throughputColor );
						rrProb = sqrt( rrProb );
						rrProb = max( rrProb, depthProb );
						rrProb = min( rrProb, 1.0 );
						if ( rand( 8 ) > rrProb ) {

							break;

						}

						// perform sample clamping here to avoid bright pixels
						state.throughputColor *= min( 1.0 / rrProb, 20.0 );

						#endif

						// adjust the throughput and discard and exit if we find discard the sample if there are any NaNs
						state.throughputColor *= scatterRec.color / scatterRec.pdf;
						if ( any( isnan( state.throughputColor ) ) || any( isinf( state.throughputColor ) ) ) {

							break;

						}

						//

						// prepare for next ray
						ray.direction = scatterRec.direction;
						ray.origin = hitPoint;

					}

					gl_FragColor.a *= opacity;

					#if DEBUG_MODE == 1

					// output the number of rays checked in the path and number of
					// transmissive rays encountered.
					gl_FragColor.rgb = vec3(
						float( state.depth ),
						transmissiveBounces - state.transmissiveTraversals,
						0.0
					);
					gl_FragColor.a = 1.0;

					#endif

				}

			`}),this.setValues(e)}}function*mDe(){const{_renderer:t,_fsQuad:e,_blendQuad:n,_primaryTarget:r,_blendTargets:a,_sobolTarget:i,_subframe:s,alpha:o,material:l}=this,d=new Ap,f=new Ap,h=n.material;let[m,b]=a;for(;;){o?(h.opacity=this._opacityFactor/(this.samples+1),l.blending=qg,l.opacity=1):(l.opacity=this._opacityFactor/(this.samples+1),l.blending=_V);const[g,w,S,T]=s,x=r.width,_=r.height;l.resolution.set(x*S,_*T),l.sobolTexture=i.texture,l.stratifiedTexture.init(20,l.bounces+l.transmissiveBounces+5),l.stratifiedTexture.next(),l.seed++;const C=this.tiles.x||1,R=this.tiles.y||1,A=C*R,I=Math.ceil(x*S),O=Math.ceil(_*T),M=Math.floor(g*x),U=Math.floor(w*_),L=Math.ceil(I/C),z=Math.ceil(O/R);for(let j=0;j<R;j++)for(let H=0;H<C;H++){const $=t.getRenderTarget(),q=t.autoClear,K=t.getScissorTest();t.getScissor(d),t.getViewport(f);let V=H,re=j;if(!this.stableTiles){const Y=this._currentTile%(C*R);V=Y%C,re=~~(Y/C),this._currentTile=Y+1}const ee=R-re-1;r.scissor.set(M+V*L,U+ee*z,Math.min(L,I-V*L),Math.min(z,O-ee*z)),r.viewport.set(M,U,I,O),t.setRenderTarget(r),t.setScissorTest(!0),t.autoClear=!1,e.render(t),t.setViewport(f),t.setScissor(d),t.setScissorTest(K),t.setRenderTarget($),t.autoClear=q,o&&(h.target1=m.texture,h.target2=r.texture,t.setRenderTarget(b),n.render(t),t.setRenderTarget($)),this.samples+=1/A,H===C-1&&j===R-1&&(this.samples=Math.round(this.samples)),yield}[m,b]=[b,m]}}const X9=new Qo;let Z9=class{get material(){return this._fsQuad.material}set material(e){this._fsQuad.material.removeEventListener("recompilation",this._compileFunction),e.addEventListener("recompilation",this._compileFunction),this._fsQuad.material=e}get target(){return this._alpha?this._blendTargets[1]:this._primaryTarget}set alpha(e){this._alpha!==e&&(e||(this._blendTargets[0].dispose(),this._blendTargets[1].dispose()),this._alpha=e,this.reset())}get alpha(){return this._alpha}get isCompiling(){return!!this._compilePromise}constructor(e){this.camera=null,this.tiles=new Td(3,3),this.stableNoise=!1,this.stableTiles=!0,this.samples=0,this._subframe=new Ap(0,0,1,1),this._opacityFactor=1,this._renderer=e,this._alpha=!1,this._fsQuad=new jp(new hDe),this._blendQuad=new jp(new ake),this._task=null,this._currentTile=0,this._compilePromise=null,this._sobolTarget=new lke().generate(e),this._primaryTarget=new Dg(1,1,{format:Mi,type:Ds,magFilter:Qa,minFilter:Qa}),this._blendTargets=[new Dg(1,1,{format:Mi,type:Ds,magFilter:Qa,minFilter:Qa}),new Dg(1,1,{format:Mi,type:Ds,magFilter:Qa,minFilter:Qa})],this._compileFunction=()=>{const n=this.compileMaterial(this._fsQuad._mesh);n.then(()=>{this._compilePromise===n&&(this._compilePromise=null)}),this._compilePromise=n},this.material.addEventListener("recompilation",this._compileFunction)}compileMaterial(){return this._renderer.compileAsync(this._fsQuad._mesh)}setCamera(e){const{material:n}=this;n.cameraWorldMatrix.copy(e.matrixWorld),n.invProjectionMatrix.copy(e.projectionMatrixInverse),n.physicalCamera.updateFrom(e);let r=0;e.projectionMatrix.elements[15]>0&&(r=1),e.isEquirectCamera&&(r=2),n.setDefine("CAMERA_TYPE",r),this.camera=e}setSize(e,n){e=Math.ceil(e),n=Math.ceil(n),!(this._primaryTarget.width===e&&this._primaryTarget.height===n)&&(this._primaryTarget.setSize(e,n),this._blendTargets[0].setSize(e,n),this._blendTargets[1].setSize(e,n),this.reset())}getSize(e){e.x=this._primaryTarget.width,e.y=this._primaryTarget.height}dispose(){this._primaryTarget.dispose(),this._blendTargets[0].dispose(),this._blendTargets[1].dispose(),this._sobolTarget.dispose(),this._fsQuad.dispose(),this._blendQuad.dispose(),this._task=null}reset(){const{_renderer:e,_primaryTarget:n,_blendTargets:r}=this,a=e.getRenderTarget(),i=e.getClearAlpha();e.getClearColor(X9),e.setRenderTarget(n),e.setClearColor(0,0),e.clearColor(),e.setRenderTarget(r[0]),e.setClearColor(0,0),e.clearColor(),e.setRenderTarget(r[1]),e.setClearColor(0,0),e.clearColor(),e.setClearColor(X9,i),e.setRenderTarget(a),this.samples=0,this._task=null,this.material.stratifiedTexture.stableNoise=this.stableNoise,this.stableNoise&&(this.material.seed=0,this.material.stratifiedTexture.reset())}update(){this.material.onBeforeRender(),!this.isCompiling&&(this._task||(this._task=mDe.call(this)),this._task.next())}};const cd=new Td,Q9=new Td,z0=new Hte,q0=new Qo;class gDe extends Ql{constructor(e=512,n=512){super(new Float32Array(e*n*4),e,n,Mi,Ds,xV,Yc,Zc,lo,lo),this.generationCallback=null}update(){this.dispose(),this.needsUpdate=!0;const{data:e,width:n,height:r}=this.image;for(let a=0;a<n;a++)for(let i=0;i<r;i++){Q9.set(n,r),cd.set(a/n,i/r),cd.x-=.5,cd.y=1-cd.y,z0.theta=cd.x*2*Math.PI,z0.phi=cd.y*Math.PI,z0.radius=1,this.generationCallback(z0,cd,Q9,q0);const o=4*(i*n+a);e[o+0]=q0.r,e[o+1]=q0.g,e[o+2]=q0.b,e[o+3]=1}}copy(e){return super.copy(e),this.generationCallback=e.generationCallback,this}}const J9=new tn;class bDe extends gDe{constructor(e=512){super(e,e),this.topColor=new Qo().set(16777215),this.bottomColor=new Qo().set(0),this.exponent=2,this.generationCallback=(n,r,a,i)=>{J9.setFromSpherical(n);const s=J9.y*.5+.5;i.lerpColors(this.bottomColor,this.topColor,s**this.exponent)}}copy(e){return super.copy(e),this.topColor.copy(e.topColor),this.bottomColor.copy(e.bottomColor),this}}class yDe extends e1{get map(){return this.uniforms.map.value}set map(e){this.uniforms.map.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}constructor(e){super({uniforms:{map:{value:null},opacity:{value:1}},vertexShader:`
				varying vec2 vUv;
				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}
			`,fragmentShader:`
				uniform sampler2D map;
				uniform float opacity;
				varying vec2 vUv;

				vec4 clampedTexelFatch( sampler2D map, ivec2 px, int lod ) {

					vec4 res = texelFetch( map, ivec2( px.x, px.y ), 0 );

					#if defined( TONE_MAPPING )

					res.xyz = toneMapping( res.xyz );

					#endif

			  		return linearToOutputTexel( res );

				}

				void main() {

					vec2 size = vec2( textureSize( map, 0 ) );
					vec2 pxUv = vUv * size;
					vec2 pxCurr = floor( pxUv );
					vec2 pxFrac = fract( pxUv ) - 0.5;
					vec2 pxOffset;
					pxOffset.x = pxFrac.x > 0.0 ? 1.0 : - 1.0;
					pxOffset.y = pxFrac.y > 0.0 ? 1.0 : - 1.0;

					vec2 pxNext = clamp( pxOffset + pxCurr, vec2( 0.0 ), size - 1.0 );
					vec2 alpha = abs( pxFrac );

					vec4 p1 = mix(
						clampedTexelFatch( map, ivec2( pxCurr.x, pxCurr.y ), 0 ),
						clampedTexelFatch( map, ivec2( pxNext.x, pxCurr.y ), 0 ),
						alpha.x
					);

					vec4 p2 = mix(
						clampedTexelFatch( map, ivec2( pxCurr.x, pxNext.y ), 0 ),
						clampedTexelFatch( map, ivec2( pxNext.x, pxNext.y ), 0 ),
						alpha.x
					);

					gl_FragColor = mix( p1, p2, alpha.y );
					gl_FragColor.a *= opacity;
					#include <premultiplied_alpha_fragment>

				}
			`}),this.setValues(e)}}class vDe extends e1{constructor(){super({uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:`
				varying vec2 vUv;
				void main() {

					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

				}`,fragmentShader:`
				#define ENVMAP_TYPE_CUBE_UV

				uniform samplerCube envMap;
				uniform float flipEnvMap;
				varying vec2 vUv;

				#include <common>
				#include <cube_uv_reflection_fragment>

				${MQ}

				void main() {

					vec3 rayDirection = equirectUvToDirection( vUv );
					rayDirection.x *= flipEnvMap;
					gl_FragColor = textureCube( envMap, rayDirection );

				}`}),this.depthWrite=!1,this.depthTest=!1}}class ez{constructor(e){this._renderer=e,this._quad=new jp(new vDe)}generate(e,n=null,r=null){if(!e.isCubeTexture)throw new Error("CubeToEquirectMaterial: Source can only be cube textures.");const a=e.images[0],i=this._renderer,s=this._quad;n===null&&(n=4*a.height),r===null&&(r=2*a.height);const o=new Dg(n,r,{type:Ds,colorSpace:a.colorSpace}),l=a.height,d=Math.log2(l)-2,f=1/l,h=1/(3*Math.max(Math.pow(2,d),112));s.material.defines.CUBEUV_MAX_MIP=`${d}.0`,s.material.defines.CUBEUV_TEXEL_WIDTH=h,s.material.defines.CUBEUV_TEXEL_HEIGHT=f,s.material.uniforms.envMap.value=e,s.material.uniforms.flipEnvMap.value=e.isRenderTargetTexture?1:-1,s.material.needsUpdate=!0;const m=i.getRenderTarget(),b=i.autoClear;i.autoClear=!0,i.setRenderTarget(o),s.render(i),i.setRenderTarget(m),i.autoClear=b;const g=new Uint16Array(n*r*4),w=new Float32Array(n*r*4);i.readRenderTargetPixels(o,0,0,n,r,w),o.dispose();for(let T=0,x=w.length;T<x;T++)g[T]=Xl.toHalfFloat(w[T]);const S=new Ql(g,n,r,Mi,Wo);return S.minFilter=Vte,S.magFilter=lo,S.wrapS=Yc,S.wrapT=Yc,S.mapping=xV,S.needsUpdate=!0,S}dispose(){this._quad.dispose()}}function SDe(t){return t.extensions.get("EXT_float_blend")}const pp=new Td;class EDe{get multipleImportanceSampling(){return!!this._pathTracer.material.defines.FEATURE_MIS}set multipleImportanceSampling(e){this._pathTracer.material.setDefine("FEATURE_MIS",e?1:0)}get transmissiveBounces(){return this._pathTracer.material.transmissiveBounces}set transmissiveBounces(e){this._pathTracer.material.transmissiveBounces=e}get bounces(){return this._pathTracer.material.bounces}set bounces(e){this._pathTracer.material.bounces=e}get filterGlossyFactor(){return this._pathTracer.material.filterGlossyFactor}set filterGlossyFactor(e){this._pathTracer.material.filterGlossyFactor=e}get samples(){return this._pathTracer.samples}get target(){return this._pathTracer.target}get tiles(){return this._pathTracer.tiles}get stableNoise(){return this._pathTracer.stableNoise}set stableNoise(e){this._pathTracer.stableNoise=e}get isCompiling(){return!!this._pathTracer.isCompiling}constructor(e){this._renderer=e,this._generator=new eke,this._pathTracer=new Z9(e),this._queueReset=!1,this._clock=new Wte,this._compilePromise=null,this._lowResPathTracer=new Z9(e),this._lowResPathTracer.tiles.set(1,1),this._quad=new jp(new yDe({map:null,transparent:!0,blending:qg,premultipliedAlpha:e.getContextAttributes().premultipliedAlpha})),this._materials=null,this._previousEnvironment=null,this._previousBackground=null,this._internalBackground=null,this.renderDelay=100,this.minSamples=5,this.fadeDuration=500,this.enablePathTracing=!0,this.pausePathTracing=!1,this.dynamicLowRes=!1,this.lowResScale=.25,this.renderScale=1,this.synchronizeRenderSize=!0,this.rasterizeScene=!0,this.renderToCanvas=!0,this.textureSize=new Td(1024,1024),this.rasterizeSceneCallback=(n,r)=>{this._renderer.render(n,r)},this.renderToCanvasCallback=(n,r,a)=>{const i=r.autoClear;r.autoClear=!1,a.render(r),r.autoClear=i},this.setScene(new Yte,new CM)}setBVHWorker(e){this._generator.setBVHWorker(e)}setScene(e,n,r={}){e.updateMatrixWorld(!0),n.updateMatrixWorld();const a=this._generator;if(a.setObjects(e),this._buildAsync)return a.generateAsync(r.onProgress).then(i=>this._updateFromResults(e,n,i));{const i=a.generate();return this._updateFromResults(e,n,i)}}setSceneAsync(...e){this._buildAsync=!0;const n=this.setScene(...e);return this._buildAsync=!1,n}setCamera(e){this.camera=e,this.updateCamera()}updateCamera(){const e=this.camera;e.updateMatrixWorld(),this._pathTracer.setCamera(e),this._lowResPathTracer.setCamera(e),this.reset()}updateMaterials(){const e=this._pathTracer.material,n=this._renderer,r=this._materials,a=this.textureSize,i=Tke(r);e.textures.setTextures(n,i,a.x,a.y),e.materials.updateFrom(r,i),this.reset()}updateLights(){const e=this.scene,n=this._renderer,r=this._pathTracer.material,a=Cke(e),i=wke(a);r.lights.updateFrom(a,i),r.iesProfiles.setTextures(n,i),this.reset()}updateEnvironment(){const e=this.scene,n=this._pathTracer.material;if(this._internalBackground&&(this._internalBackground.dispose(),this._internalBackground=null),n.backgroundBlur=e.backgroundBlurriness,n.backgroundIntensity=e.backgroundIntensity??1,n.backgroundRotation.makeRotationFromEuler(e.backgroundRotation).invert(),e.background===null)n.backgroundMap=null,n.backgroundAlpha=0;else if(e.background.isColor){this._colorBackground=this._colorBackground||new bDe(16);const r=this._colorBackground;r.topColor.equals(e.background)||(r.topColor.set(e.background),r.bottomColor.set(e.background),r.update()),n.backgroundMap=r,n.backgroundAlpha=1}else if(e.background.isCubeTexture){if(e.background!==this._previousBackground){const r=new ez(this._renderer).generate(e.background);this._internalBackground=r,n.backgroundMap=r,n.backgroundAlpha=1}}else n.backgroundMap=e.background,n.backgroundAlpha=1;if(n.environmentIntensity=e.environmentIntensity??1,n.environmentRotation.makeRotationFromEuler(e.environmentRotation).invert(),this._previousEnvironment!==e.environment)if(e.environment!==null)if(e.environment.isCubeTexture){const r=new ez(this._renderer).generate(e.environment);n.envMapInfo.updateFrom(r)}else n.envMapInfo.updateFrom(e.environment);else n.environmentIntensity=0;this._previousEnvironment=e.environment,this._previousBackground=e.background,this.reset()}_updateFromResults(e,n,r){const{materials:a,geometry:i,bvh:s,bvhChanged:o}=r;this._materials=a;const d=this._pathTracer.material;return o&&(d.bvh.updateFrom(s),d.attributesArray.updateFrom(i.attributes.normal,i.attributes.tangent,i.attributes.uv,i.attributes.color),d.materialIndexAttribute.updateFrom(i.attributes.materialIndex)),this._previousScene=e,this.scene=e,this.camera=n,this.updateCamera(),this.updateMaterials(),this.updateEnvironment(),this.updateLights(),r}renderSample(){const e=this._lowResPathTracer,n=this._pathTracer,r=this._renderer,a=this._clock,i=this._quad;this._updateScale(),this._queueReset&&(n.reset(),e.reset(),this._queueReset=!1,i.material.opacity=0,a.start());const s=a.getDelta()*1e3,o=a.getElapsedTime()*1e3;if(!this.pausePathTracing&&this.enablePathTracing&&this.renderDelay<=o&&!this.isCompiling&&n.update(),n.alpha=n.material.backgroundAlpha!==1||!SDe(r),e.alpha=n.alpha,this.renderToCanvas){const l=this._renderer,d=this.minSamples;if(o>=this.renderDelay&&this.samples>=this.minSamples&&(this.fadeDuration!==0?i.material.opacity=Math.min(i.material.opacity+s/this.fadeDuration,1):i.material.opacity=1),!this.enablePathTracing||this.samples<d||i.material.opacity<1){if(this.dynamicLowRes&&!this.isCompiling){e.samples<1&&(e.material=n.material,e.update());const f=i.material.opacity;i.material.opacity=1-i.material.opacity,i.material.map=e.target.texture,i.render(l),i.material.opacity=f}(!this.dynamicLowRes&&this.rasterizeScene||this.dynamicLowRes&&this.isCompiling)&&this.rasterizeSceneCallback(this.scene,this.camera)}this.enablePathTracing&&i.material.opacity>0&&(i.material.opacity<1&&(i.material.blending=this.dynamicLowRes?Kte:_V),i.material.map=n.target.texture,this.renderToCanvasCallback(n.target,l,i),i.material.blending=qg)}}reset(){this._queueReset=!0,this._pathTracer.samples=0}dispose(){this._renderQuad.dispose(),this._renderQuad.material.dispose(),this._pathTracer.dispose()}_updateScale(){if(this.synchronizeRenderSize){this._renderer.getDrawingBufferSize(pp);const e=Math.floor(this.renderScale*pp.x),n=Math.floor(this.renderScale*pp.y);if(this._pathTracer.getSize(pp),pp.x!==e||pp.y!==n){const r=this.lowResScale;this._pathTracer.setSize(e,n),this._lowResPathTracer.setSize(Math.floor(e*r),Math.floor(n*r))}}}}const PQ=Q.createContext(null),_De=Q.forwardRef(({children:t,enabled:e=!0,minSamples:n=1,samples:r=32,bounces:a=4,resolutionFactor:i=1,renderPriority:s=1,filteredGlossyFactor:o=0,renderDelay:l=0,fadeDuration:d=0,dynamicLowRes:f=!0,lowResScale:h=.25,textureSize:m=[1024,1024],rasterizeScene:b=!1,tiles:g=[3,3],...w},S)=>{const{gl:T,camera:x,scene:_,controls:C}=cl(),R=N.useMemo(()=>{const I=new EDe(T);return I.synchronizeRenderSize=!0,I},[T]);Q.useImperativeHandle(S,()=>R,[R]),Q.useLayoutEffect(()=>{Xte(R,{bounces:a,filteredGlossyFactor:o,renderDelay:l,fadeDuration:d,minSamples:n,dynamicLowRes:f,lowResScale:h,rasterizeScene:b,textureSize:m,tiles:g}),R.renderScale=i,R.reset()},[w,i,a,n,R]),Q.useEffect(()=>{e&&R.reset()},[e]);const A=Q.useMemo(()=>({update:()=>{R.setScene(_,x)},reset:()=>{R.reset()},renderer:R,pathtracer:R}),[R,_,x]);return Q.useLayoutEffect(()=>{R.setScene(_,x)},[_,x]),Q.useLayoutEffect(()=>{const I=()=>{R.updateCamera()};return C&&C.addEventListener("change",I),()=>{C&&C.removeEventListener("change",I)}},[C,R]),ob(({camera:I,gl:O,scene:M})=>{e&&R.samples<(r??1/0)&&R.renderSample(),e||O.render(M,I)},1),y.jsx(PQ.Provider,{value:A,children:t})});function xDe(){const t=Q.useContext(PQ);if(!t)throw new Error("usePathtracer must be used within a Pathtracer");return t}function wDe({settings:t}){const e=J(o=>o.pathtracingNeedsUpdate),n=J(o=>o.clearPathtracingUpdate),r=J(o=>o.currentFrame),{update:a}=xDe(),i=N.useRef(!0),s=N.useRef(!1);return N.useEffect(()=>{e&&(s.current=!0,n())},[e,n]),N.useEffect(()=>{if(i.current){i.current=!1;return}s.current=!0},[r]),N.useEffect(()=>{i.current||(s.current=!0)},[t.samples,t.min_samples,t.bounces,t.tiles,t.environment_preset,t.environment_intensity,t.environment_blur,t.environment_background]),ob(()=>{s.current&&a&&(a(),s.current=!1)}),null}function TDe(){const{gl:t}=cl(),e=J(r=>r.setPathtracerCapture),n=N.useCallback(async()=>new Promise((r,a)=>{t.domElement.toBlob(i=>{i?r(i):a(new Error("Failed to create blob from canvas"))},"image/png",1)}),[t]);return N.useEffect(()=>(e(n),()=>e(null)),[n,e]),null}function CDe({settings:t,children:e}){const{enabled:n=!1,min_samples:r=1,samples:a=256,bounces:i=3,tiles:s=1,environment_preset:o="studio",environment_intensity:l=1,environment_blur:d=0,environment_background:f=!1}=t??{};return y.jsxs(_De,{minSamples:r,samples:a,bounces:i,tiles:s,enabled:n,children:[n&&y.jsx(wDe,{settings:t}),n&&y.jsx(TDe,{}),n&&o!=="none"&&y.jsx(Zte,{preset:o,background:f,backgroundBlurriness:d,environmentIntensity:l}),e]})}function RDe(t){const e=N.useRef(null),{camera:n}=cl();return ob(()=>{e.current&&(e.current.position.copy(n.position),e.current.quaternion.copy(n.quaternion))}),y.jsxs("group",{ref:e,children:[y.jsx("ambientLight",{intensity:t.ambient_light,color:"#ffffff"}),y.jsx("directionalLight",{position:[5,2,8],intensity:t.key_light}),y.jsx("directionalLight",{position:[-4,-1,6],intensity:t.fill_light,color:"#a0c4ff"}),y.jsx("directionalLight",{position:[0,0,-50],intensity:t.rim_light,color:"#fff0f5"}),y.jsx("hemisphereLight",{color:"#e0f7ff",groundColor:"#ffffff",intensity:t.hemisphere_light})]})}function ADe(t,e=!1){const n=t[0].index!==null,r=new Set(Object.keys(t[0].attributes)),a=new Set(Object.keys(t[0].morphAttributes)),i={},s={},o=t[0].morphTargetsRelative,l=new Zo;let d=0;for(let f=0;f<t.length;++f){const h=t[f];let m=0;if(n!==(h.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const b in h.attributes){if(!r.has(b))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+'. All geometries must have compatible attributes; make sure "'+b+'" attribute exists among all geometries, or in none of them.'),null;i[b]===void 0&&(i[b]=[]),i[b].push(h.attributes[b]),m++}if(m!==r.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". Make sure all geometries have the same number of attributes."),null;if(o!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const b in h.morphAttributes){if(!a.has(b))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+".  .morphAttributes must be consistent throughout all geometries."),null;s[b]===void 0&&(s[b]=[]),s[b].push(h.morphAttributes[b])}if(e){let b;if(n)b=h.index.count;else if(h.attributes.position!==void 0)b=h.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+f+". The geometry must have either an index or a position attribute"),null;l.addGroup(d,b,f),d+=b}}if(n){let f=0;const h=[];for(let m=0;m<t.length;++m){const b=t[m].index;for(let g=0;g<b.count;++g)h.push(b.getX(g)+f);f+=t[m].attributes.position.count}l.setIndex(h)}for(const f in i){const h=tz(i[f]);if(!h)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+f+" attribute."),null;l.setAttribute(f,h)}for(const f in s){const h=s[f][0].length;if(h===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[f]=[];for(let m=0;m<h;++m){const b=[];for(let w=0;w<s[f].length;++w)b.push(s[f][w][m]);const g=tz(b);if(!g)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+f+" morphAttribute."),null;l.morphAttributes[f].push(g)}}return l}function tz(t){let e,n,r,a=-1,i=0;for(let d=0;d<t.length;++d){const f=t[d];if(e===void 0&&(e=f.array.constructor),e!==f.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(n===void 0&&(n=f.itemSize),n!==f.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(r===void 0&&(r=f.normalized),r!==f.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(a===-1&&(a=f.gpuType),a!==f.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;i+=f.count*n}const s=new e(i),o=new mi(s,n,r);let l=0;for(let d=0;d<t.length;++d){const f=t[d];if(f.isInterleavedBufferAttribute){const h=l/n;for(let m=0,b=f.count;m<b;m++)for(let g=0;g<n;g++){const w=f.getComponent(m,g);o.setComponent(m+h,g,w)}}else s.set(f.array,l);l+=f.count*n}return a!==void 0&&(o.gpuType=a),o}function ib(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])}function LQ(t){return typeof t=="string"}function nz(t){const e=[];for(let n=0;n<t.length;n+=3)e.push([t[n],t[n+1],t[n+2]]);return e}function IDe(t){const e=new Float32Array(t.length*3);for(let n=0;n<t.length;n++)e[n*3]=t[n][0],e[n*3+1]=t[n][1],e[n*3+2]=t[n][2];return e}function FQ(t,e,n){const r=new Map;for(const a of e)if(a>=0&&a<t.length){const[i,s,o]=t[a],l=new tn(i-n[0],s-n[1],o-n[2]);r.set(a,l)}return r}function EM(t,e,n,r,a){const i=t.map(m=>[...m]),s=new tn,o=new Cd,l=new tn;n.decompose(s,o,l);const d=new tn(r[0],r[1],r[2]),f=s.clone().sub(d),h=new Ni;h.compose(new tn(0,0,0),o,l);for(const m of e)if(m>=0&&m<i.length){const b=a.get(m);if(b){const g=b.clone();g.applyMatrix4(h);const w=d.clone().add(g).add(f);i[m]=[w.x,w.y,w.z]}}return i}function rz(t,e,n){const r={},a={},i=[];for(const[s,o]of Object.entries(e)){if(!o||o.length===0)continue;const l=t[s];if(!l)continue;const d=l.data?.position;if(ib(d))r[s]=o;else if(LQ(d)){const f=n.get(s);f&&f.positions?a[s]=o:i.push(s)}else i.push(s)}return{validSelections:r,dynamicSelections:a,invalidGeometries:i}}function kDe(t,e,n,r){let a=0,i=0,s=0,o=0;for(const[l,d]of Object.entries(e)){if(d.length===0)continue;const f=t[l];if(!f)continue;const h=f.data?.position;if(ib(h)){for(const m of d)if(m>=0&&m<h.length){const[b,g,w]=h[m];a+=b,i+=g,s+=w,o++}}}for(const[l,d]of Object.entries(n)){if(d.length===0)continue;const f=r.get(l);if(!f||!f.positions)continue;const h=f.positions,m=h.length/3;for(const b of d)b>=0&&b<m&&(a+=h[b*3],i+=h[b*3+1],s+=h[b*3+2],o++)}return o===0?null:[a/o,i/o,s/o]}function az(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])}function iz(t){return typeof t=="string"?!1:Array.isArray(t)}function DDe(t,e){const n=new Map;for(const r of e)if(r>=0&&r<t.length){const[a,i,s]=t[r];n.set(r,new tn(a,i,s))}return n}function ODe(t,e,n){const r=new Map,a=BQ(t,n);for(const i of e)if(i>=0&&i<a.length){const[s,o,l]=a[i];r.set(i,new tn(s,o,l))}return r}function BQ(t,e){if(t.length===0)return Array.from({length:e},()=>[1,1,1]);if(t.length===1){const r=t[0];return Array.from({length:e},()=>[...r])}const n=t.slice(0,e).map(r=>[...r]);for(;n.length<e;)n.push([1,1,1]);return n}function NDe(t,e,n,r){const a=t.map(i=>[...i]);for(const i of e){const s=r.get(i);if(s&&i>=0&&i<a.length){const o=new kS(s.x,s.y,s.z),l=new Cd().setFromEuler(o),d=n.clone().multiply(l),f=new kS().setFromQuaternion(d);a[i]=[f.x,f.y,f.z]}}return a}function MDe(t,e,n,r,a){const i=BQ(t,a);for(const s of e){const o=r.get(s);o&&s>=0&&s<i.length&&(i[s]=[o.x*n.x,o.y*n.y,o.z*n.z])}return i}function uh(t,e,n,r,a,i,s,o){const l=J(j=>j.mode),d=J(j=>j.transformMode),f=J(j=>j.subscribeToEditing),h=J(j=>j.updateGeometry),m=J(j=>j.updateSelectionForGeometry),b=J(j=>j.editingCombinedCentroid),g=J(j=>j.geometries),w=l==="editing",T=e&&ib(e)?e:void 0,_=n&&az(n)?n:void 0,R=r!==void 0&&iz(r)?r:void 0,A=N.useMemo(()=>a,[JSON.stringify(a)]),I=N.useRef(null),O=N.useRef(new Map),M=N.useRef(new Map),U=N.useRef(new Map),L=A.length>0,z=N.useRef(null);N.useEffect(()=>{if(e===null)return;if(w&&L){let q=!1;if(T?(d==="rotate"&&n!==null&&!_||d==="scale"&&R===void 0)&&(q=!0):q=!0,q){m(t,[]);return}}if(!T)return;if(!w||!L||!b){I.current=null,O.current=new Map,M.current=new Map,U.current=new Map,z.current=null;return}const j=b.join(",");if(z.current!==j){const q=g[t],K=q?.data?.position,V=q?.data?.rotation,re=q?.data?.scale,ee=K&&ib(K)?K:T;if(!ee)return;const Y=b;I.current=Y;const ne=FQ(ee,A,Y);O.current=ne;let te=V&&az(V)?V:_;if(te){if(te.length===1&&o>1){const W=te[0];te=Array.from({length:o},()=>[...W])}M.current=DDe(te,A)}const G=re??R;G!==void 0&&iz(G)&&(U.current=ODe(G,A,o)),z.current=j}if(!I.current||O.current.size===0||!T)return;const $=f(t,q=>{const K=I.current,V=O.current,re=M.current,ee=U.current;if(!K||V.size===0)return;const Y=new tn,ne=new Cd,te=new tn;q.decompose(Y,ne,te);const G={...s};switch(J.getState().transformMode){case"translate":{const ue=EM(T,A,q,K,V);G.position=ue;break}case"rotate":{const ue=EM(T,A,q,K,V);if(G.position=ue,_&&re.size>0){let Ee=_;if(_.length===1&&o>1){const fe=_[0];Ee=Array.from({length:o},()=>[...fe])}const ge=NDe(Ee,A,ne,re);G.rotation=ge}break}case"scale":{if(R!==void 0&&ee.size>0){const ue=MDe(R,A,te,ee,o);G.scale=ue}break}}h(t,{type:i,data:G},"local")});return()=>{$()}},[w,L,e,T,_,R,A,f,h,m,t,i,s,o,b,g,d])}function Ub(t,e,n=500){const r=J(d=>d.roomId),a=J(d=>d.geometries),i=J(d=>d.geometryUpdateSources),s=N.useRef(!1),o=N.useRef(void 0);o.current=async()=>{if(!r)return;const f=J.getState().geometries[t];if(!(!f||!f.data)&&s.current)try{await Sb(r,t,e,f.data),s.current=!1}catch(h){console.error(`[${e}] Failed to persist ${t}:`,h)}};const l=N.useMemo(()=>rl.debounce(()=>{o.current?.()},n),[n]);N.useEffect(()=>()=>{l.flush()},[l]),N.useEffect(()=>{!a[t]||i[t]!=="local"||(s.current=!0,l())},[a[t],i[t],l,t])}function PDe(t,e,n){const r=e,a=t.material,i=t.count;if(i===0){console.warn("[convertInstancedMesh] Instance count is 0, returning empty mesh");const U=Array.isArray(a)?a[0].clone():a.clone();return new IS(new Zo,U)}if(!r||!r.attributes.position)throw new Error("Base geometry is invalid or missing position attribute");const s=new Ni,o=new SV,l=new Qo,d=r.attributes.position,f=r.attributes.normal,h=r.attributes.uv,m=r.index,b=d.count,g=b*i,w=m?m.count:0,S=w*i,T=new Float32Array(g*3),x=f?new Float32Array(g*3):null,_=h?new Float32Array(g*2):null,C=new Float32Array(g*3),R=m?new(m.array instanceof Uint32Array||g>65535?Uint32Array:Uint16Array)(S):null,A=!!t.instanceColor;for(let U=0;U<i;U++){t.getMatrixAt(U,s),f&&o.getNormalMatrix(s),A?t.getColorAt(U,l):l.set(1,1,1);const L=U*b,z=U*w;for(let j=0;j<b;j++){const H=(L+j)*3,$=d.getX(j),q=d.getY(j),K=d.getZ(j),V=s.elements,re=1/(V[3]*$+V[7]*q+V[11]*K+V[15]);if(T[H]=(V[0]*$+V[4]*q+V[8]*K+V[12])*re,T[H+1]=(V[1]*$+V[5]*q+V[9]*K+V[13])*re,T[H+2]=(V[2]*$+V[6]*q+V[10]*K+V[14])*re,x&&f){const ee=f.getX(j),Y=f.getY(j),ne=f.getZ(j),te=o.elements,G=te[0]*ee+te[3]*Y+te[6]*ne,W=te[1]*ee+te[4]*Y+te[7]*ne,ue=te[2]*ee+te[5]*Y+te[8]*ne,Ee=Math.sqrt(G*G+W*W+ue*ue);if(Ee>0){const ge=1/Ee;x[H]=G*ge,x[H+1]=W*ge,x[H+2]=ue*ge}else x[H]=ee,x[H+1]=Y,x[H+2]=ne}if(_&&h){const ee=(L+j)*2;_[ee]=h.getX(j),_[ee+1]=h.getY(j)}C[H]=l.r,C[H+1]=l.g,C[H+2]=l.b}if(R&&m)for(let j=0;j<w;j++)R[z+j]=m.getX(j)+L}const I=new Zo;I.setAttribute("position",new mi(T,3)),x&&I.setAttribute("normal",new mi(x,3)),_&&I.setAttribute("uv",new mi(_,2)),I.setAttribute("color",new mi(C,3)),R&&I.setIndex(new mi(R,1)),I.computeBoundingBox(),I.computeBoundingSphere();let O;{const U=Array.isArray(a)?a[0].clone():a.clone();"vertexColors"in U&&(U.vertexColors=!0),O=U}return new IS(I,O)}function OA(t){t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach(e=>e.dispose()):t.material.dispose())}function dh(t,e,n){const r=J(s=>s.requestPathtracingUpdate),a=N.useRef(null),i=N.useCallback(s=>{if(!n||!e.current||!t.current)return;a.current&&(t.current.remove(a.current),OA(a.current),a.current=null);const o=PDe(e.current,s);t.current.add(o),a.current=o,r()},[n,e,t,r]);return N.useEffect(()=>{!n&&a.current&&t.current&&(t.current.remove(a.current),OA(a.current),a.current=null)},[n,t]),N.useEffect(()=>()=>{a.current&&(a.current.parent&&a.current.parent.remove(a.current),OA(a.current),a.current=null)},[]),i}function qd(t,e){const n=J(a=>a.registerFrameKeys),r=J(a=>a.unregisterFrameKeys);N.useEffect(()=>(n(t,e),()=>r(t)),[t,e,n,r])}const ti=1.01,Ns=1.25;function KL(t,e,n){if(e)return Array.from(e);if(typeof t=="string")return[];if(t.length===1&&n>1){const[r,a,i]=t[0],s=[];for(let o=0;o<n;o++)s.push(r,a,i);return s}return t.flat()}function sE(t,e,n=0){if(Ep(t))return[];const r=n||(Array.isArray(t)?t.length:0);return KL(t,e,r)}function XL(t,e,n){return KL(t,e,n)}function zb(t,e,n){return{values:KL(t,e,n),isAnisotropic:!0}}function LDe(t,e,n){if(e)return Array.from(e);if(typeof t=="string")return[];if(t.length===1&&n>1){const[r,a]=t[0],i=[];for(let s=0;s<n;s++)i.push(r,a);return i}return t.flat()}function FDe(t,e,n){if(e)return Array.from(e);if(typeof t=="string")return[];if(t.length===1&&n>1){const[r,a,i]=t[0],s=[];for(let o=0;o<n;o++)s.push(r,a,i);return s}return t.flat()}function fh(t,e,n){return e?Array.from(e):Array.isArray(t)?t.length===1&&n>1?Array(n).fill(t[0]):t:[]}function gd(t,e,n){if(e)return Array.from(e);if(typeof t=="number")return Array(n).fill(t);if(typeof t=="string")return[];if(Array.isArray(t)&&t.length>0){const r=t[0];if(Array.isArray(r)){const i=t;if(i.length===1&&n>1){const s=[];for(let o=0;o<n;o++)s.push(...i[0]);return s}return i.flat()}const a=t;return a.length===1&&n>1?Array(n).fill(a[0]):a}return[]}function ph(t,e){for(const[n,r]of Object.entries(t)){const a=e[n];if(r.length!==a)return console.error(`${n} has incorrect length: expected ${a}, got ${r.length}`),!1}return!0}function hh(t,e){return e?e.length%3!==0?0:e.length/3:Array.isArray(t)?t.length:0}function mh(t,e){return t.length===1&&e>1?Array(e).fill(t[0]):t}const Kt=new tn,an=new tn,Rs=new tn,$0=new tn,Xr=new Cd,ol=new Cd,ks=new kS,Sn=new Ni,Ps=new Ni,ll=new Qo,sz={MeshPhysicalMaterial_matt:{component:"meshPhysicalMaterial",defaultProps:{roughness:.9,reflectivity:.1,clearcoat:0,metalness:0,transmission:0,ior:1.45}},"MeshPhysicalMaterial_semi-gloss":{component:"meshPhysicalMaterial",defaultProps:{roughness:.5,reflectivity:.4,clearcoat:.2,metalness:0,transmission:0,ior:1.45}},MeshPhysicalMaterial_shiny:{component:"meshPhysicalMaterial",defaultProps:{roughness:.2,reflectivity:.6,clearcoat:.4,clearcoatRoughness:.1,metalness:0,transmission:0,ior:1.45}},MeshPhysicalMaterial_transparent:{component:"meshPhysicalMaterial",defaultProps:{roughness:.6,reflectivity:.3,clearcoat:.1,transmission:.6,opacity:.6,transparent:!0,thickness:.2,ior:1.2,depthWrite:!1}},MeshPhysicalMaterial_glass:{component:"meshPhysicalMaterial",defaultProps:{roughness:.05,reflectivity:.7,clearcoat:.5,clearcoatRoughness:.1,transmission:1,opacity:.25,transparent:!0,thickness:.5,ior:1.5,envMapIntensity:1,depthWrite:!1}},MeshStandardMaterial_matt:{component:"meshStandardMaterial",defaultProps:{roughness:.8,metalness:0}},MeshStandardMaterial_metallic:{component:"meshStandardMaterial",defaultProps:{roughness:.3,metalness:1}},MeshBasicMaterial:{component:"meshBasicMaterial",defaultProps:{toneMapped:!1}},MeshToonMaterial:{component:"meshToonMaterial",defaultProps:{gradientMap:void 0}},MeshLambertMaterial:{component:"meshLambertMaterial",defaultProps:{}},MeshPhongMaterial:{component:"meshPhongMaterial",defaultProps:{shininess:30,specular:new Qo(.2,.2,.2)}}},BDe="MeshPhysicalMaterial_matt";function jDe(t){return typeof t=="string"}function UDe(t){return typeof t=="object"&&t!==null&&"material_type"in t}function gh(t,e,n,r){const a={color:"white",side:r||(e!==void 0&&e<1?Kc:tc),transparent:e!==void 0&&e<1,opacity:e!==void 0?e:1};if(UDe(t)){const i={...a,wireframe:t.wireframe,flatShading:t.flatShading,transparent:t.transparent||a.transparent,polygonOffset:t.polygonOffset,polygonOffsetFactor:t.polygonOffsetFactor};switch(t.material_type){case"MeshBasicMaterial":return y.jsx("meshBasicMaterial",{...i,toneMapped:t.toneMapped});case"MeshStandardMaterial":return y.jsx("meshStandardMaterial",{...i,roughness:t.roughness,metalness:t.metalness,emissive:t.emissive,emissiveIntensity:t.emissiveIntensity});case"MeshPhysicalMaterial":return y.jsx("meshPhysicalMaterial",{...i,roughness:t.roughness,metalness:t.metalness,emissive:t.emissive,emissiveIntensity:t.emissiveIntensity,transmission:t.transmission,thickness:t.thickness,ior:t.ior,reflectivity:t.reflectivity,clearcoat:t.clearcoat,clearcoatRoughness:t.clearcoatRoughness,sheen:t.sheen,sheenRoughness:t.sheenRoughness,sheenColor:t.sheenColor,specularIntensity:t.specularIntensity,specularColor:t.specularColor,envMapIntensity:t.envMapIntensity});case"MeshToonMaterial":return y.jsx("meshToonMaterial",{...i});case"MeshLambertMaterial":return y.jsx("meshLambertMaterial",{...i,emissive:t.emissive,emissiveIntensity:t.emissiveIntensity});case"MeshPhongMaterial":return y.jsx("meshPhongMaterial",{...i,emissive:t.emissive,emissiveIntensity:t.emissiveIntensity,specular:t.specular,shininess:t.shininess})}}if(jDe(t)){const s=sz[t]||sz[BDe],o=s.component,l={...a,...s.defaultProps};switch(o){case"meshPhysicalMaterial":return y.jsx("meshPhysicalMaterial",{...l});case"meshStandardMaterial":return y.jsx("meshStandardMaterial",{...l});case"meshBasicMaterial":return y.jsx("meshBasicMaterial",{...l});case"meshToonMaterial":return y.jsx("meshToonMaterial",{...l});case"meshLambertMaterial":return y.jsx("meshLambertMaterial",{...l});case"meshPhongMaterial":return y.jsx("meshPhongMaterial",{...l});default:return y.jsx("meshPhysicalMaterial",{...l})}}return y.jsx("meshPhysicalMaterial",{...a,roughness:.9,reflectivity:.1})}const oz=new tn(0,1,0);function zDe(t){const i=new wV(.04,.04,.6,t),s=new Qte(.1,.4,t);return i.translate(0,.6/2,0),s.translate(0,.6+.4/2,0),ADe([i,s])}function qDe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(Ye=>Ye.geometryDefaults),i=N.useMemo(()=>bo(t,"Arrow",a),[t,a]),{position:s,direction:o,color:l,radius:d,scale:f,resolution:h,material:m,opacity:b,selecting:g,hovering:w}=i,S=N.useRef(null),T=N.useRef(null),x=N.useRef(null),_=N.useRef(null),[C,R]=N.useState(0),A=dh(_,S,n),I=J(Ye=>Ye.currentFrame),O=J(Ye=>Ye.frameCount),M=J(Ye=>Ye.roomId),U=J(Ye=>Ye.user?.email??null),L=J(Ye=>Ye.selections),z=J(Ye=>Ye.updateSelections),j=J(Ye=>Ye.hoveredGeometryInstance),H=J(Ye=>Ye.setHoveredGeometryInstance),$=J(Ye=>Ye.setDrawingPointerPosition),q=J(Ye=>Ye.mode),K=J(Ye=>Ye.setDrawingIsValid),V=J(Ye=>Ye.setGeometryFetching),re=J(Ye=>Ye.removeGeometryFetching),{data:ee,isLoading:Y}=dl(M,I),ne=N.useMemo(()=>{const Ye=[];return typeof s=="string"&&Ye.push(s),typeof o=="string"&&Ye.push(o),Ye},[s,o]),te=N.useMemo(()=>{if(Y||!ee?.metadata)return!0;const Ye=new Set(Object.keys(ee.metadata));return ne.every(nt=>Ye.has(nt))},[ee,ne,Y]),G=L[e]||[],W=N.useMemo(()=>new Set(G),[G]),ue=N.useMemo(()=>Array.from(W),[W]),Ee=N.useMemo(()=>ue.filter(Ye=>Ye<C),[ue,C]),{data:ge,isFetching:fe}=Zt({queryKey:["frame",M,I,s],queryFn:()=>Wn(M,I,s,r),enabled:!!M&&!!U&&O>0&&typeof s=="string",placeholderData:Dn,retry:!1}),{data:Ae,isFetching:oe}=Zt({queryKey:["frame",M,I,o],queryFn:()=>Wn(M,I,o,r),enabled:!!M&&!!U&&O>0&&typeof o=="string",placeholderData:Dn,retry:!1}),{data:de,isFetching:se}=Zt({queryKey:["frame",M,I,l],queryFn:()=>Wn(M,I,l,r),enabled:!!M&&!!U&&O>0&&typeof l=="string"&&Dr(l),placeholderData:Dn,retry:!1}),{data:Se,isFetching:me}=Zt({queryKey:["frame",M,I,d],queryFn:()=>Wn(M,I,d,r),enabled:!!M&&!!U&&O>0&&typeof d=="string",placeholderData:Dn,retry:!1}),{data:ce,isFetching:pe}=Zt({queryKey:["frame",M,I,f],queryFn:()=>Wn(M,I,f,r),enabled:!!M&&!!U&&O>0&&typeof f=="string",placeholderData:Dn,retry:!1}),Te=typeof s=="string"&&fe||typeof o=="string"&&oe||typeof l=="string"&&Dr(l)&&se||typeof d=="string"&&me||typeof f=="string"&&pe;N.useEffect(()=>{V(e,Te)},[e,Te,V]),N.useEffect(()=>()=>{re(e)},[e,re]);const be=N.useMemo(()=>{const Ye=[];return typeof s=="string"&&Ye.push(s),typeof o=="string"&&Ye.push(o),typeof l=="string"&&Dr(l)&&Ye.push(l),typeof d=="string"&&Ye.push(d),typeof f=="string"&&Ye.push(f),Ye},[s,o,l,d,f]);qd(e,be);const Ie=typeof s=="string"?ge?.[s]:s;uh(e,Ie,null,f??1,ue,"Arrow",i,C),Ub(e,"Arrow"),N.useEffect(()=>{if(O===0){C!==0&&R(0);return}if(!Te)try{const Ye=typeof s=="string"?ge?.[s]:void 0,nt=hh(s,Ye);if(nt===0){C!==0&&R(0);return}const It=gd(s,Ye,nt),Gt=typeof l=="string"?de?.[l]:void 0,Ze=fh(l,Gt,nt),ot=typeof d=="string"?Se?.[d]:void 0,Pe=gd(d,ot,nt),we=typeof o=="string"?Ae?.[o]:void 0,$e=gd(o,we,nt),He=typeof f=="string"?ce?.[f]:void 0,{values:ft}=zb(f,He,nt),Nt=mh(Ze,nt);if(!(ph({positions:It,directions:$e,radii:Pe,scales:ft},{positions:nt*3,directions:nt*3,radii:nt,scales:nt*3})&&Nt.length===nt)){console.error("Arrow data is invalid or has inconsistent lengths."),C!==0&&R(0);return}if(C!==nt){R(nt);return}const pt=S.current;if(!pt)return;for(let Me=0;Me<nt;Me++){const Je=Me*3;Kt.set(It[Je],It[Je+1],It[Je+2]),an.set($e[Je],$e[Je+1],$e[Je+2]);const Tt=an.length(),Rt=Tt*ft[Je+1],sn=Pe[Me],Rn=sn*ft[Je],Yt=sn*ft[Je+2];Rs.set(Rn,Rt,Yt),Tt>1e-6?Xr.setFromUnitVectors(oz,an.normalize()):Xr.identity(),Sn.compose(Kt,Xr,Rs),pt.setMatrixAt(Me,Sn),ll.set(Nt[Me]),pt.setColorAt(Me,ll)}if(pt.instanceMatrix.needsUpdate=!0,pt.instanceColor&&(pt.instanceColor.needsUpdate=!0),pt.computeBoundingBox(),pt.computeBoundingSphere(),n&&A(ke),g.enabled&&T.current){const Me=T.current;Ee.forEach((Je,Tt)=>{if(Je>=nt)return;const Rt=Je*3;Kt.set(It[Rt],It[Rt+1],It[Rt+2]),an.set($e[Rt],$e[Rt+1],$e[Rt+2]);const sn=an.length(),Rn=sn*ft[Rt+1],Yt=Pe[Je],on=Yt*ft[Rt]*ti,Le=Yt*ft[Rt+2]*ti;Rs.set(on,Rn*ti,Le),sn>1e-6?Xr.setFromUnitVectors(oz,an.normalize()):Xr.identity(),Sn.compose(Kt,Xr,Rs),Me.setMatrixAt(Tt,Sn)}),Me.instanceMatrix.needsUpdate=!0,Me.computeBoundingBox(),Me.computeBoundingSphere()}}catch(Ye){console.error("Error processing Arrow data:",Ye),C!==0&&R(0)}},[O,Te,ge,Ae,de,Se,ce,s,o,l,d,f,C,Ee,g,e,n,h,m,b,t,A]),N.useEffect(()=>{if(!w?.enabled||!x.current||!S.current||C===0)return;const Ye=x.current,nt=S.current;j?.geometryKey===e&&j?.instanceId!==null&&j.instanceId<C?(Ye.visible=!0,nt.getMatrixAt(j.instanceId,Ps),Ps.decompose(Kt,ol,an),Ye.position.copy(Kt),Ye.quaternion.copy(ol),Ye.scale.set(an.x*Ns,an.y*Ns,an.z*Ns)):Ye.visible=!1},[j,C,w,e]);const ke=N.useMemo(()=>zDe(h),[h]),Ge=N.useCallback(Ye=>{Ye.detail!==1||Ye.instanceId===void 0||(Ye.stopPropagation(),z(e,Ye.instanceId,Ye.shiftKey))},[z,e]),Et=N.useCallback(Ye=>{Ye.instanceId!==void 0&&(Ye.stopPropagation(),q==="drawing"&&$(Ye.point))},[q,$]),gt=N.useCallback(Ye=>{Ye.instanceId!==void 0&&(Ye.stopPropagation(),H(e,Ye.instanceId),K(!0))},[H,K,e]),kt=N.useCallback(()=>{H(null,null),K(!1)},[H,K]);return!U||!M||i.active===!1||!te?null:y.jsxs("group",{ref:_,children:[y.jsx("instancedMesh",{ref:S,args:[ke,void 0,C],visible:!n,onClick:!n&&g.enabled?Ge:void 0,onPointerEnter:!n&&w?.enabled?gt:void 0,onPointerMove:!n&&w?.enabled?Et:void 0,onPointerOut:!n&&w?.enabled?kt:void 0,children:gh(m,b)},C),!n&&g.enabled&&y.jsx("instancedMesh",{ref:T,args:[ke,void 0,Ee.length],children:y.jsx("meshBasicMaterial",{side:tc,transparent:!0,opacity:g.opacity,color:g.color})},`selection-${Ee.length}`),!n&&w?.enabled&&y.jsxs("mesh",{ref:x,visible:!1,children:[y.jsx("primitive",{object:ke,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Rd,transparent:!0,opacity:w.opacity,color:w.color})]})]})}const G0=new tn(0,1,0),lz=new Qo,cz=new Qo,uz=new Cd,H0=new tn,hp=new tn,dz=new tn,V0=new tn;function NA(t,e){if(e==="ignore")return 1;const n=t??1;return n===1.5?2:Math.max(1,Math.round(n))}function jQ(t){let e="";for(let n=0;n<t.length;n++){const[r,a,i]=t[n];e+=`${r},${a},${i};`}return e}function $De(t,e){switch(e.type){case"UPDATE_ALL":return{...e.payload,bondPairsHash:jQ(e.payload.bondPairs)};case"RESET":return{instanceCount:0,bondPairs:[],instanceToBondMap:[],bondPairsHash:""};default:return t}}function GDe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(Pe=>Pe.geometryDefaults),i=N.useMemo(()=>bo(t,"Bond",a),[t,a]),{position:s,color:o,radius:l,connectivity:d,material:f,resolution:h,scale:m,opacity:b,bond_order_mode:g,bond_order_offset:w,bond_order_radius_scale:S,selecting:T,hovering:x}=i,_=N.useRef(null),C=N.useRef(null),R=N.useRef(null),A=N.useRef(null),[I,O]=N.useState(null),[M,U]=N.useReducer($De,{instanceCount:0,bondPairs:[],instanceToBondMap:[],bondPairsHash:""}),{instanceCount:L,bondPairs:z,instanceToBondMap:j,bondPairsHash:H}=M,$=dh(A,_,n),q=J(Pe=>Pe.roomId),K=J(Pe=>Pe.currentFrame),V=J(Pe=>Pe.frameCount),re=J(Pe=>Pe.user?.email??null),ee=J(Pe=>Pe.selections),Y=J(Pe=>Pe.updateSelections),ne=J(Pe=>Pe.setGeometryFetching),te=J(Pe=>Pe.removeGeometryFetching),{data:G,isLoading:W}=dl(q,K),ue=N.useMemo(()=>{const Pe=[];return typeof s=="string"&&Pe.push(s),typeof d=="string"&&Pe.push(d),Pe},[s,d]),Ee=N.useMemo(()=>{if(W||!G?.metadata)return!0;const Pe=new Set(Object.keys(G.metadata));return ue.every(we=>Pe.has(we))},[G,ue,W]),ge=ee[e]||[];N.useMemo(()=>new Set(ge),[ge]);const fe=N.useMemo(()=>{const Pe=[];let we=0;for(let $e=0;$e<z.length;$e++){const[,,He]=z[$e],Nt=NA(He,g)*2;Pe.push({start:we,count:Nt}),we+=Nt}return Pe},[z,g]),Ae=N.useMemo(()=>{if(ge.length===0)return[];const Pe=[];for(const we of ge){const $e=fe[we];if($e)for(let He=0;He<$e.count;He++)Pe.push($e.start+He)}return Pe},[ge,fe]),oe=N.useMemo(()=>{if(I===null)return[];const Pe=fe[I];if(!Pe)return[];const we=[];for(let $e=0;$e<Pe.count;$e++)we.push(Pe.start+$e);return we},[I,fe]),de=h||8,se=m||1,{data:Se,isFetching:me,isError:ce}=Zt({queryKey:["frame",q,K,s],queryFn:()=>Wn(q,K,s,r),enabled:!!q&&!!re&&V>0&&typeof s=="string",placeholderData:Dn,retry:!1}),{data:pe,isFetching:Te,isError:be}=Zt({queryKey:["frame",q,K,o],queryFn:()=>Wn(q,K,o,r),enabled:!!q&&!!re&&V>0&&typeof o=="string"&&Dr(o),placeholderData:Dn,retry:!1}),{data:Ie,isFetching:je,isError:ke}=Zt({queryKey:["frame",q,K,l],queryFn:()=>Wn(q,K,l,r),enabled:!!q&&!!re&&V>0&&typeof l=="string",placeholderData:Dn,retry:!1}),{data:Ge,isFetching:Et,isError:gt}=Zt({queryKey:["frame",q,K,d],queryFn:()=>Wn(q,K,d,r),enabled:!!q&&!!re&&V>0&&typeof d=="string",placeholderData:Dn,retry:!1}),kt=typeof s=="string"&&me||typeof o=="string"&&Dr(o)&&Te||typeof l=="string"&&je||typeof d=="string"&&Et;N.useEffect(()=>{ne(e,kt)},[e,kt,ne]),N.useEffect(()=>()=>{te(e)},[e,te]);const Ye=N.useMemo(()=>{const Pe=[];return typeof s=="string"&&Pe.push(s),typeof o=="string"&&Dr(o)&&Pe.push(o),typeof l=="string"&&Pe.push(l),typeof d=="string"&&Pe.push(d),Pe},[s,o,l,d]);qd(e,Ye),N.useEffect(()=>{if(V===0){L!==0&&U({type:"RESET"});return}if(!kt)try{const Pe=typeof s=="string"?Se?.[s]:void 0;let we=0;if(Pe?we=Pe.length/3:Array.isArray(s)&&(we=s.length),we===0){L!==0&&U({type:"RESET"});return}const $e=gd(s,Pe,we),He=typeof o=="string"?pe?.[o]:void 0,ft=fh(o,He,we),Nt=mh(ft,we),Ot=typeof l=="string"?Ie?.[l]:void 0,pt=gd(l,Ot,we),Je=(typeof d=="string"?Ge?.[d]:void 0)||d,Tt=[];if(Je&&Je.length>0)if(Array.isArray(Je[0]))Je.forEach(ht=>{const wt=ht[2]??1;Tt.push([ht[0],ht[1],wt])});else for(let ht=0;ht<Je.length;ht+=3){const wt=Number(Je[ht]),En=Number(Je[ht+1]),Qt=Number(Je[ht+2]??1);Tt.push([wt,En,Qt])}if(Tt.length===0){L!==0&&U({type:"RESET"});return}let Rt=0;const sn=[];for(let ht=0;ht<Tt.length;ht++){const[,,wt]=Tt[ht],Qt=NA(wt,g)*2;for(let bn=0;bn<Qt;bn++)sn.push(ht);Rt+=Qt}const Rn=Rt,Yt=jQ(Tt);if(Rn!==L||Yt!==H){U({type:"UPDATE_ALL",payload:{instanceCount:Rn,bondPairs:Tt,instanceToBondMap:sn}});return}const on=_.current;if(!on)return;let Le=0;for(const ht of Tt){const[wt,En,Qt]=ht;if(wt>=we||En>=we)continue;const bn=wt*3,Mr=En*3;Kt.fromArray($e,bn),an.fromArray($e,Mr),Rs.copy(an).sub(Kt);const Ls=Rs.length();Rs.normalize();const $r=NA(Qt,g),uc=String(Qt),Ra=Number(Qt).toFixed(1),xo=g==="parallel"?S[uc]??S[Ra]??1:1,Gi=pt[wt]*se*xo,ur=Ls/2;let Jn=!1;$r>1&&(Math.abs(Rs.dot(G0))<.99?H0.crossVectors(Rs,G0).normalize():H0.set(1,0,0).cross(Rs).normalize(),Jn=!0);for(let mr=0;mr<$r;mr++){let Aa=0;$r===2?Aa=(mr===0?-.5:.5)*w*Gi:$r===3&&(Aa=(mr-1)*w*Gi),Jn?hp.copy(Kt).addScaledVector(H0,Aa):hp.copy(Kt),$0.set(Gi,ur,Gi),Xr.setFromUnitVectors(G0,Rs),Sn.compose(hp,Xr,$0),on.setMatrixAt(Le,Sn),lz.set(Nt[wt]),on.setColorAt(Le,lz),Le++,Jn?hp.copy(an).addScaledVector(H0,Aa):hp.copy(an),$0.set(Gi,ur,Gi),dz.copy(Rs).negate(),uz.setFromUnitVectors(G0,dz),Sn.compose(hp,uz,$0),on.setMatrixAt(Le,Sn),cz.set(Nt[En]),on.setColorAt(Le,cz),Le++}}on.instanceMatrix.needsUpdate=!0,on.instanceColor&&(on.instanceColor.needsUpdate=!0),on.computeBoundingBox(),on.computeBoundingSphere(),n&&$(nt)}catch(Pe){console.error("Error processing Bonds data:",Pe),L!==0&&U({type:"RESET"})}},[V,kt,Se,pe,Ie,Ge,s,o,l,d,se,g,w,S,L,n,de,f,b,t,$]),N.useEffect(()=>{if(!T.enabled||!_.current||!C.current||Ae.length===0)return;const Pe=_.current,we=C.current;V0.set(ti,ti,ti);for(let $e=0;$e<Ae.length;$e++){const He=Ae[$e];Pe.getMatrixAt(He,Sn),Sn.scale(V0),we.setMatrixAt($e,Sn)}we.instanceMatrix.needsUpdate=!0,we.count!==Ae.length&&(we.computeBoundingBox(),we.computeBoundingSphere())},[T.enabled,Ae]),N.useEffect(()=>{if(!x?.enabled||!_.current||!R.current||oe.length===0)return;const Pe=_.current,we=R.current;V0.set(Ns,Ns,Ns);for(let $e=0;$e<oe.length;$e++){const He=oe[$e];Pe.getMatrixAt(He,Sn),Sn.scale(V0),we.setMatrixAt($e,Sn)}we.instanceMatrix.needsUpdate=!0,we.count!==oe.length&&(we.computeBoundingBox(),we.computeBoundingSphere())},[x?.enabled,oe]);const nt=N.useMemo(()=>{const Pe=new wV(1,1,1,de,1);return Pe.translate(0,.5,0),Pe},[de]),It=N.useCallback(Pe=>{if(Pe.detail!==1||Pe.instanceId===void 0)return;Pe.stopPropagation();const we=j[Pe.instanceId]??Math.floor(Pe.instanceId/2);Y(e,we,Pe.shiftKey)},[Y,e,j]),Gt=N.useCallback(Pe=>{if(Pe.instanceId===void 0)return;Pe.stopPropagation();const we=j[Pe.instanceId]??Math.floor(Pe.instanceId/2);O(we)},[j]),Ze=N.useCallback(Pe=>{if(Pe.instanceId===void 0)return;Pe.stopPropagation();const we=j[Pe.instanceId]??Math.floor(Pe.instanceId/2);O(we)},[j]),ot=N.useCallback(()=>O(null),[]);return!re||!q||i.active===!1||!Ee?null:y.jsxs("group",{ref:A,children:[y.jsx("instancedMesh",{ref:_,args:[nt,void 0,L],visible:!n,onClick:!n&&T.enabled?It:void 0,onPointerEnter:!n&&x.enabled?Gt:void 0,onPointerMove:!n&&x.enabled?Ze:void 0,onPointerOut:!n&&x.enabled?ot:void 0,children:gh(f,b)},L),!n&&y.jsxs(y.Fragment,{children:[T.enabled&&y.jsx("instancedMesh",{ref:C,args:[nt,void 0,Ae.length],children:y.jsx("meshBasicMaterial",{side:tc,transparent:!0,opacity:T.opacity,color:T.color||"#FFFF00"})},`selection-${Ae.length}`),x?.enabled&&y.jsx("instancedMesh",{ref:R,args:[nt,void 0,oe.length],children:y.jsx("meshBasicMaterial",{side:Rd,transparent:!0,opacity:x.opacity,color:x.color||"#00FFFF"})},`hover-${oe.length}`)]})]})}function HDe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(we=>we.geometryDefaults),i=N.useMemo(()=>bo(t,"Box",a),[t,a]),{position:s,size:o,color:l,rotation:d,material:f,scale:h,opacity:m,selecting:b,hovering:g}=i,w=N.useRef(null),S=N.useRef(null),T=N.useRef(null),x=N.useRef(null),[_,C]=N.useState(0),R=dh(x,w,n),A=J(we=>we.currentFrame),I=J(we=>we.frameCount),O=J(we=>we.roomId),M=J(we=>we.user?.email??null),U=J(we=>we.selections),L=J(we=>we.updateSelections),z=J(we=>we.hoveredGeometryInstance),j=J(we=>we.setHoveredGeometryInstance),H=J(we=>we.setDrawingPointerPosition),$=J(we=>we.mode),q=J(we=>we.setDrawingIsValid),K=J(we=>we.setGeometryFetching),V=J(we=>we.removeGeometryFetching),{data:re,isLoading:ee}=dl(O,A),Y=N.useMemo(()=>{const we=[];return typeof s=="string"&&we.push(s),typeof o=="string"&&we.push(o),we},[s,o]),ne=N.useMemo(()=>{if(ee||!re?.metadata)return!0;const we=new Set(Object.keys(re.metadata));return Y.every($e=>we.has($e))},[re,Y,ee]),te=U[e]||[],G=N.useMemo(()=>new Set(te),[te]),W=N.useMemo(()=>Array.from(G),[G]),ue=N.useMemo(()=>W.filter(we=>we<_),[W,_]),{data:Ee,isFetching:ge,isError:fe}=Zt({queryKey:["frame",O,A,s],queryFn:()=>Wn(O,A,s,r),enabled:!!O&&!!M&&I>0&&typeof s=="string",placeholderData:Dn,retry:!1}),{data:Ae,isFetching:oe,isError:de}=Zt({queryKey:["frame",O,A,o],queryFn:()=>Wn(O,A,o,r),enabled:!!O&&!!M&&I>0&&typeof o=="string",placeholderData:Dn,retry:!1}),{data:se,isFetching:Se,isError:me}=Zt({queryKey:["frame",O,A,l],queryFn:()=>Wn(O,A,l,r),enabled:!!O&&!!M&&I>0&&typeof l=="string"&&Dr(l),placeholderData:Dn,retry:!1}),{data:ce,isFetching:pe,isError:Te}=Zt({queryKey:["frame",O,A,d],queryFn:()=>Wn(O,A,d,r),enabled:!!O&&!!M&&I>0&&typeof d=="string",placeholderData:Dn,retry:!1}),{data:be,isFetching:Ie,isError:je}=Zt({queryKey:["frame",O,A,h],queryFn:()=>Wn(O,A,h,r),enabled:!!O&&!!M&&I>0&&typeof h=="string",placeholderData:Dn,retry:!1}),ke=typeof s=="string"&&ge||typeof o=="string"&&oe||typeof l=="string"&&Dr(l)&&Se||typeof d=="string"&&pe||typeof h=="string"&&Ie,Ge=N.useMemo(()=>typeof s=="string"&&fe||typeof o=="string"&&de||typeof l=="string"&&Dr(l)&&me||typeof d=="string"&&Te||typeof h=="string"&&je,[s,fe,o,de,l,me,d,Te,h,je]);N.useEffect(()=>{K(e,ke)},[e,ke,K]),N.useEffect(()=>()=>{V(e)},[e,V]);const Et=N.useMemo(()=>{const we=[];return typeof s=="string"&&we.push(s),typeof o=="string"&&we.push(o),typeof l=="string"&&Dr(l)&&we.push(l),typeof d=="string"&&we.push(d),typeof h=="string"&&we.push(h),we},[s,o,l,d,h]);qd(e,Et);const gt=typeof s=="string"?Ee?.[s]:s,kt=typeof d=="string"?ce?.[d]:d,nt=(typeof h=="string"?be?.[h]:h)||1;uh(e,gt,kt,nt,W,"Box",i,_),Ub(e,"Box"),N.useEffect(()=>{if(I===0){_!==0&&C(0);return}if(!ke)try{const we=typeof s=="string"?Ee?.[s]:void 0,$e=hh(s,we);if($e===0){_!==0&&C(0);return}const He=sE(s,we),ft=typeof l=="string"?se?.[l]:void 0,Nt=fh(l,ft,$e),Ot=typeof o=="string"?Ae?.[o]:void 0,pt=FDe(o,Ot,$e),Me=typeof d=="string"?ce?.[d]:void 0,Je=XL(d,Me,$e),Tt=typeof h=="string"?be?.[h]:void 0,{values:Rt}=zb(h,Tt,$e),sn=mh(Nt,$e);if(!(ph({positions:He,sizes:pt,rotations:Je,scales:Rt},{positions:$e*3,sizes:$e*3,rotations:$e*3,scales:$e*3})&&sn.length===$e)){console.error("Box data is invalid or has inconsistent lengths."),_!==0&&C(0);return}if(_!==$e){C($e);return}const Yt=w.current;if(!Yt)return;for(let on=0;on<$e;on++){const Le=on*3;Kt.set(He[Le],He[Le+1],He[Le+2]),ks.set(Je[Le],Je[Le+1],Je[Le+2]);const ht=pt[Le]*Rt[Le],wt=pt[Le+1]*Rt[Le+1],En=pt[Le+2]*Rt[Le+2];Xr.setFromEuler(ks),an.set(ht,wt,En),Sn.compose(Kt,Xr,an),Yt.setMatrixAt(on,Sn),ll.set(sn[on]),Yt.setColorAt(on,ll)}if(Yt.instanceMatrix.setUsage(lb),Yt.instanceMatrix.needsUpdate=!0,Yt.instanceColor&&(Yt.instanceColor.needsUpdate=!0),Yt.computeBoundingBox(),Yt.computeBoundingSphere(),n&&R(It),b.enabled&&S.current){const on=S.current;ue.forEach((Le,ht)=>{if(Le>=$e)return;const wt=Le*3;Kt.set(He[wt],He[wt+1],He[wt+2]),ks.set(Je[wt],Je[wt+1],Je[wt+2]);const En=pt[wt]*Rt[wt]*ti,Qt=pt[wt+1]*Rt[wt+1]*ti,bn=pt[wt+2]*Rt[wt+2]*ti;Xr.setFromEuler(ks),an.set(En,Qt,bn),Sn.compose(Kt,Xr,an),on.setMatrixAt(ht,Sn)}),on.instanceMatrix.needsUpdate=!0,on.computeBoundingBox(),on.computeBoundingSphere()}}catch(we){console.error("Error processing Box data:",we),_!==0&&C(0)}},[I,ke,Ge,Ee,Ae,se,ce,be,s,o,l,d,h,_,ue,b,e,n,f,m,t,R]),N.useEffect(()=>{if(!g?.enabled||!T.current||!w.current||_===0)return;const we=T.current,$e=w.current;z?.geometryKey===e&&z?.instanceId!==null&&z.instanceId<_?(we.visible=!0,$e.getMatrixAt(z.instanceId,Ps),Ps.decompose(Kt,ol,an),we.position.copy(Kt),we.quaternion.copy(ol),we.scale.copy(an).multiplyScalar(Ns)):we.visible=!1},[z,_,g,e]);const It=N.useMemo(()=>new TV(1,1,1),[]),Gt=N.useCallback(we=>{we.detail!==1||we.instanceId===void 0||(we.stopPropagation(),L(e,we.instanceId,we.shiftKey))},[L,e]),Ze=N.useCallback(we=>{we.instanceId!==void 0&&(we.stopPropagation(),$==="drawing"&&H(we.point))},[$,H]),ot=N.useCallback(we=>{we.instanceId!==void 0&&(we.stopPropagation(),j(e,we.instanceId),q(!0))},[j,q,e]),Pe=N.useCallback(()=>{j(null,null),q(!1)},[j,q]);return!M||!O||i.active===!1||!ne?null:y.jsxs("group",{ref:x,children:[y.jsxs("instancedMesh",{ref:w,args:[void 0,void 0,_],visible:!n,onClick:!n&&b.enabled?Gt:void 0,onPointerEnter:!n&&g?.enabled?ot:void 0,onPointerMove:!n&&g?.enabled?Ze:void 0,onPointerOut:!n&&g?.enabled?Pe:void 0,children:[y.jsx("primitive",{object:It,attach:"geometry"}),gh(f,m)]},_),!n&&b.enabled&&y.jsxs("instancedMesh",{ref:S,args:[void 0,void 0,ue.length],children:[y.jsx("primitive",{object:It,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:tc,transparent:!0,opacity:b.opacity,color:b.color})]},`selection-${ue.length}`),!n&&g?.enabled&&y.jsxs("mesh",{ref:T,visible:!1,children:[y.jsx("primitive",{object:It,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Rd,transparent:!0,opacity:g.opacity,color:g.color})]})]})}function VDe({data:t,geometryKey:e}){const{camera:n}=cl(),r=J(R=>R.roomId),a=J(R=>R.geometries),i=J(R=>R.attachedCameraKey),s=J(R=>R.curveRefs),[o,l]=N.useState(()=>{const[R,A,I]=TS(t.position,a);return new tn(R,A,I)}),[d,f]=N.useState(()=>{const[R,A,I]=TS(t.target,a);return new tn(R,A,I)}),h=i===e,m=Oi(t.position)?t.position.geometry_key:null,b=Oi(t.position)?t.position.progress:0,g=Oi(t.target)?t.target.geometry_key:null,w=Oi(t.target)?t.target.progress:0,S=m?s[m]:void 0,T=g?s[g]:void 0,x=(R,A,I)=>{if(A&&Oi(R))return A.getPointAt(I);const[O,M,U]=TS(R,a);return new tn(O,M,U)};N.useEffect(()=>{const R=x(t.position,S,b);l(R)},[t.position,S,b,a]),N.useEffect(()=>{const R=x(t.target,T,w);f(R)},[t.target,T,w,a]),N.useEffect(()=>{h&&(n.position.copy(o),n.up.set(t.up[0],t.up[1],t.up[2]),n.lookAt(d),"fov"in n&&(n.fov=t.fov),n.near=t.near,n.far=t.far,n.zoom=t.zoom,n.updateProjectionMatrix())},[h,o,d,t.up,t.fov,t.near,t.far,t.zoom,n]);const _=N.useMemo(()=>t.camera_type==="PerspectiveCamera"?new CM(t.fov,1,t.near,t.far):new EV(-1,1,1,-1,t.near,t.far),[t.camera_type,t.fov,t.near,t.far]);N.useEffect(()=>{_&&(_.position.copy(o),_.up.set(t.up[0],t.up[1],t.up[2]),_.lookAt(d),_.updateMatrixWorld(!0))},[_,o,d,t.up]);const C=N.useMemo(()=>_?new Jte(_):null,[_]);return N.useEffect(()=>{C&&C.update()},[C,o,d]),!r||!t.helper_visible?null:y.jsxs("group",{children:[C&&y.jsx("primitive",{object:C}),y.jsxs("mesh",{position:d,children:[y.jsx("sphereGeometry",{args:[.1,16,16]}),y.jsx("meshBasicMaterial",{color:t.helper_color,opacity:.5,transparent:!0})]}),y.jsxs("line",{children:[y.jsx("bufferGeometry",{children:y.jsx("bufferAttribute",{attach:"attributes-position",count:2,itemSize:3,args:[new Float32Array([o.x,o.y,o.z,d.x,d.y,d.z]),3]})}),y.jsx("lineBasicMaterial",{color:t.helper_color,opacity:.3,transparent:!0})]})]})}const WDe=({data:t,pathtracingEnabled:e=!1})=>{const n=oa(),{mode:r}=zp(),a=yo(),i=J(S=>S.currentFrame),s=J(S=>S.frameCount),o=J(S=>S.roomId),l=J(S=>S.user?.email??null),d=J(S=>S.geometryDefaults),f=N.useMemo(()=>bo(t,"Cell",d),[t,d]),[h,m]=N.useState(null),{data:b,isFetching:g}=Zt({queryKey:["frame",o,i,f.position],queryFn:()=>Wn(o,i,f.position,n),enabled:!!o&&!!l,placeholderData:Dn});N.useEffect(()=>{if(s===0){h!==null&&m(null);return}if(g)return;const S=b?.[f.position];if(!S){m(null);return}if(S.length!==9){console.error("Invalid cell data length:",S.length,"expected 9"),m(null);return}const T=[new tn(Number(S[0]),Number(S[1]),Number(S[2])),new tn(Number(S[3]),Number(S[4]),Number(S[5])),new tn(Number(S[6]),Number(S[7]),Number(S[8]))],_=[new tn(0,0,0),T[0],T[1],T[0].clone().add(T[1]),T[2],T[0].clone().add(T[2]),T[1].clone().add(T[2]),T[0].clone().add(T[1]).add(T[2])],C=[[_[0],_[1]],[_[1],_[3]],[_[3],_[2]],[_[2],_[0]],[_[4],_[5]],[_[5],_[7]],[_[7],_[6]],[_[6],_[4]],[_[0],_[4]],[_[1],_[5]],[_[2],_[6]],[_[3],_[7]]];m(C)},[b,s,g,f.position]);const w=f.color==="default"?r==="light"?a.palette.primary.dark:a.palette.primary.light:f.color;return e?null:y.jsx("group",{children:h&&h.map((S,T)=>y.jsx(CV,{points:S,color:w,lineWidth:f.thickness,dashed:f.material==="LineDashedMaterial"},T))})};function ZL(t){return t instanceof HTMLElement?t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable:!1}function YDe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(Me=>Me.geometryDefaults),i=N.useMemo(()=>bo(t,"Curve",a),[t,a]),{position:s,color:o,material:l,thickness:d,divisions:f,marker:h,virtual_marker:m}=i,b=N.useMemo(()=>Array.isArray(s)&&s.length>0&&Array.isArray(s[0]),[s]),g=yo(),w=N.useRef(null),S=N.useRef(null),T=N.useRef(null),x=N.useRef(null),_=N.useRef(null),C=N.useRef(null),[R,A]=N.useState(0),[I,O]=N.useState([]),[M,U]=N.useState([]),[L,z]=N.useState([]),j=J(Me=>Me.currentFrame),H=J(Me=>Me.frameCount),$=J(Me=>Me.roomId),q=J(Me=>Me.mode),K=J(Me=>Me.drawingIsValid),V=J(Me=>Me.drawingPointerPosition),re=J(Me=>Me.exitDrawingMode),ee=J(Me=>Me.user?.email??null),Y=J(Me=>Me.setGeometryFetching),ne=J(Me=>Me.removeGeometryFetching),te=J(Me=>Me.setCurveLength),G=J(Me=>Me.activeCurveForDrawing),W=J(Me=>Me.registerCurveRef),ue=J(Me=>Me.unregisterCurveRef),Ee=J(Me=>Me.selections),ge=J(Me=>Me.updateSelections),fe=J(Me=>Me.hoveredGeometryInstance),Ae=J(Me=>Me.setHoveredGeometryInstance),oe=J(Me=>Me.geometries),de=J(Me=>Me.geometryUpdateSources),se=q==="drawing",Se=q==="editing",{data:me,isLoading:ce}=dl($,j),pe=N.useMemo(()=>{const Me=[];return typeof s=="string"&&Me.push(s),Me},[s]),Te=N.useMemo(()=>{if(ce||!me?.metadata)return!0;const Me=new Set(Object.keys(me.metadata));return pe.every(Je=>Me.has(Je))},[me,pe,ce]),be=G===e,Ie=Ee[e]||[],je=N.useMemo(()=>new Set(Ie),[Ie]),ke=N.useMemo(()=>Array.from(je),[je]),Ge=N.useMemo(()=>ke.filter(Me=>Me<R),[ke,R]),{data:Et,isFetching:gt,isError:kt}=Zt({queryKey:["frame",$,j,s],queryFn:()=>Wn($,j,s,r),enabled:!!$&&!!ee&&typeof s=="string",placeholderData:Dn,retry:!1}),Ye=typeof s=="string"&&gt,nt=N.useMemo(()=>typeof s=="string"&&kt,[s,kt]),It=N.useCallback(Me=>{Me.detail!==1||Me.instanceId===void 0||(Me.stopPropagation(),ge(e,Me.instanceId,Me.shiftKey))},[e,ge]),Gt=N.useCallback(Me=>{Me.instanceId!==void 0&&(Me.stopPropagation(),Ae(e,Me.instanceId))},[Ae,e]),Ze=N.useCallback(()=>{Ae(null,null)},[Ae]),ot=N.useCallback(Me=>{if(Me.instanceId===void 0||(Me.stopPropagation(),q!=="editing"))return;const Je=Me.instanceId,Tt=[...I];Tt.splice(Je+1,0,L[Je].clone());const Rt=Tt.map(sn=>[sn.x,sn.y,sn.z]);J.getState().updateGeometry(e,{type:"Curve",data:{...i,position:Rt}},"local"),setTimeout(()=>{ge(e,Je+1,!1)},0)},[q,I,L,e,ge,i]),Pe=N.useCallback(()=>{if(K&&V){const Me=[...I];Me.push(V.clone());const Je=Me.map(Tt=>[Tt.x,Tt.y,Tt.z]);J.getState().updateGeometry(e,{type:"Curve",data:{...i,position:Je}},"local")}else re()},[K,V,I,re,e,i]),we=N.useCallback(Me=>Me==="default"?g.palette.text.primary:Me,[g]),$e=N.useCallback(Me=>Me==="default"?g.palette.secondary.main:Me,[g]);N.useEffect(()=>{Y(e,Ye)},[e,Ye,Y]),N.useEffect(()=>()=>{ne(e),ue(e)},[e,ne,ue]);const He=N.useMemo(()=>{const Me=[];return typeof s=="string"&&Me.push(s),Me},[s]);qd(e,He),N.useEffect(()=>{if(H===0){R!==0&&A(0);return}if(!Ye)try{const Me=typeof s=="string"?Et?.[s]:void 0,Je=hh(s,Me),Tt=Se&&!b&&Je===0&&R>0&&I.length===R;if(Je===0&&!Tt){R!==0&&A(0);return}const Rt=Tt?I.flatMap(Le=>[Le.x,Le.y,Le.z]):sE(s,Me),sn=Tt?R:Je;if(!ph({positions:Rt},{positions:sn*3})){console.error("Curve data is invalid or has inconsistent lengths."),R!==0&&A(0);return}if(R!==sn){A(sn);return}const Yt=w.current;if(!Yt)return;const on=[];for(let Le=0;Le<sn;Le++){const ht=Le*3;Kt.set(Rt[ht],Rt[ht+1],Rt[ht+2]),on.push(Kt.clone()),Sn.identity().setPosition(Kt).scale(an.set(h.size,h.size,h.size)),Yt.setMatrixAt(Le,Sn)}if(Yt.instanceMatrix.setUsage(lb),Yt.instanceMatrix.needsUpdate=!0,Yt.computeBoundingBox(),Yt.computeBoundingSphere(),h.selecting?.enabled&&S.current){const Le=S.current;Ge.forEach((ht,wt)=>{if(ht>=sn)return;const En=ht*3;Kt.set(Rt[En],Rt[En+1],Rt[En+2]);const Qt=h.size*ti;Sn.identity().setPosition(Kt).scale(an.set(Qt,Qt,Qt)),Le.setMatrixAt(wt,Sn)}),Le.instanceMatrix.needsUpdate=!0,Le.computeBoundingBox(),Le.computeBoundingSphere()}Tt||(I.length!==on.length||on.some((ht,wt)=>!I[wt]||!ht.equals(I[wt])))&&O(on)}catch(Me){console.error("Error processing Curve data:",Me),R!==0&&A(0)}},[t,H,Ye,nt,Et,s,R,Ge,h.selecting?.enabled,h.size,e,Se,b]),N.useEffect(()=>{if(!h.hovering?.enabled||!T.current||!w.current||R===0||Se&&!b)return;const Me=T.current,Je=w.current;fe?.geometryKey===e&&fe?.instanceId!==null&&fe.instanceId<R?(Me.visible=!0,Je.getMatrixAt(fe.instanceId,Ps),Ps.decompose(Kt,ol,an),Me.position.copy(Kt),Me.scale.copy(an).multiplyScalar(Ns)):Me.visible=!1},[fe,R,h.hovering?.enabled,e,Se,b]),N.useEffect(()=>{const Me=[...I];if(!i)return;if(V!==null&&se&&be&&Me.push(V),Me.length<2){U([]),z([]),te(0),C.current=null,ue(e);return}const Je=new ene(Me,!1,"catmullrom",.5);C.current=Je,W(e,Je);const Tt=Je.getPoints(f*Me.length);if(U(Tt),te(Je.getLength()),Se&&b&&m.enabled){const Rt=[];for(let sn=0;sn<Me.length-1;sn++){const Rn=Me[sn],Yt=Me[sn+1];let on=Number.POSITIVE_INFINITY,Le=Number.POSITIVE_INFINITY,ht=0,wt=0;for(let Qt=0;Qt<Tt.length;Qt++){const bn=Tt[Qt].distanceTo(Rn),Mr=Tt[Qt].distanceTo(Yt);bn<on&&(on=bn,ht=Qt),Mr<Le&&(Le=Mr,wt=Qt)}const En=Math.floor((ht+wt)/2);Rt.push(Tt[En].clone())}z(Rt)}else L.length>0&&z([])},[I,V,q,be,f,te,e,W,ue,Se,b,m.enabled,L.length]),N.useEffect(()=>{if(!Se||!b||!m.enabled||!_.current||L.length===0)return;const Me=_.current;for(let Je=0;Je<L.length;Je++){const Tt=L[Je];Sn.identity().setPosition(Tt).scale(an.set(m.size,m.size,m.size)),Me.setMatrixAt(Je,Sn)}Me.instanceMatrix.needsUpdate=!0,Me.computeBoundingBox(),Me.computeBoundingSphere()},[L,Se,b,m.enabled,m.size]),N.useEffect(()=>{if(!x.current)return;const Me=x.current;if(!se||!be||!V||!h.enabled){Me.visible=!1,Me.scale.setScalar(.001),Me.position.set(0,0,0);return}Me.visible=!0,Me.position.copy(V),Me.scale.setScalar(h.size);const Je=h.color==="default"?g.palette.secondary.main:h.color,Tt=K?Je:"#FF0000";Me.material.color.set(Tt)},[V,se,be,K,h.color,h.enabled,h.size,g.palette.secondary.main,e]),N.useEffect(()=>{if(q!=="editing"||ke.length===0)return;const Me=Je=>{if(!ZL(Je.target)&&(Je.key==="Backspace"||Je.key==="Delete")){const Tt=new Set(ke),sn=I.filter((Rn,Yt)=>!Tt.has(Yt)).map(Rn=>[Rn.x,Rn.y,Rn.z]);J.getState().updateGeometry(e,{type:"Curve",data:{...i,position:sn}},"local"),ge(e,-1,!1)}};return window.addEventListener("keydown",Me),()=>{window.removeEventListener("keydown",Me)}},[q,ke,e,ge,I,i]);const ft=N.useCallback(async()=>{if(!$)return;const Me=oe[e];if(!Me||!Me.data)return;const Je=Me.data.position;if(!(!Array.isArray(Je)||Je.length===0||!Array.isArray(Je[0])))try{await Sb($,e,"Curve",Me.data)}catch(Tt){console.error(`[Curve] Failed to persist ${e}:`,Tt)}},[$,e,oe]),Nt=N.useMemo(()=>rl.debounce(ft,500),[ft]);N.useEffect(()=>()=>{Nt.cancel()},[Nt]),N.useEffect(()=>{const Me=oe[e];if(!Me)return;const Je=Me.data?.position;!Je||!Array.isArray(Je)||Je.length===0||!Array.isArray(Je[0])||de[e]!=="local"||Nt()},[oe[e]?.data?.position,de[e],Nt,e]);const Ot=typeof s=="string"?Et?.[s]:s;uh(e,Ot,null,void 0,ke,"Curve",i,R);const pt=N.useMemo(()=>new tne(1),[]);return!$||!h||!m||i.active===!1||!Te?null:n?y.jsx("group",{}):y.jsxs("group",{children:[M.length>=2&&y.jsx(CV,{points:M,color:se&&be&&!K?"#FF0000":we(o),lineWidth:d,dashed:l==="LineDashedMaterial"}),h.enabled&&y.jsxs("instancedMesh",{ref:w,args:[void 0,void 0,R],onClick:h.selecting?.enabled&&(!Se||b)?It:void 0,onPointerEnter:h.hovering?.enabled&&(!Se||b)?Gt:void 0,onPointerLeave:h.hovering?.enabled&&(!Se||b)?Ze:void 0,children:[y.jsx("primitive",{object:pt,attach:"geometry"}),y.jsx("meshBasicMaterial",{color:$e(h.color),opacity:h.opacity,transparent:h.opacity<1})]},R),h.enabled&&h.selecting?.enabled&&(!Se||b)&&y.jsxs("instancedMesh",{ref:S,args:[void 0,void 0,Ge.length],children:[y.jsx("primitive",{object:pt,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:tc,transparent:!0,opacity:h.selecting.opacity,color:h.selecting.color})]},`selection-${Ge.length}`),h.enabled&&h.hovering?.enabled&&(!Se||b)&&y.jsxs("mesh",{ref:T,visible:!1,children:[y.jsx("primitive",{object:pt,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Rd,transparent:!0,opacity:h.hovering.opacity,color:h.hovering.color})]}),Se&&b&&m.enabled&&y.jsxs("instancedMesh",{ref:_,args:[void 0,void 0,L.length],onClick:ot,children:[y.jsx("primitive",{object:pt,attach:"geometry"}),y.jsx("meshBasicMaterial",{color:$e(m.color),opacity:m.opacity,transparent:m.opacity<1})]},`virtual-${L.length}`),h.enabled&&se&&be&&V&&y.jsxs("mesh",{ref:x,onClick:Pe,children:[y.jsx("primitive",{object:pt,attach:"geometry"}),y.jsx("meshBasicMaterial",{color:$e(h.color),opacity:h.opacity,transparent:h.opacity<1})]})]})}function KDe(){const t=J(m=>m.mode),e=J(m=>m.activeCurveForDrawing),n=J(m=>m.setActiveCurveForDrawing),r=J(m=>m.geometries),[a,i]=N.useState(null);if(t!=="drawing"||!e)return null;const s=Object.entries(r).filter(([m,b])=>b.type==="Curve"&&b.data?.active!==!1).map(([m,b])=>m),o=m=>{s.length>1&&i(m.currentTarget)},l=()=>{i(null)},d=m=>{n(m),l()},f=!!a,h=s.length>1;return y.jsxs(y.Fragment,{children:[y.jsx(Re,{sx:{position:"fixed",bottom:80,right:16,zIndex:m=>m.zIndex.tooltip},children:y.jsx(pr,{icon:y.jsx(VV,{}),label:y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:.5},children:[y.jsxs(Ve,{variant:"body2",children:["Drawing on: ",e]}),h&&y.jsx(el,{fontSize:"small"})]}),color:"primary",size:"medium",onClick:o,sx:{cursor:h?"pointer":"default","& .MuiChip-label":{px:1}}})}),h&&y.jsx(PM,{anchorEl:a,open:f,onClose:l,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"},children:s.map(m=>y.jsx(rr,{selected:m===e,onClick:()=>d(m),children:m},m))})]})}const XDe={translate:y.jsx(WV,{fontSize:"small"}),rotate:y.jsx(Dre,{fontSize:"small"}),scale:y.jsx(kre,{fontSize:"small"})},ZDe={translate:"Translate",rotate:"Rotate",scale:"Scale"},QDe={x:"#f44336",y:"#4caf50",z:"#2196f3"};function JDe(){const t=J(r=>r.mode),e=J(r=>r.transformMode),n=J(r=>r.editingSelectedAxis);return t!=="editing"?null:y.jsxs(Re,{sx:{position:"fixed",bottom:80,right:16,zIndex:r=>r.zIndex.tooltip,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:.5},children:[n&&y.jsx(pr,{label:y.jsxs(Ve,{variant:"body2",sx:{fontWeight:"bold"},children:[n.toUpperCase()," axis"]}),size:"small",sx:{backgroundColor:QDe[n],color:"white",fontWeight:"bold",animation:"pulse 0.5s ease-in-out","@keyframes pulse":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.05)"},"100%":{transform:"scale(1)"}}}}),y.jsx(pr,{icon:y.jsx(hb,{}),label:y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:.5},children:[XDe[e],y.jsx(Ve,{variant:"body2",children:ZDe[e]})]}),color:"secondary",size:"medium",sx:{"& .MuiChip-label":{px:1}}}),y.jsx(Ve,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem"},children:n?"/ to adjust (Shift for larger steps)":"T: cycle modes | X/Y/Z: select axis"})]})}const eOe=({data:t})=>{const{scene:e}=cl(),n=J(h=>h.geometryDefaults),r=N.useRef(null),{mode:a}=zp(),i=bo(t,"Floor",n),s=Math.min(i.size*.3,150),o=i.color==="default"?a==="light"?"#e0e0e0":"#303030":i.color,l=i.grid_color==="default"?a==="light"?"#616161":"#9e9e9e":i.grid_color,d=i.fog_color==="default"?a==="light"?"#FFFFFF":"#212121":i.fog_color;N.useEffect(()=>{if(!i.fog_enabled){e.fog=null;return}return e.fog=new nne(d,i.fog_near,i.fog_far),()=>{e.fog=null}},[i.fog_enabled,i.fog_near,i.fog_far,d,e]),N.useEffect(()=>{if(!r.current||!i.show_grid)return;const h=r.current;h.position.y=i.height,h.material instanceof rne&&(h.material.opacity=i.grid_opacity,h.material.transparent=!0,h.material.color.set(l))},[i.height,l,i.grid_opacity,i.show_grid]);const f=Math.floor(i.size/i.grid_spacing);return y.jsxs("group",{children:[y.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,i.height-.01,0],receiveShadow:!0,children:[y.jsx("planeGeometry",{args:[i.size,i.size]}),y.jsx("meshStandardMaterial",{color:o,roughness:.8,metalness:.2})]}),i.show_grid&&y.jsx("gridHelper",{ref:r,args:[i.size,f,l,l],position:[0,i.height,0]}),i.show_shadows&&y.jsx(ane,{position:[0,i.height+.01,0],opacity:i.shadow_opacity,scale:s,blur:i.shadow_blur,far:20,resolution:512})]})};class W0 extends N.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error(`Error in geometry "${this.props.geometryKey}":`,e,`
Stack:`,e.stack,`
Component Stack:`,n.componentStack)}render(){return this.state.hasError?(console.warn(`Geometry "${this.props.geometryKey}" failed to render and was removed from the scene.`),null):this.props.children}}const UQ=(t={})=>{const{category:e="all",enabled:n=!0}=t,r=J(b=>b.roomId),a=J(b=>b.currentFrame),i=J(b=>b.particleCount),{data:s,isLoading:o}=GL(r||""),l=o||!s||!s.data.property_inspector?[]:s.data.property_inspector.enabled_properties??[],d=n&&e!=="all"&&l.length>0,{data:f}=zZ(r||void 0,a,i,d),h=N.useMemo(()=>{if(e==="all"||!f)return l;const b=new Set(f.perParticle.map(w=>w.key)),g=new Set(f.global.map(w=>w.key));return l.filter(w=>e==="per-particle"?b.has(w):e==="global"?g.has(w):!0)},[l,f,e]),m=Zwe(r||void 0,a,h,n&&h.length>0);return{enabledProperties:h,propertyValues:m,isEnabled:h.length>0,categories:f}},tOe=t=>(Array.isArray(t)||ArrayBuffer.isView(t))&&t.length>0,sb=t=>typeof t=="number"?t.toFixed(3):typeof t=="bigint"?t.toString():String(t),nOe=(t,e=5)=>{const n=Array.from(t);return n.length<=e?`[${n.map(sb).join(", ")}]`:`[${n.slice(0,3).map(sb).join(", ")}, ... +${n.length-3}]`},rOe=(t,e,n)=>{const r=n?.metadata?.shape;if(r&&Array.isArray(r)&&r.length>1){const i=r[0],s=r[1];if(e<0||e>=i)return"";const o=e*s,l=o+s;return l>t.length?"":`[${Array.from(t.slice(o,l)).map(sb).join(", ")}]`}if(e<0||e>=t.length)return"";const a=t[e];return a==null?"":sb(a)},zQ=(t,e,n)=>t==null?"":tOe(t)?e!=null?rOe(t,e,n):nOe(t):sb(t);function aOe(){const t=yo(),e=J(S=>S.showInfoBoxes),n=J(S=>S.hoveredGeometryInstance),r=J(S=>S.curveLength),a=J(S=>S.mode),i=n?.geometryKey==="particles"?n.instanceId:null,[s,o]=N.useState({x:0,y:0}),l=e&&i!==null,{enabledProperties:d,propertyValues:f,isEnabled:h,categories:m}=UQ({category:"per-particle",enabled:l});if(N.useEffect(()=>{const S=T=>{o({x:T.clientX,y:T.clientY})};return window.addEventListener("mousemove",S),()=>{window.removeEventListener("mousemove",S)}},[]),!e)return null;const b=i!=null,g=a==="drawing"&&r>0;return b||g?y.jsx(Re,{sx:{position:"fixed",left:s.x+20,top:s.y+20,pointerEvents:"none",userSelect:"none",zIndex:1e4},children:y.jsx(pa,{elevation:3,sx:{padding:1.5,backgroundColor:t.palette.mode==="dark"?"rgba(0, 0, 0, 0.85)":"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:1,minWidth:"120px",border:`1px solid ${t.palette.mode==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.15)"}`},children:y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[b&&y.jsxs(y.Fragment,{children:[y.jsxs(Ve,{variant:"body2",sx:{color:t.palette.primary.main,fontWeight:"bold"},children:["Particle: ",i]}),h&&i!=null&&d.length>0&&f.map((S,T)=>{const x=d[T];if(S.isLoading||S.isError||!S.data?.value)return null;const _=S.data.value,C=m?.perParticle.find(A=>A.key===x);if(!C)return null;const R=zQ(_,i,C);return y.jsxs(Ve,{variant:"caption",sx:{color:t.palette.text.secondary,fontFamily:"monospace",fontSize:"0.75rem"},children:[x,": ",R]},x)})]}),g&&y.jsxs(Ve,{variant:"body2",sx:{color:t.palette.warning.main,fontWeight:"bold"},children:["Length: ",r.toFixed(2)]})]})})}):null}const Go="arrays.positions",Y0="info.connectivity",iOe=()=>{const t=cl(T=>T.controls),e=oa(),n=J(T=>T.currentFrame),r=J(T=>T.selections),a=J(T=>T.geometries),i=J(T=>T.updateSelectionForGeometry),s=J(T=>T.toggleInfoBoxes),o=J(T=>T.mode),l=J(T=>T.enterDrawingMode),d=J(T=>T.exitDrawingMode),f=J(T=>T.enterEditingMode),h=J(T=>T.exitEditingMode),m=J(T=>T.cycleTransformMode),b=J(T=>T.setEditingSelectedAxis),g=J(T=>T.editingSelectedAxis),w=J(T=>T.roomId),S=J(T=>T.saveFrameEdits);return N.useEffect(()=>{const T=_=>{const C=_.target;if(!(C.tagName==="INPUT"||C.tagName==="TEXTAREA"||C.isContentEditable)){if((_.ctrlKey||_.metaKey)&&_.key==="a"){_.preventDefault();const A=e.getQueryData(["frame",w,n,Go]);let I;if(A&&typeof A=="object"&&Go in A?I=A[Go]:A&&(I=A),I){const O=I.length/3,M=Array.from({length:O},(U,L)=>L);i("particles",M)}return}if(_.key==="c"||_.key==="C"){_.preventDefault();const A=Object.values(r).some(O=>O&&O.length>0);let I=null;if(A){let O=0,M=0,U=0,L=0,z;const j=e.getQueryData(["frame",w,n,Go]);j&&typeof j=="object"&&Go in j?z=j[Go]:j&&(z=j);let H;const $=e.getQueryData(["frame",w,n,Y0]);$&&typeof $=="object"&&Y0 in $?H=$[Y0]:$&&(H=$);for(const[q,K]of Object.entries(r)){if(!K||K.length===0)continue;const V=a[q],re=V?.data?.position,ee=V?.data?.connectivity;if(typeof ee=="string"&&ee===Y0&&H&&z&&H&&z)for(const ne of K){const te=ne*3;if(te+1<H.length){const G=Number(H[te]),W=Number(H[te+1]),ue=G*3;ue+2<z.length&&(O+=Number(z[ue]),M+=Number(z[ue+1]),U+=Number(z[ue+2]),L++);const Ee=W*3;Ee+2<z.length&&(O+=Number(z[Ee]),M+=Number(z[Ee+1]),U+=Number(z[Ee+2]),L++)}}else if(ib(re)){for(const ne of K)if(ne>=0&&ne<re.length){const[te,G,W]=re[ne];O+=te,M+=G,U+=W,L++}}else if(typeof re=="string"&&re===Go&&z)for(const ne of K){const te=ne*3;te+2<z.length&&(O+=Number(z[te]),M+=Number(z[te+1]),U+=Number(z[te+2]),L++)}}L>0&&(I=new tn(O/L,M/L,U/L))}if(!I){const O=e.getQueryData(["frame",w,n,Go]);let M;if(O&&typeof O=="object"&&Go in O?M=O[Go]:O&&(M=O),M&&M.length>=3){const U=M.length/3;let L=0,z=0,j=0;for(let H=0;H<M.length;H+=3)L+=Number(M[H]),z+=Number(M[H+1]),j+=Number(M[H+2]);I=new tn(L/U,z/U,j/U)}}if(I&&t){const O=t.object,M=t.target,U=new tn;O.getWorldDirection(U);const L=O.position.distanceTo(M),z=I.clone().add(U.multiplyScalar(-L));O.position.copy(z),t.target.copy(I),t.update()}else t||console.warn("Camera controls not available");return}if(o==="editing"&&(_.key==="x"||_.key==="X"||_.key==="y"||_.key==="Y"||_.key==="z"||_.key==="Z")){_.preventDefault();const A=_.key.toLowerCase();b(A);return}if(_.key==="x"||_.key==="X"){_.preventDefault(),o==="drawing"?d():o==="view"&&l(e);return}if(_.key==="e"||_.key==="E"){_.preventDefault(),o==="editing"?h():o==="view"&&f();return}if((_.key==="t"||_.key==="T")&&o==="editing"){_.preventDefault(),m();return}if((_.key==="s"||_.key==="S")&&o==="editing"){_.preventDefault(),S();return}if(_.key==="i"||_.key==="I"){_.preventDefault(),s();return}if(_.key==="r"||_.key==="R"){_.preventDefault();const A=_.ctrlKey;if(!t){console.warn("Camera controls not available");return}const I=t.object,O=t.target,M=new tn;I.getWorldDirection(M);const U=M.clone().normalize(),L=I.position.clone().sub(O),z=(_.shiftKey?Math.PI/8:Math.PI/32)*(A?-1:1);L.applyAxisAngle(U,z),I.position.copy(L.add(O));const j=I.up.clone();j.applyAxisAngle(U,z),I.up.copy(j),t.update();return}}},x=_=>{if(o==="editing"&&(_.key==="x"||_.key==="X"||_.key==="y"||_.key==="Y"||_.key==="z"||_.key==="Z")){const C=_.key.toLowerCase();g===C&&b(null)}};return window.addEventListener("keydown",T),window.addEventListener("keyup",x),()=>{window.removeEventListener("keydown",T),window.removeEventListener("keyup",x)}},[t,r,a,i,e,n,s,o,l,d,f,h,m,b,g,w,S]),null};function sOe(){const t=J(L=>L.mode),e=J(L=>L.transformMode),n=J(L=>L.editingSelectedAxis),r=J(L=>L.geometries),a=J(L=>L.selections),i=J(L=>L.notifyEditingChange),s=J(L=>L.showSnackbar),o=J(L=>L.updateSelectionForGeometry),l=J(L=>L.setEditingCombinedCentroid),d=J(L=>L.loadedDynamicPositions),f=N.useRef(null),[h,m]=N.useState(!1),[b,g]=N.useState(null),[w,S]=N.useState(!1),T=N.useRef(new Set),x=N.useRef(!1),_=N.useRef(null),C=N.useMemo(()=>Object.entries(a).filter(([z,j])=>j&&j.length>0).map(([z,j])=>`${z}:${j.sort().join(",")}`).sort().join("|"),[a]),R=N.useMemo(()=>{const L=new Map;return d.forEach((z,j)=>{L.set(j,{geometryKey:j,positionKey:z.positionKey,positions:z.positions})}),L},[d]);N.useEffect(()=>{if(t!=="editing"){T.current.clear();return}const{invalidGeometries:L}=rz(r,a,R),z=L.filter(j=>!T.current.has(j));if(z.length>0){s(`Deselected instances with unavailable positions in: ${z.join(", ")}`,"warning"),z.forEach(j=>T.current.add(j));for(const j of z)o(j,[])}},[t,r,a,R]),N.useEffect(()=>{if(t!=="editing"){g(null),S(!1),m(!1),l(null),_.current=null;return}if(x.current)return;const L=_.current!==C,z=_.current===null;if(!L&&!z)return;const{validSelections:j,dynamicSelections:H}=rz(r,a,R),$=kDe(r,j,H,R);if(!$){g(null),S(!1),l(null);return}g($),S(!0),l($),_.current=C,f.current&&(f.current.position.set($[0],$[1],$[2]),f.current.rotation.set(0,0,0),f.current.scale.set(1,1,1))},[t,r,a,C,l,R]);const A=N.useMemo(()=>rl.throttle(L=>{i(L)},50,{leading:!0,trailing:!0}),[i]);N.useEffect(()=>()=>{A.cancel()},[A]);const I=N.useCallback(()=>{if(!f.current)return;const L=new Ni;L.compose(f.current.position,f.current.quaternion,f.current.scale),A(L)},[A]),O=N.useCallback(()=>{x.current=!0},[]),M=N.useCallback(()=>{x.current=!1},[]),U=N.useCallback(L=>{f.current=L,m(!!L)},[]);return N.useEffect(()=>{if(t!=="editing"||!n||!f.current)return;const L=z=>{if(ZL(z.target)||z.key!=="ArrowUp"&&z.key!=="ArrowDown"||!f.current||!n)return;z.preventDefault();const j=z.key==="ArrowUp"?1:-1,H=f.current,$=z.shiftKey?1:.1,q=z.shiftKey?Math.PI/4:Math.PI/36,K=z.shiftKey?1.5:1.1,V={x:0,y:1,z:2}[n];switch(e){case"translate":{const ee=[0,0,0];ee[V]=j*$,H.position.x+=ee[0],H.position.y+=ee[1],H.position.z+=ee[2];break}case"rotate":{const ee=new kS;ee.copy(H.rotation);const Y=[ee.x,ee.y,ee.z];Y[V]+=j*q,H.rotation.set(Y[0],Y[1],Y[2]);break}case"scale":{const ee=j>0?K:1/K,Y=[H.scale.x,H.scale.y,H.scale.z];Y[V]*=ee,H.scale.set(Y[0],Y[1],Y[2]);break}}const re=new Ni;re.compose(H.position,H.quaternion,H.scale),i(re)};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[t,n,e,i]),t!=="editing"||!b||!w?null:y.jsxs(y.Fragment,{children:[y.jsx("object3D",{ref:U,position:b}),h&&f.current&&y.jsx(ine,{object:f.current,mode:e,onChange:I,onMouseDown:O,onMouseUp:M})]})}function oOe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function lOe(t,e,n,r,a){const i=oa(),s=J(O=>O.mode),o=J(O=>O.transformMode),l=J(O=>O.currentFrame),d=J(O=>O.roomId),f=J(O=>O.subscribeToEditing),h=J(O=>O.editingCombinedCentroid),m=J(O=>O.setPendingFrameEdit),b=J(O=>O.incrementEditingFrameDataCount),g=J(O=>O.decrementEditingFrameDataCount),w=s==="editing",S=N.useRef(r),T=N.useRef(r);oOe(S.current,r)||(S.current=r,T.current=r);const x=T.current,_=N.useRef(null),C=N.useRef(new Map),R=N.useRef(null),A=N.useRef(null),I=x.length>0;return N.useEffect(()=>{if(!n)return;if(!w||!I||!h){_.current=null,C.current=new Map,R.current=null,A.current=null;return}b();const O=h.join(",");if(A.current!==O){const L=h;_.current=L,R.current=new Float32Array(n);const z=nz(n),j=FQ(z,x,L);C.current=j,A.current=O}if(!_.current||C.current.size===0||!R.current)return;const U=f(t,L=>{const z=J.getState().transformMode;if(z!=="translate"&&z!=="rotate")return;const j=_.current,H=C.current,$=R.current;if(!j||H.size===0||!$)return;const q=nz($),K=EM(q,x,L,j,H),V=IDe(K),re=J.getState().roomId,ee=J.getState().currentFrame;if(re){const Y=["frame",re,ee,e];i.setQueryData(Y,V),i.setQueriesData({queryKey:["frame",re,ee]},ne=>ne&&typeof ne=="object"?{...ne,[e]:V}:ne),m(ee,e,V)}});return()=>{U(),g()}},[w,I,n,x,f,t,e,h,i,d,l,m,b,g,o]),{isFrameEditing:w&&I&&n!==null}}function cOe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(Le=>Le.geometryDefaults),i=J(Le=>Le.currentFrame),s=J(Le=>Le.frameCount),o=J(Le=>Le.roomId),l=J(Le=>Le.user?.email??null),d=J(Le=>Le.selections),f=J(Le=>Le.updateSelections),h=J(Le=>Le.setDrawingPointerPosition),m=J(Le=>Le.mode),b=J(Le=>Le.setDrawingIsValid),g=J(Le=>Le.setGeometryFetching),w=J(Le=>Le.removeGeometryFetching),S=J(Le=>Le.hoveredGeometryInstance),T=J(Le=>Le.setHoveredGeometryInstance),x=J(Le=>Le.setParticleCount);J(Le=>Le.updateGeometry);const _=J(Le=>Le.registerLoadedDynamicPositions),C=J(Le=>Le.unregisterLoadedDynamicPositions),R=N.useMemo(()=>bo(t,"Sphere",a),[t,a]),{position:A,color:I,radius:O,material:M,resolution:U,scale:L,selecting:z,hovering:j,opacity:H}=R,$=N.useRef(null),q=N.useRef(null),K=N.useRef(null),V=N.useRef(null),[re,ee]=N.useState(0),Y=dh(V,$,n),{data:ne,isLoading:te}=dl(o,i),G=N.useMemo(()=>{const Le=[],ht=Ep(A)?_0(A):[];return typeof A=="string"?Le.push(A):ht.length>0&&Le.push(...ht),Le},[A]),W=N.useMemo(()=>{if(te||G.length===0||!ne?.metadata)return!0;const Le=new Set(Object.keys(ne.metadata));return G.every(ht=>Le.has(ht))},[ne,G,te]),ue=d[e]||[],Ee=N.useMemo(()=>new Set(ue),[ue]),ge=N.useMemo(()=>Array.from(Ee),[Ee]),fe=N.useMemo(()=>ge.filter(Le=>Le<re),[ge,re]),Ae=U||8,oe=Ep(A),de=Ep(I),se=Ep(O),Se=oe?_0(A):[],me=de?_0(I):[],ce=se?_0(O):[],pe=N.useMemo(()=>{const Le=new Set;return[...Se,...me,...ce].forEach(ht=>Le.add(ht)),Array.from(Le)},[Se,me,ce]),Te=kV({queries:pe.map(Le=>({queryKey:["frame",o,i,Le],queryFn:()=>Wn(o,i,Le,r),enabled:!!o&&!!l&&s>0,placeholderData:Dn,retry:!1}))}),be=Te.map(Le=>Le.data),Ie=N.useMemo(()=>{if(pe.length===0)return null;const Le={};return pe.forEach((ht,wt)=>{const En=be[wt];En&&En[ht]&&(Le[ht]=En[ht])}),Object.keys(Le).length>0?Le:null},[pe,be]),je=N.useMemo(()=>Te.some(Le=>Le.isFetching),[Te]),ke=N.useMemo(()=>Te.some(Le=>Le.isError),[Te]),{data:Ge,isFetching:Et,isError:gt}=Zt({queryKey:["frame",o,i,A],queryFn:()=>Wn(o,i,A,r),enabled:!!o&&!!l&&s>0&&typeof A=="string"&&!oe,placeholderData:Dn,retry:!1}),{data:kt,isFetching:Ye,isError:nt}=Zt({queryKey:["frame",o,i,I],queryFn:()=>Wn(o,i,I,r),enabled:!!o&&!!l&&s>0&&typeof I=="string"&&!de&&Dr(I),placeholderData:Dn,retry:!1}),{data:It,isFetching:Gt,isError:Ze}=Zt({queryKey:["frame",o,i,O],queryFn:()=>Wn(o,i,O,r),enabled:!!o&&!!l&&s>0&&typeof O=="string"&&!se,placeholderData:Dn,retry:!1}),{data:ot,isFetching:Pe,isError:we}=Zt({queryKey:["frame",o,i,L],queryFn:()=>Wn(o,i,L,r),enabled:!!o&&!!l&&s>0&&typeof L=="string",placeholderData:Dn,retry:!1}),$e=pe.length>0&&je||typeof A=="string"&&!oe&&Et||typeof I=="string"&&!de&&Dr(I)&&Ye||typeof O=="string"&&!se&&Gt||typeof L=="string"&&Pe,He=N.useMemo(()=>pe.length>0&&ke||typeof A=="string"&&!oe&&gt||typeof I=="string"&&!de&&Dr(I)&&nt||typeof O=="string"&&!se&&Ze||typeof L=="string"&&we,[pe.length,ke,A,oe,gt,I,de,nt,O,se,Ze,L,we]);N.useEffect(()=>{g(e,$e)},[e,$e,g]),N.useEffect(()=>()=>{w(e)},[e,w]);const ft=N.useMemo(()=>{const Le=[];for(const ht of pe)Le.push(ht);return typeof A=="string"&&!oe&&Le.push(A),typeof I=="string"&&!de&&Dr(I)&&Le.push(I),typeof O=="string"&&!se&&Le.push(O),typeof L=="string"&&Le.push(L),Le},[pe,A,oe,I,de,O,se,L]);qd(e,ft);const Nt=typeof A=="string"?Ge?.[A]:A,pt=(typeof L=="string"?ot?.[L]:L)||1,Me=LQ(A),Je=Me&&typeof A=="string"?Ge?.[A]??null:null,Tt=N.useRef(null);N.useEffect(()=>{if(!(!Me||typeof A!="string")&&Je){const Le=Tt.current,ht=Le&&Le!==e;_(e,A,Je),Tt.current=e,ht&&C(Le)}},[e,A,Me,Je,_,C]),N.useEffect(()=>()=>{Tt.current&&C(Tt.current)},[C]),uh(e,Me?null:Nt,null,pt,ge,"Sphere",R,re),lOe(e,Me?A:"",Je,ge),Ub(e,"Sphere"),N.useEffect(()=>{if(s===0){re!==0&&ee(0);return}if(!$e)try{if((oe||se||de)&&!Ie){re!==0&&ee(0);return}let Le;oe&&Ie?Le=$U(A,Ie):typeof A=="string"?Le=Ge?.[A]:Le=void 0;let ht;se&&Ie?ht=$U(O,Ie):typeof O=="string"?ht=It?.[O]:ht=void 0;let wt;de&&Ie?wt=void 0:typeof I=="string"?wt=kt?.[I]:wt=void 0;const En=hh(A,Le),Qt=ht?ht.length:0;if(oe&&En===0||se&&Qt===0){re!==0&&ee(0);return}const bn=En;if(bn===0){re!==0&&ee(0);return}const Mr=gd(A,Le,bn),Ls=fh(I,wt,bn),$r=gd(O,ht,bn),uc=typeof L=="string"?ot?.[L]:void 0,{values:Ra}=zb(L,uc,bn),xo=mh(Ls,bn);if(!(ph({positions:Mr,radii:$r,scales:Ra},{positions:bn*3,radii:bn,scales:bn*3})&&xo.length===bn)){console.error("Sphere/Particles data is invalid or has inconsistent lengths."),re!==0&&ee(0);return}if(re!==bn){ee(bn),x(bn);return}const ur=$.current;if(!ur)return;for(let Jn=0;Jn<bn;Jn++){const mr=Jn*3;Kt.set(Mr[mr],Mr[mr+1],Mr[mr+2]);const Aa=$r[Jn];Sn.identity().setPosition(Kt).scale(Kt.set(Aa*Ra[mr],Aa*Ra[mr+1],Aa*Ra[mr+2])),ur.setMatrixAt(Jn,Sn),ll.set(xo[Jn]),ur.setColorAt(Jn,ll)}if(ur.instanceMatrix.setUsage(lb),ur.instanceMatrix.needsUpdate=!0,ur.instanceColor&&(ur.instanceColor.needsUpdate=!0),ur.computeBoundingBox(),ur.computeBoundingSphere(),n&&Y(Rt),z.enabled&&q.current){const Jn=q.current;fe.forEach((mr,Aa)=>{if(mr>=bn)return;const Ei=mr*3;Kt.set(Mr[Ei],Mr[Ei+1],Mr[Ei+2]);const Fs=$r[mr]*ti;Sn.identity().setPosition(Kt).scale(Kt.set(Fs*Ra[Ei],Fs*Ra[Ei+1],Fs*Ra[Ei+2])),Jn.setMatrixAt(Aa,Sn)}),Jn.instanceMatrix.needsUpdate=!0,Jn.computeBoundingBox(),Jn.computeBoundingSphere()}}catch(Le){console.error("Error processing Sphere/Particles data:",Le),re!==0&&ee(0)}},[s,$e,He,Ge,kt,It,ot,Ie,A,I,O,L,oe,se,de,re,fe,z,n,Ae,M,H,t,Y]),N.useEffect(()=>{if(!j?.enabled||!K.current||!$.current||re===0)return;const Le=K.current,ht=$.current;S?.geometryKey===e&&S?.instanceId!==null&&S.instanceId<re?(Le.visible=!0,ht.getMatrixAt(S.instanceId,Ps),Ps.decompose(Kt,ol,an),Le.position.copy(Kt),Le.scale.copy(an).multiplyScalar(Ns)):Le.visible=!1},[S,re,j,e]);const Rt=N.useMemo(()=>new sne(1,Ae,Ae),[Ae]),sn=N.useCallback(Le=>{Le.detail!==1||Le.instanceId===void 0||(Le.stopPropagation(),f(e,Le.instanceId,Le.shiftKey))},[f,e]),Rn=N.useCallback(Le=>{Le.instanceId!==void 0&&(Le.stopPropagation(),m==="drawing"&&h(Le.point))},[m,h]),Yt=N.useCallback(Le=>{Le.instanceId!==void 0&&(Le.stopPropagation(),T(e,Le.instanceId),b(!0))},[b,T,e]),on=N.useCallback(()=>{T(null,null),b(!1)},[b,T]);return!l||!o||R.active===!1||!W?null:y.jsxs("group",{ref:V,children:[y.jsxs("instancedMesh",{ref:$,args:[void 0,void 0,re],visible:!n,onClick:!n&&z.enabled?sn:void 0,onPointerEnter:!n&&j?.enabled?Yt:void 0,onPointerMove:!n&&j?.enabled?Rn:void 0,onPointerOut:!n&&j?.enabled?on:void 0,children:[y.jsx("primitive",{object:Rt,attach:"geometry"}),gh(M,H)]},re),!n&&z.enabled&&y.jsxs("instancedMesh",{ref:q,args:[void 0,void 0,fe.length],children:[y.jsx("primitive",{object:Rt,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:tc,transparent:!0,opacity:z.opacity,color:z.color})]},`selection-${fe.length}`),!n&&j?.enabled&&y.jsxs("mesh",{ref:K,visible:!1,children:[y.jsx("primitive",{object:Rt,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Rd,transparent:!0,opacity:j.opacity,color:j.color})]})]})}function uOe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(He=>He.geometryDefaults),i=N.useMemo(()=>bo(t,"Plane",a),[t,a]),{position:s,size:o,color:l,rotation:d,material:f,scale:h,double_sided:m,selecting:b,hovering:g,opacity:w}=i,S=N.useRef(null),T=N.useRef(null),x=N.useRef(null),_=N.useRef(null),[C,R]=N.useState(0),A=dh(_,S,n),I=J(He=>He.currentFrame),O=J(He=>He.frameCount),M=J(He=>He.roomId),U=J(He=>He.user?.email??null),L=J(He=>He.selections),z=J(He=>He.updateSelections),j=J(He=>He.hoveredGeometryInstance),H=J(He=>He.setHoveredGeometryInstance),$=J(He=>He.setDrawingPointerPosition),q=J(He=>He.mode),K=J(He=>He.setDrawingIsValid),V=J(He=>He.setGeometryFetching),re=J(He=>He.removeGeometryFetching),{data:ee,isLoading:Y}=dl(M,I),ne=N.useMemo(()=>{const He=[];return typeof s=="string"&&He.push(s),typeof o=="string"&&He.push(o),He},[s,o]),te=N.useMemo(()=>{if(Y||!ee?.metadata)return!0;const He=new Set(Object.keys(ee.metadata));return ne.every(ft=>He.has(ft))},[ee,ne,Y]),G=L[e]||[],W=N.useMemo(()=>new Set(G),[G]),ue=N.useMemo(()=>Array.from(W),[W]),Ee=N.useMemo(()=>ue.filter(He=>He<C),[ue,C]),{data:ge,isFetching:fe,isError:Ae}=Zt({queryKey:["frame",M,I,s],queryFn:()=>Wn(M,I,s,r),enabled:!!M&&!!U&&O>0&&typeof s=="string",placeholderData:Dn,retry:!1}),{data:oe,isFetching:de,isError:se}=Zt({queryKey:["frame",M,I,o],queryFn:()=>Wn(M,I,o,r),enabled:!!M&&!!U&&O>0&&typeof o=="string",placeholderData:Dn,retry:!1}),{data:Se,isFetching:me,isError:ce}=Zt({queryKey:["frame",M,I,l],queryFn:()=>Wn(M,I,l,r),enabled:!!M&&!!U&&O>0&&typeof l=="string"&&Dr(l),placeholderData:Dn,retry:!1}),{data:pe,isFetching:Te,isError:be}=Zt({queryKey:["frame",M,I,d],queryFn:()=>Wn(M,I,d,r),enabled:!!M&&!!U&&O>0&&typeof d=="string",placeholderData:Dn,retry:!1}),{data:Ie,isFetching:je,isError:ke}=Zt({queryKey:["frame",M,I,h],queryFn:()=>Wn(M,I,h,r),enabled:!!M&&!!U&&O>0&&typeof h=="string",placeholderData:Dn,retry:!1}),Ge=typeof s=="string"&&fe||typeof o=="string"&&de||typeof l=="string"&&Dr(l)&&me||typeof d=="string"&&Te||typeof h=="string"&&je,Et=N.useMemo(()=>typeof s=="string"&&Ae||typeof o=="string"&&se||typeof l=="string"&&Dr(l)&&ce||typeof d=="string"&&be||typeof h=="string"&&ke,[s,Ae,o,se,l,ce,d,be,h,ke]);N.useEffect(()=>{V(e,Ge)},[e,Ge,V]),N.useEffect(()=>()=>{re(e)},[e,re]);const gt=N.useMemo(()=>{const He=[];return typeof s=="string"&&He.push(s),typeof o=="string"&&He.push(o),typeof l=="string"&&Dr(l)&&He.push(l),typeof d=="string"&&He.push(d),typeof h=="string"&&He.push(h),He},[s,o,l,d,h]);qd(e,gt);const kt=typeof s=="string"?ge?.[s]:s,Ye=typeof d=="string"?pe?.[d]:d,It=(typeof h=="string"?Ie?.[h]:h)||1;uh(e,kt,Ye,It,ue,"Plane",i,C),Ub(e,"Plane"),N.useEffect(()=>{if(O===0){C!==0&&R(0);return}if(!Ge)try{const He=typeof s=="string"?ge?.[s]:void 0,ft=hh(s,He);if(ft===0){C!==0&&R(0);return}const Nt=sE(s,He),Ot=typeof l=="string"?Se?.[l]:void 0,pt=fh(l,Ot,ft),Me=typeof o=="string"?oe?.[o]:void 0,Je=LDe(o,Me,ft),Tt=typeof d=="string"?pe?.[d]:void 0,Rt=XL(d,Tt,ft),sn=typeof h=="string"?Ie?.[h]:void 0,{values:Rn}=zb(h,sn,ft),Yt=mh(pt,ft);if(!(ph({positions:Nt,sizes:Je,rotations:Rt,scales:Rn},{positions:ft*3,sizes:ft*2,rotations:ft*3,scales:ft*3})&&Yt.length===ft)){console.error("Plane data is invalid or has inconsistent lengths."),C!==0&&R(0);return}if(C!==ft){R(ft);return}const Le=S.current;if(!Le)return;for(let ht=0;ht<ft;ht++){const wt=ht*3,En=ht*2;Kt.set(Nt[wt],Nt[wt+1],Nt[wt+2]),ks.set(Rt[wt],Rt[wt+1],Rt[wt+2]);const Qt=Je[En]*Rn[wt],bn=Je[En+1]*Rn[wt+1];Xr.setFromEuler(ks),an.set(Qt,bn,Rn[wt+2]),Sn.compose(Kt,Xr,an),Le.setMatrixAt(ht,Sn),ll.set(Yt[ht]),Le.setColorAt(ht,ll)}if(Le.instanceMatrix.setUsage(lb),Le.instanceMatrix.needsUpdate=!0,Le.instanceColor&&(Le.instanceColor.needsUpdate=!0),Le.computeBoundingBox(),Le.computeBoundingSphere(),n&&A(Gt),b.enabled&&T.current){const ht=T.current;Ee.forEach((wt,En)=>{if(wt>=ft)return;const Qt=wt*3,bn=wt*2;Kt.set(Nt[Qt],Nt[Qt+1],Nt[Qt+2]),ks.set(Rt[Qt],Rt[Qt+1],Rt[Qt+2]);const Mr=Je[bn]*Rn[Qt]*ti,Ls=Je[bn+1]*Rn[Qt+1]*ti,$r=.01*Rn[Qt+2];Xr.setFromEuler(ks),an.set(Mr,Ls,$r),Sn.compose(Kt,Xr,an),ht.setMatrixAt(En,Sn)}),ht.instanceMatrix.needsUpdate=!0,ht.computeBoundingBox(),ht.computeBoundingSphere()}}catch(He){console.error("Error processing Plane data:",He),C!==0&&R(0)}},[O,Ge,Et,ge,oe,Se,pe,Ie,s,o,l,d,h,C,Ee,b,e,n,f,w,t,A]),N.useEffect(()=>{if(!g?.enabled||!x.current||!S.current||C===0)return;const He=x.current,ft=S.current;j?.geometryKey===e&&j?.instanceId!==null&&j.instanceId<C?(He.visible=!0,ft.getMatrixAt(j.instanceId,Ps),Ps.decompose(Kt,ol,an),He.position.copy(Kt),He.quaternion.copy(ol),He.scale.set(an.x*Ns,an.y*Ns,an.z)):He.visible=!1},[j,C,g,e]);const Gt=N.useMemo(()=>new one(1,1),[]),Ze=N.useMemo(()=>new TV(1,1,.01),[]),ot=N.useCallback(He=>{He.detail!==1||He.instanceId===void 0||(He.stopPropagation(),z(e,He.instanceId,He.shiftKey))},[z,e]),Pe=N.useCallback(He=>{He.instanceId!==void 0&&(He.stopPropagation(),q==="drawing"&&$(He.point))},[q,$]),we=N.useCallback(He=>{He.instanceId!==void 0&&(He.stopPropagation(),H(e,He.instanceId),K(!0))},[H,K,e]),$e=N.useCallback(()=>{H(null,null),K(!1)},[H,K]);return!U||!M||i.active===!1||!te?null:y.jsxs("group",{ref:_,children:[y.jsxs("instancedMesh",{ref:S,args:[void 0,void 0,C],visible:!n,onClick:!n&&b.enabled?ot:void 0,onPointerEnter:!n&&g?.enabled?we:void 0,onPointerMove:!n&&g?.enabled?Pe:void 0,onPointerOut:!n&&g?.enabled?$e:void 0,children:[y.jsx("primitive",{object:Gt,attach:"geometry"}),gh(f,w,void 0,m?Kc:tc)]},C),!n&&b.enabled&&y.jsxs("instancedMesh",{ref:T,args:[void 0,void 0,Ee.length],children:[y.jsx("primitive",{object:Ze,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:m?Kc:tc,transparent:!0,opacity:b.opacity,color:b.color})]},`selection-${Ee.length}`),!n&&g?.enabled&&y.jsxs("mesh",{ref:x,visible:!1,children:[y.jsx("primitive",{object:Ze,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Rd,transparent:!0,opacity:g.opacity,color:g.color})]})]})}function dOe(){const{gl:t,scene:e,camera:n}=cl(),r=J(l=>l.setScreenshotCapture),a=J(l=>l.pathtracerCapture),i=J(l=>l.roomId),s=N.useCallback(async()=>(t.render(e,n),new Promise((l,d)=>{t.domElement.toBlob(f=>{f?l(f):d(new Error("Failed to create blob from canvas"))},"image/png",1)})),[t,e,n]),o=N.useCallback(()=>a??s,[a,s]);return N.useEffect(()=>{const l=o();return r(l),()=>r(null)},[o,r]),N.useEffect(()=>{const l=async({screenshot_id:d,upload_url:f})=>{if(!i){console.error("[ScreenshotProvider] No roomId");return}try{const m=await o()();await Lse(f,m,"png",t.domElement.width,t.domElement.height)}catch(h){console.error("[ScreenshotProvider] Error:",h)}};return bt.on("screenshot_request",l),()=>bt.off("screenshot_request",l)},[o,i,t]),null}function fOe(t){const e=new RV;if(t.length===0)return e;e.moveTo(t[0][0],t[0][1]);for(let n=1;n<t.length;n++)e.lineTo(t[n][0],t[n][1]);return e.closePath(),e}function pOe({data:t,geometryKey:e,pathtracingEnabled:n=!1}){const r=oa(),a=J(ke=>ke.geometryDefaults),i=N.useMemo(()=>bo(t,"Shape",a),[t,a]),{vertices:s,position:o,rotation:l,color:d,material:f,scale:h,opacity:m,selecting:b,hovering:g}=i,w=N.useRef(null),S=N.useRef(null),T=N.useRef(null),x=N.useRef(null),[_,C]=N.useState(0),R=dh(x,w,n),A=J(ke=>ke.currentFrame),I=J(ke=>ke.frameCount),O=J(ke=>ke.roomId),M=J(ke=>ke.user?.email??null),U=J(ke=>ke.selections),L=J(ke=>ke.updateSelections),z=J(ke=>ke.hoveredGeometryInstance),j=J(ke=>ke.setHoveredGeometryInstance),H=J(ke=>ke.setGeometryFetching),$=J(ke=>ke.removeGeometryFetching),{data:q,isLoading:K}=dl(O,A),V=N.useMemo(()=>{const ke=[];return typeof o=="string"&&ke.push(o),ke},[o]),re=N.useMemo(()=>{if(K||!q?.metadata)return!0;const ke=new Set(Object.keys(q.metadata));return V.every(Ge=>ke.has(Ge))},[q,V,K]),ee=U[e]||[],Y=N.useMemo(()=>new Set(ee),[ee]),ne=N.useMemo(()=>Array.from(Y),[Y]),te=N.useMemo(()=>ne.filter(ke=>ke<_),[ne,_]),G=N.useMemo(()=>{if(!s||s.length<3)return new A3(new RV);const ke=fOe(s);return new A3(ke)},[s]),{data:W,isFetching:ue}=Zt({queryKey:["frame",O,A,o],queryFn:()=>Wn(O,A,o,r),enabled:!!O&&!!M&&I>0&&typeof o=="string",placeholderData:Dn,retry:!1}),{data:Ee,isFetching:ge}=Zt({queryKey:["frame",O,A,d],queryFn:()=>Wn(O,A,d,r),enabled:!!O&&!!M&&I>0&&typeof d=="string"&&Dr(d),placeholderData:Dn,retry:!1}),{data:fe,isFetching:Ae}=Zt({queryKey:["frame",O,A,l],queryFn:()=>Wn(O,A,l,r),enabled:!!O&&!!M&&I>0&&typeof l=="string",placeholderData:Dn,retry:!1}),{data:oe,isFetching:de}=Zt({queryKey:["frame",O,A,h],queryFn:()=>Wn(O,A,h,r),enabled:!!O&&!!M&&I>0&&typeof h=="string",placeholderData:Dn,retry:!1}),se=typeof o=="string"&&ue||typeof d=="string"&&Dr(d)&&ge||typeof l=="string"&&Ae||typeof h=="string"&&de;N.useEffect(()=>{H(e,se)},[e,se,H]),N.useEffect(()=>()=>{$(e)},[e,$]);const Se=N.useMemo(()=>{const ke=[];return typeof o=="string"&&ke.push(o),typeof d=="string"&&Dr(d)&&ke.push(d),typeof l=="string"&&ke.push(l),typeof h=="string"&&ke.push(h),ke},[o,d,l,h]);qd(e,Se);const me=typeof o=="string"?W?.[o]:o,ce=typeof l=="string"?fe?.[l]:l,Te=(typeof h=="string"?oe?.[h]:h)||1;uh(e,me,ce,Te,ne,"Shape",i,_),Ub(e,"Shape"),N.useEffect(()=>{if(I===0){_!==0&&C(0);return}if(!se)try{const ke=typeof o=="string"?W?.[o]:void 0,Ge=hh(o,ke);if(Ge===0){_!==0&&C(0);return}const Et=sE(o,ke),gt=typeof d=="string"?Ee?.[d]:void 0,kt=fh(d,gt,Ge),Ye=typeof l=="string"?fe?.[l]:void 0,nt=XL(l,Ye,Ge),It=typeof h=="string"?oe?.[h]:void 0,{values:Gt}=zb(h,It,Ge),Ze=mh(kt,Ge);if(!(ph({positions:Et,rotations:nt,scales:Gt},{positions:Ge*3,rotations:Ge*3,scales:Ge*3})&&Ze.length===Ge)){console.error("Shape data is invalid or has inconsistent lengths."),_!==0&&C(0);return}if(_!==Ge){C(Ge);return}const Pe=w.current;if(!Pe)return;for(let we=0;we<Ge;we++){const $e=we*3;Kt.set(Et[$e],Et[$e+1],Et[$e+2]),ks.set(nt[$e],nt[$e+1],nt[$e+2]),Xr.setFromEuler(ks),an.set(Gt[$e],Gt[$e+1],Gt[$e+2]),Sn.compose(Kt,Xr,an),Pe.setMatrixAt(we,Sn),ll.set(Ze[we]),Pe.setColorAt(we,ll)}if(Pe.instanceMatrix.setUsage(lb),Pe.instanceMatrix.needsUpdate=!0,Pe.instanceColor&&(Pe.instanceColor.needsUpdate=!0),Pe.computeBoundingBox(),Pe.computeBoundingSphere(),n&&R(G),b.enabled&&S.current){const we=S.current;te.forEach(($e,He)=>{if($e>=Ge)return;const ft=$e*3;Kt.set(Et[ft],Et[ft+1],Et[ft+2]),ks.set(nt[ft],nt[ft+1],nt[ft+2]),Xr.setFromEuler(ks),an.set(Gt[ft]*ti,Gt[ft+1]*ti,Gt[ft+2]*ti),Sn.compose(Kt,Xr,an),we.setMatrixAt(He,Sn)}),we.instanceMatrix.needsUpdate=!0,we.computeBoundingBox(),we.computeBoundingSphere()}}catch(ke){console.error("Error processing Shape data:",ke),_!==0&&C(0)}},[I,se,W,Ee,fe,oe,o,d,l,h,_,te,b,e,n,f,m,t,R]),N.useEffect(()=>{if(!g?.enabled||!T.current||!w.current||_===0)return;const ke=T.current,Ge=w.current;z?.geometryKey===e&&z?.instanceId!==null&&z.instanceId<_?(ke.visible=!0,Ge.getMatrixAt(z.instanceId,Ps),Ps.decompose(Kt,ol,an),ke.position.copy(Kt),ke.quaternion.copy(ol),ke.scale.copy(an).multiplyScalar(Ns)):ke.visible=!1},[z,_,g,e]);const be=N.useCallback(ke=>{ke.detail!==1||ke.instanceId===void 0||(ke.stopPropagation(),L(e,ke.instanceId,ke.shiftKey))},[L,e]),Ie=N.useCallback(ke=>{ke.instanceId!==void 0&&(ke.stopPropagation(),j(e,ke.instanceId))},[j,e]),je=N.useCallback(()=>{j(null,null)},[j]);return!M||!O||i.active===!1||!re?null:y.jsxs("group",{ref:x,children:[y.jsxs("instancedMesh",{ref:w,args:[void 0,void 0,_],visible:!n,onClick:!n&&b.enabled?be:void 0,onPointerEnter:!n&&g?.enabled?Ie:void 0,onPointerOut:!n&&g?.enabled?je:void 0,children:[y.jsx("primitive",{object:G,attach:"geometry"}),gh(f,m,void 0,Kc)]},_),!n&&b.enabled&&y.jsxs("instancedMesh",{ref:S,args:[void 0,void 0,te.length],children:[y.jsx("primitive",{object:G,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Kc,transparent:!0,opacity:b.opacity,color:b.color})]},`selection-${te.length}`),!n&&g?.enabled&&y.jsxs("mesh",{ref:T,visible:!1,children:[y.jsx("primitive",{object:G,attach:"geometry"}),y.jsx("meshBasicMaterial",{side:Kc,transparent:!0,opacity:g.opacity,color:g.color})]})]})}var mg={exports:{}},MA={};function qQ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=qQ(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function fz(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=qQ(t))&&(r&&(r+=" "),r+=e);return r}const hOe=Object.freeze(Object.defineProperty({__proto__:null,clsx:fz,default:fz},Symbol.toStringTag,{value:"Module"})),mOe=lne(hOe);var Br={},zc={},pz;function oE(){if(pz)return zc;pz=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.dontSetMe=a,zc.findInArray=t,zc.int=r,zc.isFunction=e,zc.isNum=n;function t(i,s){for(let o=0,l=i.length;o<l;o++)if(s.apply(s,[i[o],o,i]))return i[o]}function e(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Function]"}function n(i){return typeof i=="number"&&!isNaN(i)}function r(i){return parseInt(i,10)}function a(i,s,o){if(i[s])return new Error("Invalid prop ".concat(s," passed to ").concat(o," - do not set this, set it on the child."))}return zc}var qc={},hz;function gOe(){if(hz)return qc;hz=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.browserPrefixToKey=n,qc.browserPrefixToStyle=r,qc.default=void 0,qc.getPrefix=e;const t=["Moz","Webkit","O","ms"];function e(){var i;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const o=(i=window.document)===null||i===void 0||(i=i.documentElement)===null||i===void 0?void 0:i.style;if(!o||s in o)return"";for(let l=0;l<t.length;l++)if(n(s,t[l])in o)return t[l];return""}function n(i,s){return s?"".concat(s).concat(a(i)):i}function r(i,s){return s?"-".concat(s.toLowerCase(),"-").concat(i):i}function a(i){let s="",o=!0;for(let l=0;l<i.length;l++)o?(s+=i[l].toUpperCase(),o=!1):i[l]==="-"?o=!0:s+=i[l];return s}return qc.default=e(),qc}var mz;function QL(){if(mz)return Br;mz=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.addClassName=R,Br.addEvent=o,Br.addUserSelectStyles=_,Br.createCSSTransform=g,Br.createSVGTransform=w,Br.getTouch=T,Br.getTouchIdentifier=x,Br.getTranslation=S,Br.innerHeight=h,Br.innerWidth=m,Br.matchesSelector=i,Br.matchesSelectorAndParentsTo=s,Br.offsetXYFromParent=b,Br.outerHeight=d,Br.outerWidth=f,Br.removeClassName=A,Br.removeEvent=l,Br.removeUserSelectStyles=C;var t=oE(),e=r(gOe());function n(I){if(typeof WeakMap!="function")return null;var O=new WeakMap,M=new WeakMap;return(n=function(U){return U?M:O})(I)}function r(I,O){if(I&&I.__esModule)return I;if(I===null||typeof I!="object"&&typeof I!="function")return{default:I};var M=n(O);if(M&&M.has(I))return M.get(I);var U={},L=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var z in I)if(z!=="default"&&Object.prototype.hasOwnProperty.call(I,z)){var j=L?Object.getOwnPropertyDescriptor(I,z):null;j&&(j.get||j.set)?Object.defineProperty(U,z,j):U[z]=I[z]}return U.default=I,M&&M.set(I,U),U}let a="";function i(I,O){return a||(a=(0,t.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(M){return(0,t.isFunction)(I[M])})),(0,t.isFunction)(I[a])?I[a](O):!1}function s(I,O,M){let U=I;do{if(i(U,O))return!0;if(U===M)return!1;U=U.parentNode}while(U);return!1}function o(I,O,M,U){if(!I)return;const L={capture:!0,...U};I.addEventListener?I.addEventListener(O,M,L):I.attachEvent?I.attachEvent("on"+O,M):I["on"+O]=M}function l(I,O,M,U){if(!I)return;const L={capture:!0,...U};I.removeEventListener?I.removeEventListener(O,M,L):I.detachEvent?I.detachEvent("on"+O,M):I["on"+O]=null}function d(I){let O=I.clientHeight;const M=I.ownerDocument.defaultView.getComputedStyle(I);return O+=(0,t.int)(M.borderTopWidth),O+=(0,t.int)(M.borderBottomWidth),O}function f(I){let O=I.clientWidth;const M=I.ownerDocument.defaultView.getComputedStyle(I);return O+=(0,t.int)(M.borderLeftWidth),O+=(0,t.int)(M.borderRightWidth),O}function h(I){let O=I.clientHeight;const M=I.ownerDocument.defaultView.getComputedStyle(I);return O-=(0,t.int)(M.paddingTop),O-=(0,t.int)(M.paddingBottom),O}function m(I){let O=I.clientWidth;const M=I.ownerDocument.defaultView.getComputedStyle(I);return O-=(0,t.int)(M.paddingLeft),O-=(0,t.int)(M.paddingRight),O}function b(I,O,M){const L=O===O.ownerDocument.body?{left:0,top:0}:O.getBoundingClientRect(),z=(I.clientX+O.scrollLeft-L.left)/M,j=(I.clientY+O.scrollTop-L.top)/M;return{x:z,y:j}}function g(I,O){const M=S(I,O,"px");return{[(0,e.browserPrefixToKey)("transform",e.default)]:M}}function w(I,O){return S(I,O,"")}function S(I,O,M){let{x:U,y:L}=I,z="translate(".concat(U).concat(M,",").concat(L).concat(M,")");if(O){const j="".concat(typeof O.x=="string"?O.x:O.x+M),H="".concat(typeof O.y=="string"?O.y:O.y+M);z="translate(".concat(j,", ").concat(H,")")+z}return z}function T(I,O){return I.targetTouches&&(0,t.findInArray)(I.targetTouches,M=>O===M.identifier)||I.changedTouches&&(0,t.findInArray)(I.changedTouches,M=>O===M.identifier)}function x(I){if(I.targetTouches&&I.targetTouches[0])return I.targetTouches[0].identifier;if(I.changedTouches&&I.changedTouches[0])return I.changedTouches[0].identifier}function _(I){if(!I)return;let O=I.getElementById("react-draggable-style-el");O||(O=I.createElement("style"),O.type="text/css",O.id="react-draggable-style-el",O.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,O.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,I.getElementsByTagName("head")[0].appendChild(O)),I.body&&R(I.body,"react-draggable-transparent-selection")}function C(I){if(I)try{if(I.body&&A(I.body,"react-draggable-transparent-selection"),I.selection)I.selection.empty();else{const O=(I.defaultView||window).getSelection();O&&O.type!=="Caret"&&O.removeAllRanges()}}catch{}}function R(I,O){I.classList?I.classList.add(O):I.className.match(new RegExp("(?:^|\\s)".concat(O,"(?!\\S)")))||(I.className+=" ".concat(O))}function A(I,O){I.classList?I.classList.remove(O):I.className=I.className.replace(new RegExp("(?:^|\\s)".concat(O,"(?!\\S)"),"g"),"")}return Br}var Ho={},gz;function $Q(){if(gz)return Ho;gz=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.canDragX=a,Ho.canDragY=i,Ho.createCoreData=o,Ho.createDraggableData=l,Ho.getBoundPosition=n,Ho.getControlPosition=s,Ho.snapToGrid=r;var t=oE(),e=QL();function n(h,m,b){if(!h.props.bounds)return[m,b];let{bounds:g}=h.props;g=typeof g=="string"?g:d(g);const w=f(h);if(typeof g=="string"){const{ownerDocument:S}=w,T=S.defaultView;let x;if(g==="parent"?x=w.parentNode:x=S.querySelector(g),!(x instanceof T.HTMLElement))throw new Error('Bounds selector "'+g+'" could not find an element.');const _=x,C=T.getComputedStyle(w),R=T.getComputedStyle(_);g={left:-w.offsetLeft+(0,t.int)(R.paddingLeft)+(0,t.int)(C.marginLeft),top:-w.offsetTop+(0,t.int)(R.paddingTop)+(0,t.int)(C.marginTop),right:(0,e.innerWidth)(_)-(0,e.outerWidth)(w)-w.offsetLeft+(0,t.int)(R.paddingRight)-(0,t.int)(C.marginRight),bottom:(0,e.innerHeight)(_)-(0,e.outerHeight)(w)-w.offsetTop+(0,t.int)(R.paddingBottom)-(0,t.int)(C.marginBottom)}}return(0,t.isNum)(g.right)&&(m=Math.min(m,g.right)),(0,t.isNum)(g.bottom)&&(b=Math.min(b,g.bottom)),(0,t.isNum)(g.left)&&(m=Math.max(m,g.left)),(0,t.isNum)(g.top)&&(b=Math.max(b,g.top)),[m,b]}function r(h,m,b){const g=Math.round(m/h[0])*h[0],w=Math.round(b/h[1])*h[1];return[g,w]}function a(h){return h.props.axis==="both"||h.props.axis==="x"}function i(h){return h.props.axis==="both"||h.props.axis==="y"}function s(h,m,b){const g=typeof m=="number"?(0,e.getTouch)(h,m):null;if(typeof m=="number"&&!g)return null;const w=f(b),S=b.props.offsetParent||w.offsetParent||w.ownerDocument.body;return(0,e.offsetXYFromParent)(g||h,S,b.props.scale)}function o(h,m,b){const g=!(0,t.isNum)(h.lastX),w=f(h);return g?{node:w,deltaX:0,deltaY:0,lastX:m,lastY:b,x:m,y:b}:{node:w,deltaX:m-h.lastX,deltaY:b-h.lastY,lastX:h.lastX,lastY:h.lastY,x:m,y:b}}function l(h,m){const b=h.props.scale;return{node:m.node,x:h.state.x+m.deltaX/b,y:h.state.y+m.deltaY/b,deltaX:m.deltaX/b,deltaY:m.deltaY/b,lastX:h.state.x,lastY:h.state.y}}function d(h){return{left:h.left,top:h.top,right:h.right,bottom:h.bottom}}function f(h){const m=h.findDOMNode();if(!m)throw new Error("<DraggableCore>: Unmounted during event!");return m}return Ho}var gg={},K0={},bz;function GQ(){if(bz)return K0;bz=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.default=t;function t(){}return K0}var yz;function bOe(){if(yz)return gg;yz=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.default=void 0;var t=d(TM()),e=o(YV()),n=o(AV()),r=QL(),a=$Q(),i=oE(),s=o(GQ());function o(S){return S&&S.__esModule?S:{default:S}}function l(S){if(typeof WeakMap!="function")return null;var T=new WeakMap,x=new WeakMap;return(l=function(_){return _?x:T})(S)}function d(S,T){if(S&&S.__esModule)return S;if(S===null||typeof S!="object"&&typeof S!="function")return{default:S};var x=l(T);if(x&&x.has(S))return x.get(S);var _={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var R in S)if(R!=="default"&&Object.prototype.hasOwnProperty.call(S,R)){var A=C?Object.getOwnPropertyDescriptor(S,R):null;A&&(A.get||A.set)?Object.defineProperty(_,R,A):_[R]=S[R]}return _.default=S,x&&x.set(S,_),_}function f(S,T,x){return T=h(T),T in S?Object.defineProperty(S,T,{value:x,enumerable:!0,configurable:!0,writable:!0}):S[T]=x,S}function h(S){var T=m(S,"string");return typeof T=="symbol"?T:String(T)}function m(S,T){if(typeof S!="object"||S===null)return S;var x=S[Symbol.toPrimitive];if(x!==void 0){var _=x.call(S,T);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(S)}const b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let g=b.mouse,w=class extends t.Component{constructor(){super(...arguments),f(this,"dragging",!1),f(this,"lastX",NaN),f(this,"lastY",NaN),f(this,"touchIdentifier",null),f(this,"mounted",!1),f(this,"handleDragStart",T=>{if(this.props.onMouseDown(T),!this.props.allowAnyClick&&typeof T.button=="number"&&T.button!==0)return!1;const x=this.findDOMNode();if(!x||!x.ownerDocument||!x.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:_}=x;if(this.props.disabled||!(T.target instanceof _.defaultView.Node)||this.props.handle&&!(0,r.matchesSelectorAndParentsTo)(T.target,this.props.handle,x)||this.props.cancel&&(0,r.matchesSelectorAndParentsTo)(T.target,this.props.cancel,x))return;T.type==="touchstart"&&T.preventDefault();const C=(0,r.getTouchIdentifier)(T);this.touchIdentifier=C;const R=(0,a.getControlPosition)(T,C,this);if(R==null)return;const{x:A,y:I}=R,O=(0,a.createCoreData)(this,A,I);(0,s.default)("DraggableCore: handleDragStart: %j",O),(0,s.default)("calling",this.props.onStart),!(this.props.onStart(T,O)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,r.addUserSelectStyles)(_),this.dragging=!0,this.lastX=A,this.lastY=I,(0,r.addEvent)(_,g.move,this.handleDrag),(0,r.addEvent)(_,g.stop,this.handleDragStop))}),f(this,"handleDrag",T=>{const x=(0,a.getControlPosition)(T,this.touchIdentifier,this);if(x==null)return;let{x:_,y:C}=x;if(Array.isArray(this.props.grid)){let I=_-this.lastX,O=C-this.lastY;if([I,O]=(0,a.snapToGrid)(this.props.grid,I,O),!I&&!O)return;_=this.lastX+I,C=this.lastY+O}const R=(0,a.createCoreData)(this,_,C);if((0,s.default)("DraggableCore: handleDrag: %j",R),this.props.onDrag(T,R)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const O=document.createEvent("MouseEvents");O.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(O)}return}this.lastX=_,this.lastY=C}),f(this,"handleDragStop",T=>{if(!this.dragging)return;const x=(0,a.getControlPosition)(T,this.touchIdentifier,this);if(x==null)return;let{x:_,y:C}=x;if(Array.isArray(this.props.grid)){let O=_-this.lastX||0,M=C-this.lastY||0;[O,M]=(0,a.snapToGrid)(this.props.grid,O,M),_=this.lastX+O,C=this.lastY+M}const R=(0,a.createCoreData)(this,_,C);if(this.props.onStop(T,R)===!1||this.mounted===!1)return!1;const I=this.findDOMNode();I&&this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(I.ownerDocument),(0,s.default)("DraggableCore: handleDragStop: %j",R),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,I&&((0,s.default)("DraggableCore: Removing handlers"),(0,r.removeEvent)(I.ownerDocument,g.move,this.handleDrag),(0,r.removeEvent)(I.ownerDocument,g.stop,this.handleDragStop))}),f(this,"onMouseDown",T=>(g=b.mouse,this.handleDragStart(T))),f(this,"onMouseUp",T=>(g=b.mouse,this.handleDragStop(T))),f(this,"onTouchStart",T=>(g=b.touch,this.handleDragStart(T))),f(this,"onTouchEnd",T=>(g=b.touch,this.handleDragStop(T)))}componentDidMount(){this.mounted=!0;const T=this.findDOMNode();T&&(0,r.addEvent)(T,b.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const T=this.findDOMNode();if(T){const{ownerDocument:x}=T;(0,r.removeEvent)(x,b.mouse.move,this.handleDrag),(0,r.removeEvent)(x,b.touch.move,this.handleDrag),(0,r.removeEvent)(x,b.mouse.stop,this.handleDragStop),(0,r.removeEvent)(x,b.touch.stop,this.handleDragStop),(0,r.removeEvent)(T,b.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,r.removeUserSelectStyles)(x)}}findDOMNode(){var T,x;return(T=this.props)!==null&&T!==void 0&&T.nodeRef?(x=this.props)===null||x===void 0||(x=x.nodeRef)===null||x===void 0?void 0:x.current:n.default.findDOMNode(this)}render(){return t.cloneElement(t.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return gg.default=w,f(w,"displayName","DraggableCore"),f(w,"propTypes",{allowAnyClick:e.default.bool,children:e.default.node.isRequired,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:function(S,T){if(S[T]&&S[T].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:e.default.arrayOf(e.default.number),handle:e.default.string,cancel:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number,className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),f(w,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),gg}var vz;function yOe(){return vz||(vz=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var e=m(TM()),n=f(YV()),r=f(AV()),a=f(mOe),i=QL(),s=$Q(),o=oE(),l=f(bOe()),d=f(GQ());function f(x){return x&&x.__esModule?x:{default:x}}function h(x){if(typeof WeakMap!="function")return null;var _=new WeakMap,C=new WeakMap;return(h=function(R){return R?C:_})(x)}function m(x,_){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var C=h(_);if(C&&C.has(x))return C.get(x);var R={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in x)if(I!=="default"&&Object.prototype.hasOwnProperty.call(x,I)){var O=A?Object.getOwnPropertyDescriptor(x,I):null;O&&(O.get||O.set)?Object.defineProperty(R,I,O):R[I]=x[I]}return R.default=x,C&&C.set(x,R),R}function b(){return b=Object.assign?Object.assign.bind():function(x){for(var _=1;_<arguments.length;_++){var C=arguments[_];for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&(x[R]=C[R])}return x},b.apply(this,arguments)}function g(x,_,C){return _=w(_),_ in x?Object.defineProperty(x,_,{value:C,enumerable:!0,configurable:!0,writable:!0}):x[_]=C,x}function w(x){var _=S(x,"string");return typeof _=="symbol"?_:String(_)}function S(x,_){if(typeof x!="object"||x===null)return x;var C=x[Symbol.toPrimitive];if(C!==void 0){var R=C.call(x,_);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(x)}class T extends e.Component{static getDerivedStateFromProps(_,C){let{position:R}=_,{prevPropsPosition:A}=C;return R&&(!A||R.x!==A.x||R.y!==A.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:R,prevPropsPosition:A}),{x:R.x,y:R.y,prevPropsPosition:{...R}}):null}constructor(_){super(_),g(this,"onDragStart",(C,R)=>{if((0,d.default)("Draggable: onDragStart: %j",R),this.props.onStart(C,(0,s.createDraggableData)(this,R))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(C,R)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",R);const A=(0,s.createDraggableData)(this,R),I={x:A.x,y:A.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:U}=I;I.x+=this.state.slackX,I.y+=this.state.slackY;const[L,z]=(0,s.getBoundPosition)(this,I.x,I.y);I.x=L,I.y=z,I.slackX=this.state.slackX+(M-I.x),I.slackY=this.state.slackY+(U-I.y),A.x=I.x,A.y=I.y,A.deltaX=I.x-this.state.x,A.deltaY=I.y-this.state.y}if(this.props.onDrag(C,A)===!1)return!1;this.setState(I)}),g(this,"onDragStop",(C,R)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,R))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",R);const I={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:U}=this.props.position;I.x=M,I.y=U}this.setState(I)}),this.state={dragging:!1,dragged:!1,x:_.position?_.position.x:_.defaultPosition.x,y:_.position?_.position.y:_.defaultPosition.y,prevPropsPosition:{..._.position},slackX:0,slackY:0,isElementSVG:!1},_.position&&!(_.onDrag||_.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var _,C;return(_=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&_!==void 0?_:r.default.findDOMNode(this)}render(){const{axis:_,bounds:C,children:R,defaultPosition:A,defaultClassName:I,defaultClassNameDragging:O,defaultClassNameDragged:M,position:U,positionOffset:L,scale:z,...j}=this.props;let H={},$=null;const K=!!!U||this.state.dragging,V=U||A,re={x:(0,s.canDragX)(this)&&K?this.state.x:V.x,y:(0,s.canDragY)(this)&&K?this.state.y:V.y};this.state.isElementSVG?$=(0,i.createSVGTransform)(re,L):H=(0,i.createCSSTransform)(re,L);const ee=(0,a.default)(R.props.className||"",I,{[O]:this.state.dragging,[M]:this.state.dragged});return e.createElement(l.default,b({},j,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(R),{className:ee,style:{...R.props.style,...H},transform:$}))}}t.default=T,g(T,"displayName","Draggable"),g(T,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),g(T,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(MA)),MA}var Sz;function vOe(){if(Sz)return mg.exports;Sz=1;const{default:t,DraggableCore:e}=yOe();return mg.exports=t,mg.exports.default=t,mg.exports.DraggableCore=e,mg.exports}var SOe=vOe();const EOe=Tn(SOe);var Kr=function(){return Kr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Kr.apply(this,arguments)},Ez={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},_z={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},X0={width:"20px",height:"20px",position:"absolute",zIndex:1},_Oe={top:Kr(Kr({},Ez),{top:"-5px"}),right:Kr(Kr({},_z),{left:void 0,right:"-5px"}),bottom:Kr(Kr({},Ez),{top:void 0,bottom:"-5px"}),left:Kr(Kr({},_z),{left:"-5px"}),topRight:Kr(Kr({},X0),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:Kr(Kr({},X0),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:Kr(Kr({},X0),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:Kr(Kr({},X0),{left:"-10px",top:"-10px",cursor:"nw-resize"})},xOe=N.memo(function(t){var e=t.onResizeStart,n=t.direction,r=t.children,a=t.replaceStyles,i=t.className,s=N.useCallback(function(d){e(d,n)},[e,n]),o=N.useCallback(function(d){e(d,n)},[e,n]),l=N.useMemo(function(){return Kr(Kr({position:"absolute",userSelect:"none"},_Oe[n]),a??{})},[a,n]);return y.jsx("div",{className:i||void 0,style:l,onMouseDown:s,onTouchStart:o,children:r})}),wOe=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Vo=function(){return Vo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Vo.apply(this,arguments)},TOe={width:"auto",height:"auto"},Z0=function(t,e,n){return Math.max(Math.min(t,n),e)},xz=function(t,e,n){var r=Math.round(t/e);return r*e+n*(r-1)},mp=function(t,e){return new RegExp(t,"i").test(e)},Q0=function(t){return!!(t.touches&&t.touches.length)},COe=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},wz=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(i,s,o){return Math.abs(s-t)<Math.abs(e[i]-t)?o:i},0),a=Math.abs(e[r]-t);return n===0||a<n?e[r]:t},PA=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:"".concat(t,"px")},J0=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var a=Number(t.replace("%",""))/100;return e*a}if(t.endsWith("vw")){var a=Number(t.replace("vw",""))/100;return n*a}if(t.endsWith("vh")){var a=Number(t.replace("vh",""))/100;return r*a}}return t},ROe=function(t,e,n,r,a,i,s){return r=J0(r,t.width,e,n),a=J0(a,t.height,e,n),i=J0(i,t.width,e,n),s=J0(s,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof a>"u"?void 0:Number(a),minWidth:typeof i>"u"?void 0:Number(i),minHeight:typeof s>"u"?void 0:Number(s)}},AOe=function(t){return Array.isArray(t)?t:[t,t]},IOe=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Tz="__resizable_base__",kOe=(function(t){wOe(e,t);function e(n){var r,a,i,s,o=t.call(this,n)||this;return o.ratio=1,o.resizable=null,o.parentLeft=0,o.parentTop=0,o.resizableLeft=0,o.resizableRight=0,o.resizableTop=0,o.resizableBottom=0,o.targetLeft=0,o.targetTop=0,o.delta={width:0,height:0},o.appendBase=function(){if(!o.resizable||!o.window)return null;var l=o.parentNode;if(!l)return null;var d=o.window.document.createElement("div");return d.style.width="100%",d.style.height="100%",d.style.position="absolute",d.style.transform="scale(0, 0)",d.style.left="0",d.style.flex="0 0 100%",d.classList?d.classList.add(Tz):d.className+=Tz,l.appendChild(d),d},o.removeBase=function(l){var d=o.parentNode;d&&d.removeChild(l)},o.state={isResizing:!1,width:(a=(r=o.propsSize)===null||r===void 0?void 0:r.width)!==null&&a!==void 0?a:"auto",height:(s=(i=o.propsSize)===null||i===void 0?void 0:i.height)!==null&&s!==void 0?s:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},o.onResizeStart=o.onResizeStart.bind(o),o.onMouseMove=o.onMouseMove.bind(o),o.onMouseUp=o.onMouseUp.bind(o),o}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||TOe},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var a=this.resizable.offsetWidth,i=this.resizable.offsetHeight,s=this.resizable.style.position;s!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:a,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:i,this.resizable.style.position=s}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,a=function(o){var l;if(typeof n.state[o]>"u"||n.state[o]==="auto")return"auto";if(n.propsSize&&n.propsSize[o]&&(!((l=n.propsSize[o])===null||l===void 0)&&l.toString().endsWith("%"))){if(n.state[o].toString().endsWith("%"))return n.state[o].toString();var d=n.getParentSize(),f=Number(n.state[o].toString().replace("px","")),h=f/d[o]*100;return"".concat(h,"%")}return PA(n.state[o])},i=r&&typeof r.width<"u"&&!this.state.isResizing?PA(r.width):a("width"),s=r&&typeof r.height<"u"&&!this.state.isResizing?PA(r.height):a("height");return{width:i,height:s}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,a=this.parentNode.style.flexWrap;a!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var i={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=a),this.removeBase(n),i},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var a=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof a>"u"||a==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var a=this.props.boundsByDirection,i=this.state.direction,s=a&&mp("left",i),o=a&&mp("top",i),l,d;if(this.props.bounds==="parent"){var f=this.parentNode;f&&(l=s?this.resizableRight-this.parentLeft:f.offsetWidth+(this.parentLeft-this.resizableLeft),d=o?this.resizableBottom-this.parentTop:f.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=s?this.resizableRight:this.window.innerWidth-this.resizableLeft,d=o?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=s?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),d=o?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(n=n&&n<l?n:l),d&&Number.isFinite(d)&&(r=r&&r<d?r:d),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var a=this.props.scale||1,i=AOe(this.props.resizeRatio||1),s=i[0],o=i[1],l=this.state,d=l.direction,f=l.original,h=this.props,m=h.lockAspectRatio,b=h.lockAspectRatioExtraHeight,g=h.lockAspectRatioExtraWidth,w=f.width,S=f.height,T=b||0,x=g||0;return mp("right",d)&&(w=f.width+(n-f.x)*s/a,m&&(S=(w-x)/this.ratio+T)),mp("left",d)&&(w=f.width-(n-f.x)*s/a,m&&(S=(w-x)/this.ratio+T)),mp("bottom",d)&&(S=f.height+(r-f.y)*o/a,m&&(w=(S-T)*this.ratio+x)),mp("top",d)&&(S=f.height-(r-f.y)*o/a,m&&(w=(S-T)*this.ratio+x)),{newWidth:w,newHeight:S}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,a,i){var s=this.props,o=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,d=s.lockAspectRatioExtraWidth,f=typeof i.width>"u"?10:i.width,h=typeof a.width>"u"||a.width<0?n:a.width,m=typeof i.height>"u"?10:i.height,b=typeof a.height>"u"||a.height<0?r:a.height,g=l||0,w=d||0;if(o){var S=(m-g)*this.ratio+w,T=(b-g)*this.ratio+w,x=(f-w)/this.ratio+g,_=(h-w)/this.ratio+g,C=Math.max(f,S),R=Math.min(h,T),A=Math.max(m,x),I=Math.min(b,_);n=Z0(n,C,R),r=Z0(r,A,I)}else n=Z0(n,f,h),r=Z0(r,m,b);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var a=r.getBoundingClientRect();this.parentLeft=a.left*n,this.parentTop=a.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left*n,this.targetTop=i.top*n}if(this.resizable){var s=this.resizable.getBoundingClientRect(),o=s.left,l=s.top,d=s.right,f=s.bottom;this.resizableLeft=o*n,this.resizableRight=d*n,this.resizableTop=l*n,this.resizableBottom=f*n}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var a=0,i=0;if(n.nativeEvent&&COe(n.nativeEvent)?(a=n.nativeEvent.clientX,i=n.nativeEvent.clientY):n.nativeEvent&&Q0(n.nativeEvent)&&(a=n.nativeEvent.touches[0].clientX,i=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var s=this.props.onResizeStart(n,r,this.resizable);if(s===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var o,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var d=this.parentNode;if(d){var f=this.window.getComputedStyle(d).flexDirection;this.flexDir=f.startsWith("row")?"row":"column",o=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var h={original:{x:a,y:i,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Vo(Vo({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:o};this.setState(h)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Q0(n))try{n.preventDefault(),n.stopPropagation()}catch{}var a=this.props,i=a.maxWidth,s=a.maxHeight,o=a.minWidth,l=a.minHeight,d=Q0(n)?n.touches[0].clientX:n.clientX,f=Q0(n)?n.touches[0].clientY:n.clientY,h=this.state,m=h.direction,b=h.original,g=h.width,w=h.height,S=this.getParentSize(),T=ROe(S,this.window.innerWidth,this.window.innerHeight,i,s,o,l);i=T.maxWidth,s=T.maxHeight,o=T.minWidth,l=T.minHeight;var x=this.calculateNewSizeFromDirection(d,f),_=x.newHeight,C=x.newWidth,R=this.calculateNewMaxFromBoundary(i,s);this.props.snap&&this.props.snap.x&&(C=wz(C,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=wz(_,this.props.snap.y,this.props.snapGap));var A=this.calculateNewSizeFromAspectRatio(C,_,{width:R.maxWidth,height:R.maxHeight},{width:o,height:l});if(C=A.newWidth,_=A.newHeight,this.props.grid){var I=xz(C,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),O=xz(_,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),M=this.props.snapGap||0,U=M===0||Math.abs(I-C)<=M?I:C,L=M===0||Math.abs(O-_)<=M?O:_;C=U,_=L}var z={width:C-b.width,height:_-b.height};if(this.delta=z,g&&typeof g=="string"){if(g.endsWith("%")){var j=C/S.width*100;C="".concat(j,"%")}else if(g.endsWith("vw")){var H=C/this.window.innerWidth*100;C="".concat(H,"vw")}else if(g.endsWith("vh")){var $=C/this.window.innerHeight*100;C="".concat($,"vh")}}if(w&&typeof w=="string"){if(w.endsWith("%")){var j=_/S.height*100;_="".concat(j,"%")}else if(w.endsWith("vw")){var H=_/this.window.innerWidth*100;_="".concat(H,"vw")}else if(w.endsWith("vh")){var $=_/this.window.innerHeight*100;_="".concat($,"vh")}}var q={width:this.createSizeForCssProperty(C,"width"),height:this.createSizeForCssProperty(_,"height")};this.flexDir==="row"?q.flexBasis=q.width:this.flexDir==="column"&&(q.flexBasis=q.height);var K=this.state.width!==q.width,V=this.state.height!==q.height,re=this.state.flexBasis!==q.flexBasis,ee=K||V||re;ee&&KV.flushSync(function(){r.setState(q)}),this.props.onResize&&ee&&this.props.onResize(n,m,this.resizable,z)}},e.prototype.onMouseUp=function(n){var r,a,i=this.state,s=i.isResizing,o=i.direction;i.original,!(!s||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(n,o,this.resizable,this.delta),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(a=this.props.size.height)!==null&&a!==void 0?a:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Vo(Vo({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(n){var r,a;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(a=n.height)!==null&&a!==void 0?a:"auto"})},e.prototype.renderResizer=function(){var n=this,r=this.props,a=r.enable,i=r.handleStyles,s=r.handleClasses,o=r.handleWrapperStyle,l=r.handleWrapperClass,d=r.handleComponent;if(!a)return null;var f=Object.keys(a).map(function(h){return a[h]!==!1?y.jsx(xOe,{direction:h,onResizeStart:n.onResizeStart,replaceStyles:i&&i[h],className:s&&s[h],children:d&&d[h]?d[h]:null},h):null});return y.jsx("div",{className:l,style:o,children:f})},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(s,o){return IOe.indexOf(o)!==-1||(s[o]=n.props[o]),s},{}),a=Vo(Vo(Vo({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(a.flexBasis=this.state.flexBasis);var i=this.props.as||"div";return y.jsxs(i,Vo({style:a,className:this.props.className},r,{ref:function(s){s&&(n.resizable=s)},children:[this.state.isResizing&&y.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e})(N.PureComponent);var _M=function(t,e){return _M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},_M(t,e)};function DOe(t,e){_M(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ia=function(){return ia=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ia.apply(this,arguments)};function OOe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}var NOe={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},MOe=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},POe=(function(t){DOe(e,t);function e(n){var r=t.call(this,n)||this;return r.resizingPosition={x:0,y:0},r.offsetFromParent={left:0,top:0},r.resizableElement={current:null},r.originalPosition={x:0,y:0},r.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:n.maxWidth,maxHeight:n.maxHeight},r.onResizeStart=r.onResizeStart.bind(r),r.onResize=r.onResize.bind(r),r.onResizeStop=r.onResizeStop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDrag=r.onDrag.bind(r),r.onDragStop=r.onDragStop.bind(r),r.getMaxSizesFromProps=r.getMaxSizesFromProps.bind(r),r}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var n=this.offsetFromParent,r=n.left,a=n.top,i=this.getDraggablePosition(),s=i.x,o=i.y;this.draggable.setState({x:s-r,y:o-a}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var n=this.draggable.state,r=n.x,a=n.y;return{x:r,y:a}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var n=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,r=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:n,maxHeight:r}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/r;case"body":return document.body.offsetHeight/r;default:return n.offsetHeight}},e.prototype.getOffsetWidth=function(n){var r=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/r;case"body":return document.body.offsetWidth/r;default:return n.offsetWidth}},e.prototype.onDragStart=function(n,r){this.props.onDragStart&&this.props.onDragStart(n,r);var a=this.getDraggablePosition();if(this.originalPosition=a,!!this.props.bounds){var i=this.getParent(),s=this.props.scale,o;if(this.props.bounds==="parent")o=i;else if(this.props.bounds==="body"){var l=i.getBoundingClientRect(),d=l.left,f=l.top,h=document.body.getBoundingClientRect(),m=-(d-i.offsetLeft*s-h.left)/s,b=-(f-i.offsetTop*s-h.top)/s,g=(document.body.offsetWidth-this.resizable.size.width*s)/s+m,w=(document.body.offsetHeight-this.resizable.size.height*s)/s+b;return this.setState({bounds:{top:b,right:g,bottom:w,left:m}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var S=i.getBoundingClientRect(),T=S.left,x=S.top,_=-(T-i.offsetLeft*s)/s,C=-(x-i.offsetTop*s)/s,g=(window.innerWidth-this.resizable.size.width*s)/s+_,w=(window.innerHeight-this.resizable.size.height*s)/s+C;return this.setState({bounds:{top:C,right:g,bottom:w,left:_}})}else typeof this.props.bounds=="string"?o=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(o=this.props.bounds);if(!(!(o instanceof HTMLElement)||!(i instanceof HTMLElement))){var R=o.getBoundingClientRect(),A=R.left,I=R.top,O=i.getBoundingClientRect(),M=O.left,U=O.top,L=(A-M)/s,z=I-U;if(this.resizable){this.updateOffsetFromParent();var j=this.offsetFromParent;this.setState({bounds:{top:z-j.top,right:L+(o.offsetWidth-this.resizable.size.width)-j.left/s,bottom:z+(o.offsetHeight-this.resizable.size.height)-j.top,left:L-j.left/s}})}}}},e.prototype.onDrag=function(n,r){if(this.props.onDrag){var a=this.offsetFromParent,i=a.left,s=a.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(n,ia(ia({},r),{x:r.x+i,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDrag(n,ia(ia({},r),{x:r.x+i,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(n,ia(ia({},r),{x:this.originalPosition.x+i,y:r.y+s,deltaX:0}))}},e.prototype.onDragStop=function(n,r){if(this.props.onDragStop){var a=this.offsetFromParent,i=a.left,s=a.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(n,ia(ia({},r),{x:r.x+i,y:r.y+s}));if(this.props.dragAxis==="x")return this.props.onDragStop(n,ia(ia({},r),{x:r.x+i,y:this.originalPosition.y+s,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(n,ia(ia({},r),{x:this.originalPosition.x+i,y:r.y+s,deltaX:0}))}},e.prototype.onResizeStart=function(n,r,a){n.stopPropagation(),this.setState({resizing:!0});var i=this.props.scale,s=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+s.left,y:o.y+s.top},this.originalPosition=o,this.props.bounds){var l=this.getParent(),d=void 0;this.props.bounds==="parent"?d=l:this.props.bounds==="body"?d=document.body:this.props.bounds==="window"?d=window:typeof this.props.bounds=="string"?d=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(d=this.props.bounds);var f=this.getSelfElement();if(f instanceof Element&&(d instanceof HTMLElement||d===window)&&l instanceof HTMLElement){var h=this.getMaxSizesFromProps(),m=h.maxWidth,b=h.maxHeight,g=this.getParentSize();if(m&&typeof m=="string")if(m.endsWith("%")){var w=Number(m.replace("%",""))/100;m=g.width*w}else m.endsWith("px")&&(m=Number(m.replace("px","")));if(b&&typeof b=="string")if(b.endsWith("%")){var w=Number(b.replace("%",""))/100;b=g.height*w}else b.endsWith("px")&&(b=Number(b.replace("px","")));var S=f.getBoundingClientRect(),T=S.left,x=S.top,_=this.props.bounds==="window"?{left:0,top:0}:d.getBoundingClientRect(),C=_.left,R=_.top,A=this.getOffsetWidth(d),I=this.getOffsetHeight(d),O=r.toLowerCase().endsWith("left"),M=r.toLowerCase().endsWith("right"),U=r.startsWith("top"),L=r.startsWith("bottom");if((O||U)&&this.resizable){var z=(T-C)/i+this.resizable.size.width;this.setState({maxWidth:z>Number(m)?m:z})}if(M||this.props.lockAspectRatio&&!O&&!U){var z=A+(C-T)/i;this.setState({maxWidth:z>Number(m)?m:z})}if((U||O)&&this.resizable){var z=(x-R)/i+this.resizable.size.height;this.setState({maxHeight:z>Number(b)?b:z})}if(L||this.props.lockAspectRatio&&!U&&!O){var z=I+(R-x)/i;this.setState({maxHeight:z>Number(b)?b:z})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(n,r,a)},e.prototype.onResize=function(n,r,a,i){var s=this,o={x:this.originalPosition.x,y:this.originalPosition.y},l=-i.width,d=-i.height,f=["top","left","topLeft","bottomLeft","topRight"];f.includes(r)&&(r==="bottomLeft"?o.x+=l:(r==="topRight"||(o.x+=l),o.y+=d));var h=this.draggable.state;(o.x!==h.x||o.y!==h.y)&&KV.flushSync(function(){s.draggable.setState(o)}),this.updateOffsetFromParent();var m=this.offsetFromParent,b=this.getDraggablePosition().x+m.left,g=this.getDraggablePosition().y+m.top;this.resizingPosition={x:b,y:g},this.props.onResize&&this.props.onResize(n,r,a,i,{x:b,y:g})},e.prototype.onResizeStop=function(n,r,a,i){this.setState({resizing:!1});var s=this.getMaxSizesFromProps(),o=s.maxWidth,l=s.maxHeight;this.setState({maxWidth:o,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(n,r,a,i,this.resizingPosition)},e.prototype.updateSize=function(n){this.resizable&&this.resizable.updateSize({width:n.width,height:n.height})},e.prototype.updatePosition=function(n){this.draggable.setState(n)},e.prototype.updateOffsetFromParent=function(){var n=this.props.scale,r=this.getParent(),a=this.getSelfElement();if(!r||a===null)return{top:0,left:0};var i=r.getBoundingClientRect(),s=i.left,o=i.top,l=a.getBoundingClientRect(),d=this.getDraggablePosition(),f=r.scrollLeft,h=r.scrollTop;this.offsetFromParent={left:l.left-s+f-d.x*n,top:l.top-o+h-d.y*n}},e.prototype.render=function(){var n=this,r=this.props,a=r.disableDragging,i=r.style,s=r.dragHandleClassName,o=r.position,l=r.onMouseDown,d=r.onMouseUp,f=r.dragAxis,h=r.dragGrid,m=r.bounds,b=r.enableUserSelectHack,g=r.cancel,w=r.children;r.onResizeStart,r.onResize,r.onResizeStop,r.onDragStart,r.onDrag,r.onDragStop;var S=r.resizeHandleStyles,T=r.resizeHandleClasses,x=r.resizeHandleComponent,_=r.enableResizing,C=r.resizeGrid,R=r.resizeHandleWrapperClass,A=r.resizeHandleWrapperStyle,I=r.scale,O=r.allowAnyClick,M=r.dragPositionOffset,U=OOe(r,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),L=this.props.default?ia({},this.props.default):void 0;delete U.default;var z=a||s?{cursor:"auto"}:{cursor:"move"},j=ia(ia(ia({},NOe),z),i),H=this.offsetFromParent,$=H.left,q=H.top,K;o&&(K={x:o.x-$,y:o.y-q});var V=this.state.resizing?void 0:K,re=this.state.resizing?"both":f;return N.createElement(EOe,{ref:function(ee){ee&&(n.draggable=ee)},handle:s?".".concat(s):void 0,defaultPosition:L,onMouseDown:l,onMouseUp:d,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:re,disabled:a,grid:h,bounds:m?this.state.bounds:void 0,position:V,enableUserSelectHack:b,cancel:g,scale:I,allowAnyClick:O,nodeRef:this.resizableElement,positionOffset:M},N.createElement(kOe,ia({},U,{ref:function(ee){ee&&(n.resizable=ee,n.resizableElement.current=ee.resizable)},defaultSize:L,size:this.props.size,enable:typeof _=="boolean"?MOe(_):_,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:j,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:C,handleWrapperClass:R,handleWrapperStyle:A,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:S,handleClasses:T,handleComponent:x,scale:this.props.scale}),w))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e})(N.PureComponent);function LOe(){const t=yo(),e=J(h=>h.showInfoBoxes),n=J(h=>h.particleCount),r=J(h=>h.selections),a=J(h=>h.playing),i=J(h=>h.fps),s=J(h=>h.frameLoadTime),{enabledProperties:o,propertyValues:l,isEnabled:d}=UQ({category:"global",enabled:e});if(!e)return null;const f=r?.particles?.length||0;return y.jsx(POe,{default:{x:window.innerWidth-280,y:84,width:240,height:"auto"},minWidth:200,minHeight:100,bounds:".drag-boundary-container",dragHandleClassName:"info-drag-handle",style:{zIndex:1300},enableResizing:!1,children:y.jsx(pa,{elevation:3,sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",backgroundColor:t.palette.mode==="dark"?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:`1px solid ${t.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}`},children:y.jsxs(Re,{className:"info-drag-handle",sx:{padding:2,cursor:"move"},children:[y.jsx(Ve,{variant:"h6",sx:{color:t.palette.text.primary,fontWeight:"bold",marginBottom:1,fontSize:"0.9rem"},children:"Scene Info"}),y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[y.jsxs(Ve,{variant:"body2",sx:{color:t.palette.text.secondary},children:["Particles:"," ",y.jsx("strong",{style:{color:t.palette.text.primary},children:n})]}),f>0&&y.jsxs(Ve,{variant:"body2",sx:{color:t.palette.warning.main},children:["Selected: ",y.jsx("strong",{children:f})]}),a&&i!==null&&y.jsxs(Ve,{variant:"body2",sx:{color:t.palette.success.main},children:["FPS: ",y.jsx("strong",{children:i.toFixed(1)})]}),!a&&s!==null&&y.jsxs(Ve,{variant:"body2",sx:{color:t.palette.info.main},children:["Load: ",y.jsxs("strong",{children:[s,"ms"]})]}),d&&l.map((h,m)=>{const b=o[m];if(h.isLoading||h.isError||!h.data?.value)return null;const g=h.data.value,w=zQ(g);return y.jsxs(Ve,{variant:"caption",sx:{color:t.palette.text.secondary,fontFamily:"monospace",fontSize:"0.75rem"},children:[b,": ",w]},b)})]})]})})})}function FOe(){const{camera:t}=cl(),e=J(l=>l.mode),n=J(l=>l.setDrawingPointerPosition),r=J(l=>l.drawingIsValid),a=N.useRef(null),i=e==="drawing",s=10;ob(()=>{if(!a.current||!i||!("fov"in t)||!("aspect"in t))return;const l=cne.degToRad(t.fov),d=2*Math.tan(l/2)*s,f=d*t.aspect;a.current.scale.set(f,d,1);const m=new tn(0,0,-1).applyQuaternion(t.quaternion).multiplyScalar(s).add(t.position);a.current.position.copy(m),a.current.lookAt(t.position)});const o=l=>{i&&(r||n(l.point))};return i?y.jsx(une,{ref:a,args:[10,10,1,1],onPointerMove:o,children:y.jsx("meshBasicMaterial",{color:"gray",opacity:0,transparent:!0,wireframe:!0,side:Kc})}):null}function BOe(){const t=N.useRef(null),e=.05,n=.5,{mode:r}=zp(),a=yo(),i=r==="dark"?a.palette.primary.light:a.palette.primary.dark;return ob(({controls:s})=>{t.current&&s&&"target"in s&&t.current.position.copy(s.target)}),y.jsxs("group",{ref:t,children:[y.jsx(y_,{args:[n,e,e],children:y.jsx("meshStandardMaterial",{color:i})}),y.jsx(y_,{args:[e,n,e],children:y.jsx("meshStandardMaterial",{color:i})}),y.jsx(y_,{args:[e,e,n],children:y.jsx("meshStandardMaterial",{color:i})})]})}const Cz={Sphere:cOe,Bond:GDe,Arrow:qDe,Box:HDe,Plane:uOe,Shape:pOe,Curve:YDe},Rz={Camera:VDe},Az={Cell:WDe},Iz={Floor:eOe};function jOe({controlsRef:t,controlsState:e}){const{camera:n}=cl(),r=J(o=>o.attachedCameraKey),a=J(o=>o.attachedCameraKey?o.geometries[o.attachedCameraKey]:null),i=J(o=>o.curveRefs),{syncToGeometry:s}=kIe({camera:n,controlsRef:t,controlsState:e});return N.useEffect(()=>{const o=t.current;if(!o||!r||!a||a.type!=="Camera")return;const l=a.data;if(!l)return;const d=l.target;if(!d)return;let f=null;if(Array.isArray(d)&&d.length===3)f=d;else if(d&&typeof d=="object"&&d.type==="curve_attachment"){const h=d.geometry_key,m=d.progress||0,b=i[h];if(b){const g=b.getPointAt(m);f=[g.x,g.y,g.z]}}f&&(o.target.set(f[0],f[1],f[2]),o.update())},[r,a,i,t]),N.useEffect(()=>{const o=t.current;if(!o)return;const l=()=>{s()};return o.addEventListener("change",l),()=>{o.removeEventListener("change",l)}},[t,s]),null}function UOe(){const t=J(M=>M.roomId),e=J(M=>M.sessionId),n=J(M=>M.isConnected),r=J(M=>M.initializationError),a=J(M=>M.geometries),i=J(M=>M.activeCurveForDrawing),s=J(M=>M.setActiveCurveForDrawing),o=J(M=>M.attachedCameraKey),l=J(M=>M.attachToCamera),d=J(M=>M.user?.id??null),f=yo();NIe(),MIe();const h=J(M=>M.cameraKey),m=AIe(o,a,d),b=N.useRef(null),{data:g}=GL(t||"");N.useEffect(()=>{!o&&h&&a[h]&&l(h)},[o,h,a,l]),N.useEffect(()=>{if(i)return;const M=LN(a);if(M.length===0)return;const U=FN(M);s(U)},[a,i,s]);const S=(h?a[h]:null)?.data,T=N.useMemo(()=>S?.position?TS(S.position,a):[0,0,10],[S?.position,a]);if(r)return y.jsx(DIe,{error:r});if(!n||!e||!g||!S)return y.jsx(OIe,{});const x=g.data.studio_lighting,_=g.data.pathtracing,C=_.enabled===!0,R=S.fov,A=S.camera_type,I=S.show_crosshair,O=x.background_color==="default"?f.palette.background.default:x.background_color;return y.jsxs("div",{style:{width:"100%",height:"calc(100vh - 64px)"},children:[y.jsxs(dne,{shadows:!0,camera:{position:T,fov:R},gl:{antialias:!0,toneMapping:fne,preserveDrawingBuffer:C},style:{background:O},orthographic:A==="OrthographicCamera",children:[y.jsx(PIe,{sessionCameraData:S}),y.jsx(dOe,{}),y.jsxs(CDe,{settings:_,children:[!C&&y.jsx(RDe,{ambient_light:x.ambient_light,key_light:x.key_light,fill_light:x.fill_light,rim_light:x.rim_light,hemisphere_light:x.hemisphere_light}),y.jsx(iOe,{}),Object.entries(a).filter(([M,U])=>U.data?.active!==!1).map(([M,U])=>{const L=U.type;if(L in Cz){const z=Cz[L];return y.jsx(W0,{geometryKey:M,children:y.jsx(z,{geometryKey:M,data:U.data,pathtracingEnabled:C})},M)}if(L in Rz){const z=Rz[L];return y.jsx(W0,{geometryKey:M,children:y.jsx(z,{geometryKey:M,data:U.data})},M)}if(L in Az){const z=Az[L];return y.jsx(W0,{geometryKey:M,children:y.jsx(z,{data:U.data,pathtracingEnabled:C})},M)}if(L in Iz){const z=Iz[L];return y.jsx(W0,{geometryKey:M,children:y.jsx(z,{data:U.data})},M)}return console.warn(`Unhandled geometry type: ${L}`),null}),I&&y.jsx(BOe,{}),y.jsx(FOe,{}),y.jsx(sOe,{})]}),y.jsx(pne,{ref:b,enableDamping:!1,makeDefault:!0,enabled:m.enabled,enablePan:m.enablePan,enableRotate:m.enableRotate,enableZoom:m.enableZoom}),y.jsx(jOe,{controlsRef:b,controlsState:m})]},`${A}-${C}`),y.jsx(LOe,{}),y.jsx(aOe,{}),y.jsx(KDe,{}),y.jsx(JDe,{})]})}const zOe=N.memo(UOe);function HQ(t){const[e,n]=N.useState(!1),[r,a]=N.useState(0),i=N.useCallback(d=>{d.preventDefault(),d.stopPropagation()},[]),s=N.useCallback(d=>{d.preventDefault(),d.stopPropagation(),a(f=>f+1),n(!0)},[]),o=N.useCallback(d=>{d.preventDefault(),d.stopPropagation(),a(f=>{const h=f-1;return h===0&&n(!1),h})},[]),l=N.useCallback(async d=>{d.preventDefault(),d.stopPropagation(),n(!1),a(0),!(!d.dataTransfer.files||d.dataTransfer.files.length===0)&&await t(Array.from(d.dataTransfer.files))},[t]);return{isDragging:e,handleDragOver:i,handleDragEnter:s,handleDragLeave:o,handleDrop:l}}const qOe=()=>{const t=J(A=>A.currentFrame),e=J(A=>A.frameCount),n=J(A=>A.frame_selection),r=J(A=>A.frameSelectionEnabled),a=J(A=>A.playing),i=J(A=>A.setPlaying),s=J(A=>A.skipFrames),o=J(A=>A.synchronizedMode),l=J(A=>A.getIsFetching),d=J(A=>A.addBookmark),f=J(A=>A.bookmarks),h=J(A=>A.updateFrameSelection),m=J(A=>A.setFps),b=J(A=>A.setLastFrameChangeTime),{setStep:g}=KW(),w=N.useCallback(()=>r&&n&&n.length>0?[...n].sort((A,I)=>A-I):Array.from({length:e},(A,I)=>I),[r,n,e]),S=N.useCallback(()=>{const{playing:A,currentFrame:I}=J.getState();A&&i(!1);const O=w();if(O.length===0)return;const M=O.indexOf(I);M>0?g(O[M-1]):g(O[O.length-1])},[w,g,i]),T=N.useCallback(()=>{const{playing:A,currentFrame:I}=J.getState();A&&i(!1);const O=w();if(O.length===0)return;const M=O.indexOf(I);M<O.length-1?g(O[M+1]):g(O[0])},[w,g,i]),x=N.useCallback(()=>{const{playing:A,currentFrame:I}=J.getState(),O=w(),M=I===O[O.length-1];A?i(!1):(M&&g(O[0]),i(!0))},[w,g,i]),_=N.useCallback(()=>{d(J.getState().currentFrame)},[d]),C=N.useCallback(()=>{if(!f)return;const{playing:A,currentFrame:I}=J.getState();A&&i(!1);const O=Object.keys(f).map(Number).sort((U,L)=>U-L);if(O.length===0)return;const M=[...O].reverse().find(U=>U<I);g(M!==void 0?M:O[0])},[f,g,i]),R=N.useCallback(()=>{if(!f)return;const{playing:A,currentFrame:I}=J.getState();A&&i(!1);const O=Object.keys(f).map(Number).sort((U,L)=>U-L);if(O.length===0)return;const M=O.find(U=>U>I);g(M!==void 0?M:O[0])},[f,g,i]);N.useEffect(()=>{if(!a)return;const A=setInterval(()=>{if(o&&l())return;const I=J.getState().currentFrame,O=w(),M=O.indexOf(I),U=O.length-1,L=M+s;L<U?g(O[L]):M<U?g(O[U]):i(!1)},33);return()=>clearInterval(A)},[a,w,g,s,i,o,l]),N.useEffect(()=>{if(!a){m(null),b(null);return}const A=performance.now(),I=J.getState().lastFrameChangeTime;if(I!==null){const O=A-I;if(O>0){const M=1e3/O,U=J.getState().fps,L=U===null?M:.8*U+.2*M;m(L)}}b(A)},[a,t,m,b]),N.useEffect(()=>{const A=I=>{if(!ZL(I.target)){if(I.shiftKey&&I.key==="ArrowLeft"){I.preventDefault(),C();return}if(I.shiftKey&&I.key==="ArrowRight"){I.preventDefault(),R();return}switch(I.key){case"ArrowLeft":I.preventDefault(),S();break;case"ArrowRight":I.preventDefault(),T();break;case" ":I.preventDefault(),x();break;case"b":case"B":I.preventDefault(),_();break;case"Escape":I.preventDefault(),h(null);break}}};return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}},[S,T,x,_,C,R,h])},pd=cb((t,e)=>({openWindows:{},_zIndexCounter:100,openWindow:n=>{const r=e()._zIndexCounter+1,a=Object.keys(e().openWindows).length,i=`window-${Date.now()}`,s=document.querySelector(".drag-boundary-container"),o=s?.clientWidth||window.innerWidth,l=s?.clientHeight||window.innerHeight,d=500,f=400,h=20,m=o-d-h-a*30,b=l-f-h-a*30;t(g=>({openWindows:{...g.openWindows,[i]:{id:i,figureKey:n,x:Math.max(h,m),y:Math.max(h,b),width:d,height:f,zIndex:r}},_zIndexCounter:r}))},closeWindow:n=>{t(r=>{const{[n]:a,...i}=r.openWindows;return{openWindows:i}})},changeFigureInWindow:(n,r)=>{t(a=>a.openWindows[n]?{openWindows:{...a.openWindows,[n]:{...a.openWindows[n],figureKey:r}}}:a)},updateWindowState:(n,r)=>{t(a=>({openWindows:{...a.openWindows,[n]:{...a.openWindows[n],...r}}}))},bringToFront:n=>{const r=e().openWindows[n];if(!r)return;const a=e()._zIndexCounter+1;r.zIndex!==a-1&&t(i=>({openWindows:{...i.openWindows,[n]:{...r,zIndex:a}},_zIndexCounter:a}))}})),VQ="zndraw_last_room";function $Oe(){return localStorage.getItem(VQ)}function GOe(t){localStorage.setItem(VQ,t)}function kz(t){const e=t.match(/^(\d+)\.(\d+)\.dev/);if(e)return{major:Number.parseInt(e[1]),minor:Number.parseInt(e[2]),patch:0};const r=t.replace(/[a-zA-Z].*/g,"").split(".").map(Number);return r.length<3||r.some(Number.isNaN)?null:{major:r[0],minor:r[1],patch:r[2]}}function HOe(t,e){const n=kz(t),r=kz(e);return!n||!r?{compatible:!1,severity:"error",message:`Invalid version format. Client: ${t}, Server: ${e}`}:n.major!==r.major?{compatible:!1,severity:"error",message:`Major version mismatch. Client: ${t}, Server: ${e}. Connection refused.`}:n.minor!==r.minor?{compatible:!1,severity:"error",message:`Minor version mismatch. Client: ${t}, Server: ${e}. Connection refused.`}:n.patch!==r.patch?{compatible:!0,severity:"warning",message:`Patch version mismatch. Client: ${t}, Server: ${e}. This may cause unexpected behavior.`}:{compatible:!0,severity:"none",message:"Version compatible"}}function VOe(){return"0.0.0.dev254+ge854a2adc.d20260220"}const WQ=(t={})=>{const e=J($=>$.roomId),n=J($=>$.setConnected),r=J($=>$.setInitializationError),a=J($=>$.setFrameCount),i=J($=>$.setCurrentFrame),s=J($=>$.setFrameSelection),o=J($=>$.setSelections),l=J($=>$.setSelectionGroups),d=J($=>$.setBookmarks),f=J($=>$.setUser),h=J($=>$.setSessionId),m=J($=>$.setCameraKey),b=J($=>$.setGeometries),g=J($=>$.setGeometrySchemas),w=J($=>$.setGeometryDefaults),S=J($=>$.updateGeometry),T=J($=>$.removeGeometry),x=J($=>$.setActiveCurveForDrawing),_=J($=>$.setServerVersion),C=J($=>$.setGlobalSettings),R=J($=>$.setSuperuserLock),A=J($=>$.setUserLock),I=J($=>$.setProgressTrackers),O=J($=>$.addProgressTracker),M=J($=>$.updateProgressTracker),U=J($=>$.removeProgressTracker),L=oa(),{openWindow:z}=pd(),j=t.roomId||e,{isOverview:H=!1}=t;N.useEffect(()=>{const $=j,q=H;function K(Ze,ot,Pe){return async we=>{if(j)try{const $e=await Ze(j);ot($e)}catch($e){console.error(`Error fetching ${Pe}:`,$e)}}}let V=!1;const re=1e3,ee=3e4;let Y=re;async function ne(){Y=re,r(null);try{const{version:Ze}=await vse();_(Ze);const ot=await Sse();C(ot);const Pe=VOe(),we=HOe(Pe,Ze);if(!we.compatible){console.error(we.message),J.getState().showSnackbar(we.message,"error"),bt.disconnect();return}if(we.severity==="warning"&&console.warn(we.message),H)bt.emit("room_join",{room_id:"@overview",client_type:"frontend"},$e=>{if($e.status){console.error("Failed to join overview room:",$e),r({message:"Failed to join overview",details:$e.detail||"Server rejected the connection"});return}n(!0)});else if(j){const $e=async He=>{if(He.status){console.error("Failed to join room:",He),r({message:"Failed to join room",details:He.detail||"Server rejected the connection"});return}J.getState().resetChatUnread();const ft=He.session_id,Nt=He.step,Ot=He.frame_count;h(ft),m(He.camera_key??null),GOe(j),a(Ot),i(Nt),console.debug("[RoomJoin] locked:",He.locked),R(He.locked??!1);try{const[pt]=await Promise.all([lS(j),L.fetchQuery({queryKey:["settings",j,ft],queryFn:()=>kW(j,ft)})]),Me=pt.items||{};b(Me),g(pt.types?.schemas||{}),w(pt.types?.defaults||{});const Je={};for(const[Tt,Rt]of Object.entries(Me))Rt.type!=="Camera"&&(Je[Tt]=Rt.selection??[]);o(Je),r(null),n(!0),It()}catch(pt){console.error("Error fetching critical data:",pt),r({message:"Failed to load scene data",details:pt instanceof Error?pt.message:"Could not fetch critical data from server"});return}try{const[pt,Me,Je,Tt]=await Promise.all([J3(j),nF(j),Cse(j),Nse(j)]);l(pt.items||{}),d(Me.items||{}),s(Je.frame_selection),Tt.locked&&A(Tt.user_id??null,Tt.msg??null)}catch(pt){console.error("Error fetching secondary data:",pt)}};bt.emit("room_join",{room_id:j,client_type:"frontend"},async He=>{if(He.status===404){const ft=new URLSearchParams(window.location.search).get("copy_from");try{await Eb({room_id:j,copy_from:ft??void 0})}catch(Nt){if(Nt.response?.status!==409){console.error("Failed to create room:",Nt),r({message:"Failed to create room",details:Nt instanceof Error?Nt.message:"Could not create room on server"});return}}bt.emit("room_join",{room_id:j,client_type:"frontend"},$e);return}$e(He)})}else n(!0)}catch(Ze){console.error("Error checking version compatibility:",Ze),n(!0)}}function te(){n(!1)}function G(Ze){const{frame:ot}=Ze;J.getState().playing||i(ot)}function W(Ze){const{setAttachedCameraKey:ot}=J.getState();ot(Ze.active_camera)}function ue(Ze){const{roomId:ot,userName:Pe,category:we,extension:$e,sessionId:He}=Ze;L.invalidateQueries({queryKey:["extensionData",ot,Pe,we,$e]}),we==="settings"&&He&&L.invalidateQueries({queryKey:["settings",ot,He]})}function Ee(Ze){const{category:ot}=Ze;L.invalidateQueries({queryKey:["schemas",e,ot]})}function ge(Ze){s(Ze.indices||null)}const fe=K(nF,Ze=>{d(Ze.items||{})},"bookmarks");function Ae(Ze){const{room_id:ot,action:Pe,indices:we,count:$e,reason:He}=Ze;$e!=null&&a($e),Pe==="clear"&&He==="provider_disconnected"&&J.getState().showSnackbar("Source disconnected","warning"),L.invalidateQueries({predicate:ft=>{const[Nt,Ot,pt]=ft.queryKey;if(Nt!=="frame"&&Nt!=="metadata"||Ot!==ot||typeof pt!="number")return!1;if(Pe==="modify")return we?we.includes(pt):!0;if(Pe==="delete"&&we){const Me=Math.min(...we);return pt>=Me}return Pe==="add"?ft.state.data===null:Pe==="clear"}})}function oe(Ze){L.setQueryData(["chat",j],we=>{if(!we)return we;const $e=[...we.pages],He=$e.length-1;return He>=0&&($e[He]={...$e[He],items:[...$e[He].items,Ze],metadata:{...$e[He].metadata,total_count:$e[He].metadata.total_count+1}}),{...we,pages:$e}});const{chatOpen:ot,incrementChatUnread:Pe}=J.getState();ot||Pe()}function de(Ze){L.setQueryData(["chat",j],ot=>{if(!ot)return ot;const Pe=ot.pages.map(we=>({...we,items:we.items.map($e=>$e.id===Ze.id?{...$e,...Ze}:$e)}));return{...ot,pages:Pe}})}const se=new Map;function Se(Ze){const{addTypingUser:ot,removeTypingUser:Pe}=J.getState(),we=Ze.email,$e=se.get(we);$e&&clearTimeout($e),Ze.is_typing?(ot(we),se.set(we,setTimeout(()=>{Pe(we),se.delete(we)},5e3))):(Pe(we),se.delete(we))}async function me(Ze){if(j)try{const ot=Ze?.operation||"set";if(ot==="delete"){const{key:Pe}=Ze;if(!Pe){console.warn("Delete operation received without key");return}T(Pe),L.removeQueries({queryKey:["geometries",j,"detail",Pe]}),L.invalidateQueries({queryKey:["geometries",j,"list"]})}else if(ot==="set")if(Ze&&Ze.key){const{key:Pe}=Ze;L.invalidateQueries({queryKey:["geometries",j,"detail",Pe]}),L.invalidateQueries({queryKey:["geometries",j,"list"]});try{const we=await ON(j,Pe);S(Pe,we.geometry),!J.getState().activeCurveForDrawing&&we.geometry.type==="Curve"&&we.geometry.data?.active!==!1&&x(Pe)}catch(we){console.error(`Error fetching geometry ${Pe}:`,we)}}else{L.invalidateQueries({queryKey:["geometries",j,"list"]});const Pe=await lS(j),$e=Object.keys(Pe.items||{}).map(async Nt=>{try{const Ot=await ON(j,Nt);return{key:Nt,geometry:Ot.geometry}}catch(Ot){return console.error(`Error fetching geometry ${Nt}:`,Ot),null}}),He=await Promise.all($e),ft={};He.forEach(Nt=>{Nt&&Nt.geometry&&(ft[Nt.key]=Nt.geometry)}),b(ft)}}catch(ot){console.error("Error handling geometry invalidation:",ot)}}function ce(Ze){if(!Ze.key)return;const ot=Ze.operation||"set";if(ot==="delete")L.removeQueries({queryKey:["figures",j,"detail",Ze.key]}),Object.entries(pd.getState().openWindows).filter(([we,$e])=>$e.figureKey===Ze.key).map(([we])=>we).forEach(we=>{pd.getState().closeWindow(we)}),L.invalidateQueries({queryKey:["figures",j,"list"]});else if(ot==="set"){L.invalidateQueries({queryKey:["figures",j,"detail",Ze.key]}),L.invalidateQueries({queryKey:["figures",j,"list"]});const Pe=pd.getState().openWindows,we=Object.values(Pe).some(ft=>ft.figureKey===Ze.key),$e=Object.keys(Pe).length;we||$e<5&&z(Ze.key)}}const pe=K(lS,Ze=>{const ot=Ze.items||{},Pe={};for(const[we,$e]of Object.entries(ot))$e.type!=="Camera"&&(Pe[we]=$e.selection??[]);o(Pe)},"selections"),Te=K(J3,Ze=>{l(Ze.items||{})},"selection_groups");function be(Ze){console.debug("[RoomUpdate] received:",{data:Ze,currentRoomId:j}),Ze.id===j&&(Ze.frame_count!=null&&a(Ze.frame_count),Ze.locked!=null&&(console.debug("[RoomUpdate] lock change:",Ze.locked),R(Ze.locked))),uo.getState().setRoom(Ze.id,Ze)}function Ie(Ze){const{room_id:ot}=Ze;uo.getState().removeRoom(ot)}function je(Ze){const{action:ot,user_id:Pe,msg:we}=Ze;ot==="acquired"||ot==="refreshed"?A(Pe??null,we??null):ot==="released"&&A(null,null)}function ke(Ze){const{progressTrackers:ot}=Ze;ot&&I(ot)}function Ge(Ze){const{progressId:ot,roomId:Pe,description:we}=Ze;O(ot,we,null,Pe)}function Et(Ze){const{progressId:ot,description:Pe,progress:we}=Ze;M(ot,Pe,we)}function gt(Ze){const{progressId:ot}=Ze;U(ot)}async function kt(Ze){if(!V&&(console.error("Socket connection error:",Ze.message),!bt.active&&(p1(),await new Promise(ot=>setTimeout(ot,Y)),Y=Math.min(Y*2,ee),!V)))try{const{user:ot}=await Dp();f(ot)}catch{}}bt.on("disconnect",te),bt.on("connect",ne),bt.on("connect_error",kt),bt.on("frame_update",G),bt.on("active_camera_update",W),bt.on("invalidate",ue),bt.on("schema_invalidate",Ee),bt.on("frame_selection_update",ge),bt.on("bookmarks_invalidate",fe),bt.on("frames_invalidate",Ae),bt.on("message_new",oe),bt.on("message_edited",de),bt.on("typing",Se),bt.on("geometry_invalidate",me),bt.on("figure_invalidate",ce),bt.on("selection_invalidate",pe),bt.on("selection_groups_invalidate",Te),bt.on("room_update",be),bt.on("room_delete",Ie),bt.on("lock_update",je),bt.on("progress_init",ke),bt.on("progress_start",Ge),bt.on("progress_update",Et),bt.on("progress_complete",gt);const Ye=3e4;let nt=null;function It(){Gt(),!(!j||H)&&(nt=setInterval(()=>{bt.connected&&j&&bt.emit("heartbeat",{room_id:j})},Ye))}function Gt(){nt&&(clearInterval(nt),nt=null)}return bt.connected?ne():Dp().then(({user:Ze})=>{V||f(Ze)}).catch(Ze=>{V||console.error("Authentication failed:",Ze)}),()=>{V=!0,Gt();const Ze=J.getState(),ot=!q&&t.isOverview===!0,Pe=$!==Ze.roomId||q!==t.isOverview;ot&&$?bt.emit("room_leave",{room_id:$}):H&&bt.emit("room_leave",{room_id:"@overview"}),Pe&&(h(null),m(null)),bt.off("connect",ne),bt.off("disconnect",te),bt.off("frame_update",G),bt.off("active_camera_update",W),bt.off("invalidate",ue),bt.off("schema_invalidate",Ee),bt.off("frame_selection_update",ge),bt.off("bookmarks_invalidate",fe),bt.off("frames_invalidate",Ae),bt.off("message_new",oe),bt.off("message_edited",de),bt.off("typing",Se);for(const we of se.values())clearTimeout(we);se.clear(),bt.off("geometry_invalidate",me),bt.off("figure_invalidate",ce),bt.off("selection_invalidate",pe),bt.off("selection_groups_invalidate",Te),bt.off("room_update",be),bt.off("room_delete",Ie),bt.off("lock_update",je),bt.off("progress_init",ke),bt.off("progress_start",Ge),bt.off("progress_update",Et),bt.off("progress_complete",gt)}},[j,H,n,r,a,i,L,d,o,l,s,f,h,b,g,w,S,T,x,_,C,R,A,I,O,M,U,z,m])},QS={all:t=>["figures",t],list:t=>[...QS.all(t),"list"],detail:(t,e)=>[...QS.all(t),"detail",e]},WOe=()=>{const t=J(e=>e.roomId);return Zt({queryKey:QS.list(t),queryFn:()=>Ese(t),enabled:!!t})},R5e=(t,e)=>{const n=J(r=>r.roomId);return Zt({queryKey:QS.detail(n,t),queryFn:()=>_se(n,t),enabled:(e?.enabled!==void 0?e.enabled:!0)&&!!n&&!!t})};function YOe(){const{data:t}=WOe(),e=t?.items||[],n=pd(IV(s=>Object.values(s.openWindows).map(o=>o.figureKey))),r=N.useMemo(()=>{const s=new Set(n);return e.find(o=>!s.has(o))},[e,n]),{openWindow:a}=pd(),i=()=>{r&&a(r)};return y.jsx(_t,{title:"Add a new plot window",children:y.jsx(Ct,{color:"inherit","aria-label":"add plot",onClick:i,disabled:!r,children:y.jsx(Ore,{})})})}function KOe(t,e){if(t==null)return{};var n,r,a=Dt(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function XOe(t){if(Array.isArray(t))return xM(t)}function ZOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QOe(t,e){if(t){if(typeof t=="string")return xM(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xM(t,e):void 0}}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wM(t){return XOe(t)||ZOe(t)||QOe(t)||JOe()}function YQ(t,e,n){return(e=Nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dz(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e2e(t){var e=t.length;if(e===0||e===1)return t;if(e===2)return[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])];if(e===3)return[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])];if(e>=4)return[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]}var LA={};function t2e(t){if(t.length===0||t.length===1)return t;var e=t.join(".");return LA[e]||(LA[e]=e2e(t)),LA[e]}function n2e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.filter(function(i){return i!=="token"}),a=t2e(r);return a.reduce(function(i,s){return xp(xp({},i),n[s])},e)}function Oz(t){return t.join(" ")}function r2e(t,e){var n=0;return function(r){return n+=1,r.map(function(a,i){return KQ({node:a,stylesheet:t,useInlineStyles:e,key:"code-segment-".concat(n,"-").concat(i)})})}}function KQ(t){var e=t.node,n=t.stylesheet,r=t.style,a=r===void 0?{}:r,i=t.useInlineStyles,s=t.key,o=e.properties,l=e.type,d=e.tagName,f=e.value;if(l==="text")return f;if(d){var h=r2e(n,i),m;if(!i)m=xp(xp({},o),{},{className:Oz(o.className)});else{var b=Object.keys(n).reduce(function(T,x){return x.split(".").forEach(function(_){T.includes(_)||T.push(_)}),T},[]),g=o.className&&o.className.includes("token")?["token"]:[],w=o.className&&g.concat(o.className.filter(function(T){return!b.includes(T)}));m=xp(xp({},o),{},{className:Oz(w)||void 0,style:n2e(o.className,Object.assign({},o.style,a),n)})}var S=h(e.children);return Q.createElement(d,he({key:s},m),S)}}const a2e=(function(t,e){var n=t.listLanguages();return n.indexOf(e)!==-1});var i2e=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function Nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var s2e=/\n/g;function o2e(t){return t.match(s2e)}function l2e(t){var e=t.lines,n=t.startingLineNumber,r=t.style;return e.map(function(a,i){var s=i+n;return Q.createElement("span",{key:"line-".concat(i),className:"react-syntax-highlighter-line-number",style:typeof r=="function"?r(s):r},"".concat(s,`
`))})}function c2e(t){var e=t.codeString,n=t.codeStyle,r=t.containerStyle,a=r===void 0?{float:"left",paddingRight:"10px"}:r,i=t.numberStyle,s=i===void 0?{}:i,o=t.startingLineNumber;return Q.createElement("code",{style:Object.assign({},n,a)},l2e({lines:e.replace(/\n$/,"").split(`
`),style:s,startingLineNumber:o}))}function u2e(t){return"".concat(t.toString().length,".25em")}function XQ(t,e){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(t),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:e},children:[{type:"text",value:t}]}}function ZQ(t,e,n){var r={display:"inline-block",minWidth:u2e(n),paddingRight:"1em",textAlign:"right",userSelect:"none"},a=typeof t=="function"?t(e):t,i=Wc(Wc({},r),a);return i}function AS(t){var e=t.children,n=t.lineNumber,r=t.lineNumberStyle,a=t.largestLineNumber,i=t.showInlineLineNumbers,s=t.lineProps,o=s===void 0?{}:s,l=t.className,d=l===void 0?[]:l,f=t.showLineNumbers,h=t.wrapLongLines,m=t.wrapLines,b=m===void 0?!1:m,g=b?Wc({},typeof o=="function"?o(n):o):{};if(g.className=g.className?[].concat(wM(g.className.trim().split(/\s+/)),wM(d)):d,n&&i){var w=ZQ(r,n,a);e.unshift(XQ(n,w))}return h&f&&(g.style=Wc({display:"flex"},g.style)),{type:"element",tagName:"span",properties:g,children:e}}function QQ(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=0;r<t.length;r++){var a=t[r];if(a.type==="text")n.push(AS({children:[a],className:wM(new Set(e))}));else if(a.children){var i=e.concat(a.properties.className);QQ(a.children,i).forEach(function(s){return n.push(s)})}}return n}function d2e(t,e,n,r,a,i,s,o,l){var d,f=QQ(t.value),h=[],m=-1,b=0;function g(R,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return AS({children:R,lineNumber:A,lineNumberStyle:o,largestLineNumber:s,showInlineLineNumbers:a,lineProps:n,className:I,showLineNumbers:r,wrapLongLines:l,wrapLines:e})}function w(R,A){if(r&&A&&a){var I=ZQ(o,A,s);R.unshift(XQ(A,I))}return R}function S(R,A){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return e||I.length>0?g(R,A,I):w(R,A)}for(var T=function(){var A=f[b],I=A.children[0].value,O=o2e(I);if(O){var M=I.split(`
`);M.forEach(function(U,L){var z=r&&h.length+i,j={type:"text",value:"".concat(U,`
`)};if(L===0){var H=f.slice(m+1,b).concat(AS({children:[j],className:A.properties.className})),$=S(H,z);h.push($)}else if(L===M.length-1){var q=f[b+1]&&f[b+1].children&&f[b+1].children[0],K={type:"text",value:"".concat(U)};if(q){var V=AS({children:[K],className:A.properties.className});f.splice(b+1,0,V)}else{var re=[K],ee=S(re,z,A.properties.className);h.push(ee)}}else{var Y=[j],ne=S(Y,z,A.properties.className);h.push(ne)}}),m=b}b++};b<f.length;)T();if(m!==f.length-1){var x=f.slice(m+1,f.length);if(x&&x.length){var _=r&&h.length+i,C=S(x,_);h.push(C)}}return e?h:(d=[]).concat.apply(d,h)}function f2e(t){var e=t.rows,n=t.stylesheet,r=t.useInlineStyles;return e.map(function(a,i){return KQ({node:a,stylesheet:n,useInlineStyles:r,key:"code-segment-".concat(i)})})}function JQ(t){return t&&typeof t.highlightAuto<"u"}function p2e(t){var e=t.astGenerator,n=t.language,r=t.code,a=t.defaultCodeValue;if(JQ(e)){var i=a2e(e,n);return n==="text"?{value:a,language:"text"}:i?e.highlight(n,r):e.highlightAuto(r)}try{return n&&n!=="text"?{value:e.highlight(r,n)}:{value:a}}catch{return{value:a}}}function h2e(t,e){return function(r){var a,i,s=r.language,o=r.children,l=r.style,d=l===void 0?e:l,f=r.customStyle,h=f===void 0?{}:f,m=r.codeTagProps,b=m===void 0?{className:s?"language-".concat(s):void 0,style:Wc(Wc({},d['code[class*="language-"]']),d['code[class*="language-'.concat(s,'"]')])}:m,g=r.useInlineStyles,w=g===void 0?!0:g,S=r.showLineNumbers,T=S===void 0?!1:S,x=r.showInlineLineNumbers,_=x===void 0?!0:x,C=r.startingLineNumber,R=C===void 0?1:C,A=r.lineNumberContainerStyle,I=r.lineNumberStyle,O=I===void 0?{}:I,M=r.wrapLines,U=r.wrapLongLines,L=U===void 0?!1:U,z=r.lineProps,j=z===void 0?{}:z,H=r.renderer,$=r.PreTag,q=$===void 0?"pre":$,K=r.CodeTag,V=K===void 0?"code":K,re=r.code,ee=re===void 0?(Array.isArray(o)?o[0]:o)||"":re,Y=r.astGenerator,ne=KOe(r,i2e);Y=Y||t;var te=T?Q.createElement(c2e,{containerStyle:A,codeStyle:b.style||{},numberStyle:O,startingLineNumber:R,codeString:ee}):null,G=d.hljs||d['pre[class*="language-"]']||{backgroundColor:"#fff"},W=JQ(Y)?"hljs":"prismjs",ue=w?Object.assign({},ne,{style:Object.assign({},G,h)}):Object.assign({},ne,{className:ne.className?"".concat(W," ").concat(ne.className):W,style:Object.assign({},h)});if(L?b.style=Wc({whiteSpace:"pre-wrap"},b.style):b.style=Wc({whiteSpace:"pre"},b.style),!Y)return Q.createElement(q,ue,te,Q.createElement(V,b,ee));(M===void 0&&H||L)&&(M=!0),H=H||f2e;var Ee=[{type:"text",value:ee}],ge=p2e({astGenerator:Y,language:s,code:ee,defaultCodeValue:Ee});ge.language===null&&(ge.value=Ee);var fe=(a=(i=ee.match(/\n/g))===null||i===void 0?void 0:i.length)!==null&&a!==void 0?a:0,Ae=R+fe,oe=d2e(ge,M,j,T,_,R,Ae,O,L);return Q.createElement(q,ue,Q.createElement(V,b,!_&&te,H({rows:oe,stylesheet:d,useInlineStyles:w})))}}const m2e=["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apex","apl","applescript","aql","arduino","arff","asciidoc","asm6502","asmatmel","aspnet","autohotkey","autoit","avisynth","avro-idl","bash","basic","batch","bbcode","bicep","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cfscript","chaiscript","cil","clike","clojure","cmake","cobol","coffeescript","concurnas","coq","cpp","crystal","csharp","cshtml","csp","css-extras","css","csv","cypher","d","dart","dataweave","dax","dhall","diff","django","dns-zone-file","docker","dot","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","false","firestore-security-rules","flow","fortran","fsharp","ftl","gap","gcode","gdscript","gedcom","gherkin","git","glsl","gml","gn","go-module","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hoon","hpkp","hsts","http","ichigojam","icon","icu-message-format","idris","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jexl","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keepalived","keyman","kotlin","kumir","kusto","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","log","lolcode","lua","magma","makefile","markdown","markup-templating","markup","matlab","maxscript","mel","mermaid","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nevod","nginx","nim","nix","nsis","objectivec","ocaml","opencl","openqasm","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","promql","properties","protobuf","psl","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","qsharp","r","racket","reason","regex","rego","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","squirrel","stan","stylus","swift","systemd","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tremor","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","uorazor","uri","v","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","web-idl","wiki","wolfram","wren","xeora","xml-doc","xojo","xquery","yaml","yang","zig"];var FA,Mz;function g2e(){if(Mz)return FA;Mz=1,FA=e;var t=Object.prototype.hasOwnProperty;function e(){for(var n={},r=0;r<arguments.length;r++){var a=arguments[r];for(var i in a)t.call(a,i)&&(n[i]=a[i])}return n}return FA}var BA,Pz;function eJ(){if(Pz)return BA;Pz=1,BA=e;var t=e.prototype;t.space=null,t.normal={},t.property={};function e(n,r,a){this.property=n,this.normal=r,a&&(this.space=a)}return BA}var jA,Lz;function b2e(){if(Lz)return jA;Lz=1;var t=g2e(),e=eJ();jA=n;function n(r){for(var a=r.length,i=[],s=[],o=-1,l,d;++o<a;)l=r[o],i.push(l.property),s.push(l.normal),d=l.space;return new e(t.apply(null,i),t.apply(null,s),d)}return jA}var UA,Fz;function JL(){if(Fz)return UA;Fz=1,UA=t;function t(e){return e.toLowerCase()}return UA}var zA,Bz;function tJ(){if(Bz)return zA;Bz=1,zA=e;var t=e.prototype;t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1;function e(n,r){this.property=n,this.attribute=r}return zA}var Yl={},jz;function e3(){if(jz)return Yl;jz=1;var t=0;Yl.boolean=e(),Yl.booleanish=e(),Yl.overloadedBoolean=e(),Yl.number=e(),Yl.spaceSeparated=e(),Yl.commaSeparated=e(),Yl.commaOrSpaceSeparated=e();function e(){return Math.pow(2,++t)}return Yl}var qA,Uz;function nJ(){if(Uz)return qA;Uz=1;var t=tJ(),e=e3();qA=a,a.prototype=new t,a.prototype.defined=!0;var n=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],r=n.length;function a(s,o,l,d){var f=-1,h;for(i(this,"space",d),t.call(this,s,o);++f<r;)h=n[f],i(this,h,(l&e[h])===e[h])}function i(s,o,l){l&&(s[o]=l)}return qA}var $A,zz;function qb(){if(zz)return $A;zz=1;var t=JL(),e=eJ(),n=nJ();$A=r;function r(a){var i=a.space,s=a.mustUseProperty||[],o=a.attributes||{},l=a.properties,d=a.transform,f={},h={},m,b;for(m in l)b=new n(m,d(o,m),l[m],i),s.indexOf(m)!==-1&&(b.mustUseProperty=!0),f[m]=b,h[t(m)]=m,h[t(b.attribute)]=m;return new e(f,h,i)}return $A}var GA,qz;function y2e(){if(qz)return GA;qz=1;var t=qb();GA=t({space:"xlink",transform:e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function e(n,r){return"xlink:"+r.slice(5).toLowerCase()}return GA}var HA,$z;function v2e(){if($z)return HA;$z=1;var t=qb();HA=t({space:"xml",transform:e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function e(n,r){return"xml:"+r.slice(3).toLowerCase()}return HA}var VA,Gz;function S2e(){if(Gz)return VA;Gz=1,VA=t;function t(e,n){return n in e?e[n]:n}return VA}var WA,Hz;function rJ(){if(Hz)return WA;Hz=1;var t=S2e();WA=e;function e(n,r){return t(n,r.toLowerCase())}return WA}var YA,Vz;function E2e(){if(Vz)return YA;Vz=1;var t=qb(),e=rJ();return YA=t({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:e,properties:{xmlns:null,xmlnsXLink:null}}),YA}var KA,Wz;function _2e(){if(Wz)return KA;Wz=1;var t=e3(),e=qb(),n=t.booleanish,r=t.number,a=t.spaceSeparated;KA=e({transform:i,properties:{ariaActiveDescendant:null,ariaAtomic:n,ariaAutoComplete:null,ariaBusy:n,ariaChecked:n,ariaColCount:r,ariaColIndex:r,ariaColSpan:r,ariaControls:a,ariaCurrent:null,ariaDescribedBy:a,ariaDetails:null,ariaDisabled:n,ariaDropEffect:a,ariaErrorMessage:null,ariaExpanded:n,ariaFlowTo:a,ariaGrabbed:n,ariaHasPopup:null,ariaHidden:n,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:a,ariaLevel:r,ariaLive:null,ariaModal:n,ariaMultiLine:n,ariaMultiSelectable:n,ariaOrientation:null,ariaOwns:a,ariaPlaceholder:null,ariaPosInSet:r,ariaPressed:n,ariaReadOnly:n,ariaRelevant:null,ariaRequired:n,ariaRoleDescription:a,ariaRowCount:r,ariaRowIndex:r,ariaRowSpan:r,ariaSelected:n,ariaSetSize:r,ariaSort:null,ariaValueMax:r,ariaValueMin:r,ariaValueNow:r,ariaValueText:null,role:null}});function i(s,o){return o==="role"?o:"aria-"+o.slice(4).toLowerCase()}return KA}var XA,Yz;function x2e(){if(Yz)return XA;Yz=1;var t=e3(),e=qb(),n=rJ(),r=t.boolean,a=t.overloadedBoolean,i=t.booleanish,s=t.number,o=t.spaceSeparated,l=t.commaSeparated;return XA=e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:n,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:l,acceptCharset:o,accessKey:o,action:null,allow:null,allowFullScreen:r,allowPaymentRequest:r,allowUserMedia:r,alt:null,as:null,async:r,autoCapitalize:null,autoComplete:o,autoFocus:r,autoPlay:r,capture:r,charSet:null,checked:r,cite:null,className:o,cols:s,colSpan:null,content:null,contentEditable:i,controls:r,controlsList:o,coords:s|l,crossOrigin:null,data:null,dateTime:null,decoding:null,default:r,defer:r,dir:null,dirName:null,disabled:r,download:a,draggable:i,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:r,formTarget:null,headers:o,height:s,hidden:r,high:s,href:null,hrefLang:null,htmlFor:o,httpEquiv:o,id:null,imageSizes:null,imageSrcSet:l,inputMode:null,integrity:null,is:null,isMap:r,itemId:null,itemProp:o,itemRef:o,itemScope:r,itemType:o,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:r,low:s,manifest:null,max:null,maxLength:s,media:null,method:null,min:null,minLength:s,multiple:r,muted:r,name:null,nonce:null,noModule:r,noValidate:r,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:r,optimum:s,pattern:null,ping:o,placeholder:null,playsInline:r,poster:null,preload:null,readOnly:r,referrerPolicy:null,rel:o,required:r,reversed:r,rows:s,rowSpan:s,sandbox:o,scope:null,scoped:r,seamless:r,selected:r,shape:null,size:s,sizes:null,slot:null,span:s,spellCheck:i,src:null,srcDoc:null,srcLang:null,srcSet:l,start:s,step:null,style:null,tabIndex:s,target:null,title:null,translate:null,type:null,typeMustMatch:r,useMap:null,value:i,width:s,wrap:null,align:null,aLink:null,archive:o,axis:null,background:null,bgColor:null,border:s,borderColor:null,bottomMargin:s,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:r,declare:r,event:null,face:null,frame:null,frameBorder:null,hSpace:s,leftMargin:s,link:null,longDesc:null,lowSrc:null,marginHeight:s,marginWidth:s,noResize:r,noHref:r,noShade:r,noWrap:r,object:null,profile:null,prompt:null,rev:null,rightMargin:s,rules:null,scheme:null,scrolling:i,standby:null,summary:null,text:null,topMargin:s,valueType:null,version:null,vAlign:null,vLink:null,vSpace:s,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:r,disableRemotePlayback:r,prefix:null,property:null,results:s,security:null,unselectable:null}}),XA}var ZA,Kz;function w2e(){if(Kz)return ZA;Kz=1;var t=b2e(),e=y2e(),n=v2e(),r=E2e(),a=_2e(),i=x2e();return ZA=t([n,e,r,a,i]),ZA}var QA,Xz;function T2e(){if(Xz)return QA;Xz=1;var t=JL(),e=nJ(),n=tJ(),r="data";QA=o;var a=/^data[-\w.:]+$/i,i=/-[a-z]/g,s=/[A-Z]/g;function o(m,b){var g=t(b),w=b,S=n;return g in m.normal?m.property[m.normal[g]]:(g.length>4&&g.slice(0,4)===r&&a.test(b)&&(b.charAt(4)==="-"?w=l(b):b=d(b),S=e),new S(w,b))}function l(m){var b=m.slice(5).replace(i,h);return r+b.charAt(0).toUpperCase()+b.slice(1)}function d(m){var b=m.slice(4);return i.test(b)?m:(b=b.replace(s,f),b.charAt(0)!=="-"&&(b="-"+b),r+b)}function f(m){return"-"+m.toLowerCase()}function h(m){return m.charAt(1).toUpperCase()}return QA}var JA,Zz;function C2e(){if(Zz)return JA;Zz=1,JA=e;var t=/[#.]/g;function e(n,r){for(var a=n||"",i=r||"div",s={},o=0,l,d,f;o<a.length;)t.lastIndex=o,f=t.exec(a),l=a.slice(o,f?f.index:a.length),l&&(d?d==="#"?s.id=l:s.className?s.className.push(l):s.className=[l]:i=l,o+=l.length),f&&(d=f[0],o++);return{type:"element",tagName:i,properties:s,children:[]}}return JA}var eS={},Qz;function R2e(){if(Qz)return eS;Qz=1,eS.parse=r,eS.stringify=a;var t="",e=" ",n=/[ \t\n\r\f]+/g;function r(i){var s=String(i||t).trim();return s===t?[]:s.split(n)}function a(i){return i.join(e).trim()}return eS}var tS={},Jz;function A2e(){if(Jz)return tS;Jz=1,tS.parse=r,tS.stringify=a;var t=",",e=" ",n="";function r(i){for(var s=[],o=String(i||n),l=o.indexOf(t),d=0,f=!1,h;!f;)l===-1&&(l=o.length,f=!0),h=o.slice(d,l).trim(),(h||!f)&&s.push(h),d=l+1,l=o.indexOf(t,d);return s}function a(i,s){var o=s||{},l=o.padLeft===!1?n:e,d=o.padRight?e:n;return i[i.length-1]===n&&(i=i.concat(n)),i.join(d+t+l).trim()}return tS}var eI,eq;function I2e(){if(eq)return eI;eq=1;var t=T2e(),e=JL(),n=C2e(),r=R2e().parse,a=A2e().parse;eI=s;var i={}.hasOwnProperty;function s(g,w,S){var T=S?b(S):null;return x;function x(C,R){var A=n(C,w),I=Array.prototype.slice.call(arguments,2),O=A.tagName.toLowerCase(),M;if(A.tagName=T&&i.call(T,O)?T[O]:O,R&&o(R,A)&&(I.unshift(R),R=null),R)for(M in R)_(A.properties,M,R[M]);return d(A.children,I),A.tagName==="template"&&(A.content={type:"root",children:A.children},A.children=[]),A}function _(C,R,A){var I,O,M;A==null||A!==A||(I=t(g,R),O=I.property,M=A,typeof M=="string"&&(I.spaceSeparated?M=r(M):I.commaSeparated?M=a(M):I.commaOrSpaceSeparated&&(M=r(a(M).join(" ")))),O==="style"&&typeof A!="string"&&(M=m(M)),O==="className"&&C.className&&(M=C.className.concat(M)),C[O]=f(I,O,M))}}function o(g,w){return typeof g=="string"||"length"in g||l(w.tagName,g)}function l(g,w){var S=w.type;return g==="input"||!S||typeof S!="string"?!1:typeof w.children=="object"&&"length"in w.children?!0:(S=S.toLowerCase(),g==="button"?S!=="menu"&&S!=="submit"&&S!=="reset"&&S!=="button":"value"in w)}function d(g,w){var S,T;if(typeof w=="string"||typeof w=="number"){g.push({type:"text",value:String(w)});return}if(typeof w=="object"&&"length"in w){for(S=-1,T=w.length;++S<T;)d(g,w[S]);return}if(typeof w!="object"||!("type"in w))throw new Error("Expected node, nodes, or string, got `"+w+"`");g.push(w)}function f(g,w,S){var T,x,_;if(typeof S!="object"||!("length"in S))return h(g,w,S);for(x=S.length,T=-1,_=[];++T<x;)_[T]=h(g,w,S[T]);return _}function h(g,w,S){var T=S;return g.number||g.positiveNumber?!isNaN(T)&&T!==""&&(T=Number(T)):(g.boolean||g.overloadedBoolean)&&typeof T=="string"&&(T===""||e(S)===e(w))&&(T=!0),T}function m(g){var w=[],S;for(S in g)w.push([S,g[S]].join(": "));return w.join("; ")}function b(g){for(var w=g.length,S=-1,T={},x;++S<w;)x=g[S],T[x.toLowerCase()]=x;return T}return eI}var tI,tq;function k2e(){if(tq)return tI;tq=1;var t=w2e(),e=I2e(),n=e(t,"div");return n.displayName="html",tI=n,tI}var nI,nq;function D2e(){return nq||(nq=1,nI=k2e()),nI}const O2e="",N2e="&",M2e="",P2e="",L2e="",F2e="",B2e="",j2e="",U2e="",z2e="",q2e="",$2e="",G2e="",H2e="",V2e="",W2e=">",Y2e="",K2e="",X2e="",Z2e="",Q2e="<",J2e="",eNe="",tNe="",nNe="",rNe="",aNe="",iNe="",sNe='"',oNe="",lNe="",cNe="",uNe="",dNe="",fNe="",pNe="",hNe="",mNe="",gNe="",bNe="",yNe="",vNe="&",SNe="",ENe="",_Ne="",xNe="",wNe="",TNe="",CNe="",RNe="",ANe="",INe="",kNe="",DNe="",ONe="",NNe="",MNe="",PNe="",LNe="",FNe="",BNe="",jNe=">",UNe="",zNe="",qNe="",$Ne="",GNe="",HNe="",VNe="",WNe="<",YNe="",KNe="",XNe="",ZNe="",QNe="",JNe="",eMe="",tMe="",nMe="",rMe="",aMe="",iMe="",sMe="",oMe="",lMe="",cMe="",uMe="",dMe='"',fMe="",pMe="",hMe="",mMe="",gMe="",bMe="",yMe="",vMe="",SMe="",EMe="",_Me="",xMe="",wMe="",TMe="",CMe="",RMe="",AMe="",IMe="",kMe={AElig:O2e,AMP:N2e,Aacute:M2e,Acirc:P2e,Agrave:L2e,Aring:F2e,Atilde:B2e,Auml:j2e,COPY:U2e,Ccedil:z2e,ETH:q2e,Eacute:$2e,Ecirc:G2e,Egrave:H2e,Euml:V2e,GT:W2e,Iacute:Y2e,Icirc:K2e,Igrave:X2e,Iuml:Z2e,LT:Q2e,Ntilde:J2e,Oacute:eNe,Ocirc:tNe,Ograve:nNe,Oslash:rNe,Otilde:aNe,Ouml:iNe,QUOT:sNe,REG:oNe,THORN:lNe,Uacute:cNe,Ucirc:uNe,Ugrave:dNe,Uuml:fNe,Yacute:pNe,aacute:hNe,acirc:mNe,acute:gNe,aelig:bNe,agrave:yNe,amp:vNe,aring:SNe,atilde:ENe,auml:_Ne,brvbar:xNe,ccedil:wNe,cedil:TNe,cent:CNe,copy:RNe,curren:ANe,deg:INe,divide:kNe,eacute:DNe,ecirc:ONe,egrave:NNe,eth:MNe,euml:PNe,frac12:LNe,frac14:FNe,frac34:BNe,gt:jNe,iacute:UNe,icirc:zNe,iexcl:qNe,igrave:$Ne,iquest:GNe,iuml:HNe,laquo:VNe,lt:WNe,macr:YNe,micro:KNe,middot:XNe,nbsp:ZNe,not:QNe,ntilde:JNe,oacute:eMe,ocirc:tMe,ograve:nMe,ordf:rMe,ordm:aMe,oslash:iMe,otilde:sMe,ouml:oMe,para:lMe,plusmn:cMe,pound:uMe,quot:dMe,raquo:fMe,reg:pMe,sect:hMe,shy:mMe,sup1:gMe,sup2:bMe,sup3:yMe,szlig:vMe,thorn:SMe,times:EMe,uacute:_Me,ucirc:xMe,ugrave:wMe,uml:TMe,uuml:CMe,yacute:RMe,yen:AMe,yuml:IMe},DMe={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};var rI,rq;function aJ(){if(rq)return rI;rq=1,rI=t;function t(e){var n=typeof e=="string"?e.charCodeAt(0):e;return n>=48&&n<=57}return rI}var aI,aq;function OMe(){if(aq)return aI;aq=1,aI=t;function t(e){var n=typeof e=="string"?e.charCodeAt(0):e;return n>=97&&n<=102||n>=65&&n<=70||n>=48&&n<=57}return aI}var iI,iq;function NMe(){if(iq)return iI;iq=1,iI=t;function t(e){var n=typeof e=="string"?e.charCodeAt(0):e;return n>=97&&n<=122||n>=65&&n<=90}return iI}var sI,sq;function MMe(){if(sq)return sI;sq=1;var t=NMe(),e=aJ();sI=n;function n(r){return t(r)||e(r)}return sI}var oI,oq;function PMe(){if(oq)return oI;oq=1;var t,e=59;oI=n;function n(r){var a="&"+r+";",i;return t=t||document.createElement("i"),t.innerHTML=a,i=t.textContent,i.charCodeAt(i.length-1)===e&&r!=="semi"||i===a?!1:i}return oI}var lI,lq;function LMe(){if(lq)return lI;lq=1;var t=kMe,e=DMe,n=aJ(),r=OMe(),a=MMe(),i=PMe();lI=re;var s={}.hasOwnProperty,o=String.fromCharCode,l=Function.prototype,d={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},f=9,h=10,m=12,b=32,g=38,w=59,S=60,T=61,x=35,_=88,C=120,R=65533,A="named",I="hexadecimal",O="decimal",M={};M[I]=16,M[O]=10;var U={};U[A]=a,U[O]=n,U[I]=r;var L=1,z=2,j=3,H=4,$=5,q=6,K=7,V={};V[L]="Named character references must be terminated by a semicolon",V[z]="Numeric character references must be terminated by a semicolon",V[j]="Named character references cannot be empty",V[H]="Numeric character references cannot be empty",V[$]="Named character references must be known",V[q]="Numeric character references cannot be disallowed",V[K]="Numeric character references cannot be outside the permissible Unicode range";function re(te,G){var W={},ue,Ee;G||(G={});for(Ee in d)ue=G[Ee],W[Ee]=ue??d[Ee];return(W.position.indent||W.position.start)&&(W.indent=W.position.indent||[],W.position=W.position.start),ee(te,W)}function ee(te,G){var W=G.additional,ue=G.nonTerminated,Ee=G.text,ge=G.reference,fe=G.warning,Ae=G.textContext,oe=G.referenceContext,de=G.warningContext,se=G.position,Se=G.indent||[],me=te.length,ce=0,pe=-1,Te=se.column||1,be=se.line||1,Ie="",je=[],ke,Ge,Et,gt,kt,Ye,nt,It,Gt,Ze,ot,Pe,we,$e,He,ft,Nt,Ot,pt;for(typeof W=="string"&&(W=W.charCodeAt(0)),ft=Me(),It=fe?Je:l,ce--,me++;++ce<me;)if(kt===h&&(Te=Se[pe]||1),kt=te.charCodeAt(ce),kt===g){if(nt=te.charCodeAt(ce+1),nt===f||nt===h||nt===m||nt===b||nt===g||nt===S||nt!==nt||W&&nt===W){Ie+=o(kt),Te++;continue}for(we=ce+1,Pe=we,pt=we,nt===x?(pt=++Pe,nt=te.charCodeAt(pt),nt===_||nt===C?($e=I,pt=++Pe):$e=O):$e=A,ke="",ot="",gt="",He=U[$e],pt--;++pt<me&&(nt=te.charCodeAt(pt),!!He(nt));)gt+=o(nt),$e===A&&s.call(t,gt)&&(ke=gt,ot=t[gt]);Et=te.charCodeAt(pt)===w,Et&&(pt++,Ge=$e===A?i(gt):!1,Ge&&(ke=gt,ot=Ge)),Ot=1+pt-we,!Et&&!ue||(gt?$e===A?(Et&&!ot?It($,1):(ke!==gt&&(pt=Pe+ke.length,Ot=1+pt-Pe,Et=!1),Et||(Gt=ke?L:j,G.attribute?(nt=te.charCodeAt(pt),nt===T?(It(Gt,Ot),ot=null):a(nt)?ot=null:It(Gt,Ot)):It(Gt,Ot))),Ye=ot):(Et||It(z,Ot),Ye=parseInt(gt,M[$e]),Y(Ye)?(It(K,Ot),Ye=o(R)):Ye in e?(It(q,Ot),Ye=e[Ye]):(Ze="",ne(Ye)&&It(q,Ot),Ye>65535&&(Ye-=65536,Ze+=o(Ye>>>10|55296),Ye=56320|Ye&1023),Ye=Ze+o(Ye))):$e!==A&&It(H,Ot)),Ye?(Tt(),ft=Me(),ce=pt-1,Te+=pt-we+1,je.push(Ye),Nt=Me(),Nt.offset++,ge&&ge.call(oe,Ye,{start:ft,end:Nt},te.slice(we-1,pt)),ft=Nt):(gt=te.slice(we-1,pt),Ie+=gt,Te+=gt.length,ce=pt-1)}else kt===10&&(be++,pe++,Te=0),kt===kt?(Ie+=o(kt),Te++):Tt();return je.join("");function Me(){return{line:be,column:Te,offset:ce+(se.offset||0)}}function Je(Rt,sn){var Rn=Me();Rn.column+=sn,Rn.offset+=sn,fe.call(de,V[Rt],Rn,Rt)}function Tt(){Ie&&(je.push(Ie),Ee&&Ee.call(Ae,Ie,{start:ft,end:Me()}),Ie="")}}function Y(te){return te>=55296&&te<=57343||te>1114111}function ne(te){return te>=1&&te<=8||te===11||te>=13&&te<=31||te>=127&&te<=159||te>=64976&&te<=65007||(te&65535)===65535||(te&65535)===65534}return lI}var cI={exports:{}},cq;function FMe(){return cq||(cq=1,(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};var n=(function(r){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},o={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function x(_){return _ instanceof l?new l(_.type,x(_.content),_.alias):Array.isArray(_)?_.map(x):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++i}),x.__id},clone:function x(_,C){C=C||{};var R,A;switch(o.util.type(_)){case"Object":if(A=o.util.objId(_),C[A])return C[A];R={},C[A]=R;for(var I in _)_.hasOwnProperty(I)&&(R[I]=x(_[I],C));return R;case"Array":return A=o.util.objId(_),C[A]?C[A]:(R=[],C[A]=R,_.forEach(function(O,M){R[M]=x(O,C)}),R);default:return _}},getLanguage:function(x){for(;x;){var _=a.exec(x.className);if(_)return _[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,_){x.className=x.className.replace(RegExp(a,"gi"),""),x.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(R){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(R.stack)||[])[1];if(x){var _=document.getElementsByTagName("script");for(var C in _)if(_[C].src==x)return _[C]}return null}},isActive:function(x,_,C){for(var R="no-"+_;x;){var A=x.classList;if(A.contains(_))return!0;if(A.contains(R))return!1;x=x.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(x,_){var C=o.util.clone(o.languages[x]);for(var R in _)C[R]=_[R];return C},insertBefore:function(x,_,C,R){R=R||o.languages;var A=R[x],I={};for(var O in A)if(A.hasOwnProperty(O)){if(O==_)for(var M in C)C.hasOwnProperty(M)&&(I[M]=C[M]);C.hasOwnProperty(O)||(I[O]=A[O])}var U=R[x];return R[x]=I,o.languages.DFS(o.languages,function(L,z){z===U&&L!=x&&(this[L]=I)}),I},DFS:function x(_,C,R,A){A=A||{};var I=o.util.objId;for(var O in _)if(_.hasOwnProperty(O)){C.call(_,O,_[O],R||O);var M=_[O],U=o.util.type(M);U==="Object"&&!A[I(M)]?(A[I(M)]=!0,x(M,C,null,A)):U==="Array"&&!A[I(M)]&&(A[I(M)]=!0,x(M,C,O,A))}}},plugins:{},highlightAll:function(x,_){o.highlightAllUnder(document,x,_)},highlightAllUnder:function(x,_,C){var R={callback:C,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",R),R.elements=Array.prototype.slice.apply(R.container.querySelectorAll(R.selector)),o.hooks.run("before-all-elements-highlight",R);for(var A=0,I;I=R.elements[A++];)o.highlightElement(I,_===!0,R.callback)},highlightElement:function(x,_,C){var R=o.util.getLanguage(x),A=o.languages[R];o.util.setLanguage(x,R);var I=x.parentElement;I&&I.nodeName.toLowerCase()==="pre"&&o.util.setLanguage(I,R);var O=x.textContent,M={element:x,language:R,grammar:A,code:O};function U(z){M.highlightedCode=z,o.hooks.run("before-insert",M),M.element.innerHTML=M.highlightedCode,o.hooks.run("after-highlight",M),o.hooks.run("complete",M),C&&C.call(M.element)}if(o.hooks.run("before-sanity-check",M),I=M.element.parentElement,I&&I.nodeName.toLowerCase()==="pre"&&!I.hasAttribute("tabindex")&&I.setAttribute("tabindex","0"),!M.code){o.hooks.run("complete",M),C&&C.call(M.element);return}if(o.hooks.run("before-highlight",M),!M.grammar){U(o.util.encode(M.code));return}if(_&&r.Worker){var L=new Worker(o.filename);L.onmessage=function(z){U(z.data)},L.postMessage(JSON.stringify({language:M.language,code:M.code,immediateClose:!0}))}else U(o.highlight(M.code,M.grammar,M.language))},highlight:function(x,_,C){var R={code:x,grammar:_,language:C};if(o.hooks.run("before-tokenize",R),!R.grammar)throw new Error('The language "'+R.language+'" has no grammar.');return R.tokens=o.tokenize(R.code,R.grammar),o.hooks.run("after-tokenize",R),l.stringify(o.util.encode(R.tokens),R.language)},tokenize:function(x,_){var C=_.rest;if(C){for(var R in C)_[R]=C[R];delete _.rest}var A=new h;return m(A,A.head,x),f(x,A,_,A.head,0),g(A)},hooks:{all:{},add:function(x,_){var C=o.hooks.all;C[x]=C[x]||[],C[x].push(_)},run:function(x,_){var C=o.hooks.all[x];if(!(!C||!C.length))for(var R=0,A;A=C[R++];)A(_)}},Token:l};r.Prism=o;function l(x,_,C,R){this.type=x,this.content=_,this.alias=C,this.length=(R||"").length|0}l.stringify=function x(_,C){if(typeof _=="string")return _;if(Array.isArray(_)){var R="";return _.forEach(function(U){R+=x(U,C)}),R}var A={type:_.type,content:x(_.content,C),tag:"span",classes:["token",_.type],attributes:{},language:C},I=_.alias;I&&(Array.isArray(I)?Array.prototype.push.apply(A.classes,I):A.classes.push(I)),o.hooks.run("wrap",A);var O="";for(var M in A.attributes)O+=" "+M+'="'+(A.attributes[M]||"").replace(/"/g,"&quot;")+'"';return"<"+A.tag+' class="'+A.classes.join(" ")+'"'+O+">"+A.content+"</"+A.tag+">"};function d(x,_,C,R){x.lastIndex=_;var A=x.exec(C);if(A&&R&&A[1]){var I=A[1].length;A.index+=I,A[0]=A[0].slice(I)}return A}function f(x,_,C,R,A,I){for(var O in C)if(!(!C.hasOwnProperty(O)||!C[O])){var M=C[O];M=Array.isArray(M)?M:[M];for(var U=0;U<M.length;++U){if(I&&I.cause==O+","+U)return;var L=M[U],z=L.inside,j=!!L.lookbehind,H=!!L.greedy,$=L.alias;if(H&&!L.pattern.global){var q=L.pattern.toString().match(/[imsuy]*$/)[0];L.pattern=RegExp(L.pattern.source,q+"g")}for(var K=L.pattern||L,V=R.next,re=A;V!==_.tail&&!(I&&re>=I.reach);re+=V.value.length,V=V.next){var ee=V.value;if(_.length>x.length)return;if(!(ee instanceof l)){var Y=1,ne;if(H){if(ne=d(K,re,x,j),!ne||ne.index>=x.length)break;var ue=ne.index,te=ne.index+ne[0].length,G=re;for(G+=V.value.length;ue>=G;)V=V.next,G+=V.value.length;if(G-=V.value.length,re=G,V.value instanceof l)continue;for(var W=V;W!==_.tail&&(G<te||typeof W.value=="string");W=W.next)Y++,G+=W.value.length;Y--,ee=x.slice(re,G),ne.index-=re}else if(ne=d(K,0,ee,j),!ne)continue;var ue=ne.index,Ee=ne[0],ge=ee.slice(0,ue),fe=ee.slice(ue+Ee.length),Ae=re+ee.length;I&&Ae>I.reach&&(I.reach=Ae);var oe=V.prev;ge&&(oe=m(_,oe,ge),re+=ge.length),b(_,oe,Y);var de=new l(O,z?o.tokenize(Ee,z):Ee,$,Ee);if(V=m(_,oe,de),fe&&m(_,V,fe),Y>1){var se={cause:O+","+U,reach:Ae};f(x,_,C,V.prev,re,se),I&&se.reach>I.reach&&(I.reach=se.reach)}}}}}}function h(){var x={value:null,prev:null,next:null},_={value:null,prev:x,next:null};x.next=_,this.head=x,this.tail=_,this.length=0}function m(x,_,C){var R=_.next,A={value:C,prev:_,next:R};return _.next=A,R.prev=A,x.length++,A}function b(x,_,C){for(var R=_.next,A=0;A<C&&R!==x.tail;A++)R=R.next;_.next=R,R.prev=_,x.length-=A}function g(x){for(var _=[],C=x.head.next;C!==x.tail;)_.push(C.value),C=C.next;return _}if(!r.document)return r.addEventListener&&(o.disableWorkerMessageHandler||r.addEventListener("message",function(x){var _=JSON.parse(x.data),C=_.language,R=_.code,A=_.immediateClose;r.postMessage(o.highlight(R,o.languages[C],C)),A&&r.close()},!1)),o;var w=o.util.currentScript();w&&(o.filename=w.src,w.hasAttribute("data-manual")&&(o.manual=!0));function S(){o.manual||o.highlightAll()}if(!o.manual){var T=document.readyState;T==="loading"||T==="interactive"&&w&&w.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return o})(e);t.exports&&(t.exports=n),typeof globalThis<"u"&&(globalThis.Prism=n)})(cI)),cI.exports}var uI,uq;function BMe(){if(uq)return uI;uq=1,uI=t,t.displayName="markup",t.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function t(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(r,a){var i={};i["language-"+a]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[a]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};s["language-"+a]={pattern:/[\s\S]+/,inside:e.languages[a]};var o={};o[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:s},e.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(n,r){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:e.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}return uI}var dI,dq;function jMe(){if(dq)return dI;dq=1,dI=t,t.displayName="css",t.aliases=[];function t(e){(function(n){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var a=n.languages.markup;a&&(a.tag.addInlined("style","css"),a.tag.addAttribute("style","css"))})(e)}return dI}var fI,fq;function UMe(){if(fq)return fI;fq=1,fI=t,t.displayName="clike",t.aliases=[];function t(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}return fI}var pI,pq;function zMe(){if(pq)return pI;pq=1,pI=t,t.displayName="javascript",t.aliases=["js"];function t(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}return pI}var hI,hq;function qMe(){if(hq)return hI;hq=1;var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof globalThis=="object"?globalThis:{},e=R();t.Prism={manual:!0,disableWorkerMessageHandler:!0};var n=D2e(),r=LMe(),a=FMe(),i=BMe(),s=jMe(),o=UMe(),l=zMe();e();var d={}.hasOwnProperty;function f(){}f.prototype=a;var h=new f;hI=h,h.highlight=g,h.register=m,h.alias=b,h.registered=w,h.listLanguages=S,m(i),m(s),m(o),m(l),h.util.encode=_,h.Token.stringify=T;function m(A){if(typeof A!="function"||!A.displayName)throw new Error("Expected `function` for `grammar`, got `"+A+"`");h.languages[A.displayName]===void 0&&A(h)}function b(A,I){var O=h.languages,M=A,U,L,z,j;I&&(M={},M[A]=I);for(U in M)for(L=M[U],L=typeof L=="string"?[L]:L,z=L.length,j=-1;++j<z;)O[L[j]]=O[U]}function g(A,I){var O=a.highlight,M;if(typeof A!="string")throw new Error("Expected `string` for `value`, got `"+A+"`");if(h.util.type(I)==="Object")M=I,I=null;else{if(typeof I!="string")throw new Error("Expected `string` for `name`, got `"+I+"`");if(d.call(h.languages,I))M=h.languages[I];else throw new Error("Unknown language: `"+I+"` is not registered")}return O.call(this,A,M,I)}function w(A){if(typeof A!="string")throw new Error("Expected `string` for `language`, got `"+A+"`");return d.call(h.languages,A)}function S(){var A=h.languages,I=[],O;for(O in A)d.call(A,O)&&typeof A[O]=="object"&&I.push(O);return I}function T(A,I,O){var M;return typeof A=="string"?{type:"text",value:A}:h.util.type(A)==="Array"?x(A,I):(M={type:A.type,content:h.Token.stringify(A.content,I,O),tag:"span",classes:["token",A.type],attributes:{},language:I,parent:O},A.alias&&(M.classes=M.classes.concat(A.alias)),h.hooks.run("wrap",M),n(M.tag+"."+M.classes.join("."),C(M.attributes),M.content))}function x(A,I){for(var O=[],M=A.length,U=-1,L;++U<M;)L=A[U],L!==""&&L!==null&&L!==void 0&&O.push(L);for(U=-1,M=O.length;++U<M;)L=O[U],O[U]=h.Token.stringify(L,I,O);return O}function _(A){return A}function C(A){var I;for(I in A)A[I]=r(A[I]);return A}function R(){var A="Prism"in t,I=A?t.Prism:void 0;return O;function O(){A?t.Prism=I:delete t.Prism,A=void 0,I=void 0}}return hI}const $Me={'code[class*="language-"]':{color:"black",background:"none",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"black",background:"#f5f2f0",textShadow:"0 1px white",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},'pre[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'pre[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"]::selection':{textShadow:"none",background:"#b3d4fc"},'code[class*="language-"] ::selection':{textShadow:"none",background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{background:"#f5f2f0",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"slategray"},prolog:{color:"slategray"},doctype:{color:"slategray"},cdata:{color:"slategray"},punctuation:{color:"#999"},namespace:{Opacity:".7"},property:{color:"#905"},tag:{color:"#905"},boolean:{color:"#905"},number:{color:"#905"},constant:{color:"#905"},symbol:{color:"#905"},deleted:{color:"#905"},selector:{color:"#690"},"attr-name":{color:"#690"},string:{color:"#690"},char:{color:"#690"},builtin:{color:"#690"},inserted:{color:"#690"},operator:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},entity:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)",cursor:"help"},url:{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".language-css .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},".style .token.string":{color:"#9a6e3a",background:"hsla(0, 0%, 100%, .5)"},atrule:{color:"#07a"},"attr-value":{color:"#07a"},keyword:{color:"#07a"},function:{color:"#DD4A68"},"class-name":{color:"#DD4A68"},regex:{color:"#e90"},important:{color:"#e90",fontWeight:"bold"},variable:{color:"#e90"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}};var mI,mq;function GMe(){if(mq)return mI;mq=1,mI=t,t.displayName="abap",t.aliases=[];function t(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:SCIENTIFIC_WITH_LEADING_ZERO|SCALE_PRESERVING_SCIENTIFIC|RMC_COMMUNICATION_FAILURE|END-ENHANCEMENT-SECTION|MULTIPLY-CORRESPONDING|SUBTRACT-CORRESPONDING|VERIFICATION-MESSAGE|DIVIDE-CORRESPONDING|ENHANCEMENT-SECTION|CURRENCY_CONVERSION|RMC_SYSTEM_FAILURE|START-OF-SELECTION|MOVE-CORRESPONDING|RMC_INVALID_STATUS|CUSTOMER-FUNCTION|END-OF-DEFINITION|ENHANCEMENT-POINT|SYSTEM-EXCEPTIONS|ADD-CORRESPONDING|SCALE_PRESERVING|SELECTION-SCREEN|CURSOR-SELECTION|END-OF-SELECTION|LOAD-OF-PROGRAM|SCROLL-BOUNDARY|SELECTION-TABLE|EXCEPTION-TABLE|IMPLEMENTATIONS|PARAMETER-TABLE|RIGHT-JUSTIFIED|UNIT_CONVERSION|AUTHORITY-CHECK|LIST-PROCESSING|SIGN_AS_POSTFIX|COL_BACKGROUND|IMPLEMENTATION|INTERFACE-POOL|TRANSFORMATION|IDENTIFICATION|ENDENHANCEMENT|LINE-SELECTION|INITIALIZATION|LEFT-JUSTIFIED|SELECT-OPTIONS|SELECTION-SETS|COMMUNICATION|CORRESPONDING|DECIMAL_SHIFT|PRINT-CONTROL|VALUE-REQUEST|CHAIN-REQUEST|FUNCTION-POOL|FIELD-SYMBOLS|FUNCTIONALITY|INVERTED-DATE|SELECTION-SET|CLASS-METHODS|OUTPUT-LENGTH|CLASS-CODING|COL_NEGATIVE|ERRORMESSAGE|FIELD-GROUPS|HELP-REQUEST|NO-EXTENSION|NO-TOPOFPAGE|REDEFINITION|DISPLAY-MODE|ENDINTERFACE|EXIT-COMMAND|FIELD-SYMBOL|NO-SCROLLING|SHORTDUMP-ID|ACCESSPOLICY|CLASS-EVENTS|COL_POSITIVE|DECLARATIONS|ENHANCEMENTS|FILTER-TABLE|SWITCHSTATES|SYNTAX-CHECK|TRANSPORTING|ASYNCHRONOUS|SYNTAX-TRACE|TOKENIZATION|USER-COMMAND|WITH-HEADING|ABAP-SOURCE|BREAK-POINT|CHAIN-INPUT|COMPRESSION|FIXED-POINT|NEW-SECTION|NON-UNICODE|OCCURRENCES|RESPONSIBLE|SYSTEM-CALL|TRACE-TABLE|ABBREVIATED|CHAR-TO-HEX|END-OF-FILE|ENDFUNCTION|ENVIRONMENT|ASSOCIATION|COL_HEADING|EDITOR-CALL|END-OF-PAGE|ENGINEERING|IMPLEMENTED|INTENSIFIED|RADIOBUTTON|SYSTEM-EXIT|TOP-OF-PAGE|TRANSACTION|APPLICATION|CONCATENATE|DESTINATION|ENHANCEMENT|IMMEDIATELY|NO-GROUPING|PRECOMPILED|REPLACEMENT|TITLE-LINES|ACTIVATION|BYTE-ORDER|CLASS-POOL|CONNECTION|CONVERSION|DEFINITION|DEPARTMENT|EXPIRATION|INHERITING|MESSAGE-ID|NO-HEADING|PERFORMING|QUEUE-ONLY|RIGHTSPACE|SCIENTIFIC|STATUSINFO|STRUCTURES|SYNCPOINTS|WITH-TITLE|ATTRIBUTES|BOUNDARIES|CLASS-DATA|COL_NORMAL|DD\/MM\/YYYY|DESCENDING|INTERFACES|LINE-COUNT|MM\/DD\/YYYY|NON-UNIQUE|PRESERVING|SELECTIONS|STATEMENTS|SUBROUTINE|TRUNCATION|TYPE-POOLS|ARITHMETIC|BACKGROUND|ENDPROVIDE|EXCEPTIONS|IDENTIFIER|INDEX-LINE|OBLIGATORY|PARAMETERS|PERCENTAGE|PUSHBUTTON|RESOLUTION|COMPONENTS|DEALLOCATE|DISCONNECT|DUPLICATES|FIRST-LINE|HEAD-LINES|NO-DISPLAY|OCCURRENCE|RESPECTING|RETURNCODE|SUBMATCHES|TRACE-FILE|ASCENDING|BYPASSING|ENDMODULE|EXCEPTION|EXCLUDING|EXPORTING|INCREMENT|MATCHCODE|PARAMETER|PARTIALLY|PREFERRED|REFERENCE|REPLACING|RETURNING|SELECTION|SEPARATED|SPECIFIED|STATEMENT|TIMESTAMP|TYPE-POOL|ACCEPTING|APPENDAGE|ASSIGNING|COL_GROUP|COMPARING|CONSTANTS|DANGEROUS|IMPORTING|INSTANCES|LEFTSPACE|LOG-POINT|QUICKINFO|READ-ONLY|SCROLLING|SQLSCRIPT|STEP-LOOP|TOP-LINES|TRANSLATE|APPENDING|AUTHORITY|CHARACTER|COMPONENT|CONDITION|DIRECTORY|DUPLICATE|MESSAGING|RECEIVING|SUBSCREEN|ACCORDING|COL_TOTAL|END-LINES|ENDMETHOD|ENDSELECT|EXPANDING|EXTENSION|INCLUDING|INFOTYPES|INTERFACE|INTERVALS|LINE-SIZE|PF-STATUS|PROCEDURE|PROTECTED|REQUESTED|RESUMABLE|RIGHTPLUS|SAP-SPOOL|SECONDARY|STRUCTURE|SUBSTRING|TABLEVIEW|NUMOFCHAR|ADJACENT|ANALYSIS|ASSIGNED|BACKWARD|CHANNELS|CHECKBOX|CONTINUE|CRITICAL|DATAINFO|DD\/MM\/YY|DURATION|ENCODING|ENDCLASS|FUNCTION|LEFTPLUS|LINEFEED|MM\/DD\/YY|OVERFLOW|RECEIVED|SKIPPING|SORTABLE|STANDARD|SUBTRACT|SUPPRESS|TABSTRIP|TITLEBAR|TRUNCATE|UNASSIGN|WHENEVER|ANALYZER|COALESCE|COMMENTS|CONDENSE|DECIMALS|DEFERRED|ENDWHILE|EXPLICIT|KEYWORDS|MESSAGES|POSITION|PRIORITY|RECEIVER|RENAMING|TIMEZONE|TRAILING|ALLOCATE|CENTERED|CIRCULAR|CONTROLS|CURRENCY|DELETING|DESCRIBE|DISTANCE|ENDCATCH|EXPONENT|EXTENDED|GENERATE|IGNORING|INCLUDES|INTERNAL|MAJOR-ID|MODIFIER|NEW-LINE|OPTIONAL|PROPERTY|ROLLBACK|STARTING|SUPPLIED|ABSTRACT|CHANGING|CONTEXTS|CREATING|CUSTOMER|DATABASE|DAYLIGHT|DEFINING|DISTINCT|DIVISION|ENABLING|ENDCHAIN|ESCAPING|HARMLESS|IMPLICIT|INACTIVE|LANGUAGE|MINOR-ID|MULTIPLY|NEW-PAGE|NO-TITLE|POS_HIGH|SEPARATE|TEXTPOOL|TRANSFER|SELECTOR|DBMAXLEN|ITERATOR|ARCHIVE|BIT-XOR|BYTE-CO|COLLECT|COMMENT|CURRENT|DEFAULT|DISPLAY|ENDFORM|EXTRACT|LEADING|LISTBOX|LOCATOR|MEMBERS|METHODS|NESTING|POS_LOW|PROCESS|PROVIDE|RAISING|RESERVE|SECONDS|SUMMARY|VISIBLE|BETWEEN|BIT-AND|BYTE-CS|CLEANUP|COMPUTE|CONTROL|CONVERT|DATASET|ENDCASE|FORWARD|HEADERS|HOTSPOT|INCLUDE|INVERSE|KEEPING|NO-ZERO|OBJECTS|OVERLAY|PADDING|PATTERN|PROGRAM|REFRESH|SECTION|SUMMING|TESTING|VERSION|WINDOWS|WITHOUT|BIT-NOT|BYTE-CA|BYTE-NA|CASTING|CONTEXT|COUNTRY|DYNAMIC|ENABLED|ENDLOOP|EXECUTE|FRIENDS|HANDLER|HEADING|INITIAL|\*-INPUT|LOGFILE|MAXIMUM|MINIMUM|NO-GAPS|NO-SIGN|PRAGMAS|PRIMARY|PRIVATE|REDUCED|REPLACE|REQUEST|RESULTS|UNICODE|WARNING|ALIASES|BYTE-CN|BYTE-NS|CALLING|COL_KEY|COLUMNS|CONNECT|ENDEXEC|ENTRIES|EXCLUDE|FILTERS|FURTHER|HELP-ID|LOGICAL|MAPPING|MESSAGE|NAMETAB|OPTIONS|PACKAGE|PERFORM|RECEIVE|STATICS|VARYING|BINDING|CHARLEN|GREATER|XSTRLEN|ACCEPT|APPEND|DETAIL|ELSEIF|ENDING|ENDTRY|FORMAT|FRAMES|GIVING|HASHED|HEADER|IMPORT|INSERT|MARGIN|MODULE|NATIVE|OBJECT|OFFSET|REMOTE|RESUME|SAVING|SIMPLE|SUBMIT|TABBED|TOKENS|UNIQUE|UNPACK|UPDATE|WINDOW|YELLOW|ACTUAL|ASPECT|CENTER|CURSOR|DELETE|DIALOG|DIVIDE|DURING|ERRORS|EVENTS|EXTEND|FILTER|HANDLE|HAVING|IGNORE|LITTLE|MEMORY|NO-GAP|OCCURS|OPTION|PERSON|PLACES|PUBLIC|REDUCE|REPORT|RESULT|SINGLE|SORTED|SWITCH|SYNTAX|TARGET|VALUES|WRITER|ASSERT|BLOCKS|BOUNDS|BUFFER|CHANGE|COLUMN|COMMIT|CONCAT|COPIES|CREATE|DDMMYY|DEFINE|ENDIAN|ESCAPE|EXPAND|KERNEL|LAYOUT|LEGACY|LEVELS|MMDDYY|NUMBER|OUTPUT|RANGES|READER|RETURN|SCREEN|SEARCH|SELECT|SHARED|SOURCE|STABLE|STATIC|SUBKEY|SUFFIX|TABLES|UNWIND|YYMMDD|ASSIGN|BACKUP|BEFORE|BINARY|BIT-OR|BLANKS|CLIENT|CODING|COMMON|DEMAND|DYNPRO|EXCEPT|EXISTS|EXPORT|FIELDS|GLOBAL|GROUPS|LENGTH|LOCALE|MEDIUM|METHOD|MODIFY|NESTED|OTHERS|REJECT|SCROLL|SUPPLY|SYMBOL|ENDFOR|STRLEN|ALIGN|BEGIN|BOUND|ENDAT|ENTRY|EVENT|FINAL|FLUSH|GRANT|INNER|SHORT|USING|WRITE|AFTER|BLACK|BLOCK|CLOCK|COLOR|COUNT|DUMMY|EMPTY|ENDDO|ENDON|GREEN|INDEX|INOUT|LEAVE|LEVEL|LINES|MODIF|ORDER|OUTER|RANGE|RESET|RETRY|RIGHT|SMART|SPLIT|STYLE|TABLE|THROW|UNDER|UNTIL|UPPER|UTF-8|WHERE|ALIAS|BLANK|CLEAR|CLOSE|EXACT|FETCH|FIRST|FOUND|GROUP|LLANG|LOCAL|OTHER|REGEX|SPOOL|TITLE|TYPES|VALID|WHILE|ALPHA|BOXED|CATCH|CHAIN|CHECK|CLASS|COVER|ENDIF|EQUIV|FIELD|FLOOR|FRAME|INPUT|LOWER|MATCH|NODES|PAGES|PRINT|RAISE|ROUND|SHIFT|SPACE|SPOTS|STAMP|STATE|TASKS|TIMES|TRMAC|ULINE|UNION|VALUE|WIDTH|EQUAL|LOG10|TRUNC|BLOB|CASE|CEIL|CLOB|COND|EXIT|FILE|GAPS|HOLD|INCL|INTO|KEEP|KEYS|LAST|LINE|LONG|LPAD|MAIL|MODE|OPEN|PINK|READ|ROWS|TEST|THEN|ZERO|AREA|BACK|BADI|BYTE|CAST|EDIT|EXEC|FAIL|FIND|FKEQ|FONT|FREE|GKEQ|HIDE|INIT|ITNO|LATE|LOOP|MAIN|MARK|MOVE|NEXT|NULL|RISK|ROLE|UNIT|WAIT|ZONE|BASE|CALL|CODE|DATA|DATE|FKGE|GKGE|HIGH|KIND|LEFT|LIST|MASK|MESH|NAME|NODE|PACK|PAGE|POOL|SEND|SIGN|SIZE|SOME|STOP|TASK|TEXT|TIME|USER|VARY|WITH|WORD|BLUE|CONV|COPY|DEEP|ELSE|FORM|FROM|HINT|ICON|JOIN|LIKE|LOAD|ONLY|PART|SCAN|SKIP|SORT|TYPE|UNIX|VIEW|WHEN|WORK|ACOS|ASIN|ATAN|COSH|EACH|FRAC|LESS|RTTI|SINH|SQRT|TANH|AVG|BIT|DIV|ISO|LET|OUT|PAD|SQL|ALL|CI_|CPI|END|LOB|LPI|MAX|MIN|NEW|OLE|RUN|SET|\?TO|YES|ABS|ADD|AND|BIG|FOR|HDB|JOB|LOW|NOT|SAP|TRY|VIA|XML|ANY|GET|IDS|KEY|MOD|OFF|PUT|RAW|RED|REF|SUM|TAB|XSD|CNT|COS|EXP|LOG|SIN|TAN|XOR|AT|CO|CP|DO|GT|ID|IF|NS|OR|BT|CA|CS|GE|NA|NB|EQ|IN|LT|NE|NO|OF|ON|PF|TO|AS|BY|CN|IS|LE|NP|UP|E|I|M|O|Z|C|X)\b/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}return mI}var gI,gq;function HMe(){if(gq)return gI;gq=1,gI=t,t.displayName="abnf",t.aliases=[];function t(e){(function(n){var r="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";n.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+r+"|<"+r+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(e)}return gI}var bI,bq;function VMe(){if(bq)return bI;bq=1,bI=t,t.displayName="actionscript",t.aliases=[];function t(e){e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}return bI}var yI,yq;function WMe(){if(yq)return yI;yq=1,yI=t,t.displayName="ada",t.aliases=[];function t(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],"attr-name":/\b'\w+/,keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}return yI}var vI,vq;function YMe(){if(vq)return vI;vq=1,vI=t,t.displayName="agda",t.aliases=[];function t(e){(function(n){n.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(e)}return vI}var SI,Sq;function KMe(){if(Sq)return SI;Sq=1,SI=t,t.displayName="al",t.aliases=[];function t(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}return SI}var EI,Eq;function XMe(){if(Eq)return EI;Eq=1,EI=t,t.displayName="antlr4",t.aliases=["g4"];function t(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}return EI}var _I,_q;function ZMe(){if(_q)return _I;_q=1,_I=t,t.displayName="apacheconf",t.aliases=[];function t(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}return _I}var xI,xq;function t3(){if(xq)return xI;xq=1,xI=t,t.displayName="sql",t.aliases=[];function t(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}return xI}var wI,wq;function QMe(){if(wq)return wI;wq=1;var t=t3();wI=e,e.displayName="apex",e.aliases=[];function e(n){n.register(t),(function(r){var a=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,i=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return a.source});function s(l){return RegExp(l.replace(/<CLASS-NAME>/g,function(){return i}),"i")}var o={keyword:a,punctuation:/[()\[\]{};,:.<>]/};r.languages.apex={comment:r.languages.clike.comment,string:r.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:r.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:s(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:o},{pattern:s(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:o},{pattern:s(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:o}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:a,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}})(n)}return wI}var TI,Tq;function JMe(){if(Tq)return TI;Tq=1,TI=t,t.displayName="apl",t.aliases=[];function t(e){e.languages.apl={comment:/(?:|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/?(?:\d*\.?\b\d+(?:e[+]?\d+)?||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+)?||))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/[A-Z]+/i,alias:"function"},constant:/[#]/,function:/[-+|?*!<=>~,]/,"monadic-operator":{pattern:/[\\\/&]/,alias:"operator"},"dyadic-operator":{pattern:/[.@]/,alias:"operator"},assignment:{pattern://,alias:"keyword"},punctuation:/[\[;\]()]/,dfn:{pattern:/[{}:]/,alias:"builtin"}}}return TI}var CI,Cq;function ePe(){if(Cq)return CI;Cq=1,CI=t,t.displayName="applescript",t.aliases=[];function t(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=*+\-\/^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,]/}}return CI}var RI,Rq;function tPe(){if(Rq)return RI;Rq=1,RI=t,t.displayName="aql",t.aliases=[];function t(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}return RI}var AI,Aq;function $d(){if(Aq)return AI;Aq=1,AI=t,t.displayName="c",t.aliases=[];function t(e){e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}return AI}var II,Iq;function n3(){if(Iq)return II;Iq=1;var t=$d();II=e,e.displayName="cpp",e.aliases=[];function e(n){n.register(t),(function(r){var a=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,i=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return a.source});r.languages.cpp=r.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return a.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:a,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),r.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return i})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),r.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r.languages.cpp}}}}),r.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),r.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:r.languages.extend("cpp",{})}}),r.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},r.languages.cpp["base-clause"])})(n)}return II}var kI,kq;function nPe(){if(kq)return kI;kq=1;var t=n3();kI=e,e.displayName="arduino",e.aliases=["ino"];function e(n){n.register(t),n.languages.arduino=n.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),n.languages.ino=n.languages.arduino}return kI}var DI,Dq;function rPe(){if(Dq)return DI;Dq=1,DI=t,t.displayName="arff",t.aliases=[];function t(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}return DI}var OI,Oq;function aPe(){if(Oq)return OI;Oq=1,OI=t,t.displayName="asciidoc",t.aliases=["adoc"];function t(e){(function(n){var r={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},a=n.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})(?:\r?\n|\r)(?:[\s\S]*(?:\r?\n|\r))??\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:r,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:r.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:r,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function i(s){s=s.split(" ");for(var o={},l=0,d=s.length;l<d;l++)o[s[l]]=a[s[l]];return o}r.inside.interpreted.inside.rest=i("macro inline replacement entity"),a["passthrough-block"].inside.rest=i("macro"),a["literal-block"].inside.rest=i("callout"),a.table.inside.rest=i("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),a["other-block"].inside.rest=i("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),a.title.inside.rest=i("macro inline replacement entity"),n.hooks.add("wrap",function(s){s.type==="entity"&&(s.attributes.title=s.content.value.replace(/&amp;/,"&"))}),n.languages.adoc=n.languages.asciidoc})(e)}return OI}var NI,Nq;function iPe(){if(Nq)return NI;Nq=1,NI=t,t.displayName="asm6502",t.aliases=[];function t(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}return NI}var MI,Mq;function sPe(){if(Mq)return MI;Mq=1,MI=t,t.displayName="asmatmel",t.aliases=[];function t(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&&?|\|\|?|[-+*/%&|^!=<>?]=?/,punctuation:/[(),:]/}}return MI}var PI,Pq;function lE(){if(Pq)return PI;Pq=1,PI=t,t.displayName="csharp",t.aliases=["dotnet","cs"];function t(e){(function(n){function r(Y,ne){return Y.replace(/<<(\d+)>>/g,function(te,G){return"(?:"+ne[+G]+")"})}function a(Y,ne,te){return RegExp(r(Y,ne),"")}function i(Y,ne){for(var te=0;te<ne;te++)Y=Y.replace(/<<self>>/g,function(){return"(?:"+Y+")"});return Y.replace(/<<self>>/g,"[^\\s\\S]")}var s={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function o(Y){return"\\b(?:"+Y.trim().replace(/ /g,"|")+")\\b"}var l=o(s.typeDeclaration),d=RegExp(o(s.type+" "+s.typeDeclaration+" "+s.contextual+" "+s.other)),f=o(s.typeDeclaration+" "+s.contextual+" "+s.other),h=o(s.type+" "+s.typeDeclaration+" "+s.other),m=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),b=i(/\((?:[^()]|<<self>>)*\)/.source,2),g=/@?\b[A-Za-z_]\w*\b/.source,w=r(/<<0>>(?:\s*<<1>>)?/.source,[g,m]),S=r(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[f,w]),T=/\[\s*(?:,\s*)*\]/.source,x=r(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[S,T]),_=r(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[m,b,T]),C=r(/\(<<0>>+(?:,<<0>>+)+\)/.source,[_]),R=r(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[C,S,T]),A={keyword:d,punctuation:/[<>()?,.:[\]]/},I=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,O=/"(?:\\.|[^\\"\r\n])*"/.source,M=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;n.languages.csharp=n.languages.extend("clike",{string:[{pattern:a(/(^|[^$\\])<<0>>/.source,[M]),lookbehind:!0,greedy:!0},{pattern:a(/(^|[^@$\\])<<0>>/.source,[O]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:a(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[S]),lookbehind:!0,inside:A},{pattern:a(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[g,R]),lookbehind:!0,inside:A},{pattern:a(/(\busing\s+)<<0>>(?=\s*=)/.source,[g]),lookbehind:!0},{pattern:a(/(\b<<0>>\s+)<<1>>/.source,[l,w]),lookbehind:!0,inside:A},{pattern:a(/(\bcatch\s*\(\s*)<<0>>/.source,[S]),lookbehind:!0,inside:A},{pattern:a(/(\bwhere\s+)<<0>>/.source,[g]),lookbehind:!0},{pattern:a(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[x]),lookbehind:!0,inside:A},{pattern:a(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[R,h,g]),inside:A}],keyword:d,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),n.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),n.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:a(/([(,]\s*)<<0>>(?=\s*:)/.source,[g]),lookbehind:!0,alias:"punctuation"}}),n.languages.insertBefore("csharp","class-name",{namespace:{pattern:a(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[g]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:a(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[b]),lookbehind:!0,alias:"class-name",inside:A},"return-type":{pattern:a(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[R,S]),inside:A,alias:"class-name"},"constructor-invocation":{pattern:a(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[R]),lookbehind:!0,inside:A,alias:"class-name"},"generic-method":{pattern:a(/<<0>>\s*<<1>>(?=\s*\()/.source,[g,m]),inside:{function:a(/^<<0>>/.source,[g]),generic:{pattern:RegExp(m),alias:"class-name",inside:A}}},"type-list":{pattern:a(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,w,g,R,d.source,b,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:a(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[w,b]),lookbehind:!0,greedy:!0,inside:n.languages.csharp},keyword:d,"class-name":{pattern:RegExp(R),greedy:!0,inside:A},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var U=O+"|"+I,L=r(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[U]),z=i(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[L]),2),j=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,H=r(/<<0>>(?:\s*\(<<1>>*\))?/.source,[S,z]);n.languages.insertBefore("csharp","class-name",{attribute:{pattern:a(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[j,H]),lookbehind:!0,greedy:!0,inside:{target:{pattern:a(/^<<0>>(?=\s*:)/.source,[j]),alias:"keyword"},"attribute-arguments":{pattern:a(/\(<<0>>*\)/.source,[z]),inside:n.languages.csharp},"class-name":{pattern:RegExp(S),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var $=/:[^}\r\n]+/.source,q=i(r(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[L]),2),K=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[q,$]),V=i(r(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[U]),2),re=r(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[V,$]);function ee(Y,ne){return{interpolation:{pattern:a(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Y]),lookbehind:!0,inside:{"format-string":{pattern:a(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[ne,$]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:n.languages.csharp}}},string:/[\s\S]+/}}n.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:a(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[K]),lookbehind:!0,greedy:!0,inside:ee(K,q)},{pattern:a(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[re]),lookbehind:!0,greedy:!0,inside:ee(re,V)}],char:{pattern:RegExp(I),greedy:!0}}),n.languages.dotnet=n.languages.cs=n.languages.csharp})(e)}return PI}var LI,Lq;function oPe(){if(Lq)return LI;Lq=1;var t=lE();LI=e,e.displayName="aspnet",e.aliases=[];function e(n){n.register(t),n.languages.aspnet=n.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:n.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:n.languages.csharp}}}),n.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,n.languages.insertBefore("inside","punctuation",{directive:n.languages.aspnet.directive},n.languages.aspnet.tag.inside["attr-value"]),n.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),n.languages.insertBefore("aspnet",n.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:n.languages.csharp||{}}})}return LI}var FI,Fq;function lPe(){if(Fq)return FI;Fq=1,FI=t,t.displayName="autohotkey",t.aliases=[];function t(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,selector:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,important:/#\b(?:AllowSameLineComments|ClipboardTimeout|CommentFlag|DerefChar|ErrorStdOut|EscapeChar|HotkeyInterval|HotkeyModifierTimeout|Hotstring|If|IfTimeout|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Include|IncludeAgain|InputLevel|InstallKeybdHook|InstallMouseHook|KeyHistory|MaxHotkeysPerInterval|MaxMem|MaxThreads|MaxThreadsBuffer|MaxThreadsPerHotkey|MenuMaskKey|NoEnv|NoTrayIcon|Persistent|SingleInstance|UseHook|Warn|WinActivateForce)\b/i,keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}return FI}var BI,Bq;function cPe(){if(Bq)return BI;Bq=1,BI=t,t.displayName="autoit",t.aliases=[];function t(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}return BI}var jI,jq;function uPe(){if(jq)return jI;jq=1,jI=t,t.displayName="avisynth",t.aliases=["avs"];function t(e){(function(n){function r(f,h){return f.replace(/<<(\d+)>>/g,function(m,b){return h[+b]})}function a(f,h,m){return RegExp(r(f,h),m)}var i=/bool|clip|float|int|string|val/.source,s=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),o=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),l=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),d=[s,o,l].join("|");n.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:a(/\b(?:<<0>>)\s+("?)\w+\1/.source,[i],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:a(/\b(?:<<0>>)\b/.source,[d],"i"),alias:"function"},"type-cast":{pattern:a(/\b(?:<<0>>)(?=\s*\()/.source,[i],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},n.languages.avs=n.languages.avisynth})(e)}return jI}var UI,Uq;function dPe(){if(Uq)return UI;Uq=1,UI=t,t.displayName="avroIdl",t.aliases=[];function t(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}return UI}var zI,zq;function iJ(){if(zq)return zI;zq=1,zI=t,t.displayName="bash",t.aliases=["shell"];function t(e){(function(n){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",a={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:a,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};n.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:a}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},a.inside=n.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=i.variable[1].inside,l=0;l<s.length;l++)o[s[l]]=n.languages.bash[s[l]];n.languages.shell=n.languages.bash})(e)}return zI}var qI,qq;function sJ(){if(qq)return qI;qq=1,qI=t,t.displayName="basic",t.aliases=[];function t(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}return qI}var $I,$q;function fPe(){if($q)return $I;$q=1,$I=t,t.displayName="batch",t.aliases=[];function t(e){(function(n){var r=/%%?[~:\w]+%?|!\S+!/,a={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},i=/"(?:[\\"]"|[^"])*"(?!")/,s=/(?:\b|-)\d+\b/;n.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:i,parameter:a,variable:r,number:s,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:i,parameter:a,variable:r,number:s,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:i,parameter:a,variable:[r,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:s,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:i,parameter:a,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:r,number:s,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(e)}return $I}var GI,Gq;function pPe(){if(Gq)return GI;Gq=1,GI=t,t.displayName="bbcode",t.aliases=["shortcode"];function t(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}return GI}var HI,Hq;function hPe(){if(Hq)return HI;Hq=1,HI=t,t.displayName="bicep",t.aliases=[];function t(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}return HI}var VI,Vq;function mPe(){if(Vq)return VI;Vq=1,VI=t,t.displayName="birb",t.aliases=[];function t(e){e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}return VI}var WI,Wq;function gPe(){if(Wq)return WI;Wq=1;var t=$d();WI=e,e.displayName="bison",e.aliases=[];function e(n){n.register(t),n.languages.bison=n.languages.extend("c",{}),n.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:n.languages.c}},comment:n.languages.c.comment,string:n.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}return WI}var YI,Yq;function bPe(){if(Yq)return YI;Yq=1,YI=t,t.displayName="bnf",t.aliases=["rbnf"];function t(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}return YI}var KI,Kq;function yPe(){if(Kq)return KI;Kq=1,KI=t,t.displayName="brainfuck",t.aliases=[];function t(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}return KI}var XI,Xq;function vPe(){if(Xq)return XI;Xq=1,XI=t,t.displayName="brightscript",t.aliases=[];function t(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}return XI}var ZI,Zq;function SPe(){if(Zq)return ZI;Zq=1,ZI=t,t.displayName="bro",t.aliases=[];function t(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}return ZI}var QI,Qq;function EPe(){if(Qq)return QI;Qq=1,QI=t,t.displayName="bsl",t.aliases=[];function t(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:|||||||||||||||||||||||||||||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}return QI}var JI,Jq;function _Pe(){if(Jq)return JI;Jq=1,JI=t,t.displayName="cfscript",t.aliases=[];function t(e){e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|<=?|>=?|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|[?:]/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}return JI}var ek,e7;function xPe(){if(e7)return ek;e7=1;var t=n3();ek=e,e.displayName="chaiscript",e.aliases=[];function e(n){n.register(t),n.languages.chaiscript=n.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[n.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),n.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),n.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}return ek}var tk,t7;function wPe(){if(t7)return tk;t7=1,tk=t,t.displayName="cil",t.aliases=[];function t(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}return tk}var nk,n7;function TPe(){if(n7)return nk;n7=1,nk=t,t.displayName="clojure",t.aliases=[];function t(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}return nk}var rk,r7;function CPe(){if(r7)return rk;r7=1,rk=t,t.displayName="cmake",t.aliases=[];function t(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_(?:BINARY_DIR|DESCRIPTION|HOMEPAGE_URL|NAME|SOURCE_DIR|VERSION|VERSION_(?:MAJOR|MINOR|PATCH|TWEAK))|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE|XCODE_VERSION))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|GLOBAL_KEYWORD|GLOBAL_PROJECT_TYPES|GLOBAL_ROOTNAMESPACE|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}return rk}var ak,a7;function RPe(){if(a7)return ak;a7=1,ak=t,t.displayName="cobol",t.aliases=[];function t(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}return ak}var ik,i7;function APe(){if(i7)return ik;i7=1,ik=t,t.displayName="coffeescript",t.aliases=["coffee"];function t(e){(function(n){var r=/#(?!\{).+/,a={pattern:/#\{[^}]+\}/,alias:"variable"};n.languages.coffeescript=n.languages.extend("javascript",{comment:r,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:a}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),n.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:r,interpolation:a}}}),n.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:n.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:a}}]}),n.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete n.languages.coffeescript["template-string"],n.languages.coffee=n.languages.coffeescript})(e)}return ik}var sk,s7;function IPe(){if(s7)return sk;s7=1,sk=t,t.displayName="concurnas",t.aliases=["conc"];function t(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}return sk}var ok,o7;function kPe(){if(o7)return ok;o7=1,ok=t,t.displayName="coq",t.aliases=[];function t(e){(function(n){for(var r=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,a=0;a<2;a++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,"[]"),n.languages.coq={comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return r})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(r),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(e)}return ok}var lk,l7;function cE(){if(l7)return lk;l7=1,lk=t,t.displayName="ruby",t.aliases=["rb"];function t(e){(function(n){n.languages.ruby=n.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),n.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var r={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:n.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete n.languages.ruby.function;var a="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",i=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;n.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+a+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:r,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+i),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+i+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),n.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+a),greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:r,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+a),greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:r,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete n.languages.ruby.string,n.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),n.languages.rb=n.languages.ruby})(e)}return lk}var ck,c7;function DPe(){if(c7)return ck;c7=1;var t=cE();ck=e,e.displayName="crystal",e.aliases=[];function e(n){n.register(t),(function(r){r.languages.crystal=r.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,r.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),r.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:r.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:r.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})})(n)}return ck}var uk,u7;function OPe(){if(u7)return uk;u7=1;var t=lE();uk=e,e.displayName="cshtml",e.aliases=["razor"];function e(n){n.register(t),(function(r){var a=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,i=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function s(S,T){for(var x=0;x<T;x++)S=S.replace(/<self>/g,function(){return"(?:"+S+")"});return S.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+i+")").replace(/<comment>/g,"(?:"+a+")")}var o=s(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),l=s(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,2),d=s(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),f=s(/<(?:[^<>'"@/]|<str>|<comment>|<self>)*>/.source,2),h=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?/.source,m=/(?!\d)[^\s>\/=$<%]+/.source+h+/\s*\/?>/.source,b=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+m+"|"+s(/<\1/.source+h+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+m+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+m+")";r.languages.cshtml=r.languages.extend("markup",{});var g=r.languages.insertBefore("csharp","string",{html:{pattern:RegExp(b),greedy:!0,inside:r.languages.cshtml}},{csharp:r.languages.extend("csharp",{})}),w={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:g};r.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[d,/(?:code|functions)\s*/.source+d,/(?:for|foreach|lock|switch|using|while)\s*/.source+o+/\s*/.source+d,/do\s*/.source+d+/\s*while\s*/.source+o+/(?:\s*;)?/.source,/try\s*/.source+d+/\s*catch\s*/.source+o+/\s*/.source+d+/\s*finally\s*/.source+d,/if\s*/.source+o+/\s*/.source+d+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+o+")?"+/\s*/.source+d+")*"].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:w}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:w}},value:{pattern:RegExp(/(^|[^@])@/.source+/(?:await\b\s*)?/.source+"(?:"+/\w+\b/.source+"|"+o+")(?:"+/[?!]?\.\w+\b/.source+"|"+o+"|"+l+"|"+f+o+")*"),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:w}},"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),r.languages.razor=r.languages.cshtml})(n)}return uk}var dk,d7;function NPe(){if(d7)return dk;d7=1,dk=t,t.displayName="csp",t.aliases=[];function t(e){(function(n){function r(a){return RegExp(/([ \t])/.source+"(?:"+a+")"+/(?=[\s;]|$)/.source,"i")}n.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:r(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:r(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:r(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:r(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:r(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:r(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:r(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(e)}return dk}var fk,f7;function MPe(){if(f7)return fk;f7=1,fk=t,t.displayName="cssExtras",t.aliases=[];function t(e){(function(n){var r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,a;n.languages.css.selector={pattern:n.languages.css.selector.pattern,lookbehind:!0,inside:a={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+r.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[r,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},n.languages.css.atrule.inside["selector-function-argument"].inside=a,n.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var i={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},s={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};n.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:i,number:s,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:i,number:s})})(e)}return fk}var pk,p7;function PPe(){if(p7)return pk;p7=1,pk=t,t.displayName="csv",t.aliases=[];function t(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}return pk}var hk,h7;function LPe(){if(h7)return hk;h7=1,hk=t,t.displayName="cypher",t.aliases=[];function t(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}return hk}var mk,m7;function FPe(){if(m7)return mk;m7=1,mk=t,t.displayName="d",t.aliases=[];function t(e){e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}return mk}var gk,g7;function BPe(){if(g7)return gk;g7=1,gk=t,t.displayName="dart",t.aliases=[];function t(e){(function(n){var r=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],a=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(a+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[i,{pattern:RegExp(a+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:i.inside}],keyword:r,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":i,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(e)}return gk}var bk,b7;function jPe(){if(b7)return bk;b7=1,bk=t,t.displayName="dataweave",t.aliases=[];function t(e){(function(n){n.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(e)}return bk}var yk,y7;function UPe(){if(y7)return yk;y7=1,yk=t,t.displayName="dax",t.aliases=[];function t(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}return yk}var vk,v7;function zPe(){if(v7)return vk;v7=1,vk=t,t.displayName="dhall",t.aliases=[];function t(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}return vk}var Sk,S7;function qPe(){if(S7)return Sk;S7=1,Sk=t,t.displayName="diff",t.aliases=[];function t(e){(function(n){n.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var r={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(r).forEach(function(a){var i=r[a],s=[];/^\w+$/.test(a)||s.push(/\w+/.exec(a)[0]),a==="diff"&&s.push("bold"),n.languages.diff[a]={pattern:RegExp("^(?:["+i+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:s,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(a)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:r})})(e)}return Sk}var Ek,E7;function $i(){if(E7)return Ek;E7=1,Ek=t,t.displayName="markupTemplating",t.aliases=[];function t(e){(function(n){function r(a,i){return"___"+a.toUpperCase()+i+"___"}Object.defineProperties(n.languages["markup-templating"]={},{buildPlaceholders:{value:function(a,i,s,o){if(a.language===i){var l=a.tokenStack=[];a.code=a.code.replace(s,function(d){if(typeof o=="function"&&!o(d))return d;for(var f=l.length,h;a.code.indexOf(h=r(i,f))!==-1;)++f;return l[f]=d,h}),a.grammar=n.languages.markup}}},tokenizePlaceholders:{value:function(a,i){if(a.language!==i||!a.tokenStack)return;a.grammar=n.languages[i];var s=0,o=Object.keys(a.tokenStack);function l(d){for(var f=0;f<d.length&&!(s>=o.length);f++){var h=d[f];if(typeof h=="string"||h.content&&typeof h.content=="string"){var m=o[s],b=a.tokenStack[m],g=typeof h=="string"?h:h.content,w=r(i,m),S=g.indexOf(w);if(S>-1){++s;var T=g.substring(0,S),x=new n.Token(i,n.tokenize(b,a.grammar),"language-"+i,b),_=g.substring(S+w.length),C=[];T&&C.push.apply(C,l([T])),C.push(x),_&&C.push.apply(C,l([_])),typeof h=="string"?d.splice.apply(d,[f,1].concat(C)):h.content=C}}else h.content&&l(h.content)}return d}l(a.tokens)}}})})(e)}return Ek}var _k,_7;function $Pe(){if(_7)return _k;_7=1;var t=$i();_k=e,e.displayName="django",e.aliases=["jinja2"];function e(n){n.register(t),(function(r){r.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var a=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,i=r.languages["markup-templating"];r.hooks.add("before-tokenize",function(s){i.buildPlaceholders(s,"django",a)}),r.hooks.add("after-tokenize",function(s){i.tokenizePlaceholders(s,"django")}),r.languages.jinja2=r.languages.django,r.hooks.add("before-tokenize",function(s){i.buildPlaceholders(s,"jinja2",a)}),r.hooks.add("after-tokenize",function(s){i.tokenizePlaceholders(s,"jinja2")})})(n)}return _k}var xk,x7;function GPe(){if(x7)return xk;x7=1,xk=t,t.displayName="dnsZoneFile",t.aliases=[];function t(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}return xk}var wk,w7;function HPe(){if(w7)return wk;w7=1,wk=t,t.displayName="docker",t.aliases=["dockerfile"];function t(e){(function(n){var r=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,a=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return r}),i=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,s=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return i}),o={pattern:RegExp(i),greedy:!0},l={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function d(f,h){return f=f.replace(/<OPT>/g,function(){return s}).replace(/<SP>/g,function(){return a}),RegExp(f,h)}n.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:d(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[o,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:d(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:d(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:d(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:l,string:o,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:l},n.languages.dockerfile=n.languages.docker})(e)}return wk}var Tk,T7;function VPe(){if(T7)return Tk;T7=1,Tk=t,t.displayName="dot",t.aliases=["gv"];function t(e){(function(n){var r="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",a={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:n.languages.markup}};function i(s,o){return RegExp(s.replace(/<ID>/g,function(){return r}),o)}n.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:i(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:a},"attr-value":{pattern:i(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:a},"attr-name":{pattern:i(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:a},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:i(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:a},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},n.languages.gv=n.languages.dot})(e)}return Tk}var Ck,C7;function WPe(){if(C7)return Ck;C7=1,Ck=t,t.displayName="ebnf",t.aliases=[];function t(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}return Ck}var Rk,R7;function YPe(){if(R7)return Rk;R7=1,Rk=t,t.displayName="editorconfig",t.aliases=[];function t(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}return Rk}var Ak,A7;function KPe(){if(A7)return Ak;A7=1,Ak=t,t.displayName="eiffel",t.aliases=[];function t(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}return Ak}var Ik,I7;function XPe(){if(I7)return Ik;I7=1;var t=$i();Ik=e,e.displayName="ejs",e.aliases=["eta"];function e(n){n.register(t),(function(r){r.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:r.languages.javascript}},r.hooks.add("before-tokenize",function(a){var i=/<%(?!%)[\s\S]+?%>/g;r.languages["markup-templating"].buildPlaceholders(a,"ejs",i)}),r.hooks.add("after-tokenize",function(a){r.languages["markup-templating"].tokenizePlaceholders(a,"ejs")}),r.languages.eta=r.languages.ejs})(n)}return Ik}var kk,k7;function ZPe(){if(k7)return kk;k7=1,kk=t,t.displayName="elixir",t.aliases=[];function t(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(n){n.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}return kk}var Dk,D7;function QPe(){if(D7)return Dk;D7=1,Dk=t,t.displayName="elm",t.aliases=[];function t(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}return Dk}var Ok,O7;function JPe(){if(O7)return Ok;O7=1;var t=cE(),e=$i();Ok=n,n.displayName="erb",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){a.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:a.languages.ruby}},a.hooks.add("before-tokenize",function(i){var s=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;a.languages["markup-templating"].buildPlaceholders(i,"erb",s)}),a.hooks.add("after-tokenize",function(i){a.languages["markup-templating"].tokenizePlaceholders(i,"erb")})})(r)}return Ok}var Nk,N7;function eLe(){if(N7)return Nk;N7=1,Nk=t,t.displayName="erlang",t.aliases=[];function t(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}return Nk}var Mk,M7;function oJ(){if(M7)return Mk;M7=1,Mk=t,t.displayName="lua",t.aliases=[];function t(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}return Mk}var Pk,P7;function tLe(){if(P7)return Pk;P7=1;var t=oJ(),e=$i();Pk=n,n.displayName="etlua",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){a.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:a.languages.lua}},a.hooks.add("before-tokenize",function(i){var s=/<%[\s\S]+?%>/g;a.languages["markup-templating"].buildPlaceholders(i,"etlua",s)}),a.hooks.add("after-tokenize",function(i){a.languages["markup-templating"].tokenizePlaceholders(i,"etlua")})})(r)}return Pk}var Lk,L7;function nLe(){if(L7)return Lk;L7=1,Lk=t,t.displayName="excelFormula",t.aliases=[];function t(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"keyword"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"property",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"property"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}return Lk}var Fk,F7;function rLe(){if(F7)return Fk;F7=1,Fk=t,t.displayName="factor",t.aliases=[];function t(e){(function(n){var r={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},a={number:/\\[^\s']|%\w/},i={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:r},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:r}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:a.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:a},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:a}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:a}},s=function(f){return(f+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},o=function(f){return new RegExp("(^|\\s)(?:"+f.map(s).join("|")+")(?=\\s|$)")},l={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(l).forEach(function(f){i[f].pattern=o(l[f])});var d=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];i.combinators.pattern=o(d),n.languages.factor=i})(e)}return Fk}var Bk,B7;function aLe(){if(B7)return Bk;B7=1,Bk=t,t.displayName="$false",t.aliases=[];function t(e){(function(n){n.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO]/,alias:"bold"}}})(e)}return Bk}var jk,j7;function iLe(){if(j7)return jk;j7=1,jk=t,t.displayName="firestoreSecurityRules",t.aliases=[];function t(e){e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}return jk}var Uk,U7;function sLe(){if(U7)return Uk;U7=1,Uk=t,t.displayName="flow",t.aliases=[];function t(e){(function(n){n.languages.flow=n.languages.extend("javascript",{}),n.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|any|mixed|null|void)\b/,alias:"tag"}]}),n.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete n.languages.flow.parameter,n.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(n.languages.flow.keyword)||(n.languages.flow.keyword=[n.languages.flow.keyword]),n.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(e)}return Uk}var zk,z7;function oLe(){if(z7)return zk;z7=1,zk=t,t.displayName="fortran",t.aliases=[];function t(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}return zk}var qk,q7;function lLe(){if(q7)return qk;q7=1,qk=t,t.displayName="fsharp",t.aliases=[];function t(e){e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}return qk}var $k,$7;function cLe(){if($7)return $k;$7=1;var t=$i();$k=e,e.displayName="ftl",e.aliases=[];function e(n){n.register(t),(function(r){for(var a=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,i=0;i<2;i++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,/[^\s\S]/.source);var s={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return a})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return a})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};s.string[1].inside.interpolation.inside.rest=s,r.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:s}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:s}}}},r.hooks.add("before-tokenize",function(o){var l=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return a}),"gi");r.languages["markup-templating"].buildPlaceholders(o,"ftl",l)}),r.hooks.add("after-tokenize",function(o){r.languages["markup-templating"].tokenizePlaceholders(o,"ftl")})})(n)}return $k}var Gk,G7;function uLe(){if(G7)return Gk;G7=1,Gk=t,t.displayName="gap",t.aliases=[];function t(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}return Gk}var Hk,H7;function dLe(){if(H7)return Hk;H7=1,Hk=t,t.displayName="gcode",t.aliases=[];function t(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}return Hk}var Vk,V7;function fLe(){if(V7)return Vk;V7=1,Vk=t,t.displayName="gdscript",t.aliases=[];function t(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}return Vk}var Wk,W7;function pLe(){if(W7)return Wk;W7=1,Wk=t,t.displayName="gedcom",t.aliases=[];function t(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},tag:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"string"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}return Wk}var Yk,Y7;function hLe(){if(Y7)return Yk;Y7=1,Yk=t,t.displayName="gherkin",t.aliases=[];function t(e){(function(n){var r=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;n.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Caracterstica|Egenskab|Egenskap|Eiginleiki|Feature|Fa|Fitur|Fonctionnalit|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcionalitate|Funcionalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitte|Funkcionalnost|Funkcja|Funksie|Funktionalitt|Funktionalitit|Funzionalit|Hwaet|Hwt|Jellemz|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogunost|Moznosti|Monosti|OH HAI|Omadus|Ominaisuus|Osobina|zellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Poadavek|Poiadavka|Pretty much|Qap|Qu'meH 'ut|Savyb|Tnh nng|Trajto|Vermo|Vlastnos|Waciwo|Znailnost||||||||||||||||  || || ||||||||||):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|r|Agtergrond|All y'all|Antecedentes|Antecedents|Atburars|Atburarsir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bi cnh|Cefndir|Cenario|Cenrio|Cenario de Fundo|Cenrio de Fundo|Cenarios|Cenrios|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineao do Cenrio|Dis is what went down|D liu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenrio|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatknyv|Forgatknyv vzlat|Fundo|Gemi|Grundlage|Hannergrond|ghantoH|Httr|Heave to|Istorik|Juhtumid|Keadaan|Khung kch bn|Khung tnh hung|Kch bn|Koncept|Konsep skenario|Kontks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lsing Atburarsar|Lsing Dma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Nrt Scenra|Nrt Scne|Nrt Scenru|Oris scenarija|rnekler|Osnova|Osnova Scenra|Osnova scne|Osnutek|Ozadje|Paraugs|Pavyzdiai|Pldk|Piemri|Plan du scnario|Plan du Scnario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozad|Pozadie|Pozadina|Prklady|Pklady|Primer|Primeri|Primjeri|Przykady|Raamstsenaarium|Reckon it's like|Rerefons|Scenr|Scn|Scenarie|Scenarij|Scenarijai|Scenarijaus ablonas|Scenariji|Scenrijs|Scenrijs pc parauga|Scenarijus|Scenario|Scnario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se e|Se the|Se e|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo tasla|Shiver me timbers|Situcija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structur scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwr swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tnh hung|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Zaoenia|| ||||||||||||||||||  || | | || | |||||||| ||| || |||| ||   || ||| |||| |  |||||||||||||||||| ||||||||||||||||||):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+r+")(?:"+r+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(r),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A tak|A taktie|A tie|A zrove|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Ats|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Bit|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Cnd|Cand|Cando|Ce|Cuando|e|a e|a|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Dai fiind|Dai fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitao|Do|Dun|Duota|urh|Eeldades|Ef|Eer ki|Entao|Ento|Entn|E|En|Entonces|Epi|s|Etant donne|Etant donn|Et|tant donnes|tant donne|tant donn|Etant donnes|Etant donns|tant donns|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeli|Jeeli|Kad|Kada|Kadar|Kai|Kaj|Kdy|Ke|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|L sa a|L|Logo|Lorsqu'<|Lorsque|m|Maar|Mais|Majc|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Nr|Nr|Nato|Nhng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Per|Podano|Pokia|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|S|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|i|i|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Th|Thurh|Toda|Too right|Un|Und|ugeholl|V|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za pedpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakadajc|Zaradi|Zatati|a e|a||egar|urh|||||| |||||||||||||||||||||  ||||||||||||, |||||||||||||||||||||| |||||||| |||||||||||||||||||| ||||| ||||||||||||||<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(e)}return Yk}var Kk,K7;function mLe(){if(K7)return Kk;K7=1,Kk=t,t.displayName="git",t.aliases=[];function t(e){e.languages.git={comment:/^#.*/m,deleted:/^[-].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}return Kk}var Xk,X7;function gLe(){if(X7)return Xk;X7=1;var t=$d();Xk=e,e.displayName="glsl",e.aliases=[];function e(n){n.register(t),n.languages.glsl=n.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}return Xk}var Zk,Z7;function bLe(){if(Z7)return Zk;Z7=1,Zk=t,t.displayName="gml",t.aliases=[];function t(e){e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}return Zk}var Qk,Q7;function yLe(){if(Q7)return Qk;Q7=1,Qk=t,t.displayName="gn",t.aliases=["gni"];function t(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}return Qk}var Jk,J7;function vLe(){if(J7)return Jk;J7=1,Jk=t,t.displayName="goModule",t.aliases=[];function t(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}return Jk}var eD,e$;function SLe(){if(e$)return eD;e$=1,eD=t,t.displayName="go",t.aliases=[];function t(e){e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}return eD}var tD,t$;function ELe(){if(t$)return tD;t$=1,tD=t,t.displayName="graphql",t.aliases=[];function t(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(r){if(r.language!=="graphql")return;var a=r.tokens.filter(function(T){return typeof T!="string"&&T.type!=="comment"&&T.type!=="scalar"}),i=0;function s(T){return a[i+T]}function o(T,x){x=x||0;for(var _=0;_<T.length;_++){var C=s(_+x);if(!C||C.type!==T[_])return!1}return!0}function l(T,x){for(var _=1,C=i;C<a.length;C++){var R=a[C],A=R.content;if(R.type==="punctuation"&&typeof A=="string"){if(T.test(A))_++;else if(x.test(A)&&(_--,_===0))return C}}return-1}function d(T,x){var _=T.alias;_?Array.isArray(_)||(T.alias=_=[_]):T.alias=_=[],_.push(x)}for(;i<a.length;){var f=a[i++];if(f.type==="keyword"&&f.content==="mutation"){var h=[];if(o(["definition-mutation","punctuation"])&&s(1).content==="("){i+=2;var m=l(/^\($/,/^\)$/);if(m===-1)continue;for(;i<m;i++){var b=s(0);b.type==="variable"&&(d(b,"variable-input"),h.push(b.content))}i=m+1}if(o(["punctuation","property-query"])&&s(0).content==="{"&&(i++,d(s(0),"property-mutation"),h.length>0)){var g=l(/^\{$/,/^\}$/);if(g===-1)continue;for(var w=i;w<g;w++){var S=a[w];S.type==="variable"&&h.indexOf(S.content)>=0&&d(S,"variable-input")}}}}})}return tD}var nD,n$;function _Le(){if(n$)return nD;n$=1,nD=t,t.displayName="groovy",t.aliases=[];function t(e){e.languages.groovy=e.languages.extend("clike",{string:[{pattern:/("""|''')(?:[^\\]|\\[\s\S])*?\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0},{pattern:/(["'/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),e.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),e.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),e.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),e.hooks.add("wrap",function(n){if(n.language==="groovy"&&n.type==="string"){var r=n.content.value[0];if(r!="'"){var a=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;r==="$"&&(a=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),n.content.value=n.content.value.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),n.content=e.highlight(n.content.value,{expression:{pattern:a,lookbehind:!0,inside:e.languages.groovy}}),n.classes.push(r==="/"?"regex":"gstring")}}})}return nD}var rD,r$;function xLe(){if(r$)return rD;r$=1;var t=cE();rD=e,e.displayName="haml",e.aliases=[];function e(n){n.register(t),(function(r){r.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:r.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:r.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:r.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:r.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:r.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:r.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:r.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var a="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",i=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],s={},o=0,l=i.length;o<l;o++){var d=i[o];d=typeof d=="string"?{filter:d,language:d}:d,r.languages[d.language]&&(s["filter-"+d.filter]={pattern:RegExp(a.replace("{{filter_name}}",function(){return d.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[d.language,"language-"+d.language],inside:r.languages[d.language]}}})}r.languages.insertBefore("haml","filter",s)})(n)}return rD}var aD,a$;function wLe(){if(a$)return aD;a$=1;var t=$i();aD=e,e.displayName="handlebars",e.aliases=["hbs"];function e(n){n.register(t),(function(r){r.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},r.hooks.add("before-tokenize",function(a){var i=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;r.languages["markup-templating"].buildPlaceholders(a,"handlebars",i)}),r.hooks.add("after-tokenize",function(a){r.languages["markup-templating"].tokenizePlaceholders(a,"handlebars")}),r.languages.hbs=r.languages.handlebars})(n)}return aD}var iD,i$;function r3(){if(i$)return iD;i$=1,iD=t,t.displayName="haskell",t.aliases=["hs"];function t(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}return iD}var sD,s$;function TLe(){if(s$)return sD;s$=1,sD=t,t.displayName="haxe",t.aliases=[];function t(e){e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}return sD}var oD,o$;function CLe(){if(o$)return oD;o$=1,oD=t,t.displayName="hcl",t.aliases=[];function t(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}return oD}var lD,l$;function RLe(){if(l$)return lD;l$=1;var t=$d();lD=e,e.displayName="hlsl",e.aliases=[];function e(n){n.register(t),n.languages.hlsl=n.languages.extend("c",{"class-name":[n.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}return lD}var cD,c$;function ALe(){if(c$)return cD;c$=1,cD=t,t.displayName="hoon",t.aliases=[];function t(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}return cD}var uD,u$;function ILe(){if(u$)return uD;u$=1,uD=t,t.displayName="hpkp",t.aliases=[];function t(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}return uD}var dD,d$;function kLe(){if(d$)return dD;d$=1,dD=t,t.displayName="hsts",t.aliases=[];function t(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}return dD}var fD,f$;function DLe(){if(f$)return fD;f$=1,fD=t,t.displayName="http",t.aliases=[];function t(e){(function(n){function r(h){return RegExp("(^(?:"+h+"):[ 	]*(?![ 	]))[^]+","i")}n.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:n.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:r(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:n.languages.csp},{pattern:r(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:n.languages.hpkp},{pattern:r(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:n.languages.hsts},{pattern:r(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var a=n.languages,i={"application/javascript":a.javascript,"application/json":a.json||a.javascript,"application/xml":a.xml,"text/xml":a.xml,"text/html":a.html,"text/css":a.css,"text/plain":a.plain},s={"application/json":!0,"application/xml":!0};function o(h){var m=h.replace(/^[a-z]+\//,""),b="\\w+/(?:[\\w.-]+\\+)+"+m+"(?![+\\w.-])";return"(?:"+h+"|"+b+")"}var l;for(var d in i)if(i[d]){l=l||{};var f=s[d]?o(d):d;l[d.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+f+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:i[d]}}l&&n.languages.insertBefore("http","header",l)})(e)}return fD}var pD,p$;function OLe(){if(p$)return pD;p$=1,pD=t,t.displayName="ichigojam",t.aliases=[];function t(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}return pD}var hD,h$;function NLe(){if(h$)return hD;h$=1,hD=t,t.displayName="icon",t.aliases=[];function t(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}return hD}var mD,m$;function MLe(){if(m$)return mD;m$=1,mD=t,t.displayName="icuMessageFormat",t.aliases=[];function t(e){(function(n){function r(d,f){return f<=0?/[]/.source:d.replace(/<SELF>/g,function(){return r(d,f-1)})}var a=/'[{}:=,](?:[^']|'')*'(?!')/,i={pattern:/''/,greedy:!0,alias:"operator"},s={pattern:a,greedy:!0,inside:{escape:i}},o=r(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return a.source}),8),l={pattern:RegExp(o),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};n.languages["icu-message-format"]={argument:{pattern:RegExp(o),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":l,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":l,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+r(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:i,string:s},l.inside.message.inside=n.languages["icu-message-format"],n.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=n.languages["icu-message-format"]})(e)}return mD}var gD,g$;function PLe(){if(g$)return gD;g$=1;var t=r3();gD=e,e.displayName="idris",e.aliases=["idr"];function e(n){n.register(t),n.languages.idris=n.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),n.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),n.languages.idr=n.languages.idris}return gD}var bD,b$;function LLe(){if(b$)return bD;b$=1,bD=t,t.displayName="iecst",t.aliases=[];function t(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}return bD}var yD,y$;function FLe(){if(y$)return yD;y$=1,yD=t,t.displayName="ignore",t.aliases=["gitignore","hgignore","npmignore"];function t(e){(function(n){n.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},n.languages.gitignore=n.languages.ignore,n.languages.hgignore=n.languages.ignore,n.languages.npmignore=n.languages.ignore})(e)}return yD}var vD,v$;function BLe(){if(v$)return vD;v$=1,vD=t,t.displayName="inform7",t.aliases=[];function t(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}return vD}var SD,S$;function jLe(){if(S$)return SD;S$=1,SD=t,t.displayName="ini",t.aliases=[];function t(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}return SD}var ED,E$;function ULe(){if(E$)return ED;E$=1,ED=t,t.displayName="io",t.aliases=[];function t(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}return ED}var _D,_$;function zLe(){if(_$)return _D;_$=1,_D=t,t.displayName="j",t.aliases=[];function t(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}return _D}var xD,x$;function a3(){if(x$)return xD;x$=1,xD=t,t.displayName="java",t.aliases=[];function t(e){(function(n){var r=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,a=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(a+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};n.languages.java=n.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(a+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:i.inside}],keyword:r,function:[n.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),n.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),n.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:r,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return r.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(e)}return xD}var wD,w$;function uE(){if(w$)return wD;w$=1,wD=t,t.displayName="javadoclike",t.aliases=[];function t(e){(function(n){var r=n.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function a(s,o){var l="doc-comment",d=n.languages[s];if(d){var f=d[l];if(!f){var h={};h[l]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},d=n.languages.insertBefore(s,"comment",h),f=d[l]}if(f instanceof RegExp&&(f=d[l]={pattern:f}),Array.isArray(f))for(var m=0,b=f.length;m<b;m++)f[m]instanceof RegExp&&(f[m]={pattern:f[m]}),o(f[m]);else o(f)}}function i(s,o){typeof s=="string"&&(s=[s]),s.forEach(function(l){a(l,function(d){d.inside||(d.inside={}),d.inside.rest=o})})}Object.defineProperty(r,"addSupport",{value:i}),r.addSupport(["java","javascript","php"],r)})(e)}return wD}var TD,T$;function qLe(){if(T$)return TD;T$=1;var t=a3(),e=uE();TD=n,n.displayName="javadoc",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){var i=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,s=/#\s*\w+(?:\s*\([^()]*\))?/.source,o=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return s});a.languages.javadoc=a.languages.extend("javadoclike",{}),a.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+o+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:a.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:i,lookbehind:!0,inside:a.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:i,lookbehind:!0,inside:{tag:a.languages.markup.tag,entity:a.languages.markup.entity,code:{pattern:/.+/,inside:a.languages.java,alias:"language-java"}}}}}],tag:a.languages.markup.tag,entity:a.languages.markup.entity}),a.languages.javadoclike.addSupport("java",a.languages.javadoc)})(r)}return TD}var CD,C$;function $Le(){if(C$)return CD;C$=1,CD=t,t.displayName="javastacktrace",t.aliases=[];function t(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}return CD}var RD,R$;function GLe(){if(R$)return RD;R$=1,RD=t,t.displayName="jexl",t.aliases=[];function t(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}return RD}var AD,A$;function HLe(){if(A$)return AD;A$=1,AD=t,t.displayName="jolie",t.aliases=[];function t(e){e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}return AD}var ID,I$;function VLe(){if(I$)return ID;I$=1,ID=t,t.displayName="jq",t.aliases=[];function t(e){(function(n){var r=/\\\((?:[^()]|\([^()]*\))*\)/.source,a=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return r})),i={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+r),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},s=n.languages.jq={comment:/#.*/,property:{pattern:RegExp(a.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:i},string:{pattern:a,lookbehind:!0,greedy:!0,inside:i},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};i.interpolation.inside.content.inside=s})(e)}return ID}var kD,k$;function WLe(){if(k$)return kD;k$=1,kD=t,t.displayName="jsExtras",t.aliases=[];function t(e){(function(n){n.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+n.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),n.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+n.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),n.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function r(d,f){return RegExp(d.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),f)}n.languages.insertBefore("javascript","keyword",{imports:{pattern:r(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:n.languages.javascript},exports:{pattern:r(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:n.languages.javascript}}),n.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),n.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),n.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:r(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var a=["function","function-variable","method","method-variable","property-access"],i=0;i<a.length;i++){var s=a[i],o=n.languages.javascript[s];n.util.type(o)==="RegExp"&&(o=n.languages.javascript[s]={pattern:o});var l=o.inside||{};o.inside=l,l["maybe-class-name"]=/^[A-Z][\s\S]*/}})(e)}return kD}var DD,D$;function YLe(){if(D$)return DD;D$=1,DD=t,t.displayName="jsTemplates",t.aliases=[];function t(e){(function(n){var r=n.languages.javascript["template-string"],a=r.pattern.source,i=r.inside.interpolation,s=i.inside["interpolation-punctuation"],o=i.pattern.source;function l(w,S){if(n.languages[w])return{pattern:RegExp("((?:"+S+")\\s*)"+a),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:w}}}}n.languages.javascript["template-string"]=[l("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),l("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),l("svg",/\bsvg/.source),l("markdown",/\b(?:markdown|md)/.source),l("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),l("sql",/\bsql/.source),r].filter(Boolean);function d(w,S){return"___"+S.toUpperCase()+"_"+w+"___"}function f(w,S,T){var x={code:w,grammar:S,language:T};return n.hooks.run("before-tokenize",x),x.tokens=n.tokenize(x.code,x.grammar),n.hooks.run("after-tokenize",x),x.tokens}function h(w){var S={};S["interpolation-punctuation"]=s;var T=n.tokenize(w,S);if(T.length===3){var x=[1,1];x.push.apply(x,f(T[1],n.languages.javascript,"javascript")),T.splice.apply(T,x)}return new n.Token("interpolation",T,i.alias,w)}function m(w,S,T){var x=n.tokenize(w,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),_=0,C={},R=x.map(function(M){if(typeof M=="string")return M;for(var U=M.content,L;w.indexOf(L=d(_++,T))!==-1;);return C[L]=U,L}).join(""),A=f(R,S,T),I=Object.keys(C);_=0;function O(M){for(var U=0;U<M.length;U++){if(_>=I.length)return;var L=M[U];if(typeof L=="string"||typeof L.content=="string"){var z=I[_],j=typeof L=="string"?L:L.content,H=j.indexOf(z);if(H!==-1){++_;var $=j.substring(0,H),q=h(C[z]),K=j.substring(H+z.length),V=[];if($&&V.push($),V.push(q),K){var re=[K];O(re),V.push.apply(V,re)}typeof L=="string"?(M.splice.apply(M,[U,1].concat(V)),U+=V.length-1):L.content=V}}else{var ee=L.content;Array.isArray(ee)?O(ee):O([ee])}}}return O(A),new n.Token(T,A,"language-"+T,w)}var b={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};n.hooks.add("after-tokenize",function(w){if(!(w.language in b))return;function S(T){for(var x=0,_=T.length;x<_;x++){var C=T[x];if(typeof C!="string"){var R=C.content;if(!Array.isArray(R)){typeof R!="string"&&S([R]);continue}if(C.type==="template-string"){var A=R[1];if(R.length===3&&typeof A!="string"&&A.type==="embedded-code"){var I=g(A),O=A.alias,M=Array.isArray(O)?O[0]:O,U=n.languages[M];if(!U)continue;R[1]=m(I,U,M)}}else S(R)}}}S(w.tokens)});function g(w){return typeof w=="string"?w:Array.isArray(w)?w.map(g).join(""):g(w.content)}})(e)}return DD}var OD,O$;function i3(){if(O$)return OD;O$=1,OD=t,t.displayName="typescript",t.aliases=["ts"];function t(e){(function(n){n.languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"];var r=n.languages.extend("typescript",{});delete r["class-name"],n.languages.typescript["class-name"].inside=r,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),n.languages.ts=n.languages.typescript})(e)}return OD}var ND,N$;function KLe(){if(N$)return ND;N$=1;var t=uE(),e=i3();ND=n,n.displayName="jsdoc",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){var i=a.languages.javascript,s=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,o="(@(?:arg|argument|param|property)\\s+(?:"+s+"\\s+)?)";a.languages.jsdoc=a.languages.extend("javadoclike",{parameter:{pattern:RegExp(o+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),a.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(o+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:i,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return s})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+s),lookbehind:!0,inside:{string:i.string,number:i.number,boolean:i.boolean,keyword:a.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:i,alias:"language-javascript"}}}}),a.languages.javadoclike.addSupport("javascript",a.languages.jsdoc)})(r)}return ND}var MD,M$;function s3(){if(M$)return MD;M$=1,MD=t,t.displayName="json",t.aliases=["webmanifest"];function t(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}return MD}var PD,P$;function XLe(){if(P$)return PD;P$=1;var t=s3();PD=e,e.displayName="json5",e.aliases=[];function e(n){n.register(t),(function(r){var a=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;r.languages.json5=r.languages.extend("json",{property:[{pattern:RegExp(a.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:a,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})})(n)}return PD}var LD,L$;function ZLe(){if(L$)return LD;L$=1;var t=s3();LD=e,e.displayName="jsonp",e.aliases=[];function e(n){n.register(t),n.languages.jsonp=n.languages.extend("json",{punctuation:/[{}[\]();,.]/}),n.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}return LD}var FD,F$;function QLe(){if(F$)return FD;F$=1,FD=t,t.displayName="jsstacktrace",t.aliases=[];function t(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}return FD}var BD,B$;function lJ(){if(B$)return BD;B$=1,BD=t,t.displayName="jsx",t.aliases=[];function t(e){(function(n){var r=n.util.clone(n.languages.javascript),a=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(f,h){return f=f.replace(/<S>/g,function(){return a}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return s}),RegExp(f,h)}s=o(s).source,n.languages.jsx=n.languages.extend("markup",r),n.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),n.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,n.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,n.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,n.languages.jsx.tag.inside.comment=r.comment,n.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:n.languages.jsx}},n.languages.jsx.tag),n.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:n.languages.jsx}}},n.languages.jsx.tag);var l=function(f){return f?typeof f=="string"?f:typeof f.content=="string"?f.content:f.content.map(l).join(""):""},d=function(f){for(var h=[],m=0;m<f.length;m++){var b=f[m],g=!1;if(typeof b!="string"&&(b.type==="tag"&&b.content[0]&&b.content[0].type==="tag"?b.content[0].content[0].content==="</"?h.length>0&&h[h.length-1].tagName===l(b.content[0].content[1])&&h.pop():b.content[b.content.length-1].content==="/>"||h.push({tagName:l(b.content[0].content[1]),openedBraces:0}):h.length>0&&b.type==="punctuation"&&b.content==="{"?h[h.length-1].openedBraces++:h.length>0&&h[h.length-1].openedBraces>0&&b.type==="punctuation"&&b.content==="}"?h[h.length-1].openedBraces--:g=!0),(g||typeof b=="string")&&h.length>0&&h[h.length-1].openedBraces===0){var w=l(b);m<f.length-1&&(typeof f[m+1]=="string"||f[m+1].type==="plain-text")&&(w+=l(f[m+1]),f.splice(m+1,1)),m>0&&(typeof f[m-1]=="string"||f[m-1].type==="plain-text")&&(w=l(f[m-1])+w,f.splice(m-1,1),m--),f[m]=new n.Token("plain-text",w,null,w)}b.content&&typeof b.content!="string"&&d(b.content)}};n.hooks.add("after-tokenize",function(f){f.language!=="jsx"&&f.language!=="tsx"||d(f.tokens)})})(e)}return BD}var jD,j$;function JLe(){if(j$)return jD;j$=1,jD=t,t.displayName="julia",t.aliases=[];function t(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~']/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[]/}}return jD}var UD,U$;function e3e(){if(U$)return UD;U$=1,UD=t,t.displayName="keepalived",t.aliases=[];function t(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}return UD}var zD,z$;function t3e(){if(z$)return zD;z$=1,zD=t,t.displayName="keyman",t.aliases=[];function t(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|nomatch|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}return zD}var qD,q$;function n3e(){if(q$)return qD;q$=1,qD=t,t.displayName="kotlin",t.aliases=["kt","kts"];function t(e){(function(n){n.languages.kotlin=n.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete n.languages.kotlin["class-name"];var r={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:n.languages.kotlin}};n.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:r},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:r},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete n.languages.kotlin.string,n.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),n.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),n.languages.kt=n.languages.kotlin,n.languages.kts=n.languages.kotlin})(e)}return qD}var $D,$$;function r3e(){if($$)return $D;$$=1,$D=t,t.displayName="kumir",t.aliases=["kum"];function t(e){(function(n){var r=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function a(i,s){return RegExp(i.replace(/<nonId>/g,r),s)}n.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:a(/(^|[<nonId>])(?:|)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:a(/(^|[<nonId>])(?:||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:a(/(^|[<nonId>])(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:a(/(^|[<nonId>])(?:||||)(?:\x20*)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:a(/(^|[<nonId>])(?:|||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:a(/(^|[<nonId>])(?:|(?:\x20*)?|||[]||||||||||||(?:(?:\x20+|_))?|(?:(?:\x20+|_))?|||||||||?||||||)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:a(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:a(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},n.languages.kum=n.languages.kumir})(e)}return $D}var GD,G$;function a3e(){if(G$)return GD;G$=1,GD=t,t.displayName="kusto",t.aliases=[];function t(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mn]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}return GD}var HD,H$;function i3e(){if(H$)return HD;H$=1,HD=t,t.displayName="latex",t.aliases=["tex","context"];function t(e){(function(n){var r=/\\(?:[^a-z()[\]]|[a-z*]+)/i,a={"equation-command":{pattern:r,alias:"regex"}};n.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:a,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:a,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:r,alias:"selector"},punctuation:/[[\]{}&]/},n.languages.tex=n.languages.latex,n.languages.context=n.languages.latex})(e)}return HD}var VD,V$;function dE(){if(V$)return VD;V$=1;var t=$i();VD=e,e.displayName="php",e.aliases=[];function e(n){n.register(t),(function(r){var a=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,i=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],s=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,o=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,l=/[{}\[\](),:;]/;r.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:a,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s+)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:i,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:s,operator:o,punctuation:l};var d={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:r.languages.php},f=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:d}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:d}}];r.languages.insertBefore("php","variable",{string:f,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:a,string:f,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:i,number:s,operator:o,punctuation:l}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),r.hooks.add("before-tokenize",function(h){if(/<\?/.test(h.code)){var m=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;r.languages["markup-templating"].buildPlaceholders(h,"php",m)}}),r.hooks.add("after-tokenize",function(h){r.languages["markup-templating"].tokenizePlaceholders(h,"php")})})(n)}return VD}var WD,W$;function s3e(){if(W$)return WD;W$=1;var t=$i(),e=dE();WD=n,n.displayName="latte",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){a.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:a.languages.php}};var i=a.languages.extend("markup",{});a.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:a.languages.php}}}}}},i.tag),a.hooks.add("before-tokenize",function(s){if(s.language==="latte"){var o=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;a.languages["markup-templating"].buildPlaceholders(s,"latte",o),s.grammar=i}}),a.hooks.add("after-tokenize",function(s){a.languages["markup-templating"].tokenizePlaceholders(s,"latte")})})(r)}return WD}var YD,Y$;function o3e(){if(Y$)return YD;Y$=1,YD=t,t.displayName="less",t.aliases=[];function t(e){e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}return YD}var KD,K$;function o3(){if(K$)return KD;K$=1,KD=t,t.displayName="scheme",t.aliases=[];function t(e){(function(n){n.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(r({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function r(a){for(var i in a)a[i]=a[i].replace(/<[\w\s]+>/g,function(s){return"(?:"+a[s].trim()+")"});return a[i]}})(e)}return KD}var XD,X$;function l3e(){if(X$)return XD;X$=1;var t=o3();XD=e,e.displayName="lilypond",e.aliases=[];function e(n){n.register(t),(function(r){for(var a=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,i=5,s=0;s<i;s++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,/[^\s\S]/.source);var o=r.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:r.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};o["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=o,r.languages.ly=o})(n)}return XD}var ZD,Z$;function c3e(){if(Z$)return ZD;Z$=1;var t=$i();ZD=e,e.displayName="liquid",e.aliases=[];function e(n){n.register(t),n.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},n.hooks.add("before-tokenize",function(r){var a=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,i=!1;n.languages["markup-templating"].buildPlaceholders(r,"liquid",a,function(s){var o=/^\{%-?\s*(\w+)/.exec(s);if(o){var l=o[1];if(l==="raw"&&!i)return i=!0,!0;if(l==="endraw")return i=!1,!0}return!i})}),n.hooks.add("after-tokenize",function(r){n.languages["markup-templating"].tokenizePlaceholders(r,"liquid")})}return ZD}var QD,Q$;function u3e(){if(Q$)return QD;Q$=1,QD=t,t.displayName="lisp",t.aliases=[];function t(e){(function(n){function r(w){return RegExp(/(\()/.source+"(?:"+w+")"+/(?=[\s\)])/.source)}function a(w){return RegExp(/([\s([])/.source+"(?:"+w+")"+/(?=[\s)])/.source)}var i=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,s="&"+i,o="(\\()",l="(?=\\))",d="(?=\\s)",f=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,h={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+i+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+i),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+i),alias:"property"},splice:{pattern:RegExp(",@?"+i),alias:["symbol","variable"]},keyword:[{pattern:RegExp(o+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+d),lookbehind:!0},{pattern:RegExp(o+"(?:append|by|collect|concat|do|finally|for|in|return)"+d),lookbehind:!0}],declare:{pattern:r(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:r(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:a(/nil|t/.source),lookbehind:!0},number:{pattern:a(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(o+"def(?:const|custom|group|var)\\s+"+i),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(i)}},defun:{pattern:RegExp(o+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+i+/\s+\(/.source+f+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+i),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(o+"lambda\\s+\\(\\s*(?:&?"+i+"(?:\\s+&?"+i+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(o+i),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},m={"lisp-marker":RegExp(s),varform:{pattern:RegExp(/\(/.source+i+/\s+(?=\S)/.source+f+/\)/.source),inside:h},argument:{pattern:RegExp(/(^|[\s(])/.source+i),lookbehind:!0,alias:"variable"},rest:h},b="\\S+(?:\\s+\\S+)*",g={pattern:RegExp(o+f+l),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+b),inside:m},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+b),inside:m},keys:{pattern:RegExp("&key\\s+"+b+"(?:\\s+&allow-other-keys)?"),inside:m},argument:{pattern:RegExp(i),alias:"variable"},punctuation:/[()]/}};h.lambda.inside.arguments=g,h.defun.inside.arguments=n.util.clone(g),h.defun.inside.arguments.inside.sublist=g,n.languages.lisp=h,n.languages.elisp=h,n.languages.emacs=h,n.languages["emacs-lisp"]=h})(e)}return QD}var JD,J$;function d3e(){if(J$)return JD;J$=1,JD=t,t.displayName="livescript",t.aliases=[];function t(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}return JD}var eO,eG;function f3e(){if(eG)return eO;eG=1,eO=t,t.displayName="llvm",t.aliases=[];function t(e){(function(n){n.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(e)}return eO}var tO,tG;function p3e(){if(tG)return tO;tG=1,tO=t,t.displayName="log",t.aliases=[];function t(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}return tO}var nO,nG;function h3e(){if(nG)return nO;nG=1,nO=t,t.displayName="lolcode",t.aliases=[];function t(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}||,|!/}}return nO}var rO,rG;function m3e(){if(rG)return rO;rG=1,rO=t,t.displayName="magma",t.aliases=[];function t(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}return rO}var aO,aG;function g3e(){if(aG)return aO;aG=1,aO=t,t.displayName="makefile",t.aliases=[];function t(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}return aO}var iO,iG;function b3e(){if(iG)return iO;iG=1,iO=t,t.displayName="markdown",t.aliases=["md"];function t(e){(function(n){var r=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function a(m){return m=m.replace(/<inner>/g,function(){return r}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+m+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,s=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;n.languages.markdown=n.languages.extend("markup",{}),n.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:n.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+s+o+"(?:"+s+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+s+o+")(?:"+s+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:n.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+s+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+s+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:n.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:a(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:a(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:a(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:a(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(m){["url","bold","italic","strike","code-snippet"].forEach(function(b){m!==b&&(n.languages.markdown[m].inside.content.inside[b]=n.languages.markdown[b])})}),n.hooks.add("after-tokenize",function(m){if(m.language!=="markdown"&&m.language!=="md")return;function b(g){if(!(!g||typeof g=="string"))for(var w=0,S=g.length;w<S;w++){var T=g[w];if(T.type!=="code"){b(T.content);continue}var x=T.content[1],_=T.content[3];if(x&&_&&x.type==="code-language"&&_.type==="code-block"&&typeof x.content=="string"){var C=x.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");C=(/[a-z][\w-]*/i.exec(C)||[""])[0].toLowerCase();var R="language-"+C;_.alias?typeof _.alias=="string"?_.alias=[_.alias,R]:_.alias.push(R):_.alias=[R]}}}b(m.tokens)}),n.hooks.add("wrap",function(m){if(m.type==="code-block"){for(var b="",g=0,w=m.classes.length;g<w;g++){var S=m.classes[g],T=/language-(.+)/.exec(S);if(T){b=T[1];break}}var x=n.languages[b];if(x)m.content=n.highlight(h(m.content.value),x,b);else if(b&&b!=="none"&&n.plugins.autoloader){var _="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);m.attributes.id=_,n.plugins.autoloader.loadLanguages(b,function(){var C=document.getElementById(_);C&&(C.innerHTML=n.highlight(C.textContent,n.languages[b],b))})}}});var l=RegExp(n.languages.markup.tag.pattern.source,"gi"),d={amp:"&",lt:"<",gt:">",quot:'"'},f=String.fromCodePoint||String.fromCharCode;function h(m){var b=m.replace(l,"");return b=b.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(g,w){if(w=w.toLowerCase(),w[0]==="#"){var S;return w[1]==="x"?S=parseInt(w.slice(2),16):S=Number(w.slice(1)),f(S)}else{var T=d[w];return T||g}}),b}n.languages.md=n.languages.markdown})(e)}return iO}var sO,sG;function y3e(){if(sG)return sO;sG=1,sO=t,t.displayName="matlab",t.aliases=[];function t(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}return sO}var oO,oG;function v3e(){if(oG)return oO;oG=1,oO=t,t.displayName="maxscript",t.aliases=[];function t(e){(function(n){var r=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;n.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+r.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+r.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:r,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(e)}return oO}var lO,lG;function S3e(){if(lG)return lO;lG=1,lO=t,t.displayName="mel",t.aliases=[];function t(e){e.languages.mel={comment:/\/\/.*/,code:{pattern:/`(?:\\.|[^\\`\r\n])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:/\b\w+(?=\()|\b(?:CBG|HfAddAttractorToAS|HfAssignAS|HfBuildEqualMap|HfBuildFurFiles|HfBuildFurImages|HfCancelAFR|HfConnectASToHF|HfCreateAttractor|HfDeleteAS|HfEditAS|HfPerformCreateAS|HfRemoveAttractorFromAS|HfSelectAttached|HfSelectAttractors|HfUnAssignAS|Mayatomr|about|abs|addAttr|addAttributeEditorNodeHelp|addDynamic|addNewShelfTab|addPP|addPanelCategory|addPrefixToName|advanceToNextDrivenKey|affectedNet|affects|aimConstraint|air|alias|aliasAttr|align|alignCtx|alignCurve|alignSurface|allViewFit|ambientLight|angle|angleBetween|animCone|animCurveEditor|animDisplay|animView|annotate|appendStringArray|applicationName|applyAttrPreset|applyTake|arcLenDimContext|arcLengthDimension|arclen|arrayMapper|art3dPaintCtx|artAttrCtx|artAttrPaintVertexCtx|artAttrSkinPaintCtx|artAttrTool|artBuildPaintMenu|artFluidAttrCtx|artPuttyCtx|artSelectCtx|artSetPaintCtx|artUserPaintCtx|assignCommand|assignInputDevice|assignViewportFactories|attachCurve|attachDeviceAttr|attachSurface|attrColorSliderGrp|attrCompatibility|attrControlGrp|attrEnumOptionMenu|attrEnumOptionMenuGrp|attrFieldGrp|attrFieldSliderGrp|attrNavigationControlGrp|attrPresetEditWin|attributeExists|attributeInfo|attributeMenu|attributeQuery|autoKeyframe|autoPlace|bakeClip|bakeFluidShading|bakePartialHistory|bakeResults|bakeSimulation|basename|basenameEx|batchRender|bessel|bevel|bevelPlus|binMembership|bindSkin|blend2|blendShape|blendShapeEditor|blendShapePanel|blendTwoAttr|blindDataType|boneLattice|boundary|boxDollyCtx|boxZoomCtx|bufferCurve|buildBookmarkMenu|buildKeyframeMenu|button|buttonManip|cacheFile|cacheFileCombine|cacheFileMerge|cacheFileTrack|camera|cameraView|canCreateManip|canvas|capitalizeString|catch|catchQuiet|ceil|changeSubdivComponentDisplayLevel|changeSubdivRegion|channelBox|character|characterMap|characterOutlineEditor|characterize|chdir|checkBox|checkBoxGrp|checkDefaultRenderGlobals|choice|circle|circularFillet|clamp|clear|clearCache|clip|clipEditor|clipEditorCurrentTimeCtx|clipSchedule|clipSchedulerOutliner|clipTrimBefore|closeCurve|closeSurface|cluster|cmdFileOutput|cmdScrollFieldExecuter|cmdScrollFieldReporter|cmdShell|coarsenSubdivSelectionList|collision|color|colorAtPoint|colorEditor|colorIndex|colorIndexSliderGrp|colorSliderButtonGrp|colorSliderGrp|columnLayout|commandEcho|commandLine|commandPort|compactHairSystem|componentEditor|compositingInterop|computePolysetVolume|condition|cone|confirmDialog|connectAttr|connectControl|connectDynamic|connectJoint|connectionInfo|constrain|constrainValue|constructionHistory|container|containsMultibyte|contextInfo|control|convertFromOldLayers|convertIffToPsd|convertLightmap|convertSolidTx|convertTessellation|convertUnit|copyArray|copyFlexor|copyKey|copySkinWeights|cos|cpButton|cpCache|cpClothSet|cpCollision|cpConstraint|cpConvClothToMesh|cpForces|cpGetSolverAttr|cpPanel|cpProperty|cpRigidCollisionFilter|cpSeam|cpSetEdit|cpSetSolverAttr|cpSolver|cpSolverTypes|cpTool|cpUpdateClothUVs|createDisplayLayer|createDrawCtx|createEditor|createLayeredPsdFile|createMotionField|createNewShelf|createNode|createRenderLayer|createSubdivRegion|cross|crossProduct|ctxAbort|ctxCompletion|ctxEditMode|ctxTraverse|currentCtx|currentTime|currentTimeCtx|currentUnit|curve|curveAddPtCtx|curveCVCtx|curveEPCtx|curveEditorCtx|curveIntersect|curveMoveEPCtx|curveOnSurface|curveSketchCtx|cutKey|cycleCheck|cylinder|dagPose|date|defaultLightListCheckBox|defaultNavigation|defineDataServer|defineVirtualDevice|deformer|deg_to_rad|delete|deleteAttr|deleteShadingGroupsAndMaterials|deleteShelfTab|deleteUI|deleteUnusedBrushes|delrandstr|detachCurve|detachDeviceAttr|detachSurface|deviceEditor|devicePanel|dgInfo|dgdirty|dgeval|dgtimer|dimWhen|directKeyCtx|directionalLight|dirmap|dirname|disable|disconnectAttr|disconnectJoint|diskCache|displacementToPoly|displayAffected|displayColor|displayCull|displayLevelOfDetail|displayPref|displayRGBColor|displaySmoothness|displayStats|displayString|displaySurface|distanceDimContext|distanceDimension|doBlur|dolly|dollyCtx|dopeSheetEditor|dot|dotProduct|doubleProfileBirailSurface|drag|dragAttrContext|draggerContext|dropoffLocator|duplicate|duplicateCurve|duplicateSurface|dynCache|dynControl|dynExport|dynExpression|dynGlobals|dynPaintEditor|dynParticleCtx|dynPref|dynRelEdPanel|dynRelEditor|dynamicLoad|editAttrLimits|editDisplayLayerGlobals|editDisplayLayerMembers|editRenderLayerAdjustment|editRenderLayerGlobals|editRenderLayerMembers|editor|editorTemplate|effector|emit|emitter|enableDevice|encodeString|endString|endsWith|env|equivalent|equivalentTol|erf|error|eval|evalDeferred|evalEcho|event|exactWorldBoundingBox|exclusiveLightCheckBox|exec|executeForEachObject|exists|exp|expression|expressionEditorListen|extendCurve|extendSurface|extrude|fcheck|fclose|feof|fflush|fgetline|fgetword|file|fileBrowserDialog|fileDialog|fileExtension|fileInfo|filetest|filletCurve|filter|filterCurve|filterExpand|filterStudioImport|findAllIntersections|findAnimCurves|findKeyframe|findMenuItem|findRelatedSkinCluster|finder|firstParentOf|fitBspline|flexor|floatEq|floatField|floatFieldGrp|floatScrollBar|floatSlider|floatSlider2|floatSliderButtonGrp|floatSliderGrp|floor|flow|fluidCacheInfo|fluidEmitter|fluidVoxelInfo|flushUndo|fmod|fontDialog|fopen|formLayout|format|fprint|frameLayout|fread|freeFormFillet|frewind|fromNativePath|fwrite|gamma|gauss|geometryConstraint|getApplicationVersionAsFloat|getAttr|getClassification|getDefaultBrush|getFileList|getFluidAttr|getInputDeviceRange|getMayaPanelTypes|getModifiers|getPanel|getParticleAttr|getPluginResource|getenv|getpid|glRender|glRenderEditor|globalStitch|gmatch|goal|gotoBindPose|grabColor|gradientControl|gradientControlNoAttr|graphDollyCtx|graphSelectContext|graphTrackCtx|gravity|grid|gridLayout|group|groupObjectsByName|hardenPointCurve|hardware|hardwareRenderPanel|headsUpDisplay|headsUpMessage|help|helpLine|hermite|hide|hilite|hitTest|hotBox|hotkey|hotkeyCheck|hsv_to_rgb|hudButton|hudSlider|hudSliderButton|hwReflectionMap|hwRender|hwRenderLoad|hyperGraph|hyperPanel|hyperShade|hypot|iconTextButton|iconTextCheckBox|iconTextRadioButton|iconTextRadioCollection|iconTextScrollList|iconTextStaticLabel|ikHandle|ikHandleCtx|ikHandleDisplayScale|ikSolver|ikSplineHandleCtx|ikSystem|ikSystemInfo|ikfkDisplayMethod|illustratorCurves|image|imfPlugins|inheritTransform|insertJoint|insertJointCtx|insertKeyCtx|insertKnotCurve|insertKnotSurface|instance|instanceable|instancer|intField|intFieldGrp|intScrollBar|intSlider|intSliderGrp|interToUI|internalVar|intersect|iprEngine|isAnimCurve|isConnected|isDirty|isParentOf|isSameObject|isTrue|isValidObjectName|isValidString|isValidUiName|isolateSelect|itemFilter|itemFilterAttr|itemFilterRender|itemFilterType|joint|jointCluster|jointCtx|jointDisplayScale|jointLattice|keyTangent|keyframe|keyframeOutliner|keyframeRegionCurrentTimeCtx|keyframeRegionDirectKeyCtx|keyframeRegionDollyCtx|keyframeRegionInsertKeyCtx|keyframeRegionMoveKeyCtx|keyframeRegionScaleKeyCtx|keyframeRegionSelectKeyCtx|keyframeRegionSetKeyCtx|keyframeRegionTrackCtx|keyframeStats|lassoContext|lattice|latticeDeformKeyCtx|launch|launchImageEditor|layerButton|layeredShaderPort|layeredTexturePort|layout|layoutDialog|lightList|lightListEditor|lightListPanel|lightlink|lineIntersection|linearPrecision|linstep|listAnimatable|listAttr|listCameras|listConnections|listDeviceAttachments|listHistory|listInputDeviceAxes|listInputDeviceButtons|listInputDevices|listMenuAnnotation|listNodeTypes|listPanelCategories|listRelatives|listSets|listTransforms|listUnselected|listerEditor|loadFluid|loadNewShelf|loadPlugin|loadPluginLanguageResources|loadPrefObjects|localizedPanelLabel|lockNode|loft|log|longNameOf|lookThru|ls|lsThroughFilter|lsType|lsUI|mag|makeIdentity|makeLive|makePaintable|makeRoll|makeSingleSurface|makeTubeOn|makebot|manipMoveContext|manipMoveLimitsCtx|manipOptions|manipRotateContext|manipRotateLimitsCtx|manipScaleContext|manipScaleLimitsCtx|marker|match|max|memory|menu|menuBarLayout|menuEditor|menuItem|menuItemToShelf|menuSet|menuSetPref|messageLine|min|minimizeApp|mirrorJoint|modelCurrentTimeCtx|modelEditor|modelPanel|mouse|movIn|movOut|move|moveIKtoFK|moveKeyCtx|moveVertexAlongDirection|multiProfileBirailSurface|mute|nParticle|nameCommand|nameField|namespace|namespaceInfo|newPanelItems|newton|nodeCast|nodeIconButton|nodeOutliner|nodePreset|nodeType|noise|nonLinear|normalConstraint|normalize|nurbsBoolean|nurbsCopyUVSet|nurbsCube|nurbsEditUV|nurbsPlane|nurbsSelect|nurbsSquare|nurbsToPoly|nurbsToPolygonsPref|nurbsToSubdiv|nurbsToSubdivPref|nurbsUVSet|nurbsViewDirectionVector|objExists|objectCenter|objectLayer|objectType|objectTypeUI|obsoleteProc|oceanNurbsPreviewPlane|offsetCurve|offsetCurveOnSurface|offsetSurface|openGLExtension|openMayaPref|optionMenu|optionMenuGrp|optionVar|orbit|orbitCtx|orientConstraint|outlinerEditor|outlinerPanel|overrideModifier|paintEffectsDisplay|pairBlend|palettePort|paneLayout|panel|panelConfiguration|panelHistory|paramDimContext|paramDimension|paramLocator|parent|parentConstraint|particle|particleExists|particleInstancer|particleRenderInfo|partition|pasteKey|pathAnimation|pause|pclose|percent|performanceOptions|pfxstrokes|pickWalk|picture|pixelMove|planarSrf|plane|play|playbackOptions|playblast|plugAttr|plugNode|pluginInfo|pluginResourceUtil|pointConstraint|pointCurveConstraint|pointLight|pointMatrixMult|pointOnCurve|pointOnSurface|pointPosition|poleVectorConstraint|polyAppend|polyAppendFacetCtx|polyAppendVertex|polyAutoProjection|polyAverageNormal|polyAverageVertex|polyBevel|polyBlendColor|polyBlindData|polyBoolOp|polyBridgeEdge|polyCacheMonitor|polyCheck|polyChipOff|polyClipboard|polyCloseBorder|polyCollapseEdge|polyCollapseFacet|polyColorBlindData|polyColorDel|polyColorPerVertex|polyColorSet|polyCompare|polyCone|polyCopyUV|polyCrease|polyCreaseCtx|polyCreateFacet|polyCreateFacetCtx|polyCube|polyCut|polyCutCtx|polyCylinder|polyCylindricalProjection|polyDelEdge|polyDelFacet|polyDelVertex|polyDuplicateAndConnect|polyDuplicateEdge|polyEditUV|polyEditUVShell|polyEvaluate|polyExtrudeEdge|polyExtrudeFacet|polyExtrudeVertex|polyFlipEdge|polyFlipUV|polyForceUV|polyGeoSampler|polyHelix|polyInfo|polyInstallAction|polyLayoutUV|polyListComponentConversion|polyMapCut|polyMapDel|polyMapSew|polyMapSewMove|polyMergeEdge|polyMergeEdgeCtx|polyMergeFacet|polyMergeFacetCtx|polyMergeUV|polyMergeVertex|polyMirrorFace|polyMoveEdge|polyMoveFacet|polyMoveFacetUV|polyMoveUV|polyMoveVertex|polyNormal|polyNormalPerVertex|polyNormalizeUV|polyOptUvs|polyOptions|polyOutput|polyPipe|polyPlanarProjection|polyPlane|polyPlatonicSolid|polyPoke|polyPrimitive|polyPrism|polyProjection|polyPyramid|polyQuad|polyQueryBlindData|polyReduce|polySelect|polySelectConstraint|polySelectConstraintMonitor|polySelectCtx|polySelectEditCtx|polySeparate|polySetToFaceNormal|polySewEdge|polyShortestPathCtx|polySmooth|polySoftEdge|polySphere|polySphericalProjection|polySplit|polySplitCtx|polySplitEdge|polySplitRing|polySplitVertex|polyStraightenUVBorder|polySubdivideEdge|polySubdivideFacet|polyToSubdiv|polyTorus|polyTransfer|polyTriangulate|polyUVSet|polyUnite|polyWedgeFace|popen|popupMenu|pose|pow|preloadRefEd|print|progressBar|progressWindow|projFileViewer|projectCurve|projectTangent|projectionContext|projectionManip|promptDialog|propModCtx|propMove|psdChannelOutliner|psdEditTextureFile|psdExport|psdTextureFile|putenv|pwd|python|querySubdiv|quit|rad_to_deg|radial|radioButton|radioButtonGrp|radioCollection|radioMenuItemCollection|rampColorPort|rand|randomizeFollicles|randstate|rangeControl|readTake|rebuildCurve|rebuildSurface|recordAttr|recordDevice|redo|reference|referenceEdit|referenceQuery|refineSubdivSelectionList|refresh|refreshAE|registerPluginResource|rehash|reloadImage|removeJoint|removeMultiInstance|removePanelCategory|rename|renameAttr|renameSelectionList|renameUI|render|renderGlobalsNode|renderInfo|renderLayerButton|renderLayerParent|renderLayerPostProcess|renderLayerUnparent|renderManip|renderPartition|renderQualityNode|renderSettings|renderThumbnailUpdate|renderWindowEditor|renderWindowSelectContext|renderer|reorder|reorderDeformers|requires|reroot|resampleFluid|resetAE|resetPfxToPolyCamera|resetTool|resolutionNode|retarget|reverseCurve|reverseSurface|revolve|rgb_to_hsv|rigidBody|rigidSolver|roll|rollCtx|rootOf|rot|rotate|rotationInterpolation|roundConstantRadius|rowColumnLayout|rowLayout|runTimeCommand|runup|sampleImage|saveAllShelves|saveAttrPreset|saveFluid|saveImage|saveInitialState|saveMenu|savePrefObjects|savePrefs|saveShelf|saveToolSettings|scale|scaleBrushBrightness|scaleComponents|scaleConstraint|scaleKey|scaleKeyCtx|sceneEditor|sceneUIReplacement|scmh|scriptCtx|scriptEditorInfo|scriptJob|scriptNode|scriptTable|scriptToShelf|scriptedPanel|scriptedPanelType|scrollField|scrollLayout|sculpt|searchPathArray|seed|selLoadSettings|select|selectContext|selectCurveCV|selectKey|selectKeyCtx|selectKeyframeRegionCtx|selectMode|selectPref|selectPriority|selectType|selectedNodes|selectionConnection|separator|setAttr|setAttrEnumResource|setAttrMapping|setAttrNiceNameResource|setConstraintRestPosition|setDefaultShadingGroup|setDrivenKeyframe|setDynamic|setEditCtx|setEditor|setFluidAttr|setFocus|setInfinity|setInputDeviceMapping|setKeyCtx|setKeyPath|setKeyframe|setKeyframeBlendshapeTargetWts|setMenuMode|setNodeNiceNameResource|setNodeTypeFlag|setParent|setParticleAttr|setPfxToPolyCamera|setPluginResource|setProject|setStampDensity|setStartupMessage|setState|setToolTo|setUITemplate|setXformManip|sets|shadingConnection|shadingGeometryRelCtx|shadingLightRelCtx|shadingNetworkCompare|shadingNode|shapeCompare|shelfButton|shelfLayout|shelfTabLayout|shellField|shortNameOf|showHelp|showHidden|showManipCtx|showSelectionInTitle|showShadingGroupAttrEditor|showWindow|sign|simplify|sin|singleProfileBirailSurface|size|sizeBytes|skinCluster|skinPercent|smoothCurve|smoothTangentSurface|smoothstep|snap2to2|snapKey|snapMode|snapTogetherCtx|snapshot|soft|softMod|softModCtx|sort|sound|soundControl|source|spaceLocator|sphere|sphrand|spotLight|spotLightPreviewPort|spreadSheetEditor|spring|sqrt|squareSurface|srtContext|stackTrace|startString|startsWith|stitchAndExplodeShell|stitchSurface|stitchSurfacePoints|strcmp|stringArrayCatenate|stringArrayContains|stringArrayCount|stringArrayInsertAtIndex|stringArrayIntersector|stringArrayRemove|stringArrayRemoveAtIndex|stringArrayRemoveDuplicates|stringArrayRemoveExact|stringArrayToString|stringToStringArray|strip|stripPrefixFromName|stroke|subdAutoProjection|subdCleanTopology|subdCollapse|subdDuplicateAndConnect|subdEditUV|subdListComponentConversion|subdMapCut|subdMapSewMove|subdMatchTopology|subdMirror|subdToBlind|subdToPoly|subdTransferUVsToCache|subdiv|subdivCrease|subdivDisplaySmoothness|substitute|substituteAllString|substituteGeometry|substring|surface|surfaceSampler|surfaceShaderList|swatchDisplayPort|switchTable|symbolButton|symbolCheckBox|sysFile|system|tabLayout|tan|tangentConstraint|texLatticeDeformContext|texManipContext|texMoveContext|texMoveUVShellContext|texRotateContext|texScaleContext|texSelectContext|texSelectShortestPathCtx|texSmudgeUVContext|texWinToolCtx|text|textCurves|textField|textFieldButtonGrp|textFieldGrp|textManip|textScrollList|textToShelf|textureDisplacePlane|textureHairColor|texturePlacementContext|textureWindow|threadCount|threePointArcCtx|timeControl|timePort|timerX|toNativePath|toggle|toggleAxis|toggleWindowVisibility|tokenize|tokenizeList|tolerance|tolower|toolButton|toolCollection|toolDropped|toolHasOptions|toolPropertyWindow|torus|toupper|trace|track|trackCtx|transferAttributes|transformCompare|transformLimits|translator|trim|trunc|truncateFluidCache|truncateHairCache|tumble|tumbleCtx|turbulence|twoPointArcCtx|uiRes|uiTemplate|unassignInputDevice|undo|undoInfo|ungroup|uniform|unit|unloadPlugin|untangleUV|untitledFileName|untrim|upAxis|updateAE|userCtx|uvLink|uvSnapshot|validateShelfName|vectorize|view2dToolCtx|viewCamera|viewClipPlane|viewFit|viewHeadOn|viewLookAt|viewManip|viewPlace|viewSet|visor|volumeAxis|vortex|waitCursor|warning|webBrowser|webBrowserPrefs|whatIs|window|windowPref|wire|wireContext|workspace|wrinkle|wrinkleContext|writeTake|xbmLangPathList|xform)\b/,operator:[/\+[+=]?|-[-=]?|&&|\|\||[<>]=|[*\/!=]=?|[%^]/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,:;?\[\](){}]/},e.languages.mel.code.inside.rest=e.languages.mel}return lO}var cO,cG;function E3e(){if(cG)return cO;cG=1,cO=t,t.displayName="mermaid",t.aliases=[];function t(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}return cO}var uO,uG;function _3e(){if(uG)return uO;uG=1,uO=t,t.displayName="mizar",t.aliases=[];function t(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}return uO}var dO,dG;function x3e(){if(dG)return dO;dG=1,dO=t,t.displayName="mongodb",t.aliases=[];function t(e){(function(n){var r=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],a=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];r=r.map(function(s){return s.replace("$","\\$")});var i="(?:"+r.join("|")+")\\b";n.languages.mongodb=n.languages.extend("javascript",{}),n.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+i+"(?:\\1)?$")}}}),n.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},n.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+a.join("|")+")\\b"),alias:"keyword"}})})(e)}return dO}var fO,fG;function w3e(){if(fG)return fO;fG=1,fO=t,t.displayName="monkey",t.aliases=[];function t(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}return fO}var pO,pG;function T3e(){if(pG)return pO;pG=1,pO=t,t.displayName="moonscript",t.aliases=["moon"];function t(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}return pO}var hO,hG;function C3e(){if(hG)return hO;hG=1,hO=t,t.displayName="n1ql",t.aliases=[];function t(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}return hO}var mO,mG;function R3e(){if(mG)return mO;mG=1,mO=t,t.displayName="n4js",t.aliases=["n4jsd"];function t(e){e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}return mO}var gO,gG;function A3e(){if(gG)return gO;gG=1,gO=t,t.displayName="nand2tetrisHdl",t.aliases=[];function t(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}return gO}var bO,bG;function I3e(){if(bG)return bO;bG=1,bO=t,t.displayName="naniscript",t.aliases=[];function t(e){(function(n){var r=/\{[^\r\n\[\]{}]*\}/,a={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:r,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};n.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:r,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:a}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:r,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:a},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},n.languages.nani=n.languages.naniscript,n.hooks.add("after-tokenize",function(o){var l=o.tokens;l.forEach(function(d){if(typeof d!="string"&&d.type==="generic-text"){var f=s(d);i(f)||(d.type="bad-line",d.content=f)}})});function i(o){for(var l="[]{}",d=[],f=0;f<o.length;f++){var h=o[f],m=l.indexOf(h);if(m!==-1){if(m%2===0)d.push(m+1);else if(d.pop()!==m)return!1}}return d.length===0}function s(o){return typeof o=="string"?o:Array.isArray(o)?o.map(s).join(""):s(o.content)}})(e)}return bO}var yO,yG;function k3e(){if(yG)return yO;yG=1,yO=t,t.displayName="nasm",t.aliases=[];function t(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}return yO}var vO,vG;function D3e(){if(vG)return vO;vG=1,vO=t,t.displayName="neon",t.aliases=[];function t(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"atrule"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}return vO}var SO,SG;function O3e(){if(SG)return SO;SG=1,SO=t,t.displayName="nevod",t.aliases=[];function t(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}return SO}var EO,EG;function N3e(){if(EG)return EO;EG=1,EO=t,t.displayName="nginx",t.aliases=[];function t(e){(function(n){var r=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;n.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:r}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:r}},punctuation:/[{};]/}})(e)}return EO}var _O,_G;function M3e(){if(_G)return _O;_G=1,_O=t,t.displayName="nim",t.aliases=[];function t(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}return _O}var xO,xG;function P3e(){if(xG)return xO;xG=1,xO=t,t.displayName="nix",t.aliases=[];function t(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}return xO}var wO,wG;function L3e(){if(wG)return wO;wG=1,wO=t,t.displayName="nsis",t.aliases=[];function t(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|LabelAddress|TempFileName)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}return wO}var TO,TG;function F3e(){if(TG)return TO;TG=1;var t=$d();TO=e,e.displayName="objectivec",e.aliases=["objc"];function e(n){n.register(t),n.languages.objectivec=n.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete n.languages.objectivec["class-name"],n.languages.objc=n.languages.objectivec}return TO}var CO,CG;function B3e(){if(CG)return CO;CG=1,CO=t,t.displayName="ocaml",t.aliases=[];function t(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}return CO}var RO,RG;function j3e(){if(RG)return RO;RG=1;var t=$d();RO=e,e.displayName="opencl",e.aliases=[];function e(n){n.register(t),(function(r){r.languages.opencl=r.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),r.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var a={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};r.languages.insertBefore("c","keyword",a),r.languages.cpp&&(a["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},r.languages.insertBefore("cpp","keyword",a))})(n)}return RO}var AO,AG;function U3e(){if(AG)return AO;AG=1,AO=t,t.displayName="openqasm",t.aliases=["qasm"];function t(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|||/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|s|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}return AO}var IO,IG;function z3e(){if(IG)return IO;IG=1,IO=t,t.displayName="oz",t.aliases=[];function t(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}return IO}var kO,kG;function q3e(){if(kG)return kO;kG=1,kO=t,t.displayName="parigp",t.aliases=[];function t(e){e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:(function(){var n=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return n=n.map(function(r){return r.split("").join(" *")}).join("|"),RegExp("\\b(?:"+n+")\\b")})(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}return kO}var DO,DG;function $3e(){if(DG)return DO;DG=1,DO=t,t.displayName="parser",t.aliases=[];function t(e){(function(n){var r=n.languages.parser=n.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});r=n.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:r.keyword,variable:r.variable,function:r.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:r.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:r.punctuation}}}),n.languages.insertBefore("inside","punctuation",{expression:r.expression,keyword:r.keyword,variable:r.variable,function:r.function,escape:r.escape,"parser-punctuation":{pattern:r.punctuation,alias:"punctuation"}},r.tag.inside["attr-value"])})(e)}return DO}var OO,OG;function G3e(){if(OG)return OO;OG=1,OO=t,t.displayName="pascal",t.aliases=["objectpascal"];function t(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}return OO}var NO,NG;function H3e(){if(NG)return NO;NG=1,NO=t,t.displayName="pascaligo",t.aliases=[];function t(e){(function(n){var r=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,a=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return r}),i=n.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return a}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return a}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return a})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},s=["comment","keyword","builtin","operator","punctuation"].reduce(function(o,l){return o[l]=i[l],o},{});i["class-name"].forEach(function(o){o.inside=s})})(e)}return NO}var MO,MG;function V3e(){if(MG)return MO;MG=1,MO=t,t.displayName="pcaxis",t.aliases=["px"];function t(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}return MO}var PO,PG;function W3e(){if(PG)return PO;PG=1,PO=t,t.displayName="peoplecode",t.aliases=["pcode"];function t(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}return PO}var LO,LG;function Y3e(){if(LG)return LO;LG=1,LO=t,t.displayName="perl",t.aliases=[];function t(e){(function(n){var r=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;n.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,r].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,r+/\s*/.source+r].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(e)}return LO}var FO,FG;function K3e(){if(FG)return FO;FG=1;var t=dE();FO=e,e.displayName="phpExtras",e.aliases=[];function e(n){n.register(t),n.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}return FO}var BO,BG;function X3e(){if(BG)return BO;BG=1;var t=dE(),e=uE();BO=n,n.displayName="phpdoc",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){var i=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;a.languages.phpdoc=a.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+i+"\\s+)?)\\$\\w+"),lookbehind:!0}}),a.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+i),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),a.languages.javadoclike.addSupport("php",a.languages.phpdoc)})(r)}return BO}var jO,jG;function Z3e(){if(jG)return jO;jG=1;var t=t3();jO=e,e.displayName="plsql",e.aliases=[];function e(n){n.register(t),n.languages.plsql=n.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),n.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}return jO}var UO,UG;function Q3e(){if(UG)return UO;UG=1,UO=t,t.displayName="powerquery",t.aliases=[];function t(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}return UO}var zO,zG;function J3e(){if(zG)return zO;zG=1,zO=t,t.displayName="powershell",t.aliases=[];function t(e){(function(n){var r=n.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};r.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:r},boolean:r.boolean,variable:r.variable}})(e)}return zO}var qO,qG;function eFe(){if(qG)return qO;qG=1,qO=t,t.displayName="processing",t.aliases=[];function t(e){e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}return qO}var $O,$G;function tFe(){if($G)return $O;$G=1,$O=t,t.displayName="prolog",t.aliases=[];function t(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}return $O}var GO,GG;function nFe(){if(GG)return GO;GG=1,GO=t,t.displayName="promql",t.aliases=[];function t(e){(function(n){var r=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],a=["on","ignoring","group_right","group_left","by","without"],i=["offset"],s=r.concat(a,i);n.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+a.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+s.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(e)}return GO}var HO,HG;function rFe(){if(HG)return HO;HG=1,HO=t,t.displayName="properties",t.aliases=[];function t(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,"attr-value":{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0},"attr-name":/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,punctuation:/[=:]/}}return HO}var VO,VG;function aFe(){if(VG)return VO;VG=1,VO=t,t.displayName="protobuf",t.aliases=[];function t(e){(function(n){var r=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;n.languages.protobuf=n.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),n.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:r}},builtin:r,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(e)}return VO}var WO,WG;function iFe(){if(WG)return WO;WG=1,WO=t,t.displayName="psl",t.aliases=[];function t(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}return WO}var YO,YG;function sFe(){if(YG)return YO;YG=1,YO=t,t.displayName="pug",t.aliases=[];function t(e){(function(n){n.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:n.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:n.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:n.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:n.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:n.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:n.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:n.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:n.languages.javascript}],punctuation:/[.\-!=|]+/};for(var r=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,a=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],i={},s=0,o=a.length;s<o;s++){var l=a[s];l=typeof l=="string"?{filter:l,language:l}:l,n.languages[l.language]&&(i["filter-"+l.filter]={pattern:RegExp(r.replace("<filter_name>",function(){return l.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[l.language,"language-"+l.language],inside:n.languages[l.language]}}})}n.languages.insertBefore("pug","filter",i)})(e)}return YO}var KO,KG;function oFe(){if(KG)return KO;KG=1,KO=t,t.displayName="puppet",t.aliases=[];function t(e){(function(n){n.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var r=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:n.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];n.languages.puppet.heredoc[0].inside.interpolation=r,n.languages.puppet.string.inside["double-quoted"].inside.interpolation=r})(e)}return KO}var XO,XG;function lFe(){if(XG)return XO;XG=1,XO=t,t.displayName="pure",t.aliases=[];function t(e){(function(n){n.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var r=["c",{lang:"c++",alias:"cpp"},"fortran"],a=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;r.forEach(function(i){var s=i;if(typeof i!="string"&&(s=i.alias,i=i.lang),n.languages[s]){var o={};o["inline-lang-"+s]={pattern:RegExp(a.replace("<lang>",i.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:n.util.clone(n.languages.pure["inline-lang"].inside)},o["inline-lang-"+s].inside.rest=n.util.clone(n.languages[s]),n.languages.insertBefore("pure","inline-lang",o)}}),n.languages.c&&(n.languages.pure["inline-lang"].inside.rest=n.util.clone(n.languages.c))})(e)}return XO}var ZO,ZG;function cFe(){if(ZG)return ZO;ZG=1,ZO=t,t.displayName="purebasic",t.aliases=[];function t(e){e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}return ZO}var QO,QG;function uFe(){if(QG)return QO;QG=1;var t=r3();QO=e,e.displayName="purescript",e.aliases=["purs"];function e(n){n.register(t),n.languages.purescript=n.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[n.languages.haskell.operator[0],n.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),n.languages.purs=n.languages.purescript}return QO}var JO,JG;function dFe(){if(JG)return JO;JG=1,JO=t,t.displayName="python",t.aliases=["py"];function t(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}return JO}var e2,eH;function fFe(){if(eH)return e2;eH=1,e2=t,t.displayName="q",t.aliases=[];function t(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}return e2}var t2,tH;function pFe(){if(tH)return t2;tH=1,t2=t,t.displayName="qml",t.aliases=[];function t(e){(function(n){for(var r=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,a=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,i=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return r}).replace(/<comment>/g,function(){return a}),s=0;s<2;s++)i=i.replace(/<expr>/g,function(){return i});i=i.replace(/<expr>/g,"[^\\s\\S]"),n.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return i}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:n.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return i}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:n.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(e)}return t2}var n2,nH;function hFe(){if(nH)return n2;nH=1,n2=t,t.displayName="qore",t.aliases=[];function t(e){e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}return n2}var r2,rH;function mFe(){if(rH)return r2;rH=1,r2=t,t.displayName="qsharp",t.aliases=["qs"];function t(e){(function(n){function r(g,w){return g.replace(/<<(\d+)>>/g,function(S,T){return"(?:"+w[+T]+")"})}function a(g,w,S){return RegExp(r(g,w),"")}function i(g,w){for(var S=0;S<w;S++)g=g.replace(/<<self>>/g,function(){return"(?:"+g+")"});return g.replace(/<<self>>/g,"[^\\s\\S]")}var s={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function o(g){return"\\b(?:"+g.trim().replace(/ /g,"|")+")\\b"}var l=RegExp(o(s.type+" "+s.other)),d=/\b[A-Za-z_]\w*\b/.source,f=r(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[d]),h={keyword:l,punctuation:/[<>()?,.:[\]]/},m=/"(?:\\.|[^\\"])*"/.source;n.languages.qsharp=n.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:a(/(^|[^$\\])<<0>>/.source,[m]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:a(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[f]),lookbehind:!0,inside:h},{pattern:a(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[f]),lookbehind:!0,inside:h}],keyword:l,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),n.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var b=i(r(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[m]),2);n.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:a(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[b]),greedy:!0,inside:{interpolation:{pattern:a(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[b]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:n.languages.qsharp}}},string:/[\s\S]+/}}})})(e),e.languages.qs=e.languages.qsharp}return r2}var a2,aH;function gFe(){if(aH)return a2;aH=1,a2=t,t.displayName="r",t.aliases=[];function t(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}return a2}var i2,iH;function bFe(){if(iH)return i2;iH=1;var t=o3();i2=e,e.displayName="racket",e.aliases=["rkt"];function e(n){n.register(t),n.languages.racket=n.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),n.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),n.languages.rkt=n.languages.racket}return i2}var s2,sH;function yFe(){if(sH)return s2;sH=1,s2=t,t.displayName="reason",t.aliases=[];function t(e){e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}return s2}var o2,oH;function vFe(){if(oH)return o2;oH=1,o2=t,t.displayName="regex",t.aliases=[];function t(e){(function(n){var r={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},a=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,i={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},s={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},o="(?:[^\\\\-]|"+a.source+")",l=RegExp(o+"-"+o),d={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};n.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:l,inside:{escape:a,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":r,"char-set":s,escape:a}},"special-escape":r,"char-set":i,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":d}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:a,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":d}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(e)}return o2}var l2,lH;function SFe(){if(lH)return l2;lH=1,l2=t,t.displayName="rego",t.aliases=[];function t(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}return l2}var c2,cH;function EFe(){if(cH)return c2;cH=1,c2=t,t.displayName="renpy",t.aliases=["rpy"];function t(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}return c2}var u2,uH;function _Fe(){if(uH)return u2;uH=1,u2=t,t.displayName="rest",t.aliases=[];function t(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?||\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}return u2}var d2,dH;function xFe(){if(dH)return d2;dH=1,d2=t,t.displayName="rip",t.aliases=[];function t(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}return d2}var f2,fH;function wFe(){if(fH)return f2;fH=1,f2=t,t.displayName="roboconf",t.aliases=[];function t(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}return f2}var p2,pH;function TFe(){if(pH)return p2;pH=1,p2=t,t.displayName="robotframework",t.aliases=[];function t(e){(function(n){var r={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},a={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function i(d,f){var h={};h["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var m in f)h[m]=f[m];return h.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},h.variable=a,h.comment=r,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return d}),"im"),alias:"section",inside:h}}var s={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},o={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:a}},l={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:a}};n.languages.robotframework={settings:i("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:i("Variables"),"test-cases":i("Test Cases",{"test-name":o,documentation:s,property:l}),keywords:i("Keywords",{"keyword-name":o,documentation:s,property:l}),tasks:i("Tasks",{"task-name":o,documentation:s,property:l}),comment:r},n.languages.robot=n.languages.robotframework})(e)}return p2}var h2,hH;function CFe(){if(hH)return h2;hH=1,h2=t,t.displayName="rust",t.aliases=[];function t(e){(function(n){for(var r=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,a=0;a<2;a++)r=r.replace(/<self>/g,function(){return r});r=r.replace(/<self>/g,function(){return/[^\s\S]/.source}),n.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+r),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},n.languages.rust["closure-params"].inside.rest=n.languages.rust,n.languages.rust.attribute.inside.string=n.languages.rust.string})(e)}return h2}var m2,mH;function RFe(){if(mH)return m2;mH=1,m2=t,t.displayName="sas",t.aliases=[];function t(e){(function(n){var r=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,a=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,i={pattern:RegExp(r+"[bx]"),alias:"number"},s={pattern:/&[a-z_]\w*/i},o={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},l={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},d=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],f={pattern:RegExp(r),greedy:!0},h=/[$%@.(){}\[\];,\\]/,m={pattern:/%?\b\w+(?=\()/,alias:"keyword"},b={function:m,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":s,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:a,"numeric-constant":i,punctuation:h,string:f},g={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},w={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},S={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},T={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},x=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,_={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return x}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return x}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:d,function:m,"arg-value":b["arg-value"],operator:b.operator,argument:b.arg,number:a,"numeric-constant":i,punctuation:h,string:f}},C={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};n.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return r}),"im"),alias:"language-sql",inside:n.languages.sql},"global-statements":S,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:a,"numeric-constant":i,punctuation:h,string:f}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:d,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-groovy",inside:n.languages.groovy},keyword:C,"submit-statement":T,"global-statements":S,number:a,"numeric-constant":i,punctuation:h,string:f}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:d,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,alias:"language-lua",inside:n.languages.lua},keyword:C,"submit-statement":T,"global-statements":S,number:a,"numeric-constant":i,punctuation:h,string:f}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:d,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:b}},"cas-actions":_,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:b},step:l,keyword:C,function:m,format:g,altformat:w,"global-statements":S,number:a,"numeric-constant":i,punctuation:h,string:f}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return r}),"im"),lookbehind:!0,inside:b},"macro-keyword":o,"macro-variable":s,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":o,"macro-variable":s,"escaped-char":{pattern:/%['"()<>=^~;,#]/},punctuation:h}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:d,number:a,"numeric-constant":i}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:b},"cas-actions":_,comment:d,function:m,format:g,altformat:w,"numeric-constant":i,datetime:{pattern:RegExp(r+"(?:dt?|t)"),alias:"number"},string:f,step:l,keyword:C,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:a,operator:/\*\*?|\|\|?|!!?|?|<[>=]?|>[<=]?|[-+\/=&]|[~^]=?/,punctuation:h}})(e)}return m2}var g2,gH;function AFe(){if(gH)return g2;gH=1,g2=t,t.displayName="sass",t.aliases=[];function t(e){(function(n){n.languages.sass=n.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),n.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete n.languages.sass.atrule;var r=/\$[-\w]+|#\{\$[-\w]+\}/,a=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];n.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:r,operator:a}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:r,operator:a,important:n.languages.sass.important}}}),delete n.languages.sass.property,delete n.languages.sass.important,n.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(e)}return g2}var b2,bH;function IFe(){if(bH)return b2;bH=1;var t=a3();b2=e,e.displayName="scala",e.aliases=[];function e(n){n.register(t),n.languages.scala=n.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|do|else|extends|final|finally|for|forSome|if|implicit|import|lazy|match|new|null|object|override|package|private|protected|return|sealed|self|super|this|throw|trait|try|type|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),n.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.scala}}},string:/[\s\S]+/}}}),delete n.languages.scala["class-name"],delete n.languages.scala.function}return b2}var y2,yH;function kFe(){if(yH)return y2;yH=1,y2=t,t.displayName="scss",t.aliases=[];function t(e){e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}return y2}var v2,vH;function DFe(){if(vH)return v2;vH=1;var t=iJ();v2=e,e.displayName="shellSession",e.aliases=[];function e(n){n.register(t),(function(r){var a=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");r.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return a}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:r.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},r.languages["sh-session"]=r.languages.shellsession=r.languages["shell-session"]})(n)}return v2}var S2,SH;function OFe(){if(SH)return S2;SH=1,S2=t,t.displayName="smali",t.aliases=[];function t(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}return S2}var E2,EH;function NFe(){if(EH)return E2;EH=1,E2=t,t.displayName="smalltalk",t.aliases=[];function t(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}return E2}var _2,_H;function MFe(){if(_H)return _2;_H=1;var t=$i();_2=e,e.displayName="smarty",e.aliases=[];function e(n){n.register(t),(function(r){r.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:r.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},r.languages.smarty["embedded-php"].inside.smarty.inside=r.languages.smarty,r.languages.smarty.string[0].inside.interpolation.inside.expression.inside=r.languages.smarty;var a=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,i=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return a.source}),"g");r.hooks.add("before-tokenize",function(s){var o="{literal}",l="{/literal}",d=!1;r.languages["markup-templating"].buildPlaceholders(s,"smarty",i,function(f){return f===l&&(d=!1),d?!1:(f===o&&(d=!0),!0)})}),r.hooks.add("after-tokenize",function(s){r.languages["markup-templating"].tokenizePlaceholders(s,"smarty")})})(n)}return _2}var x2,xH;function PFe(){if(xH)return x2;xH=1,x2=t,t.displayName="sml",t.aliases=["smlnj"];function t(e){(function(n){var r=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;n.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return r.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:r,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},n.languages.sml["class-name"][0].inside=n.languages.sml,n.languages.smlnj=n.languages.sml})(e)}return x2}var w2,wH;function LFe(){if(wH)return w2;wH=1,w2=t,t.displayName="solidity",t.aliases=["sol"];function t(e){e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}return w2}var T2,TH;function FFe(){if(TH)return T2;TH=1,T2=t,t.displayName="solutionFile",t.aliases=[];function t(e){(function(n){var r={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};n.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:r}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:r}},guid:r,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},n.languages.sln=n.languages["solution-file"]})(e)}return T2}var C2,CH;function BFe(){if(CH)return C2;CH=1;var t=$i();C2=e,e.displayName="soy",e.aliases=[];function e(n){n.register(t),(function(r){var a=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,i=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;r.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:a,greedy:!0},number:i,punctuation:/[\[\].?]/}},string:{pattern:a,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:i,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},r.hooks.add("before-tokenize",function(s){var o=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,l="{literal}",d="{/literal}",f=!1;r.languages["markup-templating"].buildPlaceholders(s,"soy",o,function(h){return h===d&&(f=!1),f?!1:(h===l&&(f=!0),!0)})}),r.hooks.add("after-tokenize",function(s){r.languages["markup-templating"].tokenizePlaceholders(s,"soy")})})(n)}return C2}var R2,RH;function cJ(){if(RH)return R2;RH=1,R2=t,t.displayName="turtle",t.aliases=[];function t(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}return R2}var A2,AH;function jFe(){if(AH)return A2;AH=1;var t=cJ();A2=e,e.displayName="sparql",e.aliases=["rq"];function e(n){n.register(t),n.languages.sparql=n.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),n.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),n.languages.rq=n.languages.sparql}return A2}var I2,IH;function UFe(){if(IH)return I2;IH=1,I2=t,t.displayName="splunkSpl",t.aliases=[];function t(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}return I2}var k2,kH;function zFe(){if(kH)return k2;kH=1,k2=t,t.displayName="sqf",t.aliases=[];function t(e){e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}return k2}var D2,DH;function qFe(){if(DH)return D2;DH=1,D2=t,t.displayName="squirrel",t.aliases=[];function t(e){e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}return D2}var O2,OH;function $Fe(){if(OH)return O2;OH=1,O2=t,t.displayName="stan",t.aliases=[];function t(e){(function(n){var r=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;n.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+r.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,r],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},n.languages.stan.constraint.inside.expression.inside=n.languages.stan})(e)}return O2}var N2,NH;function GFe(){if(NH)return N2;NH=1,N2=t,t.displayName="stylus",t.aliases=[];function t(e){(function(n){var r={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},a={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},i={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:r,number:a,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:r,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:a,punctuation:/[{}()\[\];:,]/};i.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:i}},i.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:i}},n.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:i}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:i}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:i}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:i.interpolation}},rest:i}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:i.interpolation,comment:i.comment,punctuation:/[{},]/}},func:i.func,string:i.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:i.interpolation,punctuation:/[{}()\[\];:.]/}})(e)}return N2}var M2,MH;function HFe(){if(MH)return M2;MH=1,M2=t,t.displayName="swift",t.aliases=[];function t(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(n){n.inside.interpolation.inside=e.languages.swift})}return M2}var P2,PH;function VFe(){if(PH)return P2;PH=1,P2=t,t.displayName="systemd",t.aliases=[];function t(e){(function(n){var r={pattern:/^[;#].*/m,greedy:!0},a=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;n.languages.systemd={comment:r,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+a+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+a+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:r,quoted:{pattern:RegExp(/(^|\s)/.source+a),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(e)}return P2}var L2,LH;function l3(){if(LH)return L2;LH=1,L2=t,t.displayName="t4Templating",t.aliases=[];function t(e){(function(n){function r(i,s,o){return{pattern:RegExp("<#"+i+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+i+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:s,alias:o}}}}function a(i){var s=n.languages[i],o="language-"+i;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:r("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:r("=",s,o),"class-feature":r("\\+",s,o),standard:r("",s,o)}}}}n.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:a})})(e)}return L2}var F2,FH;function WFe(){if(FH)return F2;FH=1;var t=l3(),e=lE();F2=n,n.displayName="t4Cs",n.aliases=[];function n(r){r.register(t),r.register(e),r.languages.t4=r.languages["t4-cs"]=r.languages["t4-templating"].createT4("csharp")}return F2}var B2,BH;function uJ(){if(BH)return B2;BH=1;var t=sJ();B2=e,e.displayName="vbnet",e.aliases=[];function e(n){n.register(t),n.languages.vbnet=n.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}return B2}var j2,jH;function YFe(){if(jH)return j2;jH=1;var t=l3(),e=uJ();j2=n,n.displayName="t4Vb",n.aliases=[];function n(r){r.register(t),r.register(e),r.languages["t4-vb"]=r.languages["t4-templating"].createT4("vbnet")}return j2}var U2,UH;function dJ(){if(UH)return U2;UH=1,U2=t,t.displayName="yaml",t.aliases=["yml"];function t(e){(function(n){var r=/[*&][^\s[\]{},]+/,a=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,i="(?:"+a.source+"(?:[ 	]+"+r.source+")?|"+r.source+"(?:[ 	]+"+a.source+")?)",s=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(d,f){f=(f||"").replace(/m/g,"")+"m";var h=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<value>>/g,function(){return d});return RegExp(h,f)}n.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return i})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<key>>/g,function(){return"(?:"+s+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(o),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:a,important:r,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},n.languages.yml=n.languages.yaml})(e)}return U2}var z2,zH;function KFe(){if(zH)return z2;zH=1;var t=dJ();z2=e,e.displayName="tap",e.aliases=[];function e(n){n.register(t),n.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:n.languages.yaml,alias:"language-yaml"}}}return z2}var q2,qH;function XFe(){if(qH)return q2;qH=1,q2=t,t.displayName="tcl",t.aliases=[];function t(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}return q2}var $2,$H;function ZFe(){if($H)return $2;$H=1,$2=t,t.displayName="textile",t.aliases=[];function t(e){(function(n){var r=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,a=/\)|\((?![^|()\n]+\))/.source;function i(m,b){return RegExp(m.replace(/<MOD>/g,function(){return"(?:"+r+")"}).replace(/<PAR>/g,function(){return"(?:"+a+")"}),b||"")}var s={css:{pattern:/\{[^{}]+\}/,inside:{rest:n.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},o=n.languages.textile=n.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:i(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:i(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:s},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:i(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:i(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:s},punctuation:/^[*#]+/}},table:{pattern:i(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:i(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:s},punctuation:/\||^\./}},inline:{pattern:i(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:i(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:i(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:i(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:i(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:i(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:i(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:i(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:i(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:s},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:i(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:i(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:i(/(^")<MOD>+/.source),lookbehind:!0,inside:s},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:i(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:i(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:i(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:s},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),l=o.phrase.inside,d={inline:l.inline,link:l.link,image:l.image,footnote:l.footnote,acronym:l.acronym,mark:l.mark};o.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var f=l.inline.inside;f.bold.inside=d,f.italic.inside=d,f.inserted.inside=d,f.deleted.inside=d,f.span.inside=d;var h=l.table.inside;h.inline=d.inline,h.link=d.link,h.image=d.image,h.footnote=d.footnote,h.acronym=d.acronym,h.mark=d.mark})(e)}return $2}var G2,GH;function QFe(){if(GH)return G2;GH=1,G2=t,t.displayName="toml",t.aliases=[];function t(e){(function(n){var r=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function a(i){return i.replace(/__/g,function(){return r})}n.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(a(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(a(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(e)}return G2}var H2,HH;function JFe(){if(HH)return H2;HH=1,H2=t,t.displayName="tremor",t.aliases=[];function t(e){(function(n){n.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var r=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;n.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+r+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+r+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(r),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.tremor}}},string:/[\s\S]+/}},n.languages.troy=n.languages.tremor,n.languages.trickle=n.languages.tremor})(e)}return H2}var V2,VH;function e4e(){if(VH)return V2;VH=1;var t=lJ(),e=i3();V2=n,n.displayName="tsx",n.aliases=[];function n(r){r.register(t),r.register(e),(function(a){var i=a.util.clone(a.languages.typescript);a.languages.tsx=a.languages.extend("jsx",i),delete a.languages.tsx.parameter,delete a.languages.tsx["literal-property"];var s=a.languages.tsx.tag;s.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+s.pattern.source+")",s.pattern.flags),s.lookbehind=!0})(r)}return V2}var W2,WH;function t4e(){if(WH)return W2;WH=1;var t=$i();W2=e,e.displayName="tt2",e.aliases=[];function e(n){n.register(t),(function(r){r.languages.tt2=r.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),r.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),r.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),r.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete r.languages.tt2.string,r.hooks.add("before-tokenize",function(a){var i=/\[%[\s\S]+?%\]/g;r.languages["markup-templating"].buildPlaceholders(a,"tt2",i)}),r.hooks.add("after-tokenize",function(a){r.languages["markup-templating"].tokenizePlaceholders(a,"tt2")})})(n)}return W2}var Y2,YH;function n4e(){if(YH)return Y2;YH=1;var t=$i();Y2=e,e.displayName="twig",e.aliases=[];function e(n){n.register(t),n.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},n.hooks.add("before-tokenize",function(r){if(r.language==="twig"){var a=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;n.languages["markup-templating"].buildPlaceholders(r,"twig",a)}}),n.hooks.add("after-tokenize",function(r){n.languages["markup-templating"].tokenizePlaceholders(r,"twig")})}return Y2}var K2,KH;function r4e(){if(KH)return K2;KH=1,K2=t,t.displayName="typoscript",t.aliases=["tsconfig"];function t(e){(function(n){var r=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;n.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:r}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:r,number:/^\d+$/,punctuation:/[,|:]/}},keyword:r,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},n.languages.tsconfig=n.languages.typoscript})(e)}return K2}var X2,XH;function a4e(){if(XH)return X2;XH=1,X2=t,t.displayName="unrealscript",t.aliases=["uc","uscript"];function t(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}return X2}var Z2,ZH;function i4e(){if(ZH)return Z2;ZH=1,Z2=t,t.displayName="uorazor",t.aliases=[];function t(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}return Z2}var Q2,QH;function s4e(){if(QH)return Q2;QH=1,Q2=t,t.displayName="uri",t.aliases=["url"];function t(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}return Q2}var J2,JH;function o4e(){if(JH)return J2;JH=1,J2=t,t.displayName="v",t.aliases=[];function t(e){(function(n){var r={pattern:/[\s\S]+/,inside:null};n.languages.v=n.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":r}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),r.inside=n.languages.v,n.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),n.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),n.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:n.languages.v.generic.inside}}}})})(e)}return J2}var eN,eV;function l4e(){if(eV)return eN;eV=1,eN=t,t.displayName="vala",t.aliases=[];function t(e){e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}return eN}var tN,tV;function c4e(){if(tV)return tN;tV=1,tN=t,t.displayName="velocity",t.aliases=[];function t(e){(function(n){n.languages.velocity=n.languages.extend("markup",{});var r={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};r.variable.inside={string:r.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:r.number,boolean:r.boolean,punctuation:r.punctuation},n.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:r}},variable:r.variable}),n.languages.velocity.tag.inside["attr-value"].inside.rest=n.languages.velocity})(e)}return tN}var nN,nV;function u4e(){if(nV)return nN;nV=1,nN=t,t.displayName="verilog",t.aliases=[];function t(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}return nN}var rN,rV;function d4e(){if(rV)return rN;rV=1,rN=t,t.displayName="vhdl",t.aliases=[];function t(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,constant:/\b(?:library|use)\b/i,keyword:/\b(?:'active|'ascending|'base|'delayed|'driving|'driving_value|'event|'high|'image|'instance_name|'last_active|'last_event|'last_value|'left|'leftof|'length|'low|'path_name|'pos|'pred|'quiet|'range|'reverse_range|'right|'rightof|'simple_name|'stable|'succ|'transaction|'val|'value|access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}return rN}var aN,aV;function f4e(){if(aV)return aN;aV=1,aN=t,t.displayName="vim",t.aliases=[];function t(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}return aN}var iN,iV;function p4e(){if(iV)return iN;iV=1,iN=t,t.displayName="visualBasic",t.aliases=[];function t(e){e.languages["visual-basic"]={comment:{pattern:/(?:[']|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["](?:["]{2}|[^"])*["]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}return iN}var sN,sV;function h4e(){if(sV)return sN;sV=1,sN=t,t.displayName="warpscript",t.aliases=[];function t(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}return sN}var oN,oV;function m4e(){if(oV)return oN;oV=1,oN=t,t.displayName="wasm",t.aliases=[];function t(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}return oN}var lN,lV;function g4e(){if(lV)return lN;lV=1,lN=t,t.displayName="webIdl",t.aliases=[];function t(e){(function(n){var r=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,a="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+r+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,i={};n.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+r),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:i},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+a),lookbehind:!0,inside:i},{pattern:RegExp("("+/\bcallback\s+/.source+r+/\s*=\s*/.source+")"+a),lookbehind:!0,inside:i},{pattern:RegExp(/(\btypedef\b\s*)/.source+a),lookbehind:!0,inside:i},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+r),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+r),lookbehind:!0},RegExp(r+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+r),lookbehind:!0},{pattern:RegExp(a+"(?="+/\s*(?:\.{3}\s*)?/.source+r+/\s*[(),;=]/.source+")"),inside:i}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var s in n.languages["web-idl"])s!=="class-name"&&(i[s]=n.languages["web-idl"][s]);n.languages.webidl=n.languages["web-idl"]})(e)}return lN}var cN,cV;function b4e(){if(cV)return cN;cV=1,cN=t,t.displayName="wiki",t.aliases=[];function t(e){e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}return cN}var uN,uV;function y4e(){if(uV)return uN;uV=1,uN=t,t.displayName="wolfram",t.aliases=["mathematica","wl","nb"];function t(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\^|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}return uN}var dN,dV;function v4e(){if(dV)return dN;dV=1,dN=t,t.displayName="wren",t.aliases=[];function t(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}return dN}var fN,fV;function S4e(){if(fV)return fN;fV=1,fN=t,t.displayName="xeora",t.aliases=["xeoracube"];function t(e){(function(n){n.languages.xeora=n.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),n.languages.insertBefore("inside","punctuation",{variable:n.languages.xeora["function-inline"].inside.variable},n.languages.xeora["function-block"]),n.languages.xeoracube=n.languages.xeora})(e)}return fN}var pN,pV;function E4e(){if(pV)return pN;pV=1,pN=t,t.displayName="xmlDoc",t.aliases=[];function t(e){(function(n){function r(o,l){n.languages[o]&&n.languages.insertBefore(o,"comment",{"doc-comment":l})}var a=n.languages.markup.tag,i={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:a}},s={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:a}};r("csharp",i),r("fsharp",i),r("vbnet",s)})(e)}return pN}var hN,hV;function _4e(){if(hV)return hN;hV=1,hN=t,t.displayName="xojo",t.aliases=[];function t(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}return hN}var mN,mV;function x4e(){if(mV)return mN;mV=1,mN=t,t.displayName="xquery",t.aliases=[];function t(e){(function(n){n.languages.xquery=n.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),n.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,n.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,n.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,n.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:n.languages.xquery,alias:"language-xquery"};var r=function(i){return typeof i=="string"?i:typeof i.content=="string"?i.content:i.content.map(r).join("")},a=function(i){for(var s=[],o=0;o<i.length;o++){var l=i[o],d=!1;if(typeof l!="string"&&(l.type==="tag"&&l.content[0]&&l.content[0].type==="tag"?l.content[0].content[0].content==="</"?s.length>0&&s[s.length-1].tagName===r(l.content[0].content[1])&&s.pop():l.content[l.content.length-1].content==="/>"||s.push({tagName:r(l.content[0].content[1]),openedBraces:0}):s.length>0&&l.type==="punctuation"&&l.content==="{"&&(!i[o+1]||i[o+1].type!=="punctuation"||i[o+1].content!=="{")&&(!i[o-1]||i[o-1].type!=="plain-text"||i[o-1].content!=="{")?s[s.length-1].openedBraces++:s.length>0&&s[s.length-1].openedBraces>0&&l.type==="punctuation"&&l.content==="}"?s[s.length-1].openedBraces--:l.type!=="comment"&&(d=!0)),(d||typeof l=="string")&&s.length>0&&s[s.length-1].openedBraces===0){var f=r(l);o<i.length-1&&(typeof i[o+1]=="string"||i[o+1].type==="plain-text")&&(f+=r(i[o+1]),i.splice(o+1,1)),o>0&&(typeof i[o-1]=="string"||i[o-1].type==="plain-text")&&(f=r(i[o-1])+f,i.splice(o-1,1),o--),/^\s+$/.test(f)?i[o]=f:i[o]=new n.Token("plain-text",f,null,f)}l.content&&typeof l.content!="string"&&a(l.content)}};n.hooks.add("after-tokenize",function(i){i.language==="xquery"&&a(i.tokens)})})(e)}return mN}var gN,gV;function w4e(){if(gV)return gN;gV=1,gN=t,t.displayName="yang",t.aliases=[];function t(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}return gN}var bN,bV;function T4e(){if(bV)return bN;bV=1,bN=t,t.displayName="zig",t.aliases=[];function t(e){(function(n){function r(f){return function(){return f}}var a=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,i="\\b(?!"+a.source+")(?!\\d)\\w+\\b",s=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,o=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,r(s)),l=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,r(i)),d="(?!\\s)(?:!?\\s*(?:"+o+"\\s*)*"+l+")+";n.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,r(d)).replace(/<ALIGN>/g,r(s))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,r(d)).replace(/<ALIGN>/g,r(s))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:a,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},n.languages.zig["class-name"].forEach(function(f){f.inside===null&&(f.inside=n.languages.zig)})})(e)}return bN}var yN,yV;function C4e(){if(yV)return yN;yV=1;var t=qMe();return yN=t,t.register(GMe()),t.register(HMe()),t.register(VMe()),t.register(WMe()),t.register(YMe()),t.register(KMe()),t.register(XMe()),t.register(ZMe()),t.register(QMe()),t.register(JMe()),t.register(ePe()),t.register(tPe()),t.register(nPe()),t.register(rPe()),t.register(aPe()),t.register(iPe()),t.register(sPe()),t.register(oPe()),t.register(lPe()),t.register(cPe()),t.register(uPe()),t.register(dPe()),t.register(iJ()),t.register(sJ()),t.register(fPe()),t.register(pPe()),t.register(hPe()),t.register(mPe()),t.register(gPe()),t.register(bPe()),t.register(yPe()),t.register(vPe()),t.register(SPe()),t.register(EPe()),t.register($d()),t.register(_Pe()),t.register(xPe()),t.register(wPe()),t.register(TPe()),t.register(CPe()),t.register(RPe()),t.register(APe()),t.register(IPe()),t.register(kPe()),t.register(n3()),t.register(DPe()),t.register(lE()),t.register(OPe()),t.register(NPe()),t.register(MPe()),t.register(PPe()),t.register(LPe()),t.register(FPe()),t.register(BPe()),t.register(jPe()),t.register(UPe()),t.register(zPe()),t.register(qPe()),t.register($Pe()),t.register(GPe()),t.register(HPe()),t.register(VPe()),t.register(WPe()),t.register(YPe()),t.register(KPe()),t.register(XPe()),t.register(ZPe()),t.register(QPe()),t.register(JPe()),t.register(eLe()),t.register(tLe()),t.register(nLe()),t.register(rLe()),t.register(aLe()),t.register(iLe()),t.register(sLe()),t.register(oLe()),t.register(lLe()),t.register(cLe()),t.register(uLe()),t.register(dLe()),t.register(fLe()),t.register(pLe()),t.register(hLe()),t.register(mLe()),t.register(gLe()),t.register(bLe()),t.register(yLe()),t.register(vLe()),t.register(SLe()),t.register(ELe()),t.register(_Le()),t.register(xLe()),t.register(wLe()),t.register(r3()),t.register(TLe()),t.register(CLe()),t.register(RLe()),t.register(ALe()),t.register(ILe()),t.register(kLe()),t.register(DLe()),t.register(OLe()),t.register(NLe()),t.register(MLe()),t.register(PLe()),t.register(LLe()),t.register(FLe()),t.register(BLe()),t.register(jLe()),t.register(ULe()),t.register(zLe()),t.register(a3()),t.register(qLe()),t.register(uE()),t.register($Le()),t.register(GLe()),t.register(HLe()),t.register(VLe()),t.register(WLe()),t.register(YLe()),t.register(KLe()),t.register(s3()),t.register(XLe()),t.register(ZLe()),t.register(QLe()),t.register(lJ()),t.register(JLe()),t.register(e3e()),t.register(t3e()),t.register(n3e()),t.register(r3e()),t.register(a3e()),t.register(i3e()),t.register(s3e()),t.register(o3e()),t.register(l3e()),t.register(c3e()),t.register(u3e()),t.register(d3e()),t.register(f3e()),t.register(p3e()),t.register(h3e()),t.register(oJ()),t.register(m3e()),t.register(g3e()),t.register(b3e()),t.register($i()),t.register(y3e()),t.register(v3e()),t.register(S3e()),t.register(E3e()),t.register(_3e()),t.register(x3e()),t.register(w3e()),t.register(T3e()),t.register(C3e()),t.register(R3e()),t.register(A3e()),t.register(I3e()),t.register(k3e()),t.register(D3e()),t.register(O3e()),t.register(N3e()),t.register(M3e()),t.register(P3e()),t.register(L3e()),t.register(F3e()),t.register(B3e()),t.register(j3e()),t.register(U3e()),t.register(z3e()),t.register(q3e()),t.register($3e()),t.register(G3e()),t.register(H3e()),t.register(V3e()),t.register(W3e()),t.register(Y3e()),t.register(K3e()),t.register(dE()),t.register(X3e()),t.register(Z3e()),t.register(Q3e()),t.register(J3e()),t.register(eFe()),t.register(tFe()),t.register(nFe()),t.register(rFe()),t.register(aFe()),t.register(iFe()),t.register(sFe()),t.register(oFe()),t.register(lFe()),t.register(cFe()),t.register(uFe()),t.register(dFe()),t.register(fFe()),t.register(pFe()),t.register(hFe()),t.register(mFe()),t.register(gFe()),t.register(bFe()),t.register(yFe()),t.register(vFe()),t.register(SFe()),t.register(EFe()),t.register(_Fe()),t.register(xFe()),t.register(wFe()),t.register(TFe()),t.register(cE()),t.register(CFe()),t.register(RFe()),t.register(AFe()),t.register(IFe()),t.register(o3()),t.register(kFe()),t.register(DFe()),t.register(OFe()),t.register(NFe()),t.register(MFe()),t.register(PFe()),t.register(LFe()),t.register(FFe()),t.register(BFe()),t.register(jFe()),t.register(UFe()),t.register(zFe()),t.register(t3()),t.register(qFe()),t.register($Fe()),t.register(GFe()),t.register(HFe()),t.register(VFe()),t.register(WFe()),t.register(l3()),t.register(YFe()),t.register(KFe()),t.register(XFe()),t.register(ZFe()),t.register(QFe()),t.register(JFe()),t.register(e4e()),t.register(t4e()),t.register(cJ()),t.register(n4e()),t.register(i3()),t.register(r4e()),t.register(a4e()),t.register(i4e()),t.register(s4e()),t.register(o4e()),t.register(l4e()),t.register(uJ()),t.register(c4e()),t.register(u4e()),t.register(d4e()),t.register(f4e()),t.register(p4e()),t.register(h4e()),t.register(m4e()),t.register(g4e()),t.register(b4e()),t.register(y4e()),t.register(v4e()),t.register(S4e()),t.register(E4e()),t.register(_4e()),t.register(x4e()),t.register(dJ()),t.register(w4e()),t.register(T4e()),yN}var R4e=C4e();const A4e=Tn(R4e);var fJ=h2e(A4e,$Me);fJ.supportedLanguages=m2e;const I4e={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}},k4e={'code[class*="language-"]':{background:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'code[class*="language-"] *::-moz-selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'code[class*="language-"]::selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'code[class*="language-"] *::selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},'pre[class*="language-"] *::selection':{background:"hsl(230, 1%, 90%)",color:"inherit"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(230, 4%, 64%)",fontStyle:"italic"},prolog:{color:"hsl(230, 4%, 64%)"},cdata:{color:"hsl(230, 4%, 64%)"},doctype:{color:"hsl(230, 8%, 24%)"},punctuation:{color:"hsl(230, 8%, 24%)"},entity:{color:"hsl(230, 8%, 24%)",cursor:"help"},"attr-name":{color:"hsl(35, 99%, 36%)"},"class-name":{color:"hsl(35, 99%, 36%)"},boolean:{color:"hsl(35, 99%, 36%)"},constant:{color:"hsl(35, 99%, 36%)"},number:{color:"hsl(35, 99%, 36%)"},atrule:{color:"hsl(35, 99%, 36%)"},keyword:{color:"hsl(301, 63%, 40%)"},property:{color:"hsl(5, 74%, 59%)"},tag:{color:"hsl(5, 74%, 59%)"},symbol:{color:"hsl(5, 74%, 59%)"},deleted:{color:"hsl(5, 74%, 59%)"},important:{color:"hsl(5, 74%, 59%)"},selector:{color:"hsl(119, 34%, 47%)"},string:{color:"hsl(119, 34%, 47%)"},char:{color:"hsl(119, 34%, 47%)"},builtin:{color:"hsl(119, 34%, 47%)"},inserted:{color:"hsl(119, 34%, 47%)"},regex:{color:"hsl(119, 34%, 47%)"},"attr-value":{color:"hsl(119, 34%, 47%)"},"attr-value > .token.punctuation":{color:"hsl(119, 34%, 47%)"},variable:{color:"hsl(221, 87%, 60%)"},operator:{color:"hsl(221, 87%, 60%)"},function:{color:"hsl(221, 87%, 60%)"},url:{color:"hsl(198, 99%, 37%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(230, 8%, 24%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(230, 8%, 24%)"},".language-css .token.selector":{color:"hsl(5, 74%, 59%)"},".language-css .token.property":{color:"hsl(230, 8%, 24%)"},".language-css .token.function":{color:"hsl(198, 99%, 37%)"},".language-css .token.url > .token.function":{color:"hsl(198, 99%, 37%)"},".language-css .token.url > .token.string.url":{color:"hsl(119, 34%, 47%)"},".language-css .token.important":{color:"hsl(301, 63%, 40%)"},".language-css .token.atrule .token.rule":{color:"hsl(301, 63%, 40%)"},".language-javascript .token.operator":{color:"hsl(301, 63%, 40%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(344, 84%, 43%)"},".language-json .token.operator":{color:"hsl(230, 8%, 24%)"},".language-json .token.null.keyword":{color:"hsl(35, 99%, 36%)"},".language-markdown .token.url":{color:"hsl(230, 8%, 24%)"},".language-markdown .token.url > .token.operator":{color:"hsl(230, 8%, 24%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(230, 8%, 24%)"},".language-markdown .token.url > .token.content":{color:"hsl(221, 87%, 60%)"},".language-markdown .token.url > .token.url":{color:"hsl(198, 99%, 37%)"},".language-markdown .token.url-reference.url":{color:"hsl(198, 99%, 37%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(230, 4%, 64%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(230, 4%, 64%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(119, 34%, 47%)"},".language-markdown .token.bold .token.content":{color:"hsl(35, 99%, 36%)"},".language-markdown .token.italic .token.content":{color:"hsl(301, 63%, 40%)"},".language-markdown .token.strike .token.content":{color:"hsl(5, 74%, 59%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(5, 74%, 59%)"},".language-markdown .token.list.punctuation":{color:"hsl(5, 74%, 59%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(5, 74%, 59%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(230, 8%, 24%, 0.2)"},"token.cr:before":{color:"hsla(230, 8%, 24%, 0.2)"},"token.lf:before":{color:"hsla(230, 8%, 24%, 0.2)"},"token.space:before":{color:"hsla(230, 8%, 24%, 0.2)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 6%, 44%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 6%, 44%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 6%, 44%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(230, 1%, 78%)",color:"hsl(230, 8%, 24%)"},".line-highlight.line-highlight":{background:"hsla(230, 8%, 24%, 0.05)"},".line-highlight.line-highlight:before":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 8%, 24%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(230, 1%, 90%)",color:"hsl(230, 8%, 24%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(230, 8%, 24%, 0.05)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(230, 8%, 24%, 0.2)"},".command-line .command-line-prompt":{borderRightColor:"hsla(230, 8%, 24%, 0.2)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(230, 1%, 62%)"},".command-line .command-line-prompt > span:before":{color:"hsl(230, 1%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(5, 74%, 59%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(5, 74%, 59%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(5, 74%, 59%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(119, 34%, 47%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(119, 34%, 47%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(119, 34%, 47%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(221, 87%, 60%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(221, 87%, 60%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(221, 87%, 60%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(301, 63%, 40%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(301, 63%, 40%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(301, 63%, 40%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(0, 0, 95%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(0, 0, 95%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(0, 0, 95%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(0, 0, 95%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(0, 0%, 100%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(0, 0%, 100%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(0, 0%, 100%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(230, 8%, 24%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(230, 8%, 24%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(230, 8%, 24%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(230, 8%, 24%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(230, 8%, 24%)"}},D4e=({open:t,onClose:e})=>{const{roomId:n}=t1(),r=J(s=>s.user?.email??null),{mode:a}=zp(),i=()=>{const s=`from zndraw import ZnDraw

vis = ZnDraw(
  url="${window.location.origin}/",
  room="${n}",
  user="${r}"
)`;navigator.clipboard.writeText(s)};return y.jsxs(yi,{open:t,onClose:e,maxWidth:"sm",fullWidth:!0,children:[y.jsx(Ui,{children:"Connect to this ZnDraw session"}),y.jsxs(vi,{children:[y.jsx(Ve,{variant:"body2",sx:{mb:2},children:"You can connect a Python kernel to this ZnDraw session using:"}),y.jsxs(Re,{sx:{position:"relative"},children:[y.jsx(fJ,{language:"python",style:a==="dark"?I4e:k4e,customStyle:{margin:0,borderRadius:"4px"},children:`from zndraw import ZnDraw

vis = ZnDraw(
  url="${window.location.origin}/",
  room="${n}",
  user="${r}"
)`}),y.jsx(xt,{startIcon:y.jsx(LM,{}),onClick:i,sx:{mt:1},variant:"outlined",size:"small",children:"Copy to clipboard"})]})]})]})};function pJ({isDragging:t}){return t?y.jsx(Re,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(4px)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:y.jsxs(pa,{elevation:8,sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",gap:2,bgcolor:"background.paper",border:2,borderColor:"primary.main",borderStyle:"dashed",borderRadius:2},children:[y.jsx(Mre,{sx:{fontSize:64,color:"primary.main"}}),y.jsx(Ve,{variant:"h4",component:"div",children:"Drop file to upload"}),y.jsx(Ve,{variant:"body2",color:"text.secondary",children:"Supported formats: XYZ, PDB, CIF, H5MD, and more"})]})}):null}function O4e(){const t=J(s=>s.progressTrackers),e=J(s=>s.roomId),[n,r]=N.useState(new Set),a=Object.values(t).filter(s=>!n.has(s.progressId)&&s.roomId===e),i=s=>{r(o=>new Set(o).add(s))};return a.length===0?null:y.jsx(Re,{sx:{position:"fixed",bottom:Ta.PROGRESSBAR_HEIGHT+24,right:24,zIndex:s=>s.zIndex.drawer+2,display:"flex",flexDirection:"column",gap:1,maxWidth:400},children:a.map(s=>y.jsx(ru,{in:!0,children:y.jsxs(pa,{elevation:8,sx:{p:2,display:"flex",flexDirection:"column",gap:1.5,minWidth:320,position:"relative"},children:[y.jsx(Ct,{size:"small",onClick:()=>i(s.progressId),sx:{position:"absolute",top:8,right:8,opacity:.6,"&:hover":{opacity:1}},children:y.jsx(n1,{fontSize:"small"})}),y.jsx(Re,{sx:{pr:4},children:y.jsx(Ve,{variant:"body1",fontWeight:600,children:s.description})}),s.progress!==null?y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[y.jsx(Pre,{variant:"determinate",value:s.progress,sx:{height:6,borderRadius:3}}),y.jsxs(Ve,{variant:"caption",color:"text.secondary",textAlign:"right",children:[Math.round(s.progress),"%"]})]}):y.jsxs(Re,{sx:{display:"flex",alignItems:"center",gap:2},children:[y.jsx(Ca,{size:24}),y.jsx(Ve,{variant:"caption",color:"text.secondary",children:"In progress..."})]})]})},s.progressId))})}const N4e=N.lazy(()=>JS(()=>import("./FigureWindow-D8rnH4uE.js"),__vite__mapDeps([6,1,2,7,4,3])));function M4e(){const t=pd(IV(e=>Object.keys(e.openWindows)));return t.length===0?null:y.jsx(N.Suspense,{fallback:y.jsx(Re,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999},children:y.jsx(Ca,{})}),children:t.map(e=>y.jsx(N4e,{windowId:e},e))})}const hJ=".xyz,.extxyz,.pdb,.cif,.h5,.h5md,.hdf5,.gro,.mol,.sdf,.db,.json,.traj,.nc,.car,.xsf,.cube,.vasp,.poscar,.contcar,.xdatcar,.outcar,.xml,.pwi,.pwo,.out,.castep,.cell,.geom,.md,.gjf,.com,.log,.arc,.dmol";function P4e(t,e){const n=`screenshot_${Date.now()}.png`,r=URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=n,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)}const L4e=Q.lazy(()=>JS(()=>import("./ChatWindow-1yrxZ77x.js"),__vite__mapDeps([1,2,7,3,8])));function vV(){const{roomId:t}=t1(),e=J(ce=>ce.setRoomId);Up(),N.useEffect(()=>{t&&e(t)},[t,e]),WQ({roomId:t}),qOe();const n=J(ce=>ce.chatOpen),r=J(ce=>ce.setChatOpen),a=J(ce=>ce.mode),i=J(ce=>ce.enterDrawingMode),s=J(ce=>ce.exitDrawingMode),o=J(ce=>ce.enterEditingMode),l=J(ce=>ce.exitEditingMode),d=J(ce=>ce.chatUnreadCount),f=J(ce=>ce.serverVersion),h=J(ce=>ce.globalSettings),m=J(ce=>ce.user?.email??null),b=J(ce=>ce.user?.is_superuser??!1),g=J(ce=>ce.setUser),w=J(ce=>ce.showSnackbar),S=J(ce=>ce.snackbar),T=J(ce=>ce.hideSnackbar),x=J(ce=>ce.screenshotCapture),[_,C]=N.useState(!1),[R,A]=N.useState(!1),[I,O]=N.useState(!1),[M,U]=N.useState(!1),[L,z]=N.useState(!1),[j,H]=N.useState(null),$=!!j,{mode:q,setMode:K}=zp(),V=oa(),re=N.useCallback(async ce=>{if(!t){w("Cannot upload: no room selected","warning");return}for(const pe of ce)try{await OW(t,pe),V.invalidateQueries({queryKey:["frame",t]}),w(`Uploaded: ${pe.name}`,"success")}catch(Te){const be=Te?.response?.data?.detail||`Upload failed: ${pe.name}`;w(be,"error")}},[t,V,w]),{isDragging:ee,handleDragOver:Y,handleDragEnter:ne,handleDragLeave:te,handleDrop:G}=HQ(re),[W,ue]=N.useState(!1),Ee=Q.useRef(null),ge=async()=>{if(!x){w("Screenshot capture not available","error");return}try{const ce=await x();P4e(ce),w("Screenshot downloaded","success")}catch(ce){w(`Screenshot failed: ${ce instanceof Error?ce.message:"Unknown error"}`,"error")}},fe=()=>{Ee.current?.click()},Ae=async ce=>{const pe=ce.target.files;!pe||pe.length===0||(await re(Array.from(pe)),Ee.current&&(Ee.current.value=""))},oe=()=>{K(q==="light"?"dark":"light")},de=ce=>{H(ce.currentTarget)},se=()=>{H(null)},Se=()=>{se(),A(!0)},me=async()=>{se();try{p1();const{user:ce}=await Dp();g(ce),w("Logged out, reconnected as guest","info")}catch{w("Logout failed","error")}};return y.jsxs(y.Fragment,{children:[y.jsxs(Re,{sx:{display:"flex",flexDirection:"column",height:"100vh",width:"100vw",overflow:"hidden"},children:[y.jsx(XV,{}),y.jsx(AM,{position:"static",sx:{zIndex:ce=>ce.zIndex.drawer+1,height:Ta.APPBAR_HEIGHT},children:y.jsxs(IM,{sx:{minHeight:`${Ta.APPBAR_HEIGHT}px !important`,height:Ta.APPBAR_HEIGHT,padding:"0 16px"},children:[y.jsxs(Ve,{variant:"h6",noWrap:!0,component:"div",children:[f?`ZnDraw ${f}`:"ZnDraw",h?.simgen?.enabled&&y.jsxs(y.Fragment,{children:[" + ",y.jsx(SN,{href:"https://github.com/RokasEl/simgen",target:"_blank",rel:"noopener noreferrer",color:"inherit",underline:"hover",sx:{cursor:"pointer"},children:"SiMGen"})]})]}),y.jsx(Re,{sx:{flexGrow:1}}),y.jsx(sle,{onTutorialClick:()=>ue(!0)}),y.jsx(Re,{sx:{flexGrow:1}}),y.jsx(_t,{title:a==="drawing"?"Disable drawing mode (X)":"Enable drawing mode (X)",children:y.jsx(Ct,{color:"inherit","aria-label":"toggle drawing mode",onClick:()=>a==="drawing"?s():i(V),sx:{backgroundColor:a==="drawing"?"rgba(255, 255, 255, 0.2)":"transparent"},children:y.jsx(VV,{})})}),y.jsx(_t,{title:a==="editing"?"Exit editing mode (E)":"Enter editing mode (E)",children:y.jsx(Ct,{color:"inherit","aria-label":"toggle editing mode",onClick:()=>a==="editing"?l():o(),sx:{backgroundColor:a==="editing"?"rgba(255, 255, 255, 0.2)":"transparent"},children:y.jsx(WV,{})})}),y.jsx(_t,{title:q==="light"?"Switch to dark mode":"Switch to light mode",children:y.jsx(Ct,{color:"inherit","aria-label":"toggle theme",onClick:oe,children:q==="light"?y.jsx(Lre,{}):y.jsx(Fre,{})})}),y.jsx(_t,{title:"Python code connection info",children:y.jsx(Ct,{color:"inherit","aria-label":"show connection info",onClick:()=>C(!0),children:y.jsx(Bre,{})})}),y.jsx(_t,{title:"Toggle chat window",children:y.jsx(Ct,{color:"inherit","aria-label":"toggle chat",onClick:()=>r(!n),children:y.jsx(BV,{badgeContent:d,color:"error",max:99,invisible:d===0||n,children:y.jsx(jre,{})})})}),y.jsx(YOe,{}),y.jsx(_t,{title:"Take screenshot",children:y.jsx(Ct,{color:"inherit","aria-label":"take screenshot",onClick:ge,disabled:!x,children:y.jsx(Ure,{})})}),y.jsx(_t,{title:"Upload file",children:y.jsx(Ct,{color:"inherit","aria-label":"upload file",onClick:fe,children:y.jsx(ZV,{})})}),y.jsx(ile,{}),y.jsx(_t,{title:"User profile",children:y.jsx(Ct,{color:"inherit","aria-label":"user profile",onClick:de,children:y.jsx(zre,{})})})]})}),y.jsxs(PM,{anchorEl:j,open:$,onClose:se,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[y.jsx(rr,{disabled:!0,children:y.jsx(Ur,{primary:m||"Unknown",secondary:b?"Admin":"User"})}),y.jsxs(rr,{onClick:()=>{se(),O(!0)},children:[y.jsx(xa,{children:y.jsx(N3,{fontSize:"small"})}),y.jsx(Ur,{children:"Register"})]}),y.jsxs(rr,{onClick:Se,children:[y.jsx(xa,{children:y.jsx(qre,{fontSize:"small"})}),y.jsx(Ur,{children:"Login"})]}),y.jsxs(rr,{onClick:()=>{se(),z(!0)},children:[y.jsx(xa,{children:y.jsx(N3,{fontSize:"small"})}),y.jsx(Ur,{children:"Manage Account"})]}),b&&y.jsxs(rr,{onClick:()=>{se(),U(!0)},children:[y.jsx(xa,{children:y.jsx($re,{fontSize:"small"})}),y.jsx(Ur,{children:"Admin Panel"})]}),y.jsxs(rr,{onClick:me,children:[y.jsx(xa,{children:y.jsx(Gre,{fontSize:"small"})}),y.jsx(Ur,{children:"Logout"})]})]}),y.jsx("input",{type:"file",ref:Ee,style:{display:"none"},onChange:Ae,accept:hJ}),y.jsxs(Re,{sx:{display:"flex",flexGrow:1,minHeight:0},children:[y.jsx(CIe,{}),y.jsx(Re,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",minWidth:0},children:y.jsxs(Re,{className:"drag-boundary-container",onDragOver:Y,onDragEnter:ne,onDragLeave:te,onDrop:G,sx:{flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"},children:[y.jsx(pJ,{isDragging:ee}),y.jsx(zOe,{}),y.jsx(M4e,{})]})})]}),y.jsx(rle,{}),n&&y.jsx(N.Suspense,{fallback:y.jsx(Re,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999},children:y.jsx(Ca,{})}),children:y.jsx(L4e,{open:n,onClose:()=>r(!1)})})]}),y.jsx(D4e,{open:_,onClose:()=>C(!1)}),y.jsx(Woe,{open:R,onClose:()=>A(!1)}),y.jsx(ale,{open:I,onClose:()=>O(!1)}),y.jsx(Jse,{open:M,onClose:()=>U(!1)}),y.jsx(RIe,{open:L,onClose:()=>z(!1)}),y.jsx(ole,{open:W,onClose:()=>ue(!1),url:"https://slides.com/rokasel/zndrawtutorial-9cc179/fullscreen?style=light"}),S&&y.jsx(Hre,{open:S.open,autoHideDuration:6e3,onClose:T,anchorOrigin:{vertical:"top",horizontal:"center"},children:y.jsx(ha,{severity:S.severity,onClose:T,children:S.message})}),y.jsx(O4e,{})]})}function F4e(){const t=J(L=>L.showSnackbar);WQ({isOverview:!0});const e=uo(L=>L.roomsArray),n=uo(L=>L.loading),r=uo(L=>L.error),[a,i]=N.useState(""),[s,o]=N.useState(null),l=Up(),d=N.useCallback(async L=>{const z=crypto.randomUUID();try{await Eb({room_id:z});for(const j of L)await OW(z,j);t(`Room created with ${L.length} file(s)`,"success"),l(`/rooms/${z}`)}catch(j){const H=j?.response?.data?.detail||"Upload failed";t(H,"error")}},[l,t]),{isDragging:f,handleDragOver:h,handleDragEnter:m,handleDragLeave:b,handleDrop:g}=HQ(d),w=Q.useRef(null),S=()=>{w.current?.click()},T=async L=>{const z=L.target.files;!z||z.length===0||(await d(Array.from(z)),w.current&&(w.current.value=""))};N.useEffect(()=>{uo.getState().fetchRooms()},[]);const x=a?e.filter(L=>L.id.toLowerCase().includes(a.toLowerCase())||L.description&&L.description.toLowerCase().includes(a.toLowerCase())):e,_=r,C=!!r,R=async(L,z)=>{try{await PN(L,{description:z||null}),t("Description updated","success")}catch{t("Failed to update description","error")}},A=async(L,z)=>{try{await PN(L,{locked:!z}),t(z?"Room unlocked":"Room locked","success")}catch{t("Failed to update lock status","error")}},I=async(L,z)=>{try{await DW(z?null:L),t(z?"Template cleared":"Template set","success")}catch{t("Failed to update template","error")}},O=(L,z)=>{o({roomId:L,description:z})},M=L=>{l(`/rooms/${L}`)},U=[{field:"is_default",headerName:"",width:50,sortable:!0,renderCell:L=>y.jsx(_t,{title:L.value?"Template room":"Set as template",children:y.jsx(Ct,{size:"small",onClick:()=>I(L.row.id,L.value),children:L.value?y.jsx(EN,{color:"primary"}):y.jsx(PV,{})})})},{field:"id",headerName:"Room ID",width:250,sortable:!0,renderCell:L=>y.jsx(Re,{sx:{cursor:"pointer",color:"primary.main",textDecoration:"underline","&:hover":{color:"primary.dark"}},onClick:()=>M(L.value),children:L.value})},{field:"description",headerName:"Description",width:300,editable:!0,sortable:!0},{field:"frame_count",headerName:"Frames",width:100,type:"number",sortable:!0},{field:"locked",headerName:"Lock",width:80,renderCell:L=>{const z=L.value;return z?y.jsx(_t,{title:"Locked (immutable)",children:y.jsx(Ct,{size:"small",onClick:()=>A(L.row.id,z),children:y.jsx($g,{color:"error"})})}):y.jsx(_t,{title:"Unlocked (editable)",children:y.jsx(Ct,{size:"small",onClick:()=>A(L.row.id,z),children:y.jsx(MM,{color:"success"})})})}},{field:"actions",headerName:"Actions",width:80,sortable:!1,renderCell:L=>y.jsx(_t,{title:"Duplicate room",children:y.jsx(Ct,{size:"small",onClick:()=>O(L.row.id,L.row.description||""),children:y.jsx(LM,{})})})}];return n?y.jsx(Ko,{maxWidth:"lg",children:y.jsx(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:y.jsx(Ca,{})})}):C?y.jsx(Ko,{maxWidth:"lg",children:y.jsx(Re,{sx:{mt:4},children:y.jsx(ha,{severity:"error",children:_||"Unknown error"})})}):y.jsxs(Ko,{maxWidth:"lg",onDragOver:h,onDragEnter:m,onDragLeave:b,onDrop:g,children:[y.jsx(pJ,{isDragging:f}),y.jsx("input",{type:"file",ref:w,style:{display:"none"},onChange:T,accept:hJ}),y.jsxs(Re,{sx:{mt:4,mb:4},children:[y.jsx(Ve,{variant:"h3",component:"h1",gutterBottom:!0,children:"Room Management"}),y.jsx(Ve,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:"Manage your rooms: lock, hide, set as template, or duplicate"}),y.jsx(Re,{sx:{mt:3,mb:2},children:y.jsx(jt,{fullWidth:!0,size:"small",label:"Search rooms",placeholder:"Search by metadata (file path, etc.) - supports regex",value:a,onChange:L=>i(L.target.value),variant:"outlined"})}),y.jsx(Re,{sx:{height:600,width:"100%",mt:3},children:y.jsx(mb,{rows:x,columns:U,initialState:{pagination:{paginationModel:{page:0,pageSize:10}},sorting:{sortModel:[{field:"is_default",sort:"desc"}]}},pageSizeOptions:[5,10,25],processRowUpdate:async(L,z)=>(L.description!==z.description&&await R(L.id,L.description),L),onProcessRowUpdateError:L=>{t("Failed to update row","error")}})}),y.jsxs(Re,{sx:{mt:2,display:"flex",gap:2},children:[y.jsx(xt,{variant:"outlined",onClick:()=>{const L=crypto.randomUUID();l(`/rooms/${L}?copy_from=@empty`)},children:"Create New Empty Room"}),y.jsx(xt,{variant:"contained",startIcon:y.jsx(ZV,{}),onClick:S,children:"Upload File"})]})]}),y.jsx(XW,{open:s!==null,sourceRoomId:s?.roomId||"",sourceDescription:s?.description||"",existingRoomIds:x.map(L=>L.id),onClose:()=>o(null)})]})}async function mJ(t){try{return await MN(t),!0}catch{return!1}}async function B4e(){const t=await VM();if(t.length===1&&t[0].frame_count>0)return console.log("[Template] Auto-template from single room:",t[0].id),t[0].id;const{room_id:e}=await Ose();return e&&await mJ(e)?(console.log("[Template] Using explicit template:",e),e):(console.log("[Template] No template found"),null)}function j4e(){const[t,e]=N.useState(!0),[n,r]=N.useState(null),a=Up();return N.useEffect(()=>{(async()=>{try{await qM();const s=$Oe();if(console.log("[Startup] Last room from localStorage:",s),s){const d=await mJ(s);if(console.log("[Startup] Last room exists:",d),d){console.log("[Startup] Navigating to last room:",s),a(`/rooms/${s}`);return}console.log("[Startup] Last room deleted, creating new room")}const o=await B4e(),l=crypto.randomUUID();o?(console.log("[Startup] Creating room from template:",o,"->",l),await Eb({room_id:l,copy_from:o}),a(`/rooms/${l}`)):(console.log("[Startup] Creating default room:",l),a(`/rooms/${l}`))}catch(s){r(s instanceof Error?s.message:"Unknown error")}finally{e(!1)}})()},[a]),t?y.jsx(Ko,{maxWidth:"md",children:y.jsxs(Re,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:[y.jsx(Ca,{}),y.jsx(Ve,{variant:"body1",sx:{ml:2},children:"Loading..."})]})}):n?y.jsx(Ko,{maxWidth:"md",children:y.jsx(Re,{sx:{mt:4},children:y.jsxs(ha,{severity:"error",children:["Failed to load: ",n]})})}):y.jsx(Ko,{maxWidth:"md",children:y.jsx(Re,{sx:{mt:4},children:y.jsx(ha,{severity:"warning",children:"Navigation logic did not redirect properly. Please refresh the page."})})})}const U4e=new mne({defaultOptions:{queries:{staleTime:3e4,gcTime:300*1e3}}}),z4e=Vre({colorSchemes:{dark:!0},defaultColorScheme:"light"}),q4e=gne([{path:"/",element:y.jsx(j4e,{})},{path:"/rooms",element:y.jsx(F4e,{})},{path:"/rooms/:roomId/files",element:y.jsx(Qse,{})},{path:"/rooms/:roomId",element:y.jsx(vV,{})},{path:"/room/:roomId",element:y.jsx(vV,{})}]);function $4e(){return y.jsxs(Wre,{theme:z4e,children:[y.jsx(XV,{}),y.jsx(bne,{client:U4e,children:y.jsx(yne,{router:q4e})})]})}const G4e=document.getElementById("root"),H4e=y.jsx(N.StrictMode,{children:y.jsx($4e,{})});hne.createRoot(G4e).render(H4e);export{pde as A,Ta as L,jZ as M,POe as R,QOe as _,KW as a,k4e as b,p5e as c,pd as d,h5e as e,R5e as f,f5e as g,fJ as h,WOe as i,wM as j,YQ as k,rl as l,g5e as m,KOe as n,I4e as o,Si as p,Ab as q,Qde as r,bt as s,mY as t,J as u,Yp as v,rge as w,mX as x};
