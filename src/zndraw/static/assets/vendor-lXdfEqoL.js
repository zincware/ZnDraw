import{r as p,j as xa,e as Ma,c as Rt}from"./three-D_Q1nxF1.js";import{r as Oa}from"./mui-DvTeEhIk.js";var Be=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Da={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},La=class{#t=Da;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},_e=new La;function Fa(e){setTimeout(e,0)}var Qe=typeof window>"u"||"Deno"in globalThis;function re(){}function Ta(e,t){return typeof e=="function"?e(t):e}function Vt(e){return typeof e=="number"&&e>=0&&e!==1/0}function vn(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fe(e,t){return typeof e=="function"?e(t):e}function de(e,t){return typeof e=="function"?e(t):e}function Ar(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==sr(s,t.options))return!1}else if(!st(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function jr(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(He(t.options.mutationKey)!==He(i))return!1}else if(!st(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function sr(e,t){return(t?.queryKeyHashFn||He)(e)}function He(e){return JSON.stringify(e,(t,r)=>Yt(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function st(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>st(e[r],t[r])):!1}var Ia=Object.prototype.hasOwnProperty;function or(e,t){if(e===t)return e;const r=Nr(e)&&Nr(t);if(!r&&!(Yt(e)&&Yt(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),s=i.length,o=r?new Array(s):{};let l=0;for(let u=0;u<s;u++){const h=r?u:i[u],f=e[h],y=t[h];if(f===y){o[h]=f,(r?u<a:Ia.call(e,h))&&l++;continue}if(f===null||y===null||typeof f!="object"||typeof y!="object"){o[h]=y;continue}const g=or(f,y);o[h]=g,g===f&&l++}return a===s&&l===a?e:o}function ot(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Nr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Yt(e){if(!zr(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zr(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ua(e){return new Promise(t=>{_e.setTimeout(t,e)})}function Gt(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?or(e,t):t}function Ro(e){return e}function ka(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Aa(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var lr=Symbol();function gn(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===lr?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bn(e,t){return typeof e=="function"?e(...t):!!e}var ja=class extends Be{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Qe&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},ur=new ja;function Jt(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Na=Fa;function za(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Na;const i=o=>{t?e.push(o):a(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||s()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Y=za(),_a=class extends Be{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Qe&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},Lt=new _a;function $a(e){return Math.min(1e3*2**e,3e4)}function wn(e){return(e??"online")==="online"?Lt.isOnline():!0}var Xt=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Rn(e){let t=!1,r=0,n;const a=Jt(),i=()=>a.status!=="pending",s=w=>{if(!i()){const R=new Xt(w);y(R),e.onCancel?.(R)}},o=()=>{t=!0},l=()=>{t=!1},u=()=>ur.isFocused()&&(e.networkMode==="always"||Lt.isOnline())&&e.canRun(),h=()=>wn(e.networkMode)&&e.canRun(),f=w=>{i()||(n?.(),a.resolve(w))},y=w=>{i()||(n?.(),a.reject(w))},g=()=>new Promise(w=>{n=R=>{(i()||u())&&w(R)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let w;const R=r===0?e.initialPromise:void 0;try{w=R??e.fn()}catch(C){w=Promise.reject(C)}Promise.resolve(w).then(f).catch(C=>{if(i())return;const P=e.retry??(Qe?0:3),T=e.retryDelay??$a,B=typeof T=="function"?T(r,C):T,I=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,C);if(t||!I){y(C);return}r++,e.onFail?.(r,C),Ua(B).then(()=>u()?void 0:g()).then(()=>{t?y(C):b()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n?.(),a),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?b():g().then(b),a)}}var En=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vt(this.gcTime)&&(this.#t=_e.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Qe?1/0:300*1e3))}clearGcTimeout(){this.#t&&(_e.clearTimeout(this.#t),this.#t=void 0)}},Qa=class extends En{#t;#e;#r;#a;#n;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=$r(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=$r(this.options);t.data!==void 0&&(this.setState(_r(t.data,t.dataUpdatedAt)),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=Gt(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(re).catch(re):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>de(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Fe(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!vn(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const r=new AbortController,n=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const o=gn(this.options,t),u=(()=>{const h={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(h),h})();return this.#o=!1,this.options.persister?this.options.persister(o,u,this):o(u)},s=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(o),o})();this.options.behavior?.onFetch(s,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta}),this.#n=Rn({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:o=>{o instanceof Xt&&o.revert&&this.setState({...this.#e,fetchStatus:"idle"}),r.abort()},onFail:(o,l)=>{this.#s({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const o=await this.#n.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#r.config.onSuccess?.(o,this),this.#r.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Xt){if(o.silent)return this.#n.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#s({type:"error",error:o}),this.#r.config.onError?.(o,this),this.#r.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Pn(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,..._r(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Y.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Pn(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wn(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _r(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function $r(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var At=class extends Be{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=Jt(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#a=void 0;#n;#i;#o;#s;#f;#h;#d;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Qr(this.#e,this.options)?this.#p():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zt(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zt(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#R(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof de(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#E(),this.#e.setOptions(this.options),t._defaulted&&!ot(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&Hr(this.#e,r,this.options,t)&&this.#p(),this.updateResult(),n&&(this.#e!==r||de(this.options.enabled,this.#e)!==de(t.enabled,this.#e)||Fe(this.options.staleTime,this.#e)!==Fe(t.staleTime,this.#e))&&this.#y();const a=this.#v();n&&(this.#e!==r||de(this.options.enabled,this.#e)!==de(t.enabled,this.#e)||a!==this.#l)&&this.#g(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Ba(this,r)&&(this.#a=r,this.#i=this.options,this.#n=this.#e.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#p(e){this.#E();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(re)),t}#y(){this.#w();const e=Fe(this.options.staleTime,this.#e);if(Qe||this.#a.isStale||!Vt(e))return;const r=vn(this.#a.dataUpdatedAt,e)+1;this.#u=_e.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#g(e){this.#R(),this.#l=e,!(Qe||de(this.options.enabled,this.#e)===!1||!Vt(this.#l)||this.#l===0)&&(this.#c=_e.setInterval(()=>{(this.options.refetchIntervalInBackground||ur.isFocused())&&this.#p()},this.#l))}#b(){this.#y(),this.#g(this.#v())}#w(){this.#u&&(_e.clearTimeout(this.#u),this.#u=void 0)}#R(){this.#c&&(_e.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#a,i=this.#n,s=this.#i,l=e!==r?e.state:this.#r,{state:u}=e;let h={...u},f=!1,y;if(t._optimisticResults){const k=this.hasListeners(),Q=!k&&Qr(e,t),A=k&&Hr(e,r,t,n);(Q||A)&&(h={...h,...Pn(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:w}=h;y=h.data;let R=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let k;a?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(k=a.data,R=!0):k=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,k!==void 0&&(w="success",y=Gt(a?.data,k,t),f=!0)}if(t.select&&y!==void 0&&!R)if(a&&y===i?.data&&t.select===this.#f)y=this.#h;else try{this.#f=t.select,y=t.select(y),y=Gt(a?.data,y,t),this.#h=y,this.#s=null}catch(k){this.#s=k}this.#s&&(g=this.#s,y=this.#h,b=Date.now(),w="error");const C=h.fetchStatus==="fetching",P=w==="pending",T=w==="error",B=P&&C,I=y!==void 0,m={status:w,fetchStatus:h.fetchStatus,isPending:P,isSuccess:w==="success",isError:T,isInitialLoading:B,isLoading:B,data:y,dataUpdatedAt:h.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!P,isLoadingError:T&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:T&&I,isStale:cr(e,t),refetch:this.refetch,promise:this.#o,isEnabled:de(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const k=J=>{m.status==="error"?J.reject(m.error):m.data!==void 0&&J.resolve(m.data)},Q=()=>{const J=this.#o=m.promise=Jt();k(J)},A=this.#o;switch(A.status){case"pending":e.queryHash===r.queryHash&&k(A);break;case"fulfilled":(m.status==="error"||m.data!==A.value)&&Q();break;case"rejected":(m.status!=="error"||m.error!==A.reason)&&Q();break}}return m}updateResult(){const e=this.#a,t=this.createResult(this.#e,this.options);if(this.#n=this.#e.state,this.#i=this.options,this.#n.data!==void 0&&(this.#d=this.#e),ot(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(s=>{const o=s;return this.#a[o]!==e[o]&&i.has(o)})};this.#P({listeners:r()})}#E(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#P(e){Y.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Ha(e,t){return de(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Qr(e,t){return Ha(e,t)||e.state.data!==void 0&&Zt(e,t,t.refetchOnMount)}function Zt(e,t,r){if(de(t.enabled,e)!==!1&&Fe(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&cr(e,t)}return!1}function Hr(e,t,r,n){return(e!==t||de(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&cr(e,r)}function cr(e,t){return de(t.enabled,e)!==!1&&e.isStaleByTime(Fe(t.staleTime,e))}function Ba(e,t){return!ot(e.getCurrentResult(),t)}function Ft(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let h=!1;const f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},y=gn(t.options,t.fetchOptions),g=async(b,w,R)=>{if(h)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const P=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:w,direction:R?"backward":"forward",meta:t.options.meta};return f(_),_})(),T=await y(P),{maxPages:B}=t.options,I=R?Aa:ka;return{pages:I(b.pages,T,B),pageParams:I(b.pageParams,w,B)}};if(a&&i.length){const b=a==="backward",w=b?Cn:er,R={pages:i,pageParams:s},C=w(n,R);o=await g(R,C,b)}else{const b=e??i.length;do{const w=l===0?s[0]??n.initialPageParam:er(n,o);if(l>0&&w==null)break;o=await g(o,w),l++}while(l<b)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function er(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Cn(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function Ka(e,t){return t?er(e,t)!=null:!1}function qa(e,t){return!t||!e.getPreviousPageParam?!1:Cn(e,t)!=null}var Wa=class extends At{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Ft()})}getOptimisticResult(e){return e.behavior=Ft(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,n=super.createResult(e,t),{isFetching:a,isRefetching:i,isError:s,isRefetchError:o}=n,l=r.fetchMeta?.fetchMore?.direction,u=s&&l==="forward",h=a&&l==="forward",f=s&&l==="backward",y=a&&l==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Ka(t,r.data),hasPreviousPage:qa(t,r.data),isFetchNextPageError:u,isFetchingNextPage:h,isFetchPreviousPageError:f,isFetchingPreviousPage:y,isRefetchError:o&&!u&&!f,isRefetching:i&&!h&&!y}}},Va=class extends En{#t;#e;#r;#a;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#e=[],this.state=e.state||Sn(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Rn({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const s=await this.options.onMutate?.(e,r);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Y.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function Sn(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ya=class extends Be{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Va({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Et(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Et(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Et(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Et(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Y.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>jr(t,r))}findAll(e={}){return this.getAll().filter(t=>jr(e,t))}notify(e){Y.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Y.batch(()=>Promise.all(e.map(t=>t.continue().catch(re))))}};function Et(e){return e.options.scope?.id}var Ga=class extends Be{#t;#e=void 0;#r;#a;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),ot(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&He(r.mutationKey)!==He(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#i(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#i()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??Sn();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Y.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context,a={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#e)})})}};function Br(e,t){const r=new Set(t);return e.filter(n=>!r.has(n))}function Ja(e,t,r){const n=e.slice(0);return n[t]=r,n}var Xa=class extends Be{#t;#e;#r;#a;#n;#i;#o;#s;#f=[];constructor(e,t,r){super(),this.#t=e,this.#a=r,this.#r=[],this.#n=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#n.forEach(e=>{e.subscribe(t=>{this.#c(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#n.forEach(e=>{e.destroy()})}setQueries(e,t){this.#r=e,this.#a=t,Y.batch(()=>{const r=this.#n,n=this.#u(this.#r);this.#f=n,n.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const a=n.map(h=>h.observer),i=a.map(h=>h.getCurrentResult()),s=r.length!==a.length,o=a.some((h,f)=>h!==r[f]),l=s||o,u=l?!0:i.some((h,f)=>{const y=this.#e[f];return!y||!ot(h,y)});!l&&!u||(l&&(this.#n=a),this.#e=i,this.hasListeners()&&(l&&(Br(r,a).forEach(h=>{h.destroy()}),Br(a,r).forEach(h=>{h.subscribe(f=>{this.#c(h,f)})})),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#n.map(e=>e.getCurrentQuery())}getObservers(){return this.#n}getOptimisticResult(e,t){const r=this.#u(e),n=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[n,a=>this.#d(a??n,t),()=>this.#h(n,r)]}#h(e,t){return t.map((r,n)=>{const a=e[n];return r.defaultedQueryOptions.notifyOnChangeProps?a:r.observer.trackResult(a,i=>{t.forEach(s=>{s.observer.trackProp(i)})})})}#d(e,t){return t?((!this.#i||this.#e!==this.#s||t!==this.#o)&&(this.#o=t,this.#s=this.#e,this.#i=or(this.#i,t(e))),this.#i):e}#u(e){const t=new Map(this.#n.map(n=>[n.options.queryHash,n])),r=[];return e.forEach(n=>{const a=this.#t.defaultQueryOptions(n),i=t.get(a.queryHash);i?r.push({defaultedQueryOptions:a,observer:i}):r.push({defaultedQueryOptions:a,observer:new At(this.#t,a)})}),r}#c(e,t){const r=this.#n.indexOf(e);r!==-1&&(this.#e=Ja(this.#e,r,t),this.#l())}#l(){if(this.hasListeners()){const e=this.#i,t=this.#h(this.#e,this.#f),r=this.#d(t,this.#a?.combine);e!==r&&Y.batch(()=>{this.listeners.forEach(n=>{n(this.#e)})})}}},Za=class extends Be{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??sr(n,t);let i=this.get(a);return i||(i=new Qa({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Y.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>Ar(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>Ar(e,r)):t}notify(e){Y.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Y.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Y.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Po=class{#t;#e;#r;#a;#n;#i;#o;#s;constructor(e={}){this.#t=e.queryCache||new Za,this.#e=e.mutationCache||new Ya,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=ur.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Lt.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Fe(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,s=Ta(t,i);if(s!==void 0)return this.#t.build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Y.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Y.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Y.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Y.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(re).catch(re)}invalidateQueries(e,t={}){return Y.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Y.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(re)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(re)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Fe(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(re).catch(re)}fetchInfiniteQuery(e){return e.behavior=Ft(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(re).catch(re)}ensureInfiniteQueryData(e){return e.behavior=Ft(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Lt.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(He(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{st(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(He(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{st(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sr(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===lr&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},xn=p.createContext(void 0),hr=e=>{const t=p.useContext(xn);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Co=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),xa.jsx(xn.Provider,{value:e,children:t})),Mn=p.createContext(!1),On=()=>p.useContext(Mn);Mn.Provider;function ei(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ti=p.createContext(ei()),Dn=()=>p.useContext(ti),Ln=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Fn=e=>{p.useEffect(()=>{e.clearReset()},[e])},Tn=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||bn(r,[e.error,n])),In=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Un=(e,t)=>e.isLoading&&e.isFetching&&!t,tr=(e,t)=>e?.suspense&&t.isPending,Tt=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function So({queries:e,...t},r){const n=hr(),a=On(),i=Dn(),s=p.useMemo(()=>e.map(w=>{const R=n.defaultQueryOptions(w);return R._optimisticResults=a?"isRestoring":"optimistic",R}),[e,n,a]);s.forEach(w=>{In(w),Ln(w,i)}),Fn(i);const[o]=p.useState(()=>new Xa(n,s,t)),[l,u,h]=o.getOptimisticResult(s,t.combine),f=!a&&t.subscribed!==!1;p.useSyncExternalStore(p.useCallback(w=>f?o.subscribe(Y.batchCalls(w)):re,[o,f]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),p.useEffect(()=>{o.setQueries(s,t)},[s,t,o]);const g=l.some((w,R)=>tr(s[R],w))?l.flatMap((w,R)=>{const C=s[R];if(C){const P=new At(n,C);if(tr(C,w))return Tt(C,P,i);Un(w,a)&&Tt(C,P,i)}return[]}):[];if(g.length>0)throw Promise.all(g);const b=l.find((w,R)=>{const C=s[R];return C&&Tn({result:w,errorResetBoundary:i,throwOnError:C.throwOnError,query:n.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(b?.error)throw b.error;return u(h())}function kn(e,t,r){const n=On(),a=Dn(),i=hr(),s=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=n?"isRestoring":"optimistic",In(s),Ln(s,a),Fn(a);const o=!i.getQueryCache().get(s.queryHash),[l]=p.useState(()=>new t(i,s)),u=l.getOptimisticResult(s),h=!n&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(f=>{const y=h?l.subscribe(Y.batchCalls(f)):re;return l.updateResult(),y},[l,h]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),p.useEffect(()=>{l.setOptions(s)},[s,l]),tr(s,u))throw Tt(s,l,a);if(Tn({result:u,errorResetBoundary:a,throwOnError:s.throwOnError,query:i.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(s,u),s.experimental_prefetchInRender&&!Qe&&Un(u,n)&&(o?Tt(s,l,a):i.getQueryCache().get(s.queryHash)?.promise)?.catch(re).finally(()=>{l.updateResult()}),s.notifyOnChangeProps?u:l.trackResult(u)}function xo(e,t){return kn(e,At)}function Mo(e,t){const r=hr(),[n]=p.useState(()=>new Ga(r,e));p.useEffect(()=>{n.setOptions(e)},[n,e]);const a=p.useSyncExternalStore(p.useCallback(s=>n.subscribe(Y.batchCalls(s)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=p.useCallback((s,o)=>{n.mutate(s,o).catch(re)},[n]);if(a.error&&bn(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function Oo(e,t){return kn(e,Wa)}var An=e=>{throw TypeError(e)},ri=(e,t,r)=>t.has(e)||An("Cannot "+r),Ht=(e,t,r)=>(ri(e,t,"read from private field"),r?r.call(e):t.get(e)),ni=(e,t,r)=>t.has(e)?An("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Kr="popstate";function ai(e={}){function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return lt("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:be(a)}return si(t,r,null,e)}function j(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ii(){return Math.random().toString(36).substring(2,10)}function qr(e,t){return{usr:e.state,key:e.key,idx:t}}function lt(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Te(t):t,state:r,key:t&&t.key||n||ii()}}function be({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Te(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function si(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o="POP",l=null,u=h();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function h(){return(s.state||{idx:null}).idx}function f(){o="POP";let R=h(),C=R==null?null:R-u;u=R,l&&l({action:o,location:w.location,delta:C})}function y(R,C){o="PUSH";let P=lt(w.location,R,C);u=h()+1;let T=qr(P,u),B=w.createHref(P);try{s.pushState(T,"",B)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(B)}i&&l&&l({action:o,location:w.location,delta:1})}function g(R,C){o="REPLACE";let P=lt(w.location,R,C);u=h();let T=qr(P,u),B=w.createHref(P);s.replaceState(T,"",B),i&&l&&l({action:o,location:w.location,delta:0})}function b(R){return jn(R)}let w={get action(){return o},get location(){return e(a,s)},listen(R){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Kr,f),l=R,()=>{a.removeEventListener(Kr,f),l=null}},createHref(R){return t(a,R)},createURL:b,encodeLocation(R){let C=b(R);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:g,go(R){return s.go(R)}};return w}function jn(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),j(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:be(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var it,Wr=class{constructor(e){if(ni(this,it,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Ht(this,it).has(e))return Ht(this,it).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Ht(this,it).set(e,t)}};it=new WeakMap;var oi=new Set(["lazy","caseSensitive","path","id","index","children"]);function li(e){return oi.has(e)}var ui=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function ci(e){return ui.has(e)}function hi(e){return e.index===!0}function ut(e,t,r=[],n={},a=!1){return e.map((i,s)=>{let o=[...r,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(j(i.index!==!0||!i.children,"Cannot specify children on an index route"),j(a||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),hi(i)){let u={...i,id:l};return n[l]=Vr(u,t(u)),u}else{let u={...i,id:l,children:void 0};return n[l]=Vr(u,t(u)),i.children&&(u.children=ut(i.children,t,o,n,a)),u}})}function Vr(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Oe(e,t,r="/"){return xt(e,t,r,!1)}function xt(e,t,r,n){let a=typeof t=="string"?Te(t):t,i=fe(a.pathname||"/",r);if(i==null)return null;let s=Nn(e);fi(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Ci(i);o=Ei(s[l],u,n)}return o}function di(e,t){let{route:r,pathname:n,params:a}=e;return{id:r.id,pathname:n,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Nn(e,t=[],r=[],n="",a=!1){let i=(s,o,l=a,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&l)return;j(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let f=ge([n,h.relativePath]),y=r.concat(h);s.children&&s.children.length>0&&(j(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Nn(s.children,t,y,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:wi(f,s.index),routesMeta:y})};return e.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let l of zn(s.path))i(s,o,!0,l)}),t}function zn(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=zn(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function fi(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ri(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pi=/^:[\w-]+$/,mi=3,yi=2,vi=1,gi=10,bi=-2,Yr=e=>e==="*";function wi(e,t){let r=e.split("/"),n=r.length;return r.some(Yr)&&(n+=bi),t&&(n+=yi),r.filter(a=>!Yr(a)).reduce((a,i)=>a+(pi.test(i)?mi:i===""?vi:gi),n)}function Ri(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Ei(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",f=It({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),y=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=It({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:ge([i,f.pathname]),pathnameBase:Oi(ge([i,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(i=ge([i,f.pathnameBase]))}return s}function It(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Pi(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,{paramName:h,isOptional:f},y)=>{if(h==="*"){let b=o[y]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[y];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function Pi(e,t=!1,r=!0){G(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Ci(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return G(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fe(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Si({basename:e,pathname:t}){return t==="/"?e:ge([e,t])}function xi(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Te(e):e;return{pathname:r?r.startsWith("/")?r:Mi(r,t):t,search:Di(n),hash:Li(a)}}function Mi(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Bt(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _n(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dr(e){let t=_n(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function fr(e,t,r,n=!1){let a;typeof e=="string"?a=Te(e):(a={...e},j(!a.pathname||!a.pathname.includes("?"),Bt("?","pathname","search",a)),j(!a.pathname||!a.pathname.includes("#"),Bt("#","pathname","hash",a)),j(!a.search||!a.search.includes("#"),Bt("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),f-=1;a.pathname=y.join("/")}o=f>=0?t[f]:"/"}let l=xi(a,o),u=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}var ge=e=>e.join("/").replace(/\/\/+/g,"/"),Oi=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Di=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Li=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ut=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function ct(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function pr(e){return e.filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Le=Symbol("Uninstrumented");function Fi(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(i){let s=Object.keys(r);for(let o of s)i[o]&&r[o].push(i[o])}}));let n={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=Ge(r.lazy,t.lazy,()=>{});a&&(n.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(i=>{let s=a[i],o=r[`lazy.${i}`];if(typeof s=="function"&&o.length>0){let l=Ge(o,s,()=>{});l&&(n.lazy=Object.assign(n.lazy||{},{[i]:l}))}})}return["loader","action"].forEach(a=>{let i=t[a];if(typeof i=="function"&&r[a].length>0){let s=i[Le]??i,o=Ge(r[a],s,(...l)=>Gr(l[0]));o&&(o[Le]=s,n[a]=o)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(n.middleware=t.middleware.map(a=>{let i=a[Le]??a,s=Ge(r.middleware,i,(...o)=>Gr(o[0]));return s?(s[Le]=i,s):a})),n}function Ti(e,t){let r={navigate:[],fetch:[]};if(t.forEach(n=>n({instrument(a){let i=Object.keys(a);for(let s of i)a[s]&&r[s].push(a[s])}})),r.navigate.length>0){let n=e.navigate[Le]??e.navigate,a=Ge(r.navigate,n,(...i)=>{let[s,o]=i;return{to:typeof s=="number"||typeof s=="string"?s:s?be(s):".",...Jr(e,o??{})}});a&&(a[Le]=n,e.navigate=a)}if(r.fetch.length>0){let n=e.fetch[Le]??e.fetch,a=Ge(r.fetch,n,(...i)=>{let[s,,o,l]=i;return{href:o??".",fetcherKey:s,...Jr(e,l??{})}});a&&(a[Le]=n,e.fetch=a)}return e}function Ge(e,t,r){return e.length===0?null:async(...n)=>{let a=await $n(e,r(...n),()=>t(...n),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function $n(e,t,r,n){let a=e[n],i;if(a){let s,o=async()=>(s?console.error("You cannot call instrumented handlers more than once"):s=$n(e,t,r,n-1),i=await s,j(i,"Expected a result"),i.type==="error"&&i.value instanceof Error?{status:"error",error:i.value}:{status:"success",error:void 0});try{await a(o,t)}catch(l){console.error("An instrumentation function threw an error:",l)}s||await o(),await s}else try{i={type:"success",value:await r()}}catch(s){i={type:"error",value:s}}return i||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Gr(e){let{request:t,context:r,params:n,unstable_pattern:a}=e;return{request:Ii(t),params:{...n},unstable_pattern:a,context:Ui(r)}}function Jr(e,t){return{currentUrl:be(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function Ii(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function Ui(e){if(Ai(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var ki=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ai(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===ki}var Qn=["POST","PUT","PATCH","DELETE"],ji=new Set(Qn),Ni=["GET",...Qn],zi=new Set(Ni),_i=new Set([301,302,303,307,308]),$i=new Set([307,308]),Kt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qi={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rt={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hi=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mr=e=>Hi.test(e),Bi=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Hn="remix-router-transitions",Bn=Symbol("ResetLoaderData");function Ki(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";j(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Bi,i=a;if(e.unstable_instrumentations){let c=e.unstable_instrumentations;i=d=>({...a(d),...Fi(c.map(v=>v.route).filter(Boolean),d)})}let s={},o=ut(e.routes,i,void 0,s),l,u=e.basename||"/";u.startsWith("/")||(u=`/${u}`);let h=e.dataStrategy||Gi,f={...e.future},y=null,g=new Set,b=null,w=null,R=null,C=e.hydrationData!=null,P=Oe(o,e.history.location,u),T=!1,B=null,I;if(P==null&&!e.patchRoutesOnNavigation){let c=he(404,{pathname:e.history.location.pathname}),{matches:d,route:v}=Pt(o);I=!0,P=d,B={[v.id]:c}}else if(P&&!e.hydrationData&&yt(P,o,e.history.location.pathname).active&&(P=null),P)if(P.some(c=>c.route.lazy))I=!1;else if(!P.some(c=>yr(c.route)))I=!0;else{let c=e.hydrationData?e.hydrationData.loaderData:null,d=e.hydrationData?e.hydrationData.errors:null;if(d){let v=P.findIndex(E=>d[E.route.id]!==void 0);I=P.slice(0,v+1).every(E=>!nr(E.route,c,d))}else I=P.every(v=>!nr(v.route,c,d))}else{I=!1,P=[];let c=yt(null,o,e.history.location.pathname);c.active&&c.matches&&(T=!0,P=c.matches)}let _,m={historyAction:e.history.action,location:e.history.location,matches:P,initialized:I,navigation:Kt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||B,fetchers:new Map,blockers:new Map},k="POP",Q=!1,A,J=!1,xe=new Map,Ie=null,H=!1,W=!1,le=new Set,$=new Map,ue=0,ie=-1,pe=new Map,se=new Set,ce=new Map,me=new Map,ye=new Set,Ue=new Map,pt,Xe=null;function la(){if(y=e.history.listen(({action:c,location:d,delta:v})=>{if(pt){pt(),pt=void 0;return}G(Ue.size===0||v!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let E=Tr({currentLocation:m.location,nextLocation:d,historyAction:c});if(E&&v!=null){let S=new Promise(M=>{pt=M});e.history.go(v*-1),mt(E,{state:"blocked",location:d,proceed(){mt(E,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),S.then(()=>e.history.go(v))},reset(){let M=new Map(m.blockers);M.set(E,rt),ee({blockers:M})}});return}return ke(c,d)}),r){hs(t,xe);let c=()=>ds(t,xe);t.addEventListener("pagehide",c),Ie=()=>t.removeEventListener("pagehide",c)}return m.initialized||ke("POP",m.location,{initialHydration:!0}),_}function ua(){y&&y(),Ie&&Ie(),g.clear(),A&&A.abort(),m.fetchers.forEach((c,d)=>_t(d)),m.blockers.forEach((c,d)=>Fr(d))}function ca(c){return g.add(c),()=>g.delete(c)}function ee(c,d={}){c.matches&&(c.matches=c.matches.map(S=>{let M=s[S.route.id],D=S.route;return D.element!==M.element||D.errorElement!==M.errorElement||D.hydrateFallbackElement!==M.hydrateFallbackElement?{...S,route:M}:S})),m={...m,...c};let v=[],E=[];m.fetchers.forEach((S,M)=>{S.state==="idle"&&(ye.has(M)?v.push(M):E.push(M))}),ye.forEach(S=>{!m.fetchers.has(S)&&!$.has(S)&&v.push(S)}),[...g].forEach(S=>S(m,{deletedFetchers:v,viewTransitionOpts:d.viewTransitionOpts,flushSync:d.flushSync===!0})),v.forEach(S=>_t(S)),E.forEach(S=>m.fetchers.delete(S))}function We(c,d,{flushSync:v}={}){let E=m.actionData!=null&&m.navigation.formMethod!=null&&ae(m.navigation.formMethod)&&m.navigation.state==="loading"&&c.state?._isRedirect!==!0,S;d.actionData?Object.keys(d.actionData).length>0?S=d.actionData:S=null:E?S=m.actionData:S=null;let M=d.loaderData?ln(m.loaderData,d.loaderData,d.matches||[],d.errors):m.loaderData,D=m.blockers;D.size>0&&(D=new Map(D),D.forEach((L,O)=>D.set(O,rt)));let x=H?!1:Ur(c,d.matches||m.matches),F=Q===!0||m.navigation.formMethod!=null&&ae(m.navigation.formMethod)&&c.state?._isRedirect!==!0;l&&(o=l,l=void 0),H||k==="POP"||(k==="PUSH"?e.history.push(c,c.state):k==="REPLACE"&&e.history.replace(c,c.state));let U;if(k==="POP"){let L=xe.get(m.location.pathname);L&&L.has(c.pathname)?U={currentLocation:m.location,nextLocation:c}:xe.has(c.pathname)&&(U={currentLocation:c,nextLocation:m.location})}else if(J){let L=xe.get(m.location.pathname);L?L.add(c.pathname):(L=new Set([c.pathname]),xe.set(m.location.pathname,L)),U={currentLocation:m.location,nextLocation:c}}ee({...d,actionData:S,loaderData:M,historyAction:k,location:c,initialized:!0,navigation:Kt,revalidation:"idle",restoreScrollPosition:x,preventScrollReset:F,blockers:D},{viewTransitionOpts:U,flushSync:v===!0}),k="POP",Q=!1,J=!1,H=!1,W=!1,Xe?.resolve(),Xe=null}async function Cr(c,d){if(typeof c=="number"){e.history.go(c);return}let v=rr(m.location,m.matches,u,c,d?.fromRouteId,d?.relative),{path:E,submission:S,error:M}=Xr(!1,v,d),D=m.location,x=lt(m.location,E,d&&d.state);x={...x,...e.history.encodeLocation(x)};let F=d&&d.replace!=null?d.replace:void 0,U="PUSH";F===!0?U="REPLACE":F===!1||S!=null&&ae(S.formMethod)&&S.formAction===m.location.pathname+m.location.search&&(U="REPLACE");let L=d&&"preventScrollReset"in d?d.preventScrollReset===!0:void 0,O=(d&&d.flushSync)===!0,N=Tr({currentLocation:D,nextLocation:x,historyAction:U});if(N){mt(N,{state:"blocked",location:x,proceed(){mt(N,{state:"proceeding",proceed:void 0,reset:void 0,location:x}),Cr(c,d)},reset(){let q=new Map(m.blockers);q.set(N,rt),ee({blockers:q})}});return}await ke(U,x,{submission:S,pendingError:M,preventScrollReset:L,replace:d&&d.replace,enableViewTransition:d&&d.viewTransition,flushSync:O})}function ha(){Xe||(Xe=fs()),zt(),ee({revalidation:"loading"});let c=Xe.promise;return m.navigation.state==="submitting"?c:m.navigation.state==="idle"?(ke(m.historyAction,m.location,{startUninterruptedRevalidation:!0}),c):(ke(k||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation,enableViewTransition:J===!0}),c)}async function ke(c,d,v){A&&A.abort(),A=null,k=c,H=(v&&v.startUninterruptedRevalidation)===!0,Ea(m.location,m.matches),Q=(v&&v.preventScrollReset)===!0,J=(v&&v.enableViewTransition)===!0;let E=l||o,S=v&&v.overrideNavigation,M=v?.initialHydration&&m.matches&&m.matches.length>0&&!T?m.matches:Oe(E,d,u),D=(v&&v.flushSync)===!0;if(M&&m.initialized&&!W&&as(m.location,d)&&!(v&&v.submission&&ae(v.submission.formMethod))){We(d,{matches:M},{flushSync:D});return}let x=yt(M,E,d.pathname);if(x.active&&x.matches&&(M=x.matches),!M){let{error:ne,notFoundMatches:V,route:K}=$t(d.pathname);We(d,{matches:V,loaderData:{},errors:{[K.id]:ne}},{flushSync:D});return}A=new AbortController;let F=Ye(e.history,d,A.signal,v&&v.submission),U=e.getContext?await e.getContext():new Wr,L;if(v&&v.pendingError)L=[De(M).route.id,{type:"error",error:v.pendingError}];else if(v&&v.submission&&ae(v.submission.formMethod)){let ne=await da(F,d,v.submission,M,U,x.active,v&&v.initialHydration===!0,{replace:v.replace,flushSync:D});if(ne.shortCircuited)return;if(ne.pendingActionResult){let[V,K]=ne.pendingActionResult;if(oe(K)&&ct(K.error)&&K.error.status===404){A=null,We(d,{matches:ne.matches,loaderData:{},errors:{[V]:K.error}});return}}M=ne.matches||M,L=ne.pendingActionResult,S=qt(d,v.submission),D=!1,x.active=!1,F=Ye(e.history,F.url,F.signal)}let{shortCircuited:O,matches:N,loaderData:q,errors:Z}=await fa(F,d,M,U,x.active,S,v&&v.submission,v&&v.fetcherSubmission,v&&v.replace,v&&v.initialHydration===!0,D,L);O||(A=null,We(d,{matches:N||M,...un(L),loaderData:q,errors:Z}))}async function da(c,d,v,E,S,M,D,x={}){zt();let F=us(d,v);if(ee({navigation:F},{flushSync:x.flushSync===!0}),M){let O=await vt(E,d.pathname,c.signal);if(O.type==="aborted")return{shortCircuited:!0};if(O.type==="error"){if(O.partialMatches.length===0){let{matches:q,route:Z}=Pt(o);return{matches:q,pendingActionResult:[Z.id,{type:"error",error:O.error}]}}let N=De(O.partialMatches).route.id;return{matches:O.partialMatches,pendingActionResult:[N,{type:"error",error:O.error}]}}else if(O.matches)E=O.matches;else{let{notFoundMatches:N,error:q,route:Z}=$t(d.pathname);return{matches:N,pendingActionResult:[Z.id,{type:"error",error:q}]}}}let U,L=Mt(E,d);if(!L.route.action&&!L.route.lazy)U={type:"error",error:he(405,{method:c.method,pathname:d.pathname,routeId:L.route.id})};else{let O=Je(i,s,c,E,L,D?[]:n,S),N=await Ze(c,O,S,null);if(U=N[L.route.id],!U){for(let q of E)if(N[q.route.id]){U=N[q.route.id];break}}if(c.signal.aborted)return{shortCircuited:!0}}if($e(U)){let O;return x&&x.replace!=null?O=x.replace:O=an(U.response.headers.get("Location"),new URL(c.url),u)===m.location.pathname+m.location.search,await Ae(c,U,!0,{submission:v,replace:O}),{shortCircuited:!0}}if(oe(U)){let O=De(E,L.route.id);return(x&&x.replace)!==!0&&(k="PUSH"),{matches:E,pendingActionResult:[O.route.id,U,L.route.id]}}return{matches:E,pendingActionResult:[L.route.id,U]}}async function fa(c,d,v,E,S,M,D,x,F,U,L,O){let N=M||qt(d,D),q=D||x||hn(N),Z=!H&&!U;if(S){if(Z){let te=Sr(O);ee({navigation:N,...te!==void 0?{actionData:te}:{}},{flushSync:L})}let z=await vt(v,d.pathname,c.signal);if(z.type==="aborted")return{shortCircuited:!0};if(z.type==="error"){if(z.partialMatches.length===0){let{matches:Ve,route:ze}=Pt(o);return{matches:Ve,loaderData:{},errors:{[ze.id]:z.error}}}let te=De(z.partialMatches).route.id;return{matches:z.partialMatches,loaderData:{},errors:{[te]:z.error}}}else if(z.matches)v=z.matches;else{let{error:te,notFoundMatches:Ve,route:ze}=$t(d.pathname);return{matches:Ve,loaderData:{},errors:{[ze.id]:te}}}}let ne=l||o,{dsMatches:V,revalidatingFetchers:K}=Zr(c,E,i,s,e.history,m,v,q,d,U?[]:n,U===!0,W,le,ye,ce,se,ne,u,e.patchRoutesOnNavigation!=null,O);if(ie=++ue,!e.dataStrategy&&!V.some(z=>z.shouldLoad)&&!V.some(z=>z.route.middleware&&z.route.middleware.length>0)&&K.length===0){let z=Dr();return We(d,{matches:v,loaderData:{},errors:O&&oe(O[1])?{[O[0]]:O[1].error}:null,...un(O),...z?{fetchers:new Map(m.fetchers)}:{}},{flushSync:L}),{shortCircuited:!0}}if(Z){let z={};if(!S){z.navigation=N;let te=Sr(O);te!==void 0&&(z.actionData=te)}K.length>0&&(z.fetchers=pa(K)),ee(z,{flushSync:L})}K.forEach(z=>{Ce(z.key),z.controller&&$.set(z.key,z.controller)});let je=()=>K.forEach(z=>Ce(z.key));A&&A.signal.addEventListener("abort",je);let{loaderResults:et,fetcherResults:Me}=await xr(V,K,c,E);if(c.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",je),K.forEach(z=>$.delete(z.key));let ve=Ct(et);if(ve)return await Ae(c,ve.result,!0,{replace:F}),{shortCircuited:!0};if(ve=Ct(Me),ve)return se.add(ve.key),await Ae(c,ve.result,!0,{replace:F}),{shortCircuited:!0};let{loaderData:Qt,errors:tt}=on(m,v,et,O,K,Me);U&&m.errors&&(tt={...m.errors,...tt});let Ne=Dr(),gt=Lr(ie),bt=Ne||gt||K.length>0;return{matches:v,loaderData:Qt,errors:tt,...bt?{fetchers:new Map(m.fetchers)}:{}}}function Sr(c){if(c&&!oe(c[1]))return{[c[0]]:c[1].data};if(m.actionData)return Object.keys(m.actionData).length===0?null:m.actionData}function pa(c){return c.forEach(d=>{let v=m.fetchers.get(d.key),E=nt(void 0,v?v.data:void 0);m.fetchers.set(d.key,E)}),new Map(m.fetchers)}async function ma(c,d,v,E){Ce(c);let S=(E&&E.flushSync)===!0,M=l||o,D=rr(m.location,m.matches,u,v,d,E?.relative),x=Oe(M,D,u),F=yt(x,M,D);if(F.active&&F.matches&&(x=F.matches),!x){Pe(c,d,he(404,{pathname:D}),{flushSync:S});return}let{path:U,submission:L,error:O}=Xr(!0,D,E);if(O){Pe(c,d,O,{flushSync:S});return}let N=e.getContext?await e.getContext():new Wr,q=(E&&E.preventScrollReset)===!0;if(L&&ae(L.formMethod)){await ya(c,d,U,x,N,F.active,S,q,L);return}ce.set(c,{routeId:d,path:U}),await va(c,d,U,x,N,F.active,S,q,L)}async function ya(c,d,v,E,S,M,D,x,F){zt(),ce.delete(c);let U=m.fetchers.get(c);Ee(c,cs(F,U),{flushSync:D});let L=new AbortController,O=Ye(e.history,v,L.signal,F);if(M){let X=await vt(E,new URL(O.url).pathname,O.signal,c);if(X.type==="aborted")return;if(X.type==="error"){Pe(c,d,X.error,{flushSync:D});return}else if(X.matches)E=X.matches;else{Pe(c,d,he(404,{pathname:v}),{flushSync:D});return}}let N=Mt(E,v);if(!N.route.action&&!N.route.lazy){let X=he(405,{method:F.formMethod,pathname:v,routeId:d});Pe(c,d,X,{flushSync:D});return}$.set(c,L);let q=ue,Z=Je(i,s,O,E,N,n,S),V=(await Ze(O,Z,S,c))[N.route.id];if(O.signal.aborted){$.get(c)===L&&$.delete(c);return}if(ye.has(c)){if($e(V)||oe(V)){Ee(c,Se(void 0));return}}else{if($e(V))if($.delete(c),ie>q){Ee(c,Se(void 0));return}else return se.add(c),Ee(c,nt(F)),Ae(O,V,!1,{fetcherSubmission:F,preventScrollReset:x});if(oe(V)){Pe(c,d,V.error);return}}let K=m.navigation.location||m.location,je=Ye(e.history,K,L.signal),et=l||o,Me=m.navigation.state!=="idle"?Oe(et,m.navigation.location,u):m.matches;j(Me,"Didn't find any matches after fetcher action");let ve=++ue;pe.set(c,ve);let Qt=nt(F,V.data);m.fetchers.set(c,Qt);let{dsMatches:tt,revalidatingFetchers:Ne}=Zr(je,S,i,s,e.history,m,Me,F,K,n,!1,W,le,ye,ce,se,et,u,e.patchRoutesOnNavigation!=null,[N.route.id,V]);Ne.filter(X=>X.key!==c).forEach(X=>{let wt=X.key,kr=m.fetchers.get(wt),Sa=nt(void 0,kr?kr.data:void 0);m.fetchers.set(wt,Sa),Ce(wt),X.controller&&$.set(wt,X.controller)}),ee({fetchers:new Map(m.fetchers)});let gt=()=>Ne.forEach(X=>Ce(X.key));L.signal.addEventListener("abort",gt);let{loaderResults:bt,fetcherResults:z}=await xr(tt,Ne,je,S);if(L.signal.aborted)return;if(L.signal.removeEventListener("abort",gt),pe.delete(c),$.delete(c),Ne.forEach(X=>$.delete(X.key)),m.fetchers.has(c)){let X=Se(V.data);m.fetchers.set(c,X)}let te=Ct(bt);if(te)return Ae(je,te.result,!1,{preventScrollReset:x});if(te=Ct(z),te)return se.add(te.key),Ae(je,te.result,!1,{preventScrollReset:x});let{loaderData:Ve,errors:ze}=on(m,Me,bt,void 0,Ne,z);Lr(ve),m.navigation.state==="loading"&&ve>ie?(j(k,"Expected pending action"),A&&A.abort(),We(m.navigation.location,{matches:Me,loaderData:Ve,errors:ze,fetchers:new Map(m.fetchers)})):(ee({errors:ze,loaderData:ln(m.loaderData,Ve,Me,ze),fetchers:new Map(m.fetchers)}),W=!1)}async function va(c,d,v,E,S,M,D,x,F){let U=m.fetchers.get(c);Ee(c,nt(F,U?U.data:void 0),{flushSync:D});let L=new AbortController,O=Ye(e.history,v,L.signal);if(M){let K=await vt(E,new URL(O.url).pathname,O.signal,c);if(K.type==="aborted")return;if(K.type==="error"){Pe(c,d,K.error,{flushSync:D});return}else if(K.matches)E=K.matches;else{Pe(c,d,he(404,{pathname:v}),{flushSync:D});return}}let N=Mt(E,v);$.set(c,L);let q=ue,Z=Je(i,s,O,E,N,n,S),V=(await Ze(O,Z,S,c))[N.route.id];if($.get(c)===L&&$.delete(c),!O.signal.aborted){if(ye.has(c)){Ee(c,Se(void 0));return}if($e(V))if(ie>q){Ee(c,Se(void 0));return}else{se.add(c),await Ae(O,V,!1,{preventScrollReset:x});return}if(oe(V)){Pe(c,d,V.error);return}Ee(c,Se(V.data))}}async function Ae(c,d,v,{submission:E,fetcherSubmission:S,preventScrollReset:M,replace:D}={}){d.response.headers.has("X-Remix-Revalidate")&&(W=!0);let x=d.response.headers.get("Location");j(x,"Expected a Location header on the redirect Response"),x=an(x,new URL(c.url),u);let F=lt(m.location,x,{_isRedirect:!0});if(r){let Z=!1;if(d.response.headers.has("X-Remix-Reload-Document"))Z=!0;else if(mr(x)){const ne=jn(x,!0);Z=ne.origin!==t.location.origin||fe(ne.pathname,u)==null}if(Z){D?t.location.replace(x):t.location.assign(x);return}}A=null;let U=D===!0||d.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:L,formAction:O,formEncType:N}=m.navigation;!E&&!S&&L&&O&&N&&(E=hn(m.navigation));let q=E||S;if($i.has(d.response.status)&&q&&ae(q.formMethod))await ke(U,F,{submission:{...q,formAction:x},preventScrollReset:M||Q,enableViewTransition:v?J:void 0});else{let Z=qt(F,E);await ke(U,F,{overrideNavigation:Z,fetcherSubmission:S,preventScrollReset:M||Q,enableViewTransition:v?J:void 0})}}async function Ze(c,d,v,E){let S,M={};try{S=await Xi(h,c,d,E,v,!1)}catch(D){return d.filter(x=>x.shouldLoad).forEach(x=>{M[x.route.id]={type:"error",error:D}}),M}if(c.signal.aborted)return M;for(let[D,x]of Object.entries(S))if(os(x)){let F=x.result;M[D]={type:"redirect",response:rs(F,c,D,d,u)}}else M[D]=await ts(x);return M}async function xr(c,d,v,E){let S=Ze(v,c,E,null),M=Promise.all(d.map(async F=>{if(F.matches&&F.match&&F.request&&F.controller){let L=(await Ze(F.request,F.matches,E,F.key))[F.match.route.id];return{[F.key]:L}}else return Promise.resolve({[F.key]:{type:"error",error:he(404,{pathname:F.path})}})})),D=await S,x=(await M).reduce((F,U)=>Object.assign(F,U),{});return{loaderResults:D,fetcherResults:x}}function zt(){W=!0,ce.forEach((c,d)=>{$.has(d)&&le.add(d),Ce(d)})}function Ee(c,d,v={}){m.fetchers.set(c,d),ee({fetchers:new Map(m.fetchers)},{flushSync:(v&&v.flushSync)===!0})}function Pe(c,d,v,E={}){let S=De(m.matches,d);_t(c),ee({errors:{[S.route.id]:v},fetchers:new Map(m.fetchers)},{flushSync:(E&&E.flushSync)===!0})}function Mr(c){return me.set(c,(me.get(c)||0)+1),ye.has(c)&&ye.delete(c),m.fetchers.get(c)||Qi}function ga(c,d){Ce(c,d?.reason),Ee(c,Se(null))}function _t(c){let d=m.fetchers.get(c);$.has(c)&&!(d&&d.state==="loading"&&pe.has(c))&&Ce(c),ce.delete(c),pe.delete(c),se.delete(c),ye.delete(c),le.delete(c),m.fetchers.delete(c)}function ba(c){let d=(me.get(c)||0)-1;d<=0?(me.delete(c),ye.add(c)):me.set(c,d),ee({fetchers:new Map(m.fetchers)})}function Ce(c,d){let v=$.get(c);v&&(v.abort(d),$.delete(c))}function Or(c){for(let d of c){let v=Mr(d),E=Se(v.data);m.fetchers.set(d,E)}}function Dr(){let c=[],d=!1;for(let v of se){let E=m.fetchers.get(v);j(E,`Expected fetcher: ${v}`),E.state==="loading"&&(se.delete(v),c.push(v),d=!0)}return Or(c),d}function Lr(c){let d=[];for(let[v,E]of pe)if(E<c){let S=m.fetchers.get(v);j(S,`Expected fetcher: ${v}`),S.state==="loading"&&(Ce(v),pe.delete(v),d.push(v))}return Or(d),d.length>0}function wa(c,d){let v=m.blockers.get(c)||rt;return Ue.get(c)!==d&&Ue.set(c,d),v}function Fr(c){m.blockers.delete(c),Ue.delete(c)}function mt(c,d){let v=m.blockers.get(c)||rt;j(v.state==="unblocked"&&d.state==="blocked"||v.state==="blocked"&&d.state==="blocked"||v.state==="blocked"&&d.state==="proceeding"||v.state==="blocked"&&d.state==="unblocked"||v.state==="proceeding"&&d.state==="unblocked",`Invalid blocker state transition: ${v.state} -> ${d.state}`);let E=new Map(m.blockers);E.set(c,d),ee({blockers:E})}function Tr({currentLocation:c,nextLocation:d,historyAction:v}){if(Ue.size===0)return;Ue.size>1&&G(!1,"A router only supports one blocker at a time");let E=Array.from(Ue.entries()),[S,M]=E[E.length-1],D=m.blockers.get(S);if(!(D&&D.state==="proceeding")&&M({currentLocation:c,nextLocation:d,historyAction:v}))return S}function $t(c){let d=he(404,{pathname:c}),v=l||o,{matches:E,route:S}=Pt(v);return{notFoundMatches:E,route:S,error:d}}function Ra(c,d,v){if(b=c,R=d,w=v||null,!C&&m.navigation===Kt){C=!0;let E=Ur(m.location,m.matches);E!=null&&ee({restoreScrollPosition:E})}return()=>{b=null,R=null,w=null}}function Ir(c,d){return w&&w(c,d.map(E=>di(E,m.loaderData)))||c.key}function Ea(c,d){if(b&&R){let v=Ir(c,d);b[v]=R()}}function Ur(c,d){if(b){let v=Ir(c,d),E=b[v];if(typeof E=="number")return E}return null}function yt(c,d,v){if(e.patchRoutesOnNavigation)if(c){if(Object.keys(c[0].params).length>0)return{active:!0,matches:xt(d,v,u,!0)}}else return{active:!0,matches:xt(d,v,u,!0)||[]};return{active:!1,matches:null}}async function vt(c,d,v,E){if(!e.patchRoutesOnNavigation)return{type:"success",matches:c};let S=c;for(;;){let M=l==null,D=l||o,x=s;try{await e.patchRoutesOnNavigation({signal:v,path:d,matches:S,fetcherKey:E,patch:(L,O)=>{v.aborted||en(L,O,D,x,i,!1)}})}catch(L){return{type:"error",error:L,partialMatches:S}}finally{M&&!v.aborted&&(o=[...o])}if(v.aborted)return{type:"aborted"};let F=Oe(D,d,u);if(F)return{type:"success",matches:F};let U=xt(D,d,u,!0);if(!U||S.length===U.length&&S.every((L,O)=>L.route.id===U[O].route.id))return{type:"success",matches:null};S=U}}function Pa(c){s={},l=ut(c,i,void 0,s)}function Ca(c,d,v=!1){let E=l==null;en(c,d,l||o,s,i,v),E&&(o=[...o],ee({}))}return _={get basename(){return u},get future(){return f},get state(){return m},get routes(){return o},get window(){return t},initialize:la,subscribe:ca,enableScrollRestoration:Ra,navigate:Cr,fetch:ma,revalidate:ha,createHref:c=>e.history.createHref(c),encodeLocation:c=>e.history.encodeLocation(c),getFetcher:Mr,resetFetcher:ga,deleteFetcher:ba,dispose:ua,getBlocker:wa,deleteBlocker:Fr,patchRoutes:Ca,_internalFetchControllers:$,_internalSetRoutes:Pa,_internalSetStateDoNotUseOrYouWillBreakYourApp(c){ee(c)}},e.unstable_instrumentations&&(_=Ti(_,e.unstable_instrumentations.map(c=>c.router).filter(Boolean))),_}function qi(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function rr(e,t,r,n,a,i){let s,o;if(a){s=[];for(let u of t)if(s.push(u),u.route.id===a){o=u;break}}else s=t,o=t[t.length-1];let l=fr(n||".",dr(s),fe(e.pathname,r)||e.pathname,i==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&o){let u=vr(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let h=new URLSearchParams(l.search),f=h.getAll("index");h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let y=h.toString();l.search=y?`?${y}`:""}}return r!=="/"&&(l.pathname=Si({basename:r,pathname:l.pathname})),be(l)}function Xr(e,t,r){if(!r||!qi(r))return{path:t};if(r.formMethod&&!ls(r.formMethod))return{path:t,error:he(405,{method:r.formMethod})};let n=()=>({path:t,error:he(400,{type:"invalid-body"})}),i=(r.formMethod||"get").toUpperCase(),s=Gn(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ae(i))return n();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,[g,b])=>`${y}${g}=${b}
`,""):String(r.body);return{path:t,submission:{formMethod:i,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ae(i))return n();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:i,formAction:s,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return n()}}}j(typeof FormData=="function","FormData is not available in this environment");let o,l;if(r.formData)o=ir(r.formData),l=r.formData;else if(r.body instanceof FormData)o=ir(r.body),l=r.body;else if(r.body instanceof URLSearchParams)o=r.body,l=sn(o);else if(r.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(r.body),l=sn(o)}catch{return n()}let u={formMethod:i,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(ae(u.formMethod))return{path:t,submission:u};let h=Te(t);return e&&h.search&&vr(h.search)&&o.append("index",""),h.search=`?${o}`,{path:be(h),submission:u}}function Zr(e,t,r,n,a,i,s,o,l,u,h,f,y,g,b,w,R,C,P,T){let B=T?oe(T[1])?T[1].error:T[1].data:void 0,I=a.createURL(i.location),_=a.createURL(l),m;if(h&&i.errors){let H=Object.keys(i.errors)[0];m=s.findIndex(W=>W.route.id===H)}else if(T&&oe(T[1])){let H=T[0];m=s.findIndex(W=>W.route.id===H)-1}let k=T?T[1].statusCode:void 0,Q=k&&k>=400,A={currentUrl:I,currentParams:i.matches[0]?.params||{},nextUrl:_,nextParams:s[0].params,...o,actionResult:B,actionStatus:k},J=pr(s.map(H=>H.route.path)),xe=s.map((H,W)=>{let{route:le}=H,$=null;if(m!=null&&W>m?$=!1:le.lazy?$=!0:yr(le)?h?$=nr(le,i.loaderData,i.errors):Wi(i.loaderData,i.matches[W],H)&&($=!0):$=!1,$!==null)return ar(r,n,e,J,H,u,t,$);let ue=Q?!1:f||I.pathname+I.search===_.pathname+_.search||I.search!==_.search||Vi(i.matches[W],H),ie={...A,defaultShouldRevalidate:ue},pe=kt(H,ie);return ar(r,n,e,J,H,u,t,pe,ie)}),Ie=[];return b.forEach((H,W)=>{if(h||!s.some(me=>me.route.id===H.routeId)||g.has(W))return;let le=i.fetchers.get(W),$=le&&le.state!=="idle"&&le.data===void 0,ue=Oe(R,H.path,C);if(!ue){if(P&&$)return;Ie.push({key:W,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(w.has(W))return;let ie=Mt(ue,H.path),pe=new AbortController,se=Ye(a,H.path,pe.signal),ce=null;if(y.has(W))y.delete(W),ce=Je(r,n,se,ue,ie,u,t);else if($)f&&(ce=Je(r,n,se,ue,ie,u,t));else{let me={...A,defaultShouldRevalidate:Q?!1:f};kt(ie,me)&&(ce=Je(r,n,se,ue,ie,u,t,me))}ce&&Ie.push({key:W,routeId:H.routeId,path:H.path,matches:ce,match:ie,request:se,controller:pe})}),{dsMatches:xe,revalidatingFetchers:Ie}}function yr(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function nr(e,t,r){if(e.lazy)return!0;if(!yr(e))return!1;let n=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!n&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!a}function Wi(e,t,r){let n=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return n||a}function Vi(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function kt(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function en(e,t,r,n,a,i){let s;if(e){let u=n[e];j(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),s=u.children}else s=r;let o=[],l=[];if(t.forEach(u=>{let h=s.find(f=>Kn(u,f));h?l.push({existingRoute:h,newRoute:u}):o.push(u)}),o.length>0){let u=ut(o,a,[e||"_","patch",String(s?.length||"0")],n);s.push(...u)}if(i&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:h,newRoute:f}=l[u],y=h,[g]=ut([f],a,[],{},!0);Object.assign(y,{element:g.element?g.element:y.element,errorElement:g.errorElement?g.errorElement:y.errorElement,hydrateFallbackElement:g.hydrateFallbackElement?g.hydrateFallbackElement:y.hydrateFallbackElement})}}function Kn(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>t.children?.some(a=>Kn(r,a))):!1}var tn=new WeakMap,qn=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let a=r[t.id];if(j(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let i=a.lazy[e];if(!i)return;let s=tn.get(a);s||(s={},tn.set(a,s));let o=s[e];if(o)return o;let l=(async()=>{let u=li(e),f=a[e]!==void 0&&e!=="hasErrorBoundary";if(u)G(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),s[e]=Promise.resolve();else if(f)G(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let y=await i();y!=null&&(Object.assign(a,{[e]:y}),Object.assign(a,n(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(y=>y===void 0)&&(a.lazy=void 0))})();return s[e]=l,l},rn=new WeakMap;function Yi(e,t,r,n,a){let i=r[e.id];if(j(i,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=rn.get(i);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let f=(async()=>{j(typeof e.lazy=="function","No lazy route function found");let y=await e.lazy(),g={};for(let b in y){let w=y[b];if(w===void 0)continue;let R=ci(b),P=i[b]!==void 0&&b!=="hasErrorBoundary";R?G(!R,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):P?G(!P,`Route "${i.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):g[b]=w}Object.assign(i,g),Object.assign(i,{...n(i),lazy:void 0})})();return rn.set(i,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let s=Object.keys(e.lazy),o=[],l;for(let h of s){if(a&&a.includes(h))continue;let f=qn({key:h,route:e,manifest:r,mapRouteProperties:n});f&&(o.push(f),h===t&&(l=f))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function nn(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,i)=>{r[t[i].route.id]=a}),r}async function Gi(e){return e.matches.some(t=>t.route.middleware)?Wn(e,()=>nn(e)):nn(e)}function Wn(e,t){return Ji(e,t,n=>n,is,r);function r(n,a,i){if(i)return Promise.resolve(Object.assign(i.value,{[a]:{type:"error",result:n}}));{let{matches:s}=e,o=Math.min(Math.max(s.findIndex(u=>u.route.id===a),0),Math.max(s.findIndex(u=>u.unstable_shouldCallHandler()),0)),l=De(s,s[o].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:n}})}}}async function Ji(e,t,r,n,a){let{matches:i,request:s,params:o,context:l,unstable_pattern:u}=e,h=i.flatMap(y=>y.route.middleware?y.route.middleware.map(g=>[y.route.id,g]):[]);return await Vn({request:s,params:o,context:l,unstable_pattern:u},h,t,r,n,a)}async function Vn(e,t,r,n,a,i,s=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let l=t[s];if(!l)return await r();let[u,h]=l,f,y=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await Vn(e,t,r,n,a,i,s+1)},f.value}catch(g){return f={value:await i(g,u,f)},f.value}};try{let g=await h(e,y),b=g!=null?n(g):void 0;return a(b)?b:f?b??f.value:(f={value:await y()},f.value)}catch(g){return await i(g,u,f)}}function Yn(e,t,r,n,a){let i=qn({key:"middleware",route:n.route,manifest:t,mapRouteProperties:e}),s=Yi(n.route,ae(r.method)?"action":"loader",t,e,a);return{middleware:i,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function ar(e,t,r,n,a,i,s,o,l=null){let u=!1,h=Yn(e,t,r,a,i);return{...a,_lazyPromises:h,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return u=!0,l?typeof f=="boolean"?kt(a,{...l,defaultShouldRevalidate:f}):kt(a,l):o},resolve(f){let{lazy:y,loader:g,middleware:b}=a.route,w=u||o||f&&!ae(r.method)&&(y||g),R=b&&b.length>0&&!g&&!y;return w&&(ae(r.method)||!R)?Zi({request:r,unstable_pattern:n,match:a,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Je(e,t,r,n,a,i,s,o=null){return n.map(l=>l.route.id!==a.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:Yn(e,t,r,l,i),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ar(e,t,r,pr(n.map(u=>u.route.path)),l,i,s,!0,o))}async function Xi(e,t,r,n,a,i){r.some(u=>u._lazyPromises?.middleware)&&await Promise.all(r.map(u=>u._lazyPromises?.middleware));let s={request:t,unstable_pattern:pr(r.map(u=>u.route.path)),params:r[0].params,context:a,matches:r},l=await e({...s,fetcherKey:n,runClientMiddleware:u=>{let h=s;return Wn(h,()=>u({...h,fetcherKey:n,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function Zi({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:n,lazyRoutePromise:a,handlerOverride:i,scopedContext:s}){let o,l,u=ae(e.method),h=u?"action":"loader",f=y=>{let g,b=new Promise((C,P)=>g=P);l=()=>g(),e.signal.addEventListener("abort",l);let w=C=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${r.route.id}]`)):y({request:e,unstable_pattern:t,params:r.params,context:s},...C!==void 0?[C]:[]),R=(async()=>{try{return{type:"data",result:await(i?i(P=>w(P)):w())}}catch(C){return{type:"error",result:C}}})();return Promise.race([R,b])};try{let y=u?r.route.action:r.route.loader;if(n||a)if(y){let g,[b]=await Promise.all([f(y).catch(w=>{g=w}),n,a]);if(g!==void 0)throw g;o=b}else{await n;let g=u?r.route.action:r.route.loader;if(g)[o]=await Promise.all([f(g),a]);else if(h==="action"){let b=new URL(e.url),w=b.pathname+b.search;throw he(405,{method:e.method,pathname:w,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(y)o=await f(y);else{let g=new URL(e.url),b=g.pathname+g.search;throw he(404,{pathname:b})}}catch(y){return{type:"error",result:y}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function es(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function ts(e){let{result:t,type:r}=e;if(Jn(t)){let n;try{n=await es(t)}catch(a){return{type:"error",error:a}}return r==="error"?{type:"error",error:new Ut(t.status,t.statusText,n),statusCode:t.status,headers:t.headers}:{type:"data",data:n,statusCode:t.status,headers:t.headers}}return r==="error"?cn(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new Ut(t.init?.status||500,void 0,t.data),statusCode:ct(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ct(t)?t.status:void 0}:cn(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function rs(e,t,r,n,a){let i=e.headers.get("Location");if(j(i,"Redirects returned/thrown from loaders/actions must have a Location header"),!mr(i)){let s=n.slice(0,n.findIndex(o=>o.route.id===r)+1);i=rr(new URL(t.url),s,a,i),e.headers.set("Location",i)}return e}function an(e,t,r){if(mr(e)){let n=e,a=n.startsWith("//")?new URL(t.protocol+n):new URL(n),i=fe(a.pathname,r)!=null;if(a.origin===t.origin&&i)return a.pathname+a.search+a.hash}return e}function Ye(e,t,r,n){let a=e.createURL(Gn(t)).toString(),i={signal:r};if(n&&ae(n.formMethod)){let{formMethod:s,formEncType:o}=n;i.method=s.toUpperCase(),o==="application/json"?(i.headers=new Headers({"Content-Type":o}),i.body=JSON.stringify(n.json)):o==="text/plain"?i.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?i.body=ir(n.formData):i.body=n.formData}return new Request(a,i)}function ir(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function sn(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function ns(e,t,r,n=!1,a=!1){let i={},s=null,o,l=!1,u={},h=r&&oe(r[1])?r[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let y=f.route.id,g=t[y];if(j(!$e(g),"Cannot handle redirect results in processLoaderData"),oe(g)){let b=g.error;if(h!==void 0&&(b=h,h=void 0),s=s||{},a)s[y]=b;else{let w=De(e,y);s[w.route.id]==null&&(s[w.route.id]=b)}n||(i[y]=Bn),l||(l=!0,o=ct(g.error)?g.error.status:500),g.headers&&(u[y]=g.headers)}else i[y]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(u[y]=g.headers)}),h!==void 0&&r&&(s={[r[0]]:h},r[2]&&(i[r[2]]=void 0)),{loaderData:i,errors:s,statusCode:o||200,loaderHeaders:u}}function on(e,t,r,n,a,i){let{loaderData:s,errors:o}=ns(t,r,n);return a.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:h,controller:f}=l;if(f&&f.signal.aborted)return;let y=i[u];if(j(y,"Did not find corresponding fetcher result"),oe(y)){let g=De(e.matches,h?.route.id);o&&o[g.route.id]||(o={...o,[g.route.id]:y.error}),e.fetchers.delete(u)}else if($e(y))j(!1,"Unhandled fetcher revalidation redirect");else{let g=Se(y.data);e.fetchers.set(u,g)}}),{loaderData:s,errors:o}}function ln(e,t,r,n){let a=Object.entries(t).filter(([,i])=>i!==Bn).reduce((i,[s,o])=>(i[s]=o,i),{});for(let i of r){let s=i.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&i.route.loader&&(a[s]=e[s]),n&&n.hasOwnProperty(s))break}return a}function un(e){return e?oe(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function De(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Pt(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function he(e,{pathname:t,routeId:r,method:n,type:a,message:i}={}){let s="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(s="Bad Request",n&&t&&r?o=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(o="Unable to encode submission body")):e===403?(s="Forbidden",o=`Route "${r}" does not match URL "${t}"`):e===404?(s="Not Found",o=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",n&&t&&r?o=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new Ut(e||500,s,new Error(o),!0)}function Ct(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,a]=t[r];if($e(a))return{key:n,result:a}}}function Gn(e){let t=typeof e=="string"?Te(e):e;return be({...t,hash:""})}function as(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function is(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&ss(r))}function ss(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function os(e){return Jn(e.result)&&_i.has(e.result.status)}function oe(e){return e.type==="error"}function $e(e){return(e&&e.type)==="redirect"}function cn(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Jn(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ls(e){return zi.has(e.toUpperCase())}function ae(e){return ji.has(e.toUpperCase())}function vr(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Mt(e,t){let r=typeof t=="string"?Te(t).search:t.search;if(e[e.length-1].route.index&&vr(r||""))return e[e.length-1];let n=_n(e);return n[n.length-1]}function hn(e){let{formMethod:t,formAction:r,formEncType:n,text:a,formData:i,json:s}=e;if(!(!t||!r||!n)){if(a!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:a};if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function qt(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function us(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function nt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cs(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Se(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hs(e,t){try{let r=e.sessionStorage.getItem(Hn);if(r){let n=JSON.parse(r);for(let[a,i]of Object.entries(n||{}))i&&Array.isArray(i)&&t.set(a,new Set(i||[]))}}catch{}}function ds(e,t){if(t.size>0){let r={};for(let[n,a]of t)r[n]=[...a];try{e.sessionStorage.setItem(Hn,JSON.stringify(r))}catch(n){G(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function fs(){let e,t,r=new Promise((n,a)=>{e=async i=>{n(i);try{await r}catch{}},t=async i=>{a(i);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Ke=p.createContext(null);Ke.displayName="DataRouter";var ht=p.createContext(null);ht.displayName="DataRouterState";p.createContext(!1);var gr=p.createContext({isTransitioning:!1});gr.displayName="ViewTransition";var Xn=p.createContext(new Map);Xn.displayName="Fetchers";var ps=p.createContext(null);ps.displayName="Await";var we=p.createContext(null);we.displayName="Navigation";var jt=p.createContext(null);jt.displayName="Location";var Re=p.createContext({outlet:null,matches:[],isDataRoute:!1});Re.displayName="Route";var br=p.createContext(null);br.displayName="RouteError";function ms(e,{relative:t}={}){j(dt(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=p.useContext(we),{hash:a,pathname:i,search:s}=ft(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:ge([r,i])),n.createHref({pathname:o,search:s,hash:a})}function dt(){return p.useContext(jt)!=null}function qe(){return j(dt(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(jt).location}var Zn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ea(e){p.useContext(we).static||p.useLayoutEffect(e)}function ys(){let{isDataRoute:e}=p.useContext(Re);return e?Ds():vs()}function vs(){j(dt(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(Ke),{basename:t,navigator:r}=p.useContext(we),{matches:n}=p.useContext(Re),{pathname:a}=qe(),i=JSON.stringify(dr(n)),s=p.useRef(!1);return ea(()=>{s.current=!0}),p.useCallback((l,u={})=>{if(G(s.current,Zn),!s.current)return;if(typeof l=="number"){r.go(l);return}let h=fr(l,JSON.parse(i),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ge([t,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[t,r,i,a,e])}p.createContext(null);function Do(){let{matches:e}=p.useContext(Re),t=e[e.length-1];return t?t.params:{}}function ft(e,{relative:t}={}){let{matches:r}=p.useContext(Re),{pathname:n}=qe(),a=JSON.stringify(dr(r));return p.useMemo(()=>fr(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function gs(e,t,r,n,a){j(dt(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=p.useContext(we),{matches:s}=p.useContext(Re),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let P=f&&f.path||"";ta(u,!f||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let y=qe(),g;g=y;let b=g.pathname||"/",w=b;if(h!=="/"){let P=h.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let R=Oe(e,{pathname:w});return G(f||R!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),G(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Ps(R&&R.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:ge([h,i.encodeLocation?i.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:ge([h,i.encodeLocation?i.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),s,r,n,a)}function bs(){let e=Os(),t=ct(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=p.createElement(p.Fragment,null,p.createElement("p",null," Hey developer "),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:i},"ErrorBoundary")," or"," ",p.createElement("code",{style:i},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,s)}var ws=p.createElement(bs,null),Rs=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?p.createElement(Re.Provider,{value:this.props.routeContext},p.createElement(br.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Es({routeContext:e,match:t,children:r}){let n=p.useContext(Ke);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),p.createElement(Re.Provider,{value:e},r)}function Ps(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,s=r?.errors;if(s!=null){let u=i.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);j(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(r)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:y}=r,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let y,g=!1,b=null,w=null;r&&(y=s&&h.route.id?s[h.route.id]:void 0,b=h.route.errorElement||ws,o&&(l<0&&f===0?(ta("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):l===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let R=t.concat(i.slice(0,f+1)),C=()=>{let P;return y?P=b:g?P=w:h.route.Component?P=p.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=u,p.createElement(Es,{match:h,routeContext:{outlet:u,matches:R,isDataRoute:r!=null},children:P})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(Rs,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:C(),routeContext:{outlet:null,matches:R,isDataRoute:!0},unstable_onError:n}):C()},null)}function wr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cs(e){let t=p.useContext(Ke);return j(t,wr(e)),t}function Ss(e){let t=p.useContext(ht);return j(t,wr(e)),t}function xs(e){let t=p.useContext(Re);return j(t,wr(e)),t}function Rr(e){let t=xs(e),r=t.matches[t.matches.length-1];return j(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Ms(){return Rr("useRouteId")}function Os(){let e=p.useContext(br),t=Ss("useRouteError"),r=Rr("useRouteError");return e!==void 0?e:t.errors?.[r]}function Ds(){let{router:e}=Cs("useNavigate"),t=Rr("useNavigate"),r=p.useRef(!1);return ea(()=>{r.current=!0}),p.useCallback(async(a,i={})=>{G(r.current,Zn),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var dn={};function ta(e,t,r){!t&&!dn[e]&&(dn[e]=!0,G(!1,r))}var fn={};function pn(e,t){!e&&!fn[t]&&(fn[t]=!0,console.warn(t))}function Ls(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&G(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:p.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&G(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:p.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&G(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:p.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Fs=["HydrateFallback","hydrateFallbackElement"],Ts=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function Is({router:e,flushSync:t,unstable_onError:r}){let[n,a]=p.useState(e.state),[i,s]=p.useState(),[o,l]=p.useState({isTransitioning:!1}),[u,h]=p.useState(),[f,y]=p.useState(),[g,b]=p.useState(),w=p.useRef(new Map),R=p.useCallback(I=>{a(_=>(I.errors&&r&&Object.entries(I.errors).forEach(([m,k])=>{_.errors?.[m]!==k&&r(k)}),I))},[r]),C=p.useCallback((I,{deletedFetchers:_,flushSync:m,viewTransitionOpts:k})=>{I.fetchers.forEach((A,J)=>{A.data!==void 0&&w.current.set(J,A.data)}),_.forEach(A=>w.current.delete(A)),pn(m===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Q=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(pn(k==null||Q,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!k||!Q){t&&m?t(()=>R(I)):p.startTransition(()=>R(I));return}if(t&&m){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:k.currentLocation,nextLocation:k.nextLocation})});let A=e.window.document.startViewTransition(()=>{t(()=>R(I))});A.finished.finally(()=>{t(()=>{h(void 0),y(void 0),s(void 0),l({isTransitioning:!1})})}),t(()=>y(A));return}f?(u&&u.resolve(),f.skipTransition(),b({state:I,currentLocation:k.currentLocation,nextLocation:k.nextLocation})):(s(I),l({isTransitioning:!0,flushSync:!1,currentLocation:k.currentLocation,nextLocation:k.nextLocation}))},[e.window,t,f,u,R]);p.useLayoutEffect(()=>e.subscribe(C),[e,C]),p.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new Ts)},[o]),p.useEffect(()=>{if(u&&i&&e.window){let I=i,_=u.promise,m=e.window.document.startViewTransition(async()=>{p.startTransition(()=>R(I)),await _});m.finished.finally(()=>{h(void 0),y(void 0),s(void 0),l({isTransitioning:!1})}),y(m)}},[i,u,e.window,R]),p.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,f,n.location,i]),p.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),b(void 0))},[o.isTransitioning,g]);let P=p.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:I=>e.navigate(I),push:(I,_,m)=>e.navigate(I,{state:_,preventScrollReset:m?.preventScrollReset}),replace:(I,_,m)=>e.navigate(I,{replace:!0,state:_,preventScrollReset:m?.preventScrollReset})}),[e]),T=e.basename||"/",B=p.useMemo(()=>({router:e,navigator:P,static:!1,basename:T,unstable_onError:r}),[e,P,T,r]);return p.createElement(p.Fragment,null,p.createElement(Ke.Provider,{value:B},p.createElement(ht.Provider,{value:n},p.createElement(Xn.Provider,{value:w.current},p.createElement(gr.Provider,{value:o},p.createElement(As,{basename:T,location:n.location,navigationType:n.historyAction,navigator:P},p.createElement(Us,{routes:e.routes,future:e.future,state:n,unstable_onError:r})))))),null)}var Us=p.memo(ks);function ks({routes:e,future:t,state:r,unstable_onError:n}){return gs(e,void 0,r,n,t)}function As({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){j(!dt(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=p.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=Te(r));let{pathname:l="/",search:u="",hash:h="",state:f=null,key:y="default"}=r,g=p.useMemo(()=>{let b=fe(l,s);return b==null?null:{location:{pathname:b,search:u,hash:h,state:f,key:y},navigationType:n}},[s,l,u,h,f,y,n]);return G(g!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:p.createElement(we.Provider,{value:o},p.createElement(jt.Provider,{children:t,value:g}))}var Ot="get",Dt="application/x-www-form-urlencoded";function Nt(e){return e!=null&&typeof e.tagName=="string"}function js(e){return Nt(e)&&e.tagName.toLowerCase()==="button"}function Ns(e){return Nt(e)&&e.tagName.toLowerCase()==="form"}function zs(e){return Nt(e)&&e.tagName.toLowerCase()==="input"}function _s(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $s(e,t){return e.button===0&&(!t||t==="_self")&&!_s(e)}var St=null;function Qs(){if(St===null)try{new FormData(document.createElement("form"),0),St=!1}catch{St=!0}return St}var Hs=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wt(e){return e!=null&&!Hs.has(e)?(G(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dt}"`),null):e}function Bs(e,t){let r,n,a,i,s;if(Ns(e)){let o=e.getAttribute("action");n=o?fe(o,t):null,r=e.getAttribute("method")||Ot,a=Wt(e.getAttribute("enctype"))||Dt,i=new FormData(e)}else if(js(e)||zs(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?fe(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Ot,a=Wt(e.getAttribute("formenctype"))||Wt(o.getAttribute("enctype"))||Dt,i=new FormData(o,e),!Qs()){let{name:u,type:h,value:f}=e;if(h==="image"){let y=u?`${u}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else u&&i.append(u,f)}}else{if(Nt(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ot,n=null,a=Dt,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Er(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ks(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&fe(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function qs(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ws(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vs(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await qs(i,r);return s.links?s.links():[]}return[]}));return Xs(n.flat(1).filter(Ws).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function mn(e,t,r,n,a,i){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,o=(l,u)=>r[u].pathname!==l.pathname||r[u].route.path?.endsWith("*")&&r[u].params["*"]!==l.params["*"];return i==="assets"?t.filter((l,u)=>s(l,u)||o(l,u)):i==="data"?t.filter((l,u)=>{let h=n.routes[l.route.id];if(!h||!h.hasLoader)return!1;if(s(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Ys(e,t,{includeHydrateFallback:r}={}){return Gs(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Gs(e){return[...new Set(e)]}function Js(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Xs(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Js(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function ra(){let e=p.useContext(Ke);return Er(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Zs(){let e=p.useContext(ht);return Er(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Pr=p.createContext(void 0);Pr.displayName="FrameworkContext";function na(){let e=p.useContext(Pr);return Er(e,"You must render this element inside a <HydratedRouter> element"),e}function eo(e,t){let r=p.useContext(Pr),[n,a]=p.useState(!1),[i,s]=p.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,y=p.useRef(null);p.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=C=>{C.forEach(P=>{s(P.isIntersecting)})},R=new IntersectionObserver(w,{threshold:.5});return y.current&&R.observe(y.current),()=>{R.disconnect()}}},[e]),p.useEffect(()=>{if(n){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[n]);let g=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,y,{}]:[i,y,{onFocus:at(o,g),onBlur:at(l,b),onMouseEnter:at(u,g),onMouseLeave:at(h,b),onTouchStart:at(f,g)}]:[!1,y,{}]}function at(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function to({page:e,...t}){let{router:r}=ra(),n=p.useMemo(()=>Oe(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?p.createElement(no,{page:e,matches:n,...t}):null}function ro(e){let{manifest:t,routeModules:r}=na(),[n,a]=p.useState([]);return p.useEffect(()=>{let i=!1;return Vs(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function no({page:e,matches:t,...r}){let n=qe(),{manifest:a,routeModules:i}=na(),{basename:s}=ra(),{loaderData:o,matches:l}=Zs(),u=p.useMemo(()=>mn(e,t,l,a,n,"data"),[e,t,l,a,n]),h=p.useMemo(()=>mn(e,t,l,a,n,"assets"),[e,t,l,a,n]),f=p.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(C=>{let P=a.routes[C.route.id];!P||!P.hasLoader||(!u.some(T=>T.route.id===C.route.id)&&C.route.id in o&&i[C.route.id]?.shouldRevalidate||P.hasClientLoader?w=!0:b.add(C.route.id))}),b.size===0)return[];let R=Ks(e,s,"data");return w&&b.size>0&&R.searchParams.set("_routes",t.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[R.pathname+R.search]},[s,o,n,a,u,t,e,i]),y=p.useMemo(()=>Ys(h,a),[h,a]),g=ro(h);return p.createElement(p.Fragment,null,f.map(b=>p.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),y.map(b=>p.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:w})=>p.createElement("link",{key:b,nonce:r.nonce,...w})))}function ao(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var aa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aa&&(window.__reactRouterVersion="7.9.5")}catch{}function Lo(e,t){return Ki({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:ai({window:t?.window}),hydrationData:io(),routes:e,mapRouteProperties:Ls,hydrationRouteProperties:Fs,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function io(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:so(e.errors)}),e}function so(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,a]of t)if(a&&a.__type==="RouteErrorResponse")r[n]=new Ut(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let i=window[a.__subType];if(typeof i=="function")try{let s=new i(a.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let i=new Error(a.message);i.stack="",r[n]=i}}else r[n]=a;return r}var ia=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sa=p.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:h,viewTransition:f,...y},g){let{basename:b}=p.useContext(we),w=typeof u=="string"&&ia.test(u),R,C=!1;if(typeof u=="string"&&w&&(R=u,aa))try{let Q=new URL(window.location.href),A=u.startsWith("//")?new URL(Q.protocol+u):new URL(u),J=fe(A.pathname,b);A.origin===Q.origin&&J!=null?u=J+A.search+A.hash:C=!0}catch{G(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=ms(u,{relative:a}),[T,B,I]=eo(n,y),_=co(u,{replace:s,state:o,target:l,preventScrollReset:h,relative:a,viewTransition:f});function m(Q){t&&t(Q),Q.defaultPrevented||_(Q)}let k=p.createElement("a",{...y,...I,href:R||P,onClick:C||i?t:m,ref:ao(g,B),target:l,"data-discover":!w&&r==="render"?"true":void 0});return T&&!w?p.createElement(p.Fragment,null,k,p.createElement(to,{page:P})):k});sa.displayName="Link";var oo=p.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:o,children:l,...u},h){let f=ft(s,{relative:u.relative}),y=qe(),g=p.useContext(ht),{navigator:b,basename:w}=p.useContext(we),R=g!=null&&yo(f)&&o===!0,C=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,P=y.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(P=P.toLowerCase(),T=T?T.toLowerCase():null,C=C.toLowerCase()),T&&w&&(T=fe(T,w)||T);const B=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=P===C||!a&&P.startsWith(C)&&P.charAt(B)==="/",_=T!=null&&(T===C||!a&&T.startsWith(C)&&T.charAt(C.length)==="/"),m={isActive:I,isPending:_,isTransitioning:R},k=I?t:void 0,Q;typeof n=="function"?Q=n(m):Q=[n,I?"active":null,_?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let A=typeof i=="function"?i(m):i;return p.createElement(sa,{...u,"aria-current":k,className:Q,ref:h,style:A,to:s,viewTransition:o},typeof l=="function"?l(m):l)});oo.displayName="NavLink";var lo=p.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=Ot,action:o,onSubmit:l,relative:u,preventScrollReset:h,viewTransition:f,...y},g)=>{let b=po(),w=mo(o,{relative:u}),R=s.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&ia.test(o),P=T=>{if(l&&l(T),T.defaultPrevented)return;T.preventDefault();let B=T.nativeEvent.submitter,I=B?.getAttribute("formmethod")||s;b(B||T.currentTarget,{fetcherKey:t,method:I,navigate:r,replace:a,state:i,relative:u,preventScrollReset:h,viewTransition:f})};return p.createElement("form",{ref:g,method:R,action:w,onSubmit:n?l:P,...y,"data-discover":!C&&e==="render"?"true":void 0})});lo.displayName="Form";function uo(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oa(e){let t=p.useContext(Ke);return j(t,uo(e)),t}function co(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let o=ys(),l=qe(),u=ft(e,{relative:i});return p.useCallback(h=>{if($s(h,t)){h.preventDefault();let f=r!==void 0?r:be(l)===be(u);o(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[l,o,u,r,n,t,e,a,i,s])}var ho=0,fo=()=>`__${String(++ho)}__`;function po(){let{router:e}=oa("useSubmit"),{basename:t}=p.useContext(we),r=Ms();return p.useCallback(async(n,a={})=>{let{action:i,method:s,encType:o,formData:l,body:u}=Bs(n,t);if(a.navigate===!1){let h=a.fetcherKey||fo();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function mo(e,{relative:t}={}){let{basename:r}=p.useContext(we),n=p.useContext(Re);j(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...ft(e||".",{relative:t})},s=qe();if(e==null){i.search=s.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(h=>h==="")){o.delete("index"),l.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ge([r,i.pathname])),be(i)}function yo(e,{relative:t}={}){let r=p.useContext(gr);j(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=oa("useViewTransitionState"),a=ft(e,{relative:t});if(!r.isTransitioning)return!1;let i=fe(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=fe(r.nextLocation.pathname,n)||r.nextLocation.pathname;return It(a.pathname,s)!=null||It(a.pathname,i)!=null}function Fo(e){return p.createElement(Is,{flushSync:Oa.flushSync,...e})}const vo=e=>e;function go(e,t=vo){const r=Rt.useSyncExternalStore(e.subscribe,Rt.useCallback(()=>t(e.getState()),[e,t]),Rt.useCallback(()=>t(e.getInitialState()),[e,t]));return Rt.useDebugValue(r),r}const yn=e=>{const t=Ma(e),r=n=>go(t,n);return Object.assign(r,t),r},To=(e=>e?yn(e):yn);export{Po as Q,Fo as R,Do as a,xo as b,To as c,hr as d,So as e,Mo as f,Lo as g,Co as h,Oo as i,Ro as k,ys as u};
